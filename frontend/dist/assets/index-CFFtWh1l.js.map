{"version":3,"mappings":"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","names":["makeMap","str","map","key","val","EMPTY_OBJ","EMPTY_ARR","NOOP","NO","isOn","isModelListener","extend","remove","arr","el","i","hasOwnProperty","hasOwn","isArray","isMap","toTypeString","isSet","isFunction","isString","isSymbol","isObject","isPromise","objectToString","value","toRawType","isPlainObject","isIntegerKey","isReservedProp","cacheStringFunction","fn","cache","camelizeRE","camelize","_","c","hyphenateRE","hyphenate","capitalize","toHandlerKey","hasChanged","oldValue","invokeArrayFns","fns","arg","def","obj","writable","looseToNumber","n","toNumber","_globalThis","getGlobalThis","normalizeStyle","res","item","normalized","parseStringStyle","listDelimiterRE","propertyDelimiterRE","styleCommentRE","cssText","ret","tmp","normalizeClass","name","normalizeProps","props","klass","style","specialBooleanAttrs","isSpecialBooleanAttr","includeBooleanAttr","isRef","toDisplayString","replacer","_key","entries","val2","stringifySymbol","v","_a","activeEffectScope","EffectScope","detached","l","currentEffectScope","fromParent","last","effectScope","getCurrentScope","onScopeDispose","failSilently","activeSub","pausedQueueEffects","ReactiveEffect","batch","cleanupEffect","prepareDeps","prevEffect","prevShouldTrack","shouldTrack","cleanupDeps","link","removeSub","isDirty","batchDepth","batchedSub","batchedComputed","sub","isComputed","startBatch","endBatch","e","next","error","err","head","tail","prev","removeDep","refreshComputed","computed","globalVersion","dep","prevSub","soft","nextSub","prevDep","nextDep","trackStack","pauseTracking","resetTracking","cleanup","Link","Dep","debugInfo","addSub","currentTail","targetMap","ITERATE_KEY","MAP_KEY_ITERATE_KEY","ARRAY_ITERATE_KEY","track","target","type","depsMap","trigger","newValue","oldTarget","run","targetIsArray","isArrayIndex","newLength","key2","getDepFromReactive","object","depMap","reactiveReadArray","array","raw","toRaw","isShallow","toReactive","shallowReadArray","arrayInstrumentations","iterator","args","x","thisArg","apply","searchProxy","separator","noTracking","reduce","comparer","self","method","wrapValue","iter","result","arrayProto","wrappedRetFn","needsWrap","methodFn","result2","wrappedFn","index","acc","isProxy","isNonTrackableKeys","builtInSymbols","BaseReactiveHandler","_isReadonly","_isShallow","receiver","isReadonly2","isShallow2","shallowReadonlyMap","readonlyMap","shallowReactiveMap","reactiveMap","readonly","reactive","MutableReactiveHandler","isOldValueReadonly","isReadonly","hadKey","ReadonlyReactiveHandler","mutableHandlers","readonlyHandlers","shallowReactiveHandlers","toShallow","getProto","createIterableMethod","rawTarget","targetIsMap","isPair","isKeyOnly","innerIterator","wrap","toReadonly","done","createReadonlyMethod","createInstrumentations","shallow","instrumentations","rawKey","has","callback","observed","get","hadItems","createInstrumentationGetter","mutableCollectionHandlers","shallowCollectionHandlers","readonlyCollectionHandlers","targetTypeMap","rawType","getTargetType","createReactiveObject","shallowReactive","baseHandlers","collectionHandlers","proxyMap","existingProxy","targetType","proxy","isReactive","markRaw","r","ref","createRef","shallowRef","rawValue","RefImpl","useDirectValue","unref","ref2","shallowUnwrapHandlers","proxyRefs","objectWithRefs","toRefs","propertyToRef","ObjectRefImpl","_object","_defaultValue","newVal","GetterRefImpl","_getter","toRef","source","defaultValue","ComputedRefImpl","setter","isSSR","getterOrOptions","debugOptions","getter","INITIAL_WATCHER_VALUE","cleanupMap","activeWatcher","onWatcherCleanup","cleanupFn","owner","cleanups","watch","cb","options","immediate","deep","once","scheduler","augmentJob","call","reactiveGetter","source2","traverse","effect","boundCleanup","forceTrigger","isMultiSource","s","currentEffect","baseGetter","depth","scope","watchHandle","_cb","job","immediateFirstRun","currentWatcher","cleanup2","seen","callWithErrorHandling","instance","handleError","callWithAsyncErrorHandling","values","throwInDev","contextVNode","errorHandler","throwUnhandledErrorInProduction","cur","exposedInstance","errorInfo","errorCapturedHooks","logError","throwInProd","queue","flushIndex","pendingPostFlushCbs","activePostFlushCbs","postFlushIndex","resolvedPromise","currentFlushPromise","nextTick","p","findInsertionIndex","id","start","end","middle","middleJob","middleJobId","getId","queueJob","jobId","lastJob","queueFlush","flushJobs","queuePostFlushCb","flushPreFlushCbs","flushPostFlushCbs","deduped","a","b","currentRenderingInstance","currentScopeId","setCurrentRenderingInstance","withCtx","ctx","isNonScopedSlot","renderFnWithContext","setBlockTracking","prevInstance","withDirectives","vnode","directives","getComponentPublicInstance","bindings","dir","modifiers","invokeDirectiveHook","prevVNode","oldBindings","binding","hook","TeleportEndKey","isTeleport","isTeleportDisabled","isTeleportDeferred","isTargetSVG","isTargetMathML","resolveTarget","select","targetSelector","TeleportImpl","n1","n2","container","anchor","parentComponent","parentSuspense","namespace","slotScopeIds","optimized","internals","mountChildren","patchChildren","patchBlockChildren","insert","querySelector","createText","createComment","disabled","shapeFlag","children","dynamicChildren","placeholder","mainAnchor","mount","container2","anchor2","mountToTarget","targetAnchor","prepareAnchor","updateCssVars","queuePostRenderEffect","wasDisabled","currentContainer","currentAnchor","traverseStaticChildren","moveTeleport","nextTarget","unmount","hostRemove","doRemove","targetStart","shouldRemove","child","hydrateTeleport","parentAnchor","move","moveType","isReorder","node","nextSibling","parentNode","hydrateChildren","targetNode","Teleport","isDisabled","leaveCbKey","enterCbKey","useTransitionState","state","onMounted","onBeforeUnmount","TransitionHookValidator","BaseTransitionPropsValidators","recursiveGetSubtree","subTree","BaseTransitionImpl","slots","getCurrentInstance","getTransitionRawChildren","findNonCommentChild","rawProps","mode","emptyPlaceholder","innerChild","getInnerChild$1","enterHooks","resolveTransitionHooks","hooks","Comment","setTransitionHooks","oldInnerChild","isSameVNodeType","leavingHooks","earlyRemove","delayedLeave","leavingVNodesCache","getLeavingNodesForType","BaseTransition","leavingVNodes","postClone","appear","persisted","onBeforeEnter","onEnter","onAfterEnter","onEnterCancelled","onBeforeLeave","onLeave","onAfterLeave","onLeaveCancelled","onBeforeAppear","onAppear","onAfterAppear","onAppearCancelled","callHook","callAsyncHook","hook2","leavingVNode","afterHook","cancelHook","called","cancelled","vnode2","hooks2","isKeepAlive","cloneVNode","keepComment","parentKey","keyedFragmentCount","Fragment","defineComponent","extraOptions","markAsyncBoundary","setRef","rawRef","oldRawRef","isUnmount","isAsyncWrapper","refValue","oldRef","refs","setupState","rawSetupState","canSetSetupRef","_isString","_isRef","doSet","existing","onActivated","registerKeepAliveHook","onDeactivated","currentInstance","wrappedHook","current","injectHook","injectToKeepAliveRoot","keepAliveRoot","injected","onUnmounted","prepend","reset","setCurrentInstance","createHook","lifecycle","isInSSRComponentSetup","onBeforeMount","onBeforeUpdate","onUpdated","onServerPrefetch","onRenderTriggered","onRenderTracked","onErrorCaptured","COMPONENTS","DIRECTIVES","resolveComponent","maybeSelfReference","resolveAsset","NULL_DYNAMIC_COMPONENT","resolveDynamicComponent","component","resolveDirective","warnMissing","Component","selfName","getComponentName","resolve","registry","renderList","renderItem","cached","sourceIsArray","sourceIsReactiveArray","keys","renderSlot","fallback","noSlotted","openBlock","createBlock","createVNode","slot","validSlotContent","ensureValidVNode","slotKey","rendered","vnodes","isVNode","getPublicInstance","isStatefulComponent","publicPropertiesMap","resolveMergedOptions","instanceWatch","hasSetupBinding","PublicInstanceProxyHandlers","data","accessCache","appContext","normalizedProps","shouldCacheAccess","publicGetter","cssModule","globalProperties","propsOptions","descriptor","useSlots","getContext","createSetupContext","normalizePropsOrEmits","mergeDefaults","defaults","opt","applyOptions","publicThis","dataOptions","computedOptions","methods","watchOptions","provideOptions","injectOptions","created","beforeMount","mounted","beforeUpdate","updated","activated","deactivated","beforeDestroy","beforeUnmount","destroyed","unmounted","render","renderTracked","renderTriggered","errorCaptured","serverPrefetch","expose","inheritAttrs","components","filters","resolveInjections","methodHandler","set","createWatcher","provides","provide","registerLifecycleHook","register","_hook","exposed","checkDuplicateProperties","normalizeInject","inject","h","createPathGetter","handler","base","mixins","extendsOptions","globalMixins","optionMergeStrategies","resolved","m","mergeOptions","to","from","strats","asMixin","strat","internalOptionMergeStrats","mergeDataFn","mergeEmitsOrPropsOptions","mergeObjectOptions","mergeAsArray","mergeWatchOptions","mergeInject","merged","createAppContext","uid$1","createAppAPI","hydrate","rootComponent","rootProps","context","installedPlugins","pluginCleanupFns","isMounted","app","version","plugin","mixin","directive","rootContainer","isHydrate","lastApp","currentApp","parentProvides","treatDefaultAsFactory","internalObjectProto","createInternalObject","isInternalObject","initProps","isStateful","attrs","setFullProps","updateProps","rawPrevProps","patchFlag","rawCurrentProps","hasAttrsChanged","propsToUpdate","isEmitListener","camelizedKey","resolvePropValue","kebabKey","needCastKeys","rawCastValues","camelKey","castValues","isAbsent","hasDefault","propsDefaults","mixinPropsCache","normalizePropsOptions","comp","hasExtends","extendProps","raw2","normalizedKey","validatePropName","prop","propType","shouldCast","shouldCastTrue","typeName","isInternalKey","normalizeSlotValue","normalizeVNode","normalizeSlot","rawSlot","normalizeObjectSlots","rawSlots","normalizeVNodeSlots","assignSlots","initSlots","updateSlots","needDeletionCheck","deletionComparisonTarget","queueEffectWithSuspense","createRenderer","baseCreateRenderer","createHydrationFns","hostInsert","hostPatchProp","hostCreateElement","hostCreateText","hostCreateComment","hostSetText","hostSetElementText","hostParentNode","hostNextSibling","hostSetScopeId","hostInsertStaticContent","patch","getNextHostNode","Text","processText","processCommentNode","Static","mountStaticNode","processFragment","processElement","processComponent","moveStaticNode","removeStaticNode","mountElement","patchElement","vnodeHook","transition","dirs","resolveChildrenNamespace","setScopeId","invokeVNodeHook","needCallTransitionHooks","needTransition","scopeId","isSuspense","parentVNode","cloneIfMounted","oldProps","newProps","toggleRecurse","patchProps","oldChildren","newChildren","fallbackContainer","oldVNode","newVNode","fragmentStartAnchor","fragmentEndAnchor","fragmentSlotScopeIds","mountComponent","updateComponent","initialVNode","createComponentInstance","setupComponent","setupRenderEffect","shouldUpdateComponent","updateComponentPreRender","componentUpdateFn","bu","u","parent","nonHydratedAsyncRoot","locateNonHydratedAsyncRoot","originNext","nextTree","renderComponentRoot","prevTree","updateHOCHostEl","bm","root","isAsyncWrapperVNode","scopedInitialVNode","update","nextVNode","prevProps","c1","prevShapeFlag","c2","patchKeyedChildren","patchUnkeyedChildren","unmountChildren","oldLength","commonLength","nextChild","l2","e1","e2","nextPos","s1","s2","keyToNewIndexMap","j","patched","toBePatched","moved","maxNewIndexSoFar","newIndexToOldIndexMap","prevChild","newIndex","increasingNewIndexSequence","getSequence","nextIndex","leave","delayLeave","afterLeave","remove2","performLeave","cacheIndex","shouldInvokeDirs","shouldInvokeVnodeHook","unmountComponent","removeFragment","performRemove","bum","um","invalidateMount","teleportEnd","isFlushing","currentNamespace","allowed","ch1","ch2","len","arrI","subComponent","ssrContextKey","useSSRContext","watchEffect","doWatch","flush","baseWatchOptions","runsImmediately","ssrCleanup","watchStopHandle","isPre","isFirstRun","watch$1","path","segments","getModelModifiers","modelName","emit","event","rawArgs","handlerName","onceHandler","normalizeEmitsOptions","extendEmits","normalizedFromExtend","withProxy","renderCache","fallthroughAttrs","proxyToUse","thisProxy","render2","getFunctionalFallthrough","blockStack","filterModelListeners","prevChildren","nextProps","nextChildren","emits","hasPropsChanged","dynamicProps","emitsOptions","nextKeys","suspense","currentBlock","disableTracking","closeBlock","isBlockTreeEnabled","inVOnce","setupBlock","createElementBlock","createBaseVNode","normalizeKey","normalizeRef","ref_key","ref_for","isBlockNode","needFullChildrenNormalization","normalizeChildren","_createVNode","cloned","isClassComponent","guardReactiveProps","extraProps","mergeRef","cloneTransition","mergedProps","mergeProps","createTextVNode","text","flag","createStaticVNode","content","numberOfNodes","createCommentVNode","asBlock","slotFlag","toMerge","incoming","emptyAppContext","uid","internalSetCurrentInstance","setInSSRSetupState","g","registerGlobalSetter","setters","unsetCurrentInstance","setupResult","setupStatefulComponent","setup","setupContext","isAsyncSetup","resolvedResult","handleSetupResult","finishComponentSetup","skipOptions","attrsProxyHandlers","includeInferred","computed$1","propsOrChildren","policy","tt","unsafeToTrustedHTML","svgNS","mathmlNS","doc","templateContainer","nodeOps","tag","is","selector","before","template","wrapper","TRANSITION","ANIMATION","vtcKey","DOMTransitionPropsValidators","TransitionPropsValidators","decorate$1","t","Transition","resolveTransitionProps","h2","hasExplicitCallback","baseProps","duration","enterFromClass","enterActiveClass","enterToClass","appearFromClass","appearActiveClass","appearToClass","leaveFromClass","leaveActiveClass","leaveToClass","durations","normalizeDuration","enterDuration","leaveDuration","finishEnter","isAppear","isCancelled","removeTransitionClass","finishLeave","makeEnterHook","nextFrame","addTransitionClass","whenTransitionEnds","forceReflow","NumberOf","cls","_vtc","endId","expectedType","explicitTimeout","resolveIfNotStale","timeout","propCount","getTransitionInfo","endEvent","ended","onEnd","styles","getStyleProperties","transitionDelays","transitionDurations","transitionTimeout","getTimeout","animationDelays","animationDurations","animationTimeout","hasTransform","delays","d","toMs","patchClass","isSVG","transitionClasses","vShowOriginalDisplay","vShowHidden","vShow","setDisplay","CSS_VAR_TEXT","displayRE","patchStyle","isCssString","hasControlledDisplay","prevStyle","setStyle","cssVarText","importantRE","prefixed","autoPrefix","prefixes","prefixCache","rawName","xlinkNS","patchAttr","isBoolean","patchDOMProp","attrName","needRemove","addEventListener","removeEventListener","veiKey","patchEvent","prevValue","nextValue","invokers","existingInvoker","parseName","invoker","createInvoker","optionsModifierRE","cachedNow","getNow","initialValue","patchStopImmediatePropagation","originalStop","isNativeOn","patchProp","shouldSetAsProp","camelize$1","positionMap","newPositionMap","moveCbKey","decorate","TransitionGroupImpl","moveClass","hasCSSTransform","callPendingCbs","recordPosition","movedChildren","applyTranslation","cssTransitionProps","TransitionGroup","oldPos","newPos","dx","dy","clone","rendererOptions","renderer","ensureRenderer","createApp","containerOrSelector","normalizeContainer","resolveRootNamespace","propsFactory","definition","makeComponentProps","IN_BROWSER","SUPPORTS_INTERSECTION","SUPPORTS_TOUCH","getNestedValue","deepEqual","getObjectValueByPath","getPropertyFromItem","property","createRange","length","k","convertToUnit","unit","proto","refElement","keyCodes","o","pick","paths","found","omit","exclude","onRE","wrapInArray","clamp","min","max","padEnd","char","padStart","chunk","size","chunked","mergeDeep","arrayFn","out","sourceProperty","targetProperty","flattenFragments","nodes","toKebabCase","kebab","findChildrenWithProvide","destructComputed","includes","eventName","propName","EventProp","hasEvent","focusableChildren","filterByTabIndex","targets","getNextElement","elements","location","condition","_el","idx","inc","focusChild","focusable","matchesSelector","defer","timeoutId","isClickInsideElement","targetDiv","mouseX","mouseY","divRect","divLeft","divTop","divRight","divBottom","templateRef","block","inline","parseAnchor","isRtl","side","align","toPhysical","flipSide","flipAlign","flipCorner","getAxis","Box","_ref","y","width","height","getOverflow","getTargetBox","nullifyTransforms","rect","tx","ta","sx","sy","w","animate","keyframes","animation","handlers","bindProps","_handler","unbindProps","mainTRC","Rco","Gco","Bco","normBG","normTXT","revTXT","revBG","blkThrs","blkClmp","deltaYmin","scaleBoW","scaleWoB","loConThresh","loConFactor","loConOffset","loClip","APCAcontrast","background","Rtxt","Gtxt","Btxt","Rbg","Gbg","Bbg","Ytxt","Ybg","outputContrast","SAPC","deprecate","original","replacement","delta","cielabForwardTransform","cielabReverseTransform","fromXYZ","xyz","transform","transformedY","toXYZ","lab","Ln","srgbForwardMatrix","srgbForwardTransform","C","srgbReverseMatrix","srgbReverseTransform","rgb","matrix","isCssColor","color","isParsableColor","cssColorRe","mappers","HSLtoRGB","HSVtoRGB","parseColor","groups","realValues","hex","HexToRGB","HSLtoHSV","hsva","f","hsla","hsl","sprime","toHex","RGBtoHex","_ref2","parseHex","lighten","amount","CIELAB.fromXYZ","sRGB.toXYZ","sRGB.fromXYZ","CIELAB.toXYZ","darken","getLuma","getForeground","blackContrast","message","vm","_getCurrentInstance","getCurrentInstanceName","_uid","_map","getUid","injectSelf","DefaultsSymbol","createDefaults","injectDefaults","provideDefaults","injectedDefaults","providedDefaults","newDefaults","scoped","properties","propIsDefined","internalUseDefaults","componentDefaults","_props","propValue","_subcomponentDefaults","subComponents","provideSubDefaults","propKeys","setupBindings","genericComponent","exposeDefaults","_defineComponent","createSimpleFunctional","attachedRoot","standardEasing","deceleratedEasing","acceleratedEasing","getScrollParent","includeHidden","isPotentiallyScrollable","hasScrollbar","getScrollParents","stopAt","isFixedPosition","useRender","makeTagProps","makeVToolbarTitleProps","VToolbarTitle","hasText","makeTransitionProps","createCssTransition","origin","functions","offsetTop","offsetLeft","offsetWidth","offsetHeight","position","top","left","createJavascriptTransition","ExpandTransitionGenerator","expandedParentClass","sizeProperty","offsetProperty","initialStyle","offset","resetStyles","makeVDialogTransitionProps","VDialogTransition","speed","getDimensions","getChildren","_mergeProps","els","targetBox","elBox","originX","originY","anchorSide","anchorOffset","offsetX","offsetY","tsx","tsy","maxs","asa","VExpandTransition","makeVDefaultsProviderProps","VDefaultsProvider","makeDimensionProps","useDimension","maxHeight","maxWidth","minHeight","minWidth","useAspectStyles","ratio","makeVResponsiveProps","VResponsive","aspectStyles","dimensionStyles","useColor","colors","classes","backgroundColor","textColor","useTextColor","textColorClasses","textColorStyles","useBackgroundColor","backgroundColorClasses","backgroundColorStyles","makeRoundedProps","useRounded","rounded","tile","MaybeTransition","group","rest","customProps","observer","_observe","isIntersecting","entry","observe","Intersect","makeVImgProps","VImg","intersect","roundedClasses","currentSrc","image","naturalWidth","naturalHeight","normalisedSrc","aspectRatio","init","oldVal","pollForSize","lazyImg","onError","onLoad","getSrc","img","timer","poll","imgHeight","imgWidth","containClasses","__image","sources","__preloadImage","__placeholder","__error","__gradient","isBooted","stop","responsiveProps","_withDirectives","_Fragment","_resolveDirective","makeBorderProps","useBorder","border","makeElevationProps","useElevation","elevation","useToggleScope","active","useProxiedModel","transformIn","transformOut","internal","kebabProp","isControlled","model","externalValue","internalValue","en","LANG_PREFIX","replace","params","match","createTranslateFunction","messages","_len","shortKey","currentLocale","fallbackLocale","createNumberFunction","useProvided","provided","createProvideFunction","createVuetifyAdapter","LocaleSymbol","isLocaleInstance","createLocale","i18n","rtl","createRtl","useLocale","locale","genDefaults","useRtl","ThemeSymbol","makeThemeProps","parseThemeOptions","themes","theme","defaultTheme","createTheme","parsedOptions","computedThemes","variation","onColor","colorVal","lines","createCssClass","genCssVariables","themeName","bgLines","fgLines","getHead","install","updateStyles","styleEl","themeClasses","provideTheme","newTheme","line","lightOverlay","darkOverlay","variables","allowedDensities","makeVToolbarProps","VToolbar","borderClasses","elevationClasses","rtlClasses","isExtended","contentHeight","extensionHeight","hasTitle","hasImage","extension","useResizeObserver","box","resizeRef","contentRect","VuetifyLayoutKey","VuetifyLayoutItemKey","ROOT_ZINDEX","makeLayoutProps","makeLayoutItemProps","useLayoutItem","layout","isKeptAlive","layoutItemStyles","layoutItemScrimStyles","generateLayers","positions","layoutSizes","activeItems","previousLayer","layers","layer","createLayout","parentLayout","rootZIndex","registered","priorities","disabledTransitions","layoutRect","computedOverlaps","overlaps","overlap","bottom","topPosition","bottomPosition","topAmount","bottomAmount","uniquePriorities","items","transitionsEnabled","mainRect","mainStyles","getLayoutItem","rootVm","order","layoutSize","elementSize","disableTransitions","absolute","instanceIndex","zIndex","isHorizontal","isOppositeHorizontal","isOppositeVertical","layoutClasses","layoutStyles","makeScrollProps","useScroll","canScroll","previousScroll","previousScrollHeight","currentScroll","savedScroll","currentThreshold","isScrollActive","isScrollingUp","scrollThreshold","scrollRatio","onScroll","targetEl","currentScrollHeight","scrollTarget","newTarget","useSsrBoot","makeVAppBarProps","VAppBar","vToolbarRef","isActive","scrollBehavior","behavior","canHide","isCollapsed","isFlat","opacity","ssrBootStyles","toolbarProps","makeDensityProps","useDensity","allowedVariants","genOverlays","isClickable","makeVariantProps","useVariant","variantClasses","variant","colorClasses","colorStyles","makeVBtnGroupProps","VBtnGroup","densityClasses","makeGroupProps","makeGroupItemProps","useGroupItem","injectKey","required","isSelected","isFirst","isLast","selectedClass","useGroup","isUnmounted","selected","getIds","getValues","groupVm","unwrapped","unregister","forceMandatoryValue","step","currentId","currentIndex","newItem","getItemIndex","ids","modelValue","itemByIndex","itemIndex","VBtnToggleSymbol","makeVBtnToggleProps","btnGroupProps","aliases","mdi","VClassIcon","IconValue","IconSymbol","makeIconProps","VComponentIcon","Icon","VSvgIcon","createIcons","sets","defaultSet","useIcon","icons","iconAlias","icon","iconSetName","setName","iconName","predefinedSizes","makeSizeProps","useSize","sizeClasses","sizeStyles","makeVIconProps","VIcon","slotIcon","iconData","slotValue","hasClick","useIntersectionObserver","intersectionRef","makeVProgressCircularProps","VProgressCircular","MAGIC_RADIUS_CONSTANT","CIRCUMFERENCE","underlayColorClasses","underlayColorStyles","normalizedValue","diameter","strokeWidth","strokeDashOffset","oppositeMap","makeLocationProps","useLocation","opposite","getOffset","makeVProgressLinearProps","VProgressLinear","progress","locationStyles","bufferColorClasses","bufferColorStyles","barColorClasses","barColorStyles","normalizedBuffer","isReversed","isForcedColorsModeActive","handleClick","right","bar","makeLoaderProps","useLoader","positionValues","makePositionProps","usePosition","useRoute","useRouter","useLink","RouterLink","isLink","href","linkProps","routerLink","route","makeRouterProps","inTransition","useBackButton","router","popped","removeBefore","removeAfter","onPopstate","useSelectLink","stopSymbol","DELAY_RIPPLE","isTouchEvent","isKeyboardEvent","calculate","localX","localY","radius","scale","centerX","centerY","ripples","diff","delay","isRippleEnabled","rippleShow","element","rippleStop","rippleHide","rippleCancelShow","keyboardRipple","keyboardRippleShow","keyboardRippleHide","focusRippleHide","updateRipple","wasEnabled","enabled","removeListeners","Ripple","makeVBtnProps","VBtn","loaderClasses","positionClasses","variantProps","isElevated","valueAttr","onClick","Tag","hasPrepend","hasAppend","hasIcon","ListKey","createList","useList","independentActiveStrategy","mandatory","strategy","parents","independentSingleActiveStrategy","parentStrategy","singleSelected","leafActiveStrategy","_ref3","leafSingleActiveStrategy","_ref4","singleOpenStrategy","opened","newOpened","multipleOpenStrategy","listOpenStrategy","independentSelectStrategy","on","independentSingleSelectStrategy","leafSelectStrategy","leafSingleSelectStrategy","_ref5","classicSelectStrategy","_ref6","childrenIds","everySelected","cid","noneSelected","_ref7","VNestedSymbol","emptyNested","makeNestedProps","useNested","activeStrategy","selectStrategy","openStrategy","getPath","nodeIds","nested","parentId","isGroup","list","newSelected","newActivated","useNestedItem","uidSymbol","computedId","open","useNestedGroupActivator","VListGroupActivator","makeVListGroupProps","VListGroup","isOpen","_id","activatorProps","toggleIcon","activatorDefaults","_vShow","makeVListItemSubtitleProps","VListItemSubtitle","VListItemTitle","makeVAvatarProps","VAvatar","makeVListItemProps","VListItem","activate","isActivated","isIndeterminate","isGroupActivator","openOnSelect","isSelectable","roundedProps","handleActiveLink","lineClasses","slotProps","onKeyDown","hasSubtitle","hasAppendMedia","hasPrependMedia","makeVListSubheaderProps","VListSubheader","makeVDividerProps","VDivider","dividerStyles","divider","makeVListChildrenProps","VListChildren","itemProps","slotsWithItem","listGroupProps","listItemProps","makeItemsProps","isPrimitive","transformItem","title","transformItems","useListItems","makeVListProps","VList","activeColor","baseColor","isFocused","contentRef","onFocusin","onFocusout","onFocus","focus","onKeydown","onMousedown","elementToViewport","point","anchorToPoint","locationStrategies","staticLocationStrategy","connectedLocationStrategy","makeLocationStrategyProps","useLocationStrategies","contentStyles","updateLocation","onResize","getIntrinsicSize","contentBox","preferredAnchor","preferredOrigin","parsedAnchor","parsedOrigin","newContentEl","oldContentEl","scrollParents","viewportMargin","viewport","scrollBox","placement","checkOverflow","_placement","targetPoint","contentPoint","available","flipped","resets","_x","_y","overflows","axis","hasOverflowX","hasOverflowY","newPlacement","flip","newOverflows","pixelRound","pixelCeil","clean","frames","requestNewFrame","raf","frame","scrollStrategies","closeScrollStrategy","blockScrollStrategy","repositionScrollStrategy","makeScrollStrategyProps","useScrollStrategies","bindScroll","offsetParent","scrollElements","scrollbarWidth","scrollableParent","slow","ric","VMenuSymbol","makeDelayProps","useDelay","clearDelay","runDelay","isOpening","runOpenDelay","runCloseDelay","makeActivatorProps","useActivator","isTop","contentEl","activatorEl","isHovered","firstEnter","openOnFocus","openOnClick","cursorTarget","availableEvents","activatorEvents","events","contentEvents","menu","scrimEvents","activatorRef","targetRef","getTarget","_useActivator","activator","getActivator","unbindActivatorProps","bindActivatorProps","DisplaySymbol","defaultDisplayOptions","parseDisplayOptions","getClientWidth","ssr","getClientHeight","getPlatform","userAgent","regexp","android","ios","cordova","electron","chrome","edge","firefox","opera","win","mac","linux","createDisplay","thresholds","mobileBreakpoint","platform","updateSize","xs","sm","md","lg","xl","xxl","breakpointValue","mobile","useDisplay","display","displayClasses","useHydration","makeLazyProps","useLazy","hasContent","useScopeId","StackSymbol","globalStack","useStack","disableGlobalStack","createStackEntry","stack","_zIndex","lastZIndex","globalTop","_isTop","localTop","useTeleport","_target","targetElement","defaultConditional","checkEvent","checkIsActive","handleShadow","ClickOutside","Scrim","makeVOverlayProps","VOverlay","scrimEl","_onAfterLeave","scrimColor","stackStyles","teleportTarget","rootNode","onClickOutside","animateClick","closeConditional","scrollParent","Refs","getDescriptor","currentObj","forwardRefs","childRefs","makeVMenuProps","VMenu","overlay","openChildren","onFocusIn","after","onActivatorKeydown","overlayProps","$event","_sfc_main","_hoisted_1","_openBlock","_createElementBlock","_component_v_app_bar","_component_v_icon","_cache","_createTextVNode","_component_v_btn","_withCtx","_component_v_menu","_component_v_list","_createBlock","_component_v_list_item","_component_v_list_item_title","$options","makeVAppProps","VApp","layoutRef","toolbar","_component_v_app","_component_toolbar","_component_router_view","getDevtoolsGlobalHook","isProxyAvailable","HOOK_SETUP","HOOK_PLUGIN_SETTINGS_SET","supported","perf","isPerformanceSupported","now","ApiProxy","defaultSettings","localSettingsSaveId","currentSettings","pluginId","setupDevtoolsPlugin","pluginDescriptor","setupFn","enableProxy","isBrowser","isRouteComponent","isESModule","assign","applyToParams","newParams","noop","HASH_RE","AMPERSAND_RE","SLASH_RE","EQUAL_RE","IM_RE","PLUS_RE","ENC_BRACKET_OPEN_RE","ENC_BRACKET_CLOSE_RE","ENC_CARET_RE","ENC_BACKTICK_RE","ENC_CURLY_OPEN_RE","ENC_PIPE_RE","ENC_CURLY_CLOSE_RE","ENC_SPACE_RE","commonEncode","encodeHash","encodeQueryValue","encodeQueryKey","encodePath","encodeParam","decode","TRAILING_SLASH_RE","removeTrailingSlash","parseURL","parseQuery","currentLocation","query","searchString","hash","hashPos","searchPos","resolveRelativePath","stringifyURL","stringifyQuery","stripBase","pathname","isSameRouteLocation","aLastIndex","bLastIndex","isSameRouteRecord","isSameRouteLocationParams","isSameRouteLocationParamsValue","isEquivalentArray","fromSegments","toSegments","lastToSegment","toPosition","segment","START_LOCATION_NORMALIZED","NavigationType","NavigationDirection","normalizeBase","baseEl","BEFORE_HASH_RE","createHref","getElementPosition","docRect","elRect","computeScrollPosition","scrollToPosition","scrollToOptions","positionEl","isIdSelector","getScrollKey","scrollPositions","saveScrollPosition","scrollPosition","getSavedScrollPosition","scroll","createBaseLocation","createCurrentLocation","search","slicePos","pathFromHash","useHistoryListeners","historyState","listeners","teardowns","pauseState","popStateHandler","fromState","listener","pauseListeners","listen","teardown","beforeUnloadListener","history","destroy","buildState","back","forward","replaced","computeScroll","useHistoryStateNavigation","changeLocation","hashIndex","url","push","currentState","createWebHistory","historyNavigation","historyListeners","go","triggerListeners","routerHistory","isRouteLocation","isRouteName","NavigationFailureSymbol","NavigationFailureType","createRouterError","isNavigationFailure","BASE_PARAM_PATTERN","BASE_PATH_PARSER_OPTIONS","REGEX_CHARS_RE","tokensToParser","score","pattern","segmentScores","tokenIndex","token","subSegmentScore","repeatable","optional","re","subPattern","parse","stringify","avoidDuplicatedSlash","param","compareScoreArray","comparePathParserScore","aScore","bScore","isLastScoreNegative","ROOT_TOKEN","VALID_PARAM_RE","tokenizePath","crash","buffer","previousState","tokens","finalizeSegment","customRe","consumeBuffer","addCharToBuffer","createRouteRecordMatcher","record","parser","matcher","createRouterMatcher","routes","globalOptions","matchers","matcherMap","getRecordMatcher","addRoute","originalRecord","isRootAdd","mainNormalizedRecord","normalizeRouteRecord","normalizedRecords","alias","originalMatcher","normalizedRecord","parentPath","connectingSlash","isAliasRecord","removeRoute","isMatchable","insertMatcher","matcherRef","getRoutes","paramsFromLocation","matched","parentMatcher","mergeMetaFields","clearRoutes","normalizeRecordProps","propsObject","meta","partialOptions","lower","upper","mid","insertionAncestor","getInsertionAncestor","ancestor","searchParams","searchParam","eqPos","currentValue","normalizeQuery","normalizedQuery","matchedRouteKey","viewDepthKey","routerKey","routeLocationKey","routerViewLocationKey","useCallbacks","add","guardToPromiseFn","guard","runWithContext","enterCallbackArray","reject","valid","guardReturn","guardCall","extractComponentsGuards","guardType","guards","rawComponent","componentPromise","resolvedComponent","currentRoute","activeRecordIndex","routeMatched","currentMatched","parentRecordPath","getOriginalPath","includesParams","isExactActive","navigate","guardEvent","preferSingleVNode","RouterLinkImpl","elClass","getLinkClass","outer","inner","innerValue","outerValue","propClass","globalClass","defaultClass","RouterViewImpl","injectedRoute","routeToDisplay","injectedDepth","initialDepth","matchedRoute","matchedRouteRef","viewRef","oldInstance","oldName","currentName","ViewComponent","routePropsOption","routeProps","slotContent","RouterView","createRouter","parseQuery$1","stringifyQuery$1","beforeGuards","beforeResolveGuards","afterGuards","pendingLocation","normalizeParams","paramValue","encodeParams","decodeParams","parentOrRoute","recordMatcher","routeMatcher","hasRoute","rawLocation","locationNormalized","matcherLocation","targetParams","fullPath","locationAsObject","checkCanceledNavigation","pushWithRedirect","handleRedirectRecord","lastMatched","redirect","newTargetLocation","redirectedFrom","targetLocation","force","shouldRedirect","toLocation","failure","handleScroll","markAsReady","triggerError","finalizeNavigation","triggerAfterEach","checkCanceledNavigationAndReject","installedApps","leavingRecords","updatingRecords","enteringRecords","extractChangingRecords","canceledNavigationCheck","runGuardQueue","beforeEnter","isPush","isFirstNavigation","removeHistoryListener","setupListeners","_from","info","readyHandlers","errorListeners","ready","isReady","started","reactiveRoute","unmountApp","promise","recordFrom","recordTo","_createElementVNode","rand","_normalizeStyle","_normalizeClass","$data","FloaterTypes","FloaterBase","unValidated","checks","check","Floater","Floaters","FaceHolder","FaceFloater","_hoisted_2","_hoisted_3","_component_FaceHolder","_renderList","float","_component_FaceFloater","_component_router_link","HomePage","_component_HomePage","MailIcon","LinkedInIcon","GithubIcon","ORCID","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_ctx","card","_toDisplayString","TAGS","BlogInfo","overview","year","month","authors","tags","expansionId","confirmSeminar","exogenousEndogenous","vistingRWTHAachen","FinalSeminar2024A","AgrawalMiner2024B","phdContent","allContent","ContentManager","cont","keep","fil","ContentFilter","modes","manager","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","author","ArticleStructure","TextSection","quotee","QuoteSection","reference","ReferenceSection","code","lang","label","CodeSection","figure","alt","FigureSection","photo","blur","ProfileSection","youtube","pretext","posttext","YoutTubeVideoSection","file","PdfSection","photos","CarouselSection","DefinitionSection","compModes","filepath","count","quote","clipNo","fileNo","carouselNo","defName","defNo","PhDFinalSeminar","PhDConfirmation","EndogenousExogenousDifference","collection","confirmation","differences","rwthVisit","agrawalMiner","finalSeminar","phdcontent","allcontent","content2024","contentkeys","contentDict","ArticleContent","window","undefined","LIBVERSION","EMPTY","UNKNOWN","FUNC_TYPE","UNDEF_TYPE","OBJ_TYPE","STR_TYPE","MAJOR","MODEL","NAME","TYPE","VENDOR","VERSION","ARCHITECTURE","CONSOLE","MOBILE","TABLET","SMARTTV","WEARABLE","EMBEDDED","UA_MAX_LENGTH","AMAZON","APPLE","ASUS","BLACKBERRY","BROWSER","CHROME","EDGE","FIREFOX","GOOGLE","HUAWEI","LG","MICROSOFT","MOTOROLA","OPERA","SAMSUNG","SHARP","SONY","XIAOMI","ZEBRA","FACEBOOK","CHROMIUM_OS","MAC_OS","SUFFIX_BROWSER","regexes","extensions","mergedRegexes","enumerize","enums","str1","str2","lowerize","majorize","trim","rgxMapper","ua","arrays","q","matches","regex","strMapper","oldSafariMap","windowsVersionMap","UAParser","_navigator","_ua","_uach","_rgxmap","_isSelfNav","_browser","_cpu","_device","_engine","_os","module","exports","$","this","jn","cn","W","En","An","pn","yn","Fn","In","Gn","Jn","On","Rn","Un","qn","Mn","Nn","vn","E","L","A","T","F","I","mn","Y","dn","M","G","kn","K","Q","X","N","Pn","_n","wn","xn","Z","Tn","nn","$n","Cn","z","S","zn","an","Sn","P","ln","rn","un","B","Bn","sn","Wn","tn","__vitePreload","J","Vn","Hn","Dn","V","O","R","U","H","D","gn","makeVBreadcrumbsDividerProps","VBreadcrumbsDivider","makeVBreadcrumbsItemProps","VBreadcrumbsItem","makeVBreadcrumbsProps","VBreadcrumbs","handleGesture","touchstartX","touchendX","touchstartY","touchendY","dirRatio","minDistance","touchstart","touch","touchend","touchmove","createHandlers","Touch","VWindowSymbol","VWindowGroupSymbol","makeVWindowProps","VWindow","rootRef","isRtlReverse","direction","transitionCount","transitionHeight","activeIndex","itemsLength","lastIndex","canMoveBack","canMoveForward","arrows","touchOptions","originalEvent","makeVCarouselProps","VCarousel","windowRef","slideTimeout","restartTimeout","startTimeout","windowProps","makeVWindowItemProps","VWindowItem","groupItem","isTransitioning","hasTransition","onAfterTransition","onBeforeTransition","onTransitionCancelled","onEnterTransition","makeVCarouselItemProps","VCarouselItem","imgProps","windowItemProps","makeVContainerProps","VContainer","makeVLayoutProps","VLayout","VCodeBlock","_hoisted_25","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_40","_hoisted_43","_component_v_breadcrumbs","_component_VCodeBlock","_createCommentVNode","_hoisted_26","_hoisted_32","_component_v_carousel","pic","_component_v_carousel_item","_component_v_responsive","_component_v_container","_component_v_layout","_hoisted_39","_hoisted_41","_hoisted_42","$props","Paper","abstract","venue","doi","bibtex","papers","PubContent","PubCard","paper","_component_PubCard","getRandomYear","dummyPaper","dummyFigure","dummyShortInfo","dummyLongInfo","TimelinePoint","shortInfo","longInfo","cards","makeVTooltipProps","VTooltip","discCards","dis","years","prec","_component_v_tooltip","CLASS_PATTERN","isClass","hasOwnProp","annotate","CONSTRUCTOR_ARGS","FN_ARGS","FN_ARG","parseAnnotations","argMatch","Injector","modules","_parent","strict","currentlyResolving","providers","instances","msg","parts","pivot","fnDef","locals","dependencies","instantiate","Constructor","invoke","func","createPrivateInjectorFactory","childInjector","createChild","forceNewInstances","fromParentModule","matchedScopes","privateInjectorsCache","privateChildInjectors","privateChildFactories","provider","cacheIdx","privateChildInjector","privateChildInjectorFactory","factoryMap","createInitializer","moduleDefinition","injector","initializers","initializer","loadModule","moduleExports","nestedModules","clonedModule","childModules","privateInjector","getFromPrivateInjector","typeDeclaration","arrayUnwrap","resolveDependencies","moduleDefinitions","bootstrap","initialized","DEFAULT_RENDER_PRIORITY","BaseRenderer","eventBus","renderPriority","evt","visuals","shape","connection","flatten","nativeToString","nativeHasOwnProperty","isUndefined","isDefined","isNil","isNumber","find","matchFn","toMatcher","forEach","filter","convertKey","toNum","identity","every","some","groupBy","extractor","grouped","toExtractor","discriminator","uniqueBy","collections","sortBy","sorted","disc","matchPattern","debounce","lastArgs","lastThis","lastNow","fire","scheduledDiff","schedule","clear","bind","others","ensureImported","appendTo","append","LENGTH_ATTR","CSS_PROPERTIES","getAttribute","setAttribute","hyphenated","setAttributes","names","attr","toString","ClassList","ns","SVG_START","svg","unwrap","parsed","parseDocument","fragment","create","getNode","createMatrix","createTransform","TEXT_ENTITIES","ATTR_ENTITIES","ENTITY_REPLACEMENT","escape","replaceFn","entity","serialize","output","attrMap","attrNode","childNodes","innerSVG","wrapMatrix","transformList","setTransforms","transforms","componentsToPath","lineTo","curveTo","p1","p2","p3","drawPath","waypoints","cornerRadius","pointCount","pointBefore","pointAfter","effectiveRadius","vectorLength","beforePoint","getPointAtLength","beforePoint2","afterPoint","afterPoint2","deltaX","deltaY","totalLength","percent","createLine","points","svgCreate","updateLine","gfx","svgAttr","getParents","getParent","unique","canAdd","eachElement","selfAndChildren","maxDepth","processedChildren","selfAndAllChildren","allowDuplicates","getClosure","isTopLevel","closure","allShapes","copyObject","allConnections","enclosedElements","enclosedConnections","topLevel","handleConnection","handleElement","getBBox","stopRecursion","minX","minY","maxX","maxY","bbox","getEnclosedElements","filteredElements","getType","isFrameElement","src1","src2","DefaultRenderer","inherits","svgAppend","shapePath","connectionPath","Styles","defaultTraits","className","traits","additionalAttrs","custom","defaultStyles","DrawModule","_mergeNamespaces","styleSources","closest","checkYourSelf","actualElement","componentEvent","bind$1","unbind$1","prefix","detect","bind_1","capture","unbind_1","forceCaptureEvents","unbind","delegate","domify","innerHTMLBug","bugTestDiv","html","suffix","domify$1","all","currentIdx","indexOf","pointDistance","pointsOnLine","accuracy","dist","ALIGNED_THRESHOLD","pointsAligned","axisMap","orientation","pointsAlignedOnAxis","referencePoint","getMidPoint","p2s","toFloat","math","PI","mmin","mmax","pow","abs","pathCommand","pathValues","hasProperty","repush","ii","cacher","newf","parsePathString","pathString","pth","paramCounts","ps","rectBBox","pathToString","pathClone","pathArray","findDotsAtSegment","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","t1","t13","t12","t2","t3","fixError","bezierBBox","curveBBox","isPointInsideBBox","isBBoxIntersect","bbox1","bbox2","base3","p4","bezlen","x1","y1","x2","y2","x3","y3","x4","y4","z2","Tvalues","Cvalues","sum","ct","xbase","ybase","comb","intersectLines","nx","ny","denominator","px","py","px2","py2","number","findBezierIntersections","bez1","bez2","justCount","l1","isLine","dots1","dots2","xy","di","di1","dj","dj1","ci","cj","findPathIntersections","path1","path2","pathToCurve","x1m","y1m","x2m","y2m","pi","jj","pj","intr","kk","pathToAbsolute","mx","my","pa0","pa","bez","lineToCurve","qubicToCurve","ax","ay","_13","_23","arcToCurve","rx","ry","angle","large_arc_flag","sweep_flag","recursive","_120","rad","rotate","f1","f2","cx","cy","rx2","ry2","df","f2old","x2old","y2old","hx","hy","m1","m2","m3","m4","newres","x0","y0","tvalues","bounds","b2ac","sqrtb2ac","jlen","mt","curvedPath","processPath","fixArc","pp","pathCommands","pfirst","seg","seglen","isConnection","isLabel","roundPoint","asTRBL","getBoundsMid","getConnectionMid","lastPoint","lastPart","startLength","distance","part","midLength","midSegment","segmentProgress","midPoint","getMid","getOrientation","padding","rectOrientation","referenceOrientation","vertical","horizontal","getElementLineIntersection","elementPath","linePath","cropStart","intersections","getIntersections","intersectPaths","filterRedundantWaypoints","previousPoint","nextPoint","round","resolution","ensurePx","findRoot","createContainer","assignStyle","createGroup","childIndex","svgClasses","BASE_LAYER","PLANE_LAYER_INDEX","UTILITY_LAYER_INDEX","REQUIRED_MODEL_ATTRS","Canvas","config","graphicsFactory","elementRegistry","domAttr","focused","svgRemove","plane","rootElement","marker","layerName","currentRoot","requiredAttrs","parentIndex","collectionAdd","collectionRemove","secondary","changeFn","outerBox","innerBox","activeLayer","svgTransform","setCTM","defaultPadding","elementBounds","getBoundingBox","elementTrbl","viewboxBounds","zoom","viewboxTrbl","dRight","dLeft","dBottom","dTop","newScale","center","mstr","vbox","newViewbox","centerPoint","originalPoint","currentMatrix","scaleMatrix","newMatrix","currentScale","ELEMENT_ID","ElementRegistry","secondaryGfx","newId","filtered","inverseProperty","defineCollectionProperty","defineProperty","_value","old","parentRefs","labelRefs","attacherRefs","outgoingRefs","incomingRefs","ElementImpl","newLabel","labels","ShapeImpl","RootImpl","LabelImpl","ConnectionImpl","types","Type","isModelElement","ElementFactory","FN_REF","DEFAULT_PRIORITY","slice","EventBus","priority","that","actualCallback","wrappedCallback","InternalEvent","firstListener","returnValue","originalType","invokeFunction","newListener","previousListener","nextListener","listenerCallback","getVisual","translate","GraphicsFactory","childrenGfx","visual","domClear","isFrame","outerGfx","prependTo","childGfx","newNode","siblingNode","CoreModule","createInjector","configModule","Diagram","__stopPropagation","getOriginal","stopPropagation","toPoint","isMac","isButton","button","getOriginalEvent","isPrimaryButton","isAuxiliaryButton","hasPrimaryModifier","hasSecondaryModifier","allowAll","allowPrimaryAndAuxiliary","LOW_PRIORITY","InteractionEvents","isIgnored","mouseHandler","localEventName","ignoredFilters","triggerMouseEvent","ELEMENT_SELECTOR","registerEvent","localEvent","ignoredFilter","domDelegate","unregisterEvent","registerEvents","unregisterEvents","STROKE_HIT_STYLE","createHitStyle","CLICK_STROKE_HIT_STYLE","ALL_HIT_STYLE","NO_MOVE_HIT_STYLE","HIT_TYPES","classNames","applyStyle","hit","appendHit","hits","domQueryAll","boxType","domQuery","InteractionEventsModule","Selection","canvas","selectedElements","oldSelection","elementRoot","MARKER_HOVER","MARKER_SELECTED","SelectionVisuals","addMarker","removeMarker","deselect","newSelection","SelectionBehavior","selection","canExecute","hints","autoSelect","isShown","previousSelection","selectedShape","isMultiSelect","SelectionModule","Rules","action","commandStack","RulesModule","HIGH_PRIORITY","HoverFix","dragging","ensureHover","hoverGfx","hover","getGfx","domClosest","HoverFixModule","CURSOR_CLS_PATTERN","domClasses","unset","TRAP_PRIORITY","trap","KEYS_COPY","KEYS_PASTE","KEYS_REDO","KEYS_UNDO","hasModifier","isCmd","isKey","isShift","isCopy","isPaste","isUndo","isRedo","DRAG_ACTIVE_CLS","preventDefault","getLength","Dragging","defaultOptions","toLocalPoint","globalPosition","viewbox","clientRect","dragContext","restoreSelection","existingSelection","payload","displacement","globalStart","globalCurrent","globalDelta","deltaPos","localStart","localCurrent","localDelta","cancel","cursorSet","previousContext","checkCancel","trapClickAndEnd","untrap","installClickTrap","trapTouch","restore","wasActive","endDrag","cursorUnset","domEvent","relativeTo","isTouch","DraggingModule","Connect","modeling","rules","canConnect","canConnectReverse","connectionStart","connectionEnd","isReverse","autoActivate","MARKER_OK","MARKER_NOT_OK","ConnectPreview","connectionPreview","startPosition","previewStart","previewEnd","ConnectModule","MARKER_CONNECTION_PREVIEW","ConnectionPreview","elementFactory","connectionPreviewGfx","getConnection","noLayout","noCropping","noNoop","svgClear","cacheReturnValues","sourcePath","targetPath","ensureConnectionAttrs","returnValues","firstArgument","IdGenerator","Ids","Overlays","createRoot","overlays","domRemove","setVisible","setPosition","htmlContainer","setTransform","overlayContainer","activeRoot","show","minZoom","maxZoom","activeRootElement","visible","shouldScale","minScale","maxScale","updateViewbox","OverlaysModule","Scheduler","taskFn","newScheduled","deferred","scheduled","SchedulerModule","escapeCSS","MARKER_HIDDEN","entrySelector","CONTEXT_PAD_MARGIN","HOVER_DELAY","ContextPad","targetsChanged","targetsNew","provideFn","entriesOrUpdater","entryId","grouping","control","addClasses","targetsEqual","currentTarget","lastWaypoint","getLastWaypoint","containerBounds","targetBounds","updateFn","isHidden","elementsGfx","elementGfx","otherTarget","ContextPadModule","cloneIds","MARKER_TYPES","NODES_CAN_HAVE_MARKER","PreviewSupport","dragger","svgClone","rootGfx","childNode","canHaveMarker","markerType","getMarker","parentGfx","clonedMarkerId","copiedMarker","clonedMarker","defs","idToReference","referenceToId","PreviewSupportModule","MARKER_ATTACH","MARKER_NEW_PARENT","PREFIX","Create","canCreate","labelTarget","attach","connect","isSingleShape","connectionTarget","setMarker","ensureConstraints","visibleElements","waypoint","createConstraints","CreatePreview","previewSupport","createDragGroup","dragGroup","CreateModule","ToolManager","tools","tool","eventsToRegister","isPaletteClick","ToolManagerModule","Mouse","setLastMoveEvent","mousemoveEvent","createMoveEvent","screenX","screenY","clientX","clientY","MouseModule","LASSO_TOOL_CURSOR","LassoTool","toolManager","mouse","toBBox","mouseEvent","LassoToolModule","CommandStack","command","handlerCls","qualifier","execution","redo","actions","baseAction","dirty","stackIdx","CommandModule","ChangeSupport","getElementType","ChangeSupportModule","AlignElements","alignment","AppendShapeHandler","existsConnection","CreateConnectionHandler","layouter","CreateElementsHandler","createShapeHints","CreateShapeHandler","positionOrBounds","CreateLabelHandler","originalExecute","ensureValidDimensions","originalRevert","saveClear","removeFn","DeleteConnectionHandler","collectionIdx","DeleteElementsHandler","DeleteShapeHandler","oldParent","oldParentIndex","DistributeElements","OFF_AXIS","dimension","updateRange","lastIdx","rangeDiff","range","centerElement","refCenter","firstGroup","lastGroupIdx","lastGroup","margin","spaceInBetween","groupsSize","sortedElements","refElem","groupIdx","prevGroup","LayoutConnectionHandler","oldWaypoints","MoveConnectionHandler","newParent","newParentIndex","getNewAttachPoint","oldBounds","newBounds","oldCenter","newCenter","oldDelta","newDelta","getResizedSourceAnchor","safeGetWaypoints","waypointsInsideNewBounds","getWaypointsInsideBounds","oldAnchor","getResizedTargetAnchor","getMovedSourceAnchor","moveDelta","subtract","getMovedTargetAnchor","originalWaypoints","isInsideBounds","MoveClosure","newClosure","MoveHelper","newHost","primaryShape","keepParent","sourceMoved","targetMoved","MoveElementsHandler","MoveShapeHandler","ReconnectConnectionHandler","newSource","dockingOrPoints","layoutConnectionHints","getDocking","oldSource","ReplaceShapeHandler","oldShape","newData","newShape","canReconnect","outgoing","dockingPoint","ResizeShapeHandler","minBounds","getDirection","getWaypointsUpdatingConnections","movingShapes","resizingShapes","waypointsUpdatingConnections","resizeBounds","SpaceToolHandler","getBounds","shapes","connections","affectedShapes","copyWaypoints","getAxisFromDirection","layoutHints","shouldMoveWaypoint","copyWaypoint","relevantAxis","ToggleShapeCollapseHandler","getElementsVisibilityRecursive","setHiddenRecursive","oldChildrenVisibility","restoreVisibilityRecursive","newHidden","lastState","UpdateAttachmentHandler","oldHost","removeAttacher","addAttacher","attacherIdx","host","attacher","attachers","UpdateWaypointsHandler","newWaypoints","Modeling","DistributeElementsHandler","AlignElementsHandler","BaseLayouter","ModelingModule","THRESHOLD","MoveCanvas","handleMousedown","handleStart","handleMove","lastPosition","handleEnd","MoveCanvasModule","Outline","OUTLINE_STYLE","createOutline","outline","SELECTION_OUTLINE_PADDING","MultiSelectionOutline","bBox","addSelectionOutlinePadding","OutlineModule","MEDIUM_PRIORITY","MoveEvents","canMove","removeNested","validatedShapes","isAttach","MARKER_DRAGGING","MovePreview","getVisualDragShapes","getAllDraggedElements","removeEdges","allElements","uniqueElements","makeDraggable","dragShapes","allDraggedElements","visuallyDraggedShapes","haveDifferentParents","MoveModule","Move","TOGGLE_SELECTOR","ENTRY_SELECTOR","PALETTE_PREFIX","PALETTE_SHOWN_CLS","PALETTE_OPEN_CLS","PALETTE_TWO_COLUMN_CLS","Palette","addPaletteEntries","parentContainer","domMatches","twoColumn","parentCls","entriesContainer","availableHeight","entriesHeight","toolsContainer","actionName","toolClasses","actualClassNames","PaletteModule","circlePath","INTERSECTION_THRESHOLD","getBendpointIntersection","getPathIntersection","getApproxIntersection","vector","getAngle","rotateVector","solveLambaSystem","system","perpendicularFoot","bd","getDistancePointLine","pfPoint","connectionVector","getDistancePointPoint","point1","point2","BENDPOINT_CLS","SEGMENT_DRAGGER_CLS","toCanvasCoordinates","getConnectionIntersection","localPosition","intersection","addBendpoint","groupGfx","createParallelDragger","segmentStart","segmentEnd","draggerGfx","hitWidth","calculateHitWidth","hitHeight","addSegmentDragger","calculateSegmentMoveRegion","segmentLength","getClosestPointOnConnection","getClosestSegment","segmentLengthXAxis","segmentLengthYAxis","segmentIndex","Bendpoints","interactionEvents","bendpointMove","connectionSegmentMove","isIntersectionMiddle","treshold","p0","aligned","xDelta","yDelta","calculateIntersectionThreshold","relevantSegment","threshold","activateBendpointMove","bindInteractionEvents","getBendpointsContainer","getSegmentDragger","createBendpoints","bendpoint","createSegmentDraggers","segmentDraggerGfx","clearBendpoints","clearSegmentDraggers","addHandles","updateHandles","updateFloatingBendpointPosition","floating","updateSegmentDraggerPosition","draggerVisual","relativePosition","getDraggerVisual","bendpointsGfx","primary","bendpointContainer","RECONNECT_START","RECONNECT_END","UPDATE_WAYPOINTS","BendpointMove","bendpointIndex","docking","connectionDocking","MARKER_CONNECT_HOVER","MARKER_CONNECT_UPDATING","MARKER_DRAGGER","BendpointMovePreview","drawPreviewHints","axisAdd","axisSet","axisFenced","maxValue","minValue","fencedValue","flipAxis","referenceElement","moveAxis","referenceMid","inverseAxis","ConnectionSegmentMove","segmentStartIndex","segmentEndIndex","dragPosition","cropConnection","croppedWaypoints","redrawConnection","updateDragger","segmentOffset","draggerPosition","filteredWaypoints","newSegmentStart","newSegmentEnd","waypointCount","sourceToSegmentOrientation","targetToSegmentOrientation","newSegmentStartIndex","snapTo","tolerance","snapValue","topLeft","bottomRight","isSnapped","snapped","setSnapped","previousValue","TOLERANCE","BendpointSnapping","rem","getSnapPoint","getConnectionSegmentSnaps","snapPoints","referenceWaypoints","getBendpointSnaps","hoverMid","BendpointsModule","log10","getStepSize","steps","minLinearRange","maxLinearRange","absoluteLinearRange","cap","sign","RANGE","NUM_STEPS","DELTA_THRESHOLD","DEFAULT_SCALE","ZoomScroll","stepSize","isZoom","isHorizontalScroll","factor","elementRect","currentLinearZoomLevel","newLinearZoomLevel","newLogZoomLevel","newEnabled","handleWheel","oldEnabled","ZoomScrollModule","SnapContext","snapLocation","snapOrigin","snapValues","snapLocations","targetId","SnapPoints","snappingValues","defaultSnaps","HIGHER_PRIORITY","CreateMoveSnapping","snapping","snapContext","shapeMid","shapeTopLeft","shapeBottomRight","snapTargets","snapTarget","ResizeSnapping","isVertical","getSnapOrigin","isAttached","trbl","SNAP_TOLERANCE","SNAP_LINE_HIDE_DELAY","Snapping","snapCurrent","locationSnapping","axisSnapping","snapLine","SnappingModule","CommandInterceptor","unwrapEvent","handlerFn","fullEvent","LabelSupport","movePreview","removeLabels","enclosedLabels","labelTargetIndex","LabelSupportModule","isTextNode","toArray","nodeList","TextBox","parentStyle","contentStyle","hasResized","normalizeEndOfLineSequences","success","startContainer","endContainer","startOffset","endOffset","commonAncestorContainer","childNodesArray","containerTextContent","textNode","startContainerChildIndex","endContainerChildIndex","fontSize","resizeHandle","startX","startY","startWidth","startHeight","onMouseDown","onMouseMove","onMouseUp","newWidth","newHeight","string","DirectEditing","previousBounds","newText","previousText","DirectEditingModule","stateRadius","INTERNAL","ENDING","STARTING","isInternalState","isStartingState","isEndingState","isState","toggleStateType","TSElementFactory","textRenderer","src","tgt","selfLoop","XML_ILLEGALS","TsXmlExporter$1","illegal","arc","way","TsXmlImporter$1","factory","bus","txRenderer","named_els","states","pos","arcs","svgWay","svgWayPoint","elLabel","modeler","SvgSaver$1","contentNode","defsNode","contents","ExamplePaletteProvider","lassoTool","palette","input","TsXmlImporter","tree","errors","TsXmlExporter","blob","SvgSaver","ContextPadProvider","contextPad","removeElement","startConnect","switchStateType","newType","jumpToInternal","nc","jumpToEnding","flipConnection","toggleSelected","changed","createSelfLoop","contextPadOptions","isEmptyText","getLabel","LabelEditingProvider","directEditing","activateDirectEdit","defaultStyle","externalStyle","activeContextText","OrderingProvider","ordering","eventbus","CustomOrderingProvider","sqrt","sq","EQUAL_THRESHOLD","labelAdjustment","labelPosition","attachment","oldSegmentStartIndex","rel","relativePositionMidWaypoint","oldPosition","getAttachment","oldLabelLineIndex","newLabelLineIndex","findNewLineStartIndex","oldLabelLine","getLine","newLabelLine","oldFoot","relativeFootPosition","getRelativeFootPosition","angleDelta","getAngleDelta","oldBendpointIndex","oldBendpoint","newBendpoint","newFoot","newLabelVector","foot","lengthToFoot","a1","a2","distanceSegment1","distanceSegment2","getDistance","pointsEqual","isPointInSegment","fenced","rangeStart","rangeEnd","getCircleSegmentIntersections","cc","cr","baX","baY","caX","caY","bBy2","pBy2","tmpSqrt","abScalingFactor1","abScalingFactor2","i1","i2","segmentStartDistance","segmentEndDistance","attachmentPosition","attachmentDistance","closestAttachmentDistance","closestAttachment","LabelBehaviour","ProvidersModule$1","RENDER_PRIORITY","LABEL_COLOUR","INNER_ICON_FILL_COLOUR","MARKED_COLOR","TEXT_STYLE","textRender","xOffset","yOffset","markerPath","svgElements","labelAttrs","svgElement","shadow","pv","cv","pather","textPath","TSRenderer","DEFAULT_BOX_PADDING","DEFAULT_LABEL_SIZE","parseAlign","parsePadding","getTextBBox","fakeText","textBBox","emptyLine","layoutNext","originalLine","fitLine","fit","shortenLine","remainder","SOFT_BREAK","semanticShorten","maxLength","shortenedParts","shortenedLine","getHelperSvg","helperSvg","fitBox","lineHeight","getLineHeight","layouted","helperText","totalHeight","maxLineWidth","textElement","tspan","dimensions","DEFAULT_FONT_SIZE","LINE_HEIGHT_RATIO","MIN_TEXT_ANNOTATION_HEIGHT","TSTextRenderer","textUtil","TextUtil","layoutedDimensions","TSRenderer$2","elementFactory$1","customConnect$1","CustomConnect","TSEditor","additionalModules","builtinModules","BendingModule","customModules","ProvidersModule","customConnect","diagram","defaultSystem$1","trans","act","_options","EditorTS","ev","s3","defaultSystem","mathjax","handleState","handleTransition","deleted","placeRadius","transitionSize","isPlace","isTransition","isFlow","PetriElementFactory","place","silent","flow","byteToHex","unsafeStringify","getRandomValues","rnds8","rng","randomUUID","native","v4","buf","rnds","strings","dict","PNML_URL","XML_HEAD","XML_TAIL","PLACE_TEMPLATE","PLACE_CLOSURE","TRANSITION_TEMPLATE","TRANSITION_CLOSURE","FLOW_TEMPLATE","FLOW_WAYPOINT","FLOW_CLOSURE","UUID","uuidv4","placeSvg","transitionSvg","flowSvg","places","mshape","tran","createConnectedTransition","createConnectedPlace","PLACE_TEXT_STYLE","PetriRenderer","marker2","marker3","marker4","TSRenderer$1","PetriModeling","customModeling","PetriModelling","PetriRules","arcInc","arcOut","handleFlow","connected","hint","KEYDOWN_EVENT","KEYUP_EVENT","compatMessage","Keyboard","eventBusResult","KeyboardBindings","keyboard","editorActions","addListener","KeyBoardModule","AXIS_TO_DIMENSION","CURSOR_CROSSHAIR","DIRECTION_TO_TRBL","DIRECTION_TO_OPPOSITE","PADDING","SpaceTool","reactivate","minDimensions","spaceToolConstraints","getSpaceToolConstraints","setCursor","moveShape","resizeShape","shapeStart","shapeEnd","isAttacher","addPadding","resizingShape","resizingShapeBBox","nonMovingResizingChildren","movingChildren","minOrMax","nonMovingResizingChildrenBBox","movingChildrenBBox","movingAttachers","nonMovingAttachers","movingAttachersBBox","movingAttachersConstraint","nonMovingAttachersBBox","nonMovingAttachersConstraint","resizingShapeMinDimensions","MARKER_RESIZING","SpaceToolPreview","addPreviewGfx","space","crosshairGroup","pathX","pathY","spaceLayer","movingConnections","sourceIsMoving","targetIsMoving","sourceIsResizing","targetIsResizing","frameGroup","initialBounds","SpacerToolModule","SPACING","quantize","quantum","GRID_COLOR","LAYER_NAME","GRID_DIMENSIONS","Grid","patternId","randomNumber","circle","grid","gridModule","GridModule","renderColours","renderCSS","SvgExporter","transformToViewbox","canvasViewbox","isWithinShape","scaleToFitElements","spaceTool","vscodeMessager","createConnection","role","OrmConnection","__publicField","getNextIdentifier","attributes","SUBTYPE_NAME","createSubtype","OrmSubtypeConnection","OBJECTIFICATION_TYPE","createObjectification","fact","ObjectifiedRole","isFact","isEntity","isRoleConnection","ROLE_CONNECTION_TYPE","isSubtype","isExactlyEntity","isExactlyValue","isConstraint","isUnitReference","isReferredReference","isObjectification","OrmSpaceTool","paletteProvider","SpaceTool2","unitHeight","unitWidth","createEntity","ValueEntity","Entity","subtyp","subtype","constraint","UNIT_WIDTH","UNIT_HEIGHT","WIDTH_FACTOR","createValueConstraint","description","ValueConstraint","isValueConstraint","VC_TYPE","isRoleValueConstraint","constraintDiff","createFact","factors","Fact","temp","posX","posY","removed","curr_x","keeps","curr_y","towards","labeler","uni","derivedValue","objectifiedValue","createConstraint","over","roles","SimpleConstraint","editing","OrmElementFactory","VALUE_CONSTRAINT_TYPE","entityWidth","entityHeight","factWidth","factHeight","ormFactory","thedraw","theconection","PRIORITY","DEBUG_OPACITY","TemplateRenderer","renderingOptions","shapeType","renderSuffix","rSuffix","dot","CSS_CONSTANTS","CONNECTION_STYLE","SUBTYPE_STYLE","CONNECTION_OPTIONS","VISUAL_GROUP_CLASS","CLASS_CONSTANTS","RenderingConstants","TEXT_X_OFFSET","TEXT_Y_OFFSET","SHAPE_TYPE","ValueRenderer","mut","y_curr","textContent","workingText","nextStep","leftBang","rightBang","lineStyle","letter","UniquenessRenderer","next_x","dash","FactRenderer","dashType","centerText","cover","upperText","arrowhead","coverBox","classing","highlightMode","classer","ReferencedEntityRenderer","renderOptions","textUpper","textLower","maxTextWidth","maxLetters","adjustText","adjustLowerText","lowerText","ValueEntityRenderer","textMiddle","RoleConnectionRenderer","SubtypeConnectionRenderer","arrowMarker","arrowPath","ObjectificationRenderer","LabelRenderer","ormRenderer","SpaceToolHandler2","OrmModelling","con","added","factLabel","objectification","valueConstraint","ormModeling","OrmModeling","OrmOrderingProvider","ConstraintBuilder","SIMPLE_MODE","checkKeys","trapClick","ConstraintHandler","builder","HelpChain$2","HelpChainBuilder","HelpChain","first","helper","DummyChain","MODE","helper_title","UniquenessConstraintHandler","helping","ObjectValueConstraintHandler","dummyState","helper_title2","RoleValueConstraint","BUS_TRIGGER","OBJECT_VALUE_MODE","ROLE_VALUE_MODE","ContraintsModule","RoleValueConstraintHandler","controller","placementModule","subtyping","CONSTRAINT_BUS_TRIGGER","CONSTRAINT_SIMPLE_MODE","CONSTRAINT_ROLE_VALUE_MODE","included","CONSTRAINT_VALUE_MODE","OrmContextPad","hitBox","ormContextPads","helpChain","OrmConnect","removeMarkers","updateMarkers","hasMarkers","recuriseRemoveMarkers","targetedRole","EMIT_NAME","OrmSubtyping","DEFAULT_CONNECTORS","SUBTYPE_EMIT_NAME","OrmConnectPreview","ConnectorNames","connector","ormConnect","OrmPreview","RuleProvider","OrmRules","ormRules","Placer","toRight","min_dist","close","placementService","FactInteractions","ormInteractions","factInteractions","checkPointInRect","makeRect","getAngleIntersection","tan_phi","tan_theta","qx","qy","quad","vertex","longside","OrmLayouter","other","bends","srcRect","srcPos","srcIntersection","tgtRect","tgtPos","tgtIntersection","lastEdit","factConnectionPoint","mids","wp","ormLayouter","derived","defaultFontSize","derivedLabel","OrmLabelEditor","ormLabelEditing","ormEditingService","editingProvider","customBendpoints","CustomBendpoint","ConstraintWatcher","ormConstraints","ConstraintsBuilderModule","ConstraintsModule","ZoomPunch","OrmShortcuts","tabModel","HelpProvider","ormKeyboard","ormKeyboardHelp","isNothing","subject","sequence","sourceKeys","repeat","cycle","isNegativeZero","isNothing_1","isObject_1","toArray_1","repeat_1","isNegativeZero_1","extend_1","common","formatError","exception","compact","where","YAMLException$1","reason","mark","lineStart","lineEnd","maxLineLength","maxHalfLength","makeSnippet","lineStarts","lineEnds","foundLineNo","lineNoLength","snippet","TYPE_CONSTRUCTOR_OPTIONS","YAML_NODE_KINDS","compileStyleAliases","Type$1","compileList","schema","currentType","previousType","previousIndex","compileMap","collectType","Schema$1","implicit","explicit","type$1","seq","failsafe","resolveYamlNull","constructYamlNull","isNull","_null","resolveYamlBoolean","constructYamlBoolean","bool","isHexCode","isOctCode","isDecCode","resolveYamlInteger","hasDigits","ch","constructYamlInteger","isInteger","int","YAML_FLOAT_PATTERN","resolveYamlFloat","constructYamlFloat","SCIENTIFIC_WITHOUT_DOT","representYamlFloat","isFloat","json","core","YAML_DATE_REGEXP","YAML_TIMESTAMP_REGEXP","resolveYamlTimestamp","constructYamlTimestamp","day","hour","minute","second","fraction","tz_hour","tz_minute","date","representYamlTimestamp","timestamp","resolveYamlMerge","merge","BASE64_MAP","resolveYamlBinary","bitlen","constructYamlBinary","tailbits","bits","representYamlBinary","isBinary","binary","_hasOwnProperty$3","_toString$2","resolveYamlOmap","objectKeys","pair","pairKey","pairHasKey","constructYamlOmap","omap","_toString$1","resolveYamlPairs","constructYamlPairs","pairs","_hasOwnProperty$2","resolveYamlSet","constructYamlSet","_default","_hasOwnProperty$1","CONTEXT_FLOW_IN","CONTEXT_FLOW_OUT","CONTEXT_BLOCK_IN","CONTEXT_BLOCK_OUT","CHOMPING_CLIP","CHOMPING_STRIP","CHOMPING_KEEP","PATTERN_NON_PRINTABLE","PATTERN_NON_ASCII_LINE_BREAKS","PATTERN_FLOW_INDICATORS","PATTERN_TAG_HANDLE","PATTERN_TAG_URI","_class","is_EOL","is_WHITE_SPACE","is_WS_OR_EOL","is_FLOW_INDICATOR","fromHexCode","lc","escapedHexLen","fromDecimalCode","simpleEscapeSequence","charFromCodepoint","simpleEscapeCheck","simpleEscapeMap","State$1","generateError","throwError","throwWarning","directiveHandlers","major","minor","handle","captureSegment","checkJson","_position","_length","_character","_result","mergeMappings","destination","overridableKeys","quantity","storeMappingPair","keyTag","keyNode","valueNode","startLine","startLineStart","startPos","readLineBreak","skipSeparationSpace","allowComments","checkIndent","lineBreaks","testDocumentSeparator","writeFoldedLines","readPlainScalar","nodeIndent","withinFlowCollection","preceding","following","captureStart","captureEnd","hasPendingContent","_line","_lineStart","_lineIndent","_kind","readSingleQuotedScalar","readDoubleQuotedScalar","hexLength","hexResult","readFlowCollection","readNext","_pos","_tag","_anchor","terminator","isExplicitPair","isMapping","composeNode","readBlockScalar","folding","chomping","didReadContent","detectedIndent","textIndent","emptyLines","atMoreIndented","readBlockSequence","detected","readBlockMapping","flowIndent","allowCompact","_keyLine","_keyLineStart","_keyPos","atExplicitKey","readTagProperty","isVerbatim","isNamed","tagHandle","tagName","readAnchorProperty","readAlias","parentIndent","nodeContext","allowToSeek","allowBlockStyles","allowBlockScalars","allowBlockCollections","indentStatus","atNewLine","typeIndex","typeQuantity","typeList","blockIndent","readDocument","documentStart","directiveName","directiveArgs","hasDirectives","loadDocuments","nullpos","load$1","documents","load_1","loader","_toString","_hasOwnProperty","CHAR_BOM","CHAR_TAB","CHAR_LINE_FEED","CHAR_CARRIAGE_RETURN","CHAR_SPACE","CHAR_EXCLAMATION","CHAR_DOUBLE_QUOTE","CHAR_SHARP","CHAR_PERCENT","CHAR_AMPERSAND","CHAR_SINGLE_QUOTE","CHAR_ASTERISK","CHAR_COMMA","CHAR_MINUS","CHAR_COLON","CHAR_EQUALS","CHAR_GREATER_THAN","CHAR_QUESTION","CHAR_COMMERCIAL_AT","CHAR_LEFT_SQUARE_BRACKET","CHAR_RIGHT_SQUARE_BRACKET","CHAR_GRAVE_ACCENT","CHAR_LEFT_CURLY_BRACKET","CHAR_VERTICAL_LINE","CHAR_RIGHT_CURLY_BRACKET","ESCAPE_SEQUENCES","DEPRECATED_BOOLEANS_SYNTAX","DEPRECATED_BASE60_SYNTAX","compileStyleMap","encodeHex","character","QUOTING_TYPE_SINGLE","QUOTING_TYPE_DOUBLE","State","indentString","spaces","ind","generateNextLine","level","testImplicitResolving","isWhitespace","isPrintable","isNsCharOrWhitespace","isPlainSafe","inblock","cIsNsCharOrWhitespace","cIsNsChar","isPlainSafeFirst","isPlainSafeLast","codePointAt","needIndentIndicator","leadingSpaceRe","STYLE_PLAIN","STYLE_SINGLE","STYLE_LITERAL","STYLE_FOLDED","STYLE_DOUBLE","chooseScalarStyle","singleLineOnly","indentPerLevel","lineWidth","testAmbiguousType","quotingType","forceQuotes","prevChar","hasLineBreak","hasFoldableLine","shouldTrackWidth","previousLineBreak","plain","writeScalar","iskey","indent","testAmbiguity","blockHeader","dropEndingNewline","foldString","escapeString","indentIndicator","clip","chomp","lineRe","nextLF","foldLine","prevMoreIndented","moreIndented","breakRe","curr","escapeSeq","writeFlowSequence","writeNode","writeBlockSequence","writeFlowMapping","objectKeyList","objectKey","objectValue","pairBuffer","writeBlockMapping","explicitPair","detectType","isblockseq","tagStr","objectOrArray","duplicateIndex","duplicate","getDuplicateReferences","objects","duplicatesIndexes","inspectNode","dump$1","dump_1","dumper","load","dump","DocumentConnection","DocumentFact","DocumentEntity","Document","plainObject","yaml.dump","_DocumentParser","document","yaml.load","parsedDocument","atttributes","documentEntity","documentFact","documentConnection","DocumentParser","isEqualSets","VscodeMessageHandler","messager","api","DocuementParser","newDoc","changedNodes","removedNodes","addedNodes","oldDoc","oldNodes","newNodes","oldNode","oldKeys","newKeys","isDifferent","changes","oldJson","newJson","diffNode","docData","updateTargets","constraints","uniqueness","yamlContent","docElement","EXT_STUB","busPrefix","VscodeMessager","vscode","ormVscodeHandler","ormDragging","OrmDragging","ObjectificationReflection","ormObjectification","OrmMoveEvents","ormMoving","OrmMoving","OrmInteractionEvents","ormInteractionEvents","contentDivId","errorDivId","HelpInteractions","OrmHelpInteractions","RenderOptions","OrmRenderingOptions","TabGraphController","currentNode","TabHistoryController","historyNode","remover","nodeToRemove","splitNode","TabModel","renew","nextNode","firstNode","lastSelected","newElement","lastElement","nextElement","lastNode","OrmTabModel","TabModelModule","LocalSessionStorage","FileExporter","OrmLocalExporter","SchemaImporter","fileInput","reader","fileName","OrmFileImporter","FileImporter","ORMEditor","EditorORM","_createStaticVNode","Home","BlogPage","ArticlePage","PublicationPage","PMDiscoveryPage","NotReady","EditorPN","ContactPage","savedPosition","storeKey","forEachValue","partial","genericSubscribe","subs","resetStore","store","hot","installModule","resetStoreState","oldState","oldScope","wrappedGetters","computedObj","computedCache","enableStrictMode","rootState","isRoot","parentState","getNestedState","moduleName","local","makeLocalContext","mutation","namespacedType","registerMutation","registerAction","registerGetter","noNamespace","_type","_payload","unifyObjectStyle","makeLocalGetters","gettersProxy","splitPos","localType","rawGetter","LABEL_VUEX_BINDINGS","MUTATIONS_LAYER_ID","ACTIONS_LAYER_ID","INSPECTOR_ID","actionId","addDevtools","COLOR_LIME_500","flattenStoreForInspectorTree","formatStoreForInspectorTree","modulePath","formatStoreForInspectorState","getStoreModule","COLOR_DARK","COLOR_WHITE","TAG_NAMESPACED","extractNameFromPath","getters","gettersKeys","storeState","transformPathsToObjectTree","canThrow","leafKey","moduleMap","Module","rawModule","runtime","rawState","prototypeAccessors$1","ModuleCollection","rawRootModule","this$1$1","newModule","rawChildModule","targetModule","createStore","Store","plugins","devtools","dispatch","commit","prototypeAccessors","useDevtools","newOptions","committing","firstDay","getWeekArray","firstDayOfWeek","weeks","currentWeek","firstDayOfMonth","startOfMonth","lastDayOfMonth","endOfMonth","firstDayWeekIndex","lastDayWeekIndex","adjacentDay","startOfWeek","endOfWeek","lastDay","parseLocalDate","_YYYMMDD","sundayJanuarySecond2000","getWeekdays","daysFromSunday","weekday","format","formatString","formats","newDate","customFormat","toISO","adapter","parseISO","addMinutes","addHours","addDays","addWeeks","addMonths","getYear","getMonth","getDate","getNextMonth","getPreviousMonth","getHours","getMinutes","startOfYear","endOfYear","isWithinRange","isAfter","isBefore","isValid","comparing","isAfterDay","startOfDay","isEqual","isSameDay","isSameMonth","isSameYear","getDiff","setHours","setMinutes","setMonth","setDate","setYear","endOfDay","VuetifyDateAdapter","DateOptionsSymbol","DateAdapterSymbol","createDate","createInstance","GoToSymbol","createGoTo","createVuetify","vuetify","blueprint","goTo","loadFonts","App"],"ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,107,109,110,111,112,113,114,141,142,143,144,145,146,147,148,149,150,151,152,158,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,307,312,323,324,325,326,349,350,351,352,353,354,355,407,427,455,457,458,459,460],"sources":["../../node_modules/@vue/shared/dist/shared.esm-bundler.js","../../node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js","../../node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js","../../node_modules/@vue/runtime-dom/dist/runtime-dom.esm-bundler.js","../../node_modules/vuetify/lib/util/propsFactory.mjs","../../node_modules/vuetify/lib/composables/component.mjs","../../node_modules/vuetify/lib/util/globals.mjs","../../node_modules/vuetify/lib/util/helpers.mjs","../../node_modules/vuetify/lib/util/anchor.mjs","../../node_modules/vuetify/lib/util/box.mjs","../../node_modules/vuetify/lib/util/animation.mjs","../../node_modules/vuetify/lib/util/bindProps.mjs","../../node_modules/vuetify/lib/util/color/APCA.mjs","../../node_modules/vuetify/lib/util/console.mjs","../../node_modules/vuetify/lib/util/color/transformCIELAB.mjs","../../node_modules/vuetify/lib/util/color/transformSRGB.mjs","../../node_modules/vuetify/lib/util/colorUtils.mjs","../../node_modules/vuetify/lib/util/getCurrentInstance.mjs","../../node_modules/vuetify/lib/util/injectSelf.mjs","../../node_modules/vuetify/lib/composables/defaults.mjs","../../node_modules/vuetify/lib/util/defineComponent.mjs","../../node_modules/vuetify/lib/util/createSimpleFunctional.mjs","../../node_modules/vuetify/lib/util/dom.mjs","../../node_modules/vuetify/lib/util/easing.mjs","../../node_modules/vuetify/lib/util/getScrollParent.mjs","../../node_modules/vuetify/lib/util/isFixedPosition.mjs","../../node_modules/vuetify/lib/util/useRender.mjs","../../node_modules/vuetify/lib/composables/tag.mjs","../../node_modules/vuetify/lib/components/VToolbar/VToolbarTitle.mjs","../../node_modules/vuetify/lib/components/transitions/createTransition.mjs","../../node_modules/vuetify/lib/components/transitions/expand-transition.mjs","../../node_modules/vuetify/lib/components/transitions/dialog-transition.mjs","../../node_modules/vuetify/lib/components/transitions/index.mjs","../../node_modules/vuetify/lib/components/VDefaultsProvider/VDefaultsProvider.mjs","../../node_modules/vuetify/lib/composables/dimensions.mjs","../../node_modules/vuetify/lib/components/VResponsive/VResponsive.mjs","../../node_modules/vuetify/lib/composables/color.mjs","../../node_modules/vuetify/lib/composables/rounded.mjs","../../node_modules/vuetify/lib/composables/transition.mjs","../../node_modules/vuetify/lib/directives/intersect/index.mjs","../../node_modules/vuetify/lib/components/VImg/VImg.mjs","../../node_modules/vuetify/lib/composables/border.mjs","../../node_modules/vuetify/lib/composables/elevation.mjs","../../node_modules/vuetify/lib/composables/toggleScope.mjs","../../node_modules/vuetify/lib/composables/proxiedModel.mjs","../../node_modules/vuetify/lib/locale/en.mjs","../../node_modules/vuetify/lib/locale/adapters/vuetify.mjs","../../node_modules/vuetify/lib/composables/locale.mjs","../../node_modules/vuetify/lib/composables/theme.mjs","../../node_modules/vuetify/lib/components/VToolbar/VToolbar.mjs","../../node_modules/vuetify/lib/composables/resizeObserver.mjs","../../node_modules/vuetify/lib/composables/layout.mjs","../../node_modules/vuetify/lib/composables/scroll.mjs","../../node_modules/vuetify/lib/composables/ssrBoot.mjs","../../node_modules/vuetify/lib/components/VAppBar/VAppBar.mjs","../../node_modules/vuetify/lib/composables/density.mjs","../../node_modules/vuetify/lib/composables/variant.mjs","../../node_modules/vuetify/lib/components/VBtnGroup/VBtnGroup.mjs","../../node_modules/vuetify/lib/composables/group.mjs","../../node_modules/vuetify/lib/components/VBtnToggle/VBtnToggle.mjs","../../node_modules/vuetify/lib/iconsets/mdi.mjs","../../node_modules/vuetify/lib/composables/icons.mjs","../../node_modules/vuetify/lib/composables/size.mjs","../../node_modules/vuetify/lib/components/VIcon/VIcon.mjs","../../node_modules/vuetify/lib/composables/intersectionObserver.mjs","../../node_modules/vuetify/lib/components/VProgressCircular/VProgressCircular.mjs","../../node_modules/vuetify/lib/composables/location.mjs","../../node_modules/vuetify/lib/components/VProgressLinear/VProgressLinear.mjs","../../node_modules/vuetify/lib/composables/loader.mjs","../../node_modules/vuetify/lib/composables/position.mjs","../../node_modules/vuetify/lib/composables/router.mjs","../../node_modules/vuetify/lib/composables/selectLink.mjs","../../node_modules/vuetify/lib/directives/ripple/index.mjs","../../node_modules/vuetify/lib/components/VBtn/VBtn.mjs","../../node_modules/vuetify/lib/components/VList/list.mjs","../../node_modules/vuetify/lib/composables/nested/activeStrategies.mjs","../../node_modules/vuetify/lib/composables/nested/openStrategies.mjs","../../node_modules/vuetify/lib/composables/nested/selectStrategies.mjs","../../node_modules/vuetify/lib/composables/nested/nested.mjs","../../node_modules/vuetify/lib/components/VList/VListGroup.mjs","../../node_modules/vuetify/lib/components/VList/VListItemSubtitle.mjs","../../node_modules/vuetify/lib/components/VList/VListItemTitle.mjs","../../node_modules/vuetify/lib/components/VAvatar/VAvatar.mjs","../../node_modules/vuetify/lib/components/VList/VListItem.mjs","../../node_modules/vuetify/lib/components/VList/VListSubheader.mjs","../../node_modules/vuetify/lib/components/VDivider/VDivider.mjs","../../node_modules/vuetify/lib/components/VList/VListChildren.mjs","../../node_modules/vuetify/lib/composables/list-items.mjs","../../node_modules/vuetify/lib/components/VList/VList.mjs","../../node_modules/vuetify/lib/components/VOverlay/util/point.mjs","../../node_modules/vuetify/lib/components/VOverlay/locationStrategies.mjs","../../node_modules/vuetify/lib/components/VOverlay/requestNewFrame.mjs","../../node_modules/vuetify/lib/components/VOverlay/scrollStrategies.mjs","../../node_modules/vuetify/lib/components/VMenu/shared.mjs","../../node_modules/vuetify/lib/composables/delay.mjs","../../node_modules/vuetify/lib/components/VOverlay/useActivator.mjs","../../node_modules/vuetify/lib/composables/display.mjs","../../node_modules/vuetify/lib/composables/hydration.mjs","../../node_modules/vuetify/lib/composables/lazy.mjs","../../node_modules/vuetify/lib/composables/scopeId.mjs","../../node_modules/vuetify/lib/composables/stack.mjs","../../node_modules/vuetify/lib/composables/teleport.mjs","../../node_modules/vuetify/lib/directives/click-outside/index.mjs","../../node_modules/vuetify/lib/components/VOverlay/VOverlay.mjs","../../node_modules/vuetify/lib/composables/forwardRefs.mjs","../../node_modules/vuetify/lib/components/VMenu/VMenu.mjs","../../src/components/toolbar/toolbar.vue","../../node_modules/vuetify/lib/components/VApp/VApp.mjs","../../src/App.vue","../../node_modules/@vue/devtools-api/lib/esm/env.js","../../node_modules/@vue/devtools-api/lib/esm/const.js","../../node_modules/@vue/devtools-api/lib/esm/time.js","../../node_modules/@vue/devtools-api/lib/esm/proxy.js","../../node_modules/@vue/devtools-api/lib/esm/index.js","../../node_modules/vue-router/dist/vue-router.mjs","../../src/components/home/faceHolder/faceHolder.vue","../../src/components/home/faceFloater/faceFloater.vue","../../src/components/home/floaters.js","../../src/components/home/home.vue","../../src/views/Home.vue","../../src/assets/icons/mail.png","../../src/assets/icons/linkedinLogo.png","../../src/assets/icons/GitHub-Mark-64px.png","../../src/assets/icons/orcidLogo.png","../../src/views/ContactPage.vue","../../src/views/NotReady.vue","../../src/views/blog/tagList.js","../../src/views/blog/blogElements.js","../../src/views/blog/content/phdcontent.js","../../src/views/blog/content/allContent.js","../../src/views/blog/contentManager.js","../../src/views/blog/Blog.vue","../../src/views/blog/article/articleElement.js","../../src/views/blog/article/content/2024/finalSeminar.js","../../src/views/blog/article/content/2024/phdConfirmation.js","../../src/views/blog/article/content/2024/rwthVisit.js","../../src/views/blog/article/content/2024/agrawalMiner.js","../../src/views/blog/article/content/2024/differencesExoEndo.js","../../src/views/blog/article/content/2024/index.js","../../src/views/blog/article/content/phdcontent.js","../../src/views/blog/article/content/allContent.js","../../node_modules/ua-parser-js/src/ua-parser.js","../../node_modules/@wdns/vue-code-block/dist/vue-code-block.es.js","../../node_modules/vuetify/lib/components/VBreadcrumbs/VBreadcrumbsDivider.mjs","../../node_modules/vuetify/lib/components/VBreadcrumbs/VBreadcrumbsItem.mjs","../../node_modules/vuetify/lib/components/VBreadcrumbs/VBreadcrumbs.mjs","../../node_modules/vuetify/lib/directives/touch/index.mjs","../../node_modules/vuetify/lib/components/VWindow/VWindow.mjs","../../node_modules/vuetify/lib/components/VCarousel/VCarousel.mjs","../../node_modules/vuetify/lib/components/VWindow/VWindowItem.mjs","../../node_modules/vuetify/lib/components/VCarousel/VCarouselItem.mjs","../../node_modules/vuetify/lib/components/VGrid/VContainer.mjs","../../node_modules/vuetify/lib/components/VLayout/VLayout.mjs","../../src/views/blog/article/ArticleViewer.vue","../../src/components/publication/Card.vue","../../src/views/publications/content.js","../../src/views/publications/Publications.vue","../../src/views/process-mining/discovery-data/discoveryData.js","../../node_modules/vuetify/lib/components/VTooltip/VTooltip.mjs","../../src/views/process-mining/DiscoveryPage.vue","../../node_modules/didi/dist/index.js","../../node_modules/inherits-browser/dist/index.es.js","../../node_modules/diagram-js/lib/draw/BaseRenderer.js","../../node_modules/min-dash/dist/index.esm.js","../../node_modules/tiny-svg/dist/index.esm.js","../../node_modules/diagram-js/lib/util/RenderUtil.js","../../node_modules/diagram-js/lib/util/Elements.js","../../node_modules/diagram-js/lib/draw/DefaultRenderer.js","../../node_modules/diagram-js/lib/draw/Styles.js","../../node_modules/diagram-js/lib/draw/index.js","../../node_modules/min-dom/dist/index.esm.js","../../node_modules/diagram-js/lib/util/Collections.js","../../node_modules/diagram-js/lib/util/Geometry.js","../../node_modules/path-intersection/intersect.js","../../node_modules/diagram-js/lib/util/ModelUtil.js","../../node_modules/diagram-js/lib/layout/LayoutUtil.js","../../node_modules/diagram-js/lib/core/Canvas.js","../../node_modules/diagram-js/lib/core/ElementRegistry.js","../../node_modules/object-refs/dist/index.js","../../node_modules/diagram-js/lib/model/index.js","../../node_modules/diagram-js/lib/core/ElementFactory.js","../../node_modules/diagram-js/lib/core/EventBus.js","../../node_modules/diagram-js/lib/util/GraphicsUtil.js","../../node_modules/diagram-js/lib/util/SvgTransformUtil.js","../../node_modules/diagram-js/lib/core/GraphicsFactory.js","../../node_modules/diagram-js/lib/core/index.js","../../node_modules/diagram-js/lib/Diagram.js","../../node_modules/diagram-js/lib/util/Event.js","../../node_modules/diagram-js/lib/util/Platform.js","../../node_modules/diagram-js/lib/util/Mouse.js","../../node_modules/diagram-js/lib/features/interaction-events/InteractionEvents.js","../../node_modules/diagram-js/lib/features/interaction-events/index.js","../../node_modules/diagram-js/lib/features/selection/Selection.js","../../node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","../../node_modules/diagram-js/lib/features/selection/SelectionBehavior.js","../../node_modules/diagram-js/lib/features/selection/index.js","../../node_modules/diagram-js/lib/features/rules/Rules.js","../../node_modules/diagram-js/lib/features/rules/index.js","../../node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","../../node_modules/diagram-js/lib/features/hover-fix/index.js","../../node_modules/diagram-js/lib/util/Cursor.js","../../node_modules/diagram-js/lib/util/ClickTrap.js","../../node_modules/diagram-js/lib/util/PositionUtil.js","../../node_modules/diagram-js/lib/features/keyboard/KeyboardUtil.js","../../node_modules/diagram-js/lib/features/dragging/Dragging.js","../../node_modules/diagram-js/lib/features/dragging/index.js","../../node_modules/diagram-js/lib/features/connect/Connect.js","../../node_modules/diagram-js/lib/features/connect/ConnectPreview.js","../../node_modules/diagram-js/lib/features/connect/index.js","../../node_modules/diagram-js/lib/features/connection-preview/ConnectionPreview.js","../../node_modules/diagram-js/lib/features/connection-preview/index.js","../../node_modules/diagram-js/lib/util/IdGenerator.js","../../node_modules/diagram-js/lib/features/overlays/Overlays.js","../../node_modules/diagram-js/lib/features/overlays/index.js","../../node_modules/diagram-js/lib/features/scheduler/Scheduler.js","../../node_modules/diagram-js/lib/features/scheduler/index.js","../../node_modules/diagram-js/lib/util/EscapeUtil.js","../../node_modules/diagram-js/lib/features/context-pad/ContextPad.js","../../node_modules/diagram-js/lib/features/context-pad/index.js","../../node_modules/diagram-js/lib/features/preview-support/PreviewSupport.js","../../node_modules/diagram-js/lib/features/preview-support/index.js","../../node_modules/diagram-js/lib/features/create/Create.js","../../node_modules/diagram-js/lib/features/create/CreatePreview.js","../../node_modules/diagram-js/lib/features/create/index.js","../../node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","../../node_modules/diagram-js/lib/features/tool-manager/index.js","../../node_modules/diagram-js/lib/features/mouse/Mouse.js","../../node_modules/diagram-js/lib/features/mouse/index.js","../../node_modules/diagram-js/lib/features/lasso-tool/LassoTool.js","../../node_modules/diagram-js/lib/features/lasso-tool/index.js","../../node_modules/diagram-js/lib/command/CommandStack.js","../../node_modules/diagram-js/lib/command/index.js","../../node_modules/diagram-js/lib/features/change-support/ChangeSupport.js","../../node_modules/diagram-js/lib/features/change-support/index.js","../../node_modules/diagram-js/lib/features/modeling/cmd/AlignElementsHandler.js","../../node_modules/diagram-js/lib/features/modeling/cmd/AppendShapeHandler.js","../../node_modules/diagram-js/lib/features/modeling/cmd/CreateConnectionHandler.js","../../node_modules/diagram-js/lib/features/modeling/cmd/CreateElementsHandler.js","../../node_modules/diagram-js/lib/features/modeling/cmd/CreateShapeHandler.js","../../node_modules/diagram-js/lib/features/modeling/cmd/CreateLabelHandler.js","../../node_modules/diagram-js/lib/util/Removal.js","../../node_modules/diagram-js/lib/features/modeling/cmd/DeleteConnectionHandler.js","../../node_modules/diagram-js/lib/features/modeling/cmd/DeleteElementsHandler.js","../../node_modules/diagram-js/lib/features/modeling/cmd/DeleteShapeHandler.js","../../node_modules/diagram-js/lib/features/modeling/cmd/DistributeElementsHandler.js","../../node_modules/diagram-js/lib/features/modeling/cmd/LayoutConnectionHandler.js","../../node_modules/diagram-js/lib/features/modeling/cmd/MoveConnectionHandler.js","../../node_modules/diagram-js/lib/util/AttachUtil.js","../../node_modules/diagram-js/lib/features/modeling/cmd/helper/AnchorsHelper.js","../../node_modules/diagram-js/lib/features/modeling/cmd/helper/MoveClosure.js","../../node_modules/diagram-js/lib/features/modeling/cmd/helper/MoveHelper.js","../../node_modules/diagram-js/lib/features/modeling/cmd/MoveElementsHandler.js","../../node_modules/diagram-js/lib/features/modeling/cmd/MoveShapeHandler.js","../../node_modules/diagram-js/lib/features/modeling/cmd/ReconnectConnectionHandler.js","../../node_modules/diagram-js/lib/features/modeling/cmd/ReplaceShapeHandler.js","../../node_modules/diagram-js/lib/features/modeling/cmd/ResizeShapeHandler.js","../../node_modules/diagram-js/lib/features/space-tool/SpaceUtil.js","../../node_modules/diagram-js/lib/features/modeling/cmd/SpaceToolHandler.js","../../node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","../../node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","../../node_modules/diagram-js/lib/features/modeling/cmd/UpdateWaypointsHandler.js","../../node_modules/diagram-js/lib/features/modeling/Modeling.js","../../node_modules/diagram-js/lib/layout/BaseLayouter.js","../../node_modules/diagram-js/lib/features/modeling/index.js","../../node_modules/diagram-js/lib/navigation/movecanvas/MoveCanvas.js","../../node_modules/diagram-js/lib/navigation/movecanvas/index.js","../../node_modules/diagram-js/lib/features/outline/Outline.js","../../node_modules/diagram-js/lib/features/outline/MultiSelectionOutline.js","../../node_modules/diagram-js/lib/features/outline/index.js","../../node_modules/diagram-js/lib/features/move/Move.js","../../node_modules/diagram-js/lib/features/move/MovePreview.js","../../node_modules/diagram-js/lib/features/move/index.js","../../node_modules/diagram-js/lib/features/palette/Palette.js","../../node_modules/diagram-js/lib/features/palette/index.js","../../node_modules/diagram-js/lib/util/LineIntersection.js","../../node_modules/diagram-js/lib/features/bendpoints/GeometricUtil.js","../../node_modules/diagram-js/lib/features/bendpoints/BendpointUtil.js","../../node_modules/diagram-js/lib/features/bendpoints/Bendpoints.js","../../node_modules/diagram-js/lib/features/bendpoints/BendpointMove.js","../../node_modules/diagram-js/lib/features/bendpoints/BendpointMovePreview.js","../../node_modules/diagram-js/lib/features/bendpoints/ConnectionSegmentMove.js","../../node_modules/diagram-js/lib/features/snapping/SnapUtil.js","../../node_modules/diagram-js/lib/features/bendpoints/BendpointSnapping.js","../../node_modules/diagram-js/lib/features/bendpoints/index.js","../../node_modules/diagram-js/lib/util/Math.js","../../node_modules/diagram-js/lib/navigation/zoomscroll/ZoomUtil.js","../../node_modules/diagram-js/lib/navigation/zoomscroll/ZoomScroll.js","../../node_modules/diagram-js/lib/navigation/zoomscroll/index.js","../../node_modules/diagram-js/lib/features/snapping/SnapContext.js","../../node_modules/diagram-js/lib/features/snapping/CreateMoveSnapping.js","../../node_modules/diagram-js/lib/features/snapping/ResizeSnapping.js","../../node_modules/diagram-js/lib/features/snapping/Snapping.js","../../node_modules/diagram-js/lib/features/snapping/index.js","../../node_modules/diagram-js/lib/command/CommandInterceptor.js","../../node_modules/diagram-js/lib/features/label-support/LabelSupport.js","../../node_modules/diagram-js/lib/features/label-support/index.js","../../node_modules/diagram-js-direct-editing/lib/TextBox.js","../../node_modules/diagram-js-direct-editing/lib/DirectEditing.js","../../node_modules/diagram-js-direct-editing/lib/index.js","../../src/views/editors/TS/elements/staticShapeDesc.js","../../src/views/editors/TS/elements/TSElementFactory.js","../../src/views/editors/TS/exporter.js","../../src/views/editors/TS/importer.js","../../src/views/editors/TS/svgSaver.js","../../src/views/editors/TS/providers/PaletteProvider.js","../../src/views/editors/TS/providers/ContextPadProvider.js","../../src/views/editors/TS/providers/StateLabelEditingProvider.js","../../node_modules/diagram-js/lib/features/ordering/OrderingProvider.js","../../src/views/editors/TS/providers/OrderingProvider.js","../../src/views/editors/TS/providers/LabelBehaviour.js","../../src/views/editors/TS/providers/index.js","../../src/views/editors/TS/draw/TSRender.js","../../node_modules/diagram-js/lib/util/Text.js","../../src/views/editors/TS/draw/TSTextRenderer.js","../../src/views/editors/TS/draw/index.js","../../src/views/editors/TS/elements/index.js","../../src/views/editors/TS/connect/CustomConnect.js","../../src/views/editors/TS/connect/index.js","../../src/views/editors/TS/editor.js","../../src/views/editors/TS/system.js","../../src/views/editors/EditorTS.vue","../../src/views/editors/PN/elements/staticShapeDesc.js","../../src/views/editors/PN/elements/pertiElementFactory.js","../../node_modules/uuid/dist/esm-browser/stringify.js","../../node_modules/uuid/dist/esm-browser/rng.js","../../node_modules/uuid/dist/esm-browser/native.js","../../node_modules/uuid/dist/esm-browser/v4.js","../../src/views/editors/PN/exporter.js","../../src/views/editors/PN/importer.js","../../src/views/editors/PN/svgSaver.js","../../src/views/editors/PN/providers/PaletteProvider.js","../../src/views/editors/PN/providers/ContextPadProvider.js","../../src/views/editors/PN/providers/StateLabelEditingProvider.js","../../src/views/editors/PN/providers/OrderingProvider.js","../../src/views/editors/PN/providers/LabelBehaviour.js","../../src/views/editors/PN/providers/index.js","../../src/views/editors/PN/draw/petriRender.js","../../src/views/editors/PN/draw/TSTextRenderer.js","../../src/views/editors/PN/draw/index.js","../../src/views/editors/PN/elements/index.js","../../src/views/editors/PN/modeling/petriModeling.js","../../src/views/editors/PN/modeling/index.js","../../src/views/editors/PN/rules/petriRules.js","../../src/views/editors/PN/rules/index.js","../../src/views/editors/PN/connect/CustomConnect.js","../../src/views/editors/PN/connect/index.js","../../src/views/editors/PN/editor.js","../../src/views/editors/PN/system.js","../../src/views/editors/PN/EditorPN.vue","../../node_modules/diagram-js/lib/features/keyboard/Keyboard.js","../../node_modules/diagram-js/lib/features/keyboard/KeyboardBindings.js","../../node_modules/diagram-js/lib/features/keyboard/index.js","../../node_modules/diagram-js/lib/features/space-tool/SpaceTool.js","../../node_modules/diagram-js/lib/features/space-tool/SpaceToolPreview.js","../../node_modules/diagram-js/lib/features/space-tool/index.js","../../node_modules/diagram-js/lib/features/grid-snapping/GridUtil.js","../../src/views/editors/ORM/editor/modules/grid/grid.js","../../src/views/editors/ORM/editor/modules/grid/index.ts","../../src/views/editors/ORM/editor/modules/exporters/svgExporter.js","../../src/views/editors/ORM/editor/modules/utils/canvasUtils.ts","../../src/views/editors/ORM/editor/modules/palette/provider.js","../../src/views/editors/ORM/editor/modules/model/connections.ts","../../src/views/editors/ORM/editor/modules/model/subtypes.ts","../../src/views/editors/ORM/editor/modules/model/objectifiedRole.ts","../../src/views/editors/ORM/editor/modules/model/util.ts","../../src/views/editors/ORM/editor/modules/palette/spaceTool.js","../../src/views/editors/ORM/editor/modules/palette/index.ts","../../src/views/editors/ORM/editor/modules/model/entities.ts","../../src/views/editors/ORM/editor/modules/constraints/model/valueConstraint.ts","../../src/views/editors/ORM/editor/modules/constraints/model/utils.ts","../../src/views/editors/ORM/editor/modules/model/facts.ts","../../src/views/editors/ORM/editor/modules/model/constraints.ts","../../src/views/editors/ORM/editor/modules/elements/factory.js","../../src/views/editors/ORM/editor/modules/elements/index.ts","../../src/views/editors/ORM/editor/modules/render/render.js","../../src/views/editors/ORM/editor/modules/render/textRender.js","../../src/views/editors/ORM/editor/modules/render/extensions/templateRenderer.ts","../../src/views/editors/ORM/editor/modules/render/constants.ts","../../src/views/editors/ORM/editor/modules/render/extensions/constraints/valueRenderer.ts","../../src/views/editors/ORM/editor/modules/render/extensions/constraints/uniquenessRenderer.ts","../../src/views/editors/ORM/editor/modules/render/extensions/factRenderer.ts","../../src/views/editors/ORM/editor/modules/render/extensions/referencedEntityRenderer.ts","../../src/views/editors/ORM/editor/modules/render/extensions/valueEntityRenderer.ts","../../src/views/editors/ORM/editor/modules/render/extensions/connections/roleConnectionRenderer.ts","../../src/views/editors/ORM/editor/modules/render/extensions/connections/subtypeConnectionRenderer.ts","../../src/views/editors/ORM/editor/modules/render/extensions/objectificationRenderer.ts","../../src/views/editors/ORM/editor/modules/render/extensions/labelRenderer.ts","../../src/views/editors/ORM/editor/modules/render/index.ts","../../src/views/editors/ORM/editor/modules/modeling/cmd/SpaceToolHandler2.js","../../src/views/editors/ORM/editor/modules/modeling/modeler.js","../../src/views/editors/ORM/editor/modules/modeling/index.ts","../../src/views/editors/ORM/editor/modules/ordering/order.js","../../src/views/editors/ORM/editor/modules/ordering/index.ts","../../src/views/editors/ORM/editor/modules/constraints/builder.js","../../src/views/editors/ORM/editor/modules/constraints/handlers/ConstraintHandler.ts","../../src/views/editors/ORM/editor/modules/help-interactions/model.ts","../../src/views/editors/ORM/editor/modules/constraints/handlers/UniqunessConstraint.ts","../../src/views/editors/ORM/editor/modules/constraints/handlers/ObjectValueConstraint.ts","../../src/views/editors/ORM/editor/modules/constraints/handlers/RoleValueConstraint.ts","../../src/views/editors/ORM/editor/modules/constraints/constraints.js","../../src/views/editors/ORM/editor/modules/contextPad/provider.js","../../src/views/editors/ORM/editor/modules/contextPad/pad.ts","../../src/views/editors/ORM/editor/modules/contextPad/index.ts","../../src/views/editors/ORM/editor/modules/connect/connect.js","../../src/views/editors/ORM/editor/modules/connect/subtyping.js","../../src/views/editors/ORM/editor/modules/connect/preview.js","../../src/views/editors/ORM/editor/modules/connect/index.ts","../../node_modules/diagram-js/lib/features/rules/RuleProvider.js","../../src/views/editors/ORM/editor/modules/rules/rules.js","../../src/views/editors/ORM/editor/modules/rules/index.ts","../../src/views/editors/ORM/editor/modules/placement/placer.js","../../src/views/editors/ORM/editor/modules/placement/index.ts","../../src/views/editors/ORM/editor/modules/interactions/facts.js","../../src/views/editors/ORM/editor/modules/interactions/index.ts","../../src/views/editors/ORM/editor/modules/utils/geometry.ts","../../src/views/editors/ORM/editor/modules/layout/layouter.js","../../src/views/editors/ORM/editor/modules/layout/index.ts","../../src/views/editors/ORM/editor/modules/labels/editing.js","../../src/views/editors/ORM/editor/modules/labels/ormEditor.js","../../src/views/editors/ORM/editor/modules/labels/index.ts","../../src/views/editors/ORM/editor/modules/bendpoints/bender.js","../../src/views/editors/ORM/editor/modules/bendpoints/index.ts","../../src/views/editors/ORM/editor/modules/constraints/updater.ts","../../src/views/editors/ORM/editor/modules/constraints/index.ts","../../src/views/editors/ORM/editor/modules/keyboard/ormShortcuts.js","../../src/views/editors/ORM/editor/modules/keyboard/helpProvider.js","../../src/views/editors/ORM/editor/modules/keyboard/index.ts","../../node_modules/js-yaml/dist/js-yaml.mjs","../../src/views/editors/ORM/editor/modules/vscode/document.ts","../../src/views/editors/ORM/editor/modules/utils/sets.ts","../../src/views/editors/ORM/editor/modules/vscode/handler.ts","../../src/views/editors/ORM/editor/modules/vscode/messager.ts","../../src/views/editors/ORM/editor/modules/vscode/index.ts","../../src/views/editors/ORM/editor/modules/dragging/dragger.js","../../src/views/editors/ORM/editor/modules/dragging/index.ts","../../src/views/editors/ORM/editor/modules/objectification/reflection.ts","../../src/views/editors/ORM/editor/modules/objectification/index.ts","../../src/views/editors/ORM/editor/modules/move/moving.js","../../src/views/editors/ORM/editor/modules/move/index.ts","../../src/views/editors/ORM/editor/modules/interaction-events/interaction.ts","../../src/views/editors/ORM/editor/modules/interaction-events/index.ts","../../src/views/editors/ORM/editor/modules/help-interactions/helping.ts","../../src/views/editors/ORM/editor/modules/help-interactions/index.ts","../../src/views/editors/ORM/editor/modules/renderOptions/renderOptions.ts","../../src/views/editors/ORM/editor/modules/renderOptions/index.ts","../../src/views/editors/ORM/editor/modules/tab-model/tabber.ts","../../src/views/editors/ORM/editor/modules/tab-model/index.ts","../../src/views/editors/ORM/editor/modules/exporter/localSession.ts","../../src/views/editors/ORM/editor/modules/exporter/fileExporter.ts","../../src/views/editors/ORM/editor/modules/exporter/index.ts","../../src/views/editors/ORM/editor/modules/importers/importer.ts","../../src/views/editors/ORM/editor/modules/importers/index.ts","../../src/views/editors/ORM/editor/index.ts","../../src/views/editors/EditorORM.vue","../../src/router/index.js","../../node_modules/vuex/dist/vuex.esm-bundler.js","../../src/store/index.js","../../node_modules/vuetify/lib/composables/date/adapters/vuetify.mjs","../../node_modules/vuetify/lib/composables/date/date.mjs","../../node_modules/vuetify/lib/composables/goto.mjs","../../node_modules/vuetify/lib/framework.mjs","../../src/plugins/vuetify.js","../../src/plugins/webfontloader.js","../../src/main.js"],"sourcesContent":["/**\n* @vue/shared v3.5.13\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/\n/*! #__NO_SIDE_EFFECTS__ */\n// @__NO_SIDE_EFFECTS__\nfunction makeMap(str) {\n  const map = /* @__PURE__ */ Object.create(null);\n  for (const key of str.split(\",\")) map[key] = 1;\n  return (val) => val in map;\n}\n\nconst EMPTY_OBJ = !!(process.env.NODE_ENV !== \"production\") ? Object.freeze({}) : {};\nconst EMPTY_ARR = !!(process.env.NODE_ENV !== \"production\") ? Object.freeze([]) : [];\nconst NOOP = () => {\n};\nconst NO = () => false;\nconst isOn = (key) => key.charCodeAt(0) === 111 && key.charCodeAt(1) === 110 && // uppercase letter\n(key.charCodeAt(2) > 122 || key.charCodeAt(2) < 97);\nconst isModelListener = (key) => key.startsWith(\"onUpdate:\");\nconst extend = Object.assign;\nconst remove = (arr, el) => {\n  const i = arr.indexOf(el);\n  if (i > -1) {\n    arr.splice(i, 1);\n  }\n};\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\nconst isArray = Array.isArray;\nconst isMap = (val) => toTypeString(val) === \"[object Map]\";\nconst isSet = (val) => toTypeString(val) === \"[object Set]\";\nconst isDate = (val) => toTypeString(val) === \"[object Date]\";\nconst isRegExp = (val) => toTypeString(val) === \"[object RegExp]\";\nconst isFunction = (val) => typeof val === \"function\";\nconst isString = (val) => typeof val === \"string\";\nconst isSymbol = (val) => typeof val === \"symbol\";\nconst isObject = (val) => val !== null && typeof val === \"object\";\nconst isPromise = (val) => {\n  return (isObject(val) || isFunction(val)) && isFunction(val.then) && isFunction(val.catch);\n};\nconst objectToString = Object.prototype.toString;\nconst toTypeString = (value) => objectToString.call(value);\nconst toRawType = (value) => {\n  return toTypeString(value).slice(8, -1);\n};\nconst isPlainObject = (val) => toTypeString(val) === \"[object Object]\";\nconst isIntegerKey = (key) => isString(key) && key !== \"NaN\" && key[0] !== \"-\" && \"\" + parseInt(key, 10) === key;\nconst isReservedProp = /* @__PURE__ */ makeMap(\n  // the leading comma is intentional so empty string \"\" is also included\n  \",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted\"\n);\nconst isBuiltInDirective = /* @__PURE__ */ makeMap(\n  \"bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo\"\n);\nconst cacheStringFunction = (fn) => {\n  const cache = /* @__PURE__ */ Object.create(null);\n  return (str) => {\n    const hit = cache[str];\n    return hit || (cache[str] = fn(str));\n  };\n};\nconst camelizeRE = /-(\\w)/g;\nconst camelize = cacheStringFunction(\n  (str) => {\n    return str.replace(camelizeRE, (_, c) => c ? c.toUpperCase() : \"\");\n  }\n);\nconst hyphenateRE = /\\B([A-Z])/g;\nconst hyphenate = cacheStringFunction(\n  (str) => str.replace(hyphenateRE, \"-$1\").toLowerCase()\n);\nconst capitalize = cacheStringFunction((str) => {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n});\nconst toHandlerKey = cacheStringFunction(\n  (str) => {\n    const s = str ? `on${capitalize(str)}` : ``;\n    return s;\n  }\n);\nconst hasChanged = (value, oldValue) => !Object.is(value, oldValue);\nconst invokeArrayFns = (fns, ...arg) => {\n  for (let i = 0; i < fns.length; i++) {\n    fns[i](...arg);\n  }\n};\nconst def = (obj, key, value, writable = false) => {\n  Object.defineProperty(obj, key, {\n    configurable: true,\n    enumerable: false,\n    writable,\n    value\n  });\n};\nconst looseToNumber = (val) => {\n  const n = parseFloat(val);\n  return isNaN(n) ? val : n;\n};\nconst toNumber = (val) => {\n  const n = isString(val) ? Number(val) : NaN;\n  return isNaN(n) ? val : n;\n};\nlet _globalThis;\nconst getGlobalThis = () => {\n  return _globalThis || (_globalThis = typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {});\n};\nconst identRE = /^[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*$/;\nfunction genPropsAccessExp(name) {\n  return identRE.test(name) ? `__props.${name}` : `__props[${JSON.stringify(name)}]`;\n}\nfunction genCacheKey(source, options) {\n  return source + JSON.stringify(\n    options,\n    (_, val) => typeof val === \"function\" ? val.toString() : val\n  );\n}\n\nconst PatchFlags = {\n  \"TEXT\": 1,\n  \"1\": \"TEXT\",\n  \"CLASS\": 2,\n  \"2\": \"CLASS\",\n  \"STYLE\": 4,\n  \"4\": \"STYLE\",\n  \"PROPS\": 8,\n  \"8\": \"PROPS\",\n  \"FULL_PROPS\": 16,\n  \"16\": \"FULL_PROPS\",\n  \"NEED_HYDRATION\": 32,\n  \"32\": \"NEED_HYDRATION\",\n  \"STABLE_FRAGMENT\": 64,\n  \"64\": \"STABLE_FRAGMENT\",\n  \"KEYED_FRAGMENT\": 128,\n  \"128\": \"KEYED_FRAGMENT\",\n  \"UNKEYED_FRAGMENT\": 256,\n  \"256\": \"UNKEYED_FRAGMENT\",\n  \"NEED_PATCH\": 512,\n  \"512\": \"NEED_PATCH\",\n  \"DYNAMIC_SLOTS\": 1024,\n  \"1024\": \"DYNAMIC_SLOTS\",\n  \"DEV_ROOT_FRAGMENT\": 2048,\n  \"2048\": \"DEV_ROOT_FRAGMENT\",\n  \"CACHED\": -1,\n  \"-1\": \"CACHED\",\n  \"BAIL\": -2,\n  \"-2\": \"BAIL\"\n};\nconst PatchFlagNames = {\n  [1]: `TEXT`,\n  [2]: `CLASS`,\n  [4]: `STYLE`,\n  [8]: `PROPS`,\n  [16]: `FULL_PROPS`,\n  [32]: `NEED_HYDRATION`,\n  [64]: `STABLE_FRAGMENT`,\n  [128]: `KEYED_FRAGMENT`,\n  [256]: `UNKEYED_FRAGMENT`,\n  [512]: `NEED_PATCH`,\n  [1024]: `DYNAMIC_SLOTS`,\n  [2048]: `DEV_ROOT_FRAGMENT`,\n  [-1]: `HOISTED`,\n  [-2]: `BAIL`\n};\n\nconst ShapeFlags = {\n  \"ELEMENT\": 1,\n  \"1\": \"ELEMENT\",\n  \"FUNCTIONAL_COMPONENT\": 2,\n  \"2\": \"FUNCTIONAL_COMPONENT\",\n  \"STATEFUL_COMPONENT\": 4,\n  \"4\": \"STATEFUL_COMPONENT\",\n  \"TEXT_CHILDREN\": 8,\n  \"8\": \"TEXT_CHILDREN\",\n  \"ARRAY_CHILDREN\": 16,\n  \"16\": \"ARRAY_CHILDREN\",\n  \"SLOTS_CHILDREN\": 32,\n  \"32\": \"SLOTS_CHILDREN\",\n  \"TELEPORT\": 64,\n  \"64\": \"TELEPORT\",\n  \"SUSPENSE\": 128,\n  \"128\": \"SUSPENSE\",\n  \"COMPONENT_SHOULD_KEEP_ALIVE\": 256,\n  \"256\": \"COMPONENT_SHOULD_KEEP_ALIVE\",\n  \"COMPONENT_KEPT_ALIVE\": 512,\n  \"512\": \"COMPONENT_KEPT_ALIVE\",\n  \"COMPONENT\": 6,\n  \"6\": \"COMPONENT\"\n};\n\nconst SlotFlags = {\n  \"STABLE\": 1,\n  \"1\": \"STABLE\",\n  \"DYNAMIC\": 2,\n  \"2\": \"DYNAMIC\",\n  \"FORWARDED\": 3,\n  \"3\": \"FORWARDED\"\n};\nconst slotFlagsText = {\n  [1]: \"STABLE\",\n  [2]: \"DYNAMIC\",\n  [3]: \"FORWARDED\"\n};\n\nconst GLOBALS_ALLOWED = \"Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol\";\nconst isGloballyAllowed = /* @__PURE__ */ makeMap(GLOBALS_ALLOWED);\nconst isGloballyWhitelisted = isGloballyAllowed;\n\nconst range = 2;\nfunction generateCodeFrame(source, start = 0, end = source.length) {\n  start = Math.max(0, Math.min(start, source.length));\n  end = Math.max(0, Math.min(end, source.length));\n  if (start > end) return \"\";\n  let lines = source.split(/(\\r?\\n)/);\n  const newlineSequences = lines.filter((_, idx) => idx % 2 === 1);\n  lines = lines.filter((_, idx) => idx % 2 === 0);\n  let count = 0;\n  const res = [];\n  for (let i = 0; i < lines.length; i++) {\n    count += lines[i].length + (newlineSequences[i] && newlineSequences[i].length || 0);\n    if (count >= start) {\n      for (let j = i - range; j <= i + range || end > count; j++) {\n        if (j < 0 || j >= lines.length) continue;\n        const line = j + 1;\n        res.push(\n          `${line}${\" \".repeat(Math.max(3 - String(line).length, 0))}|  ${lines[j]}`\n        );\n        const lineLength = lines[j].length;\n        const newLineSeqLength = newlineSequences[j] && newlineSequences[j].length || 0;\n        if (j === i) {\n          const pad = start - (count - (lineLength + newLineSeqLength));\n          const length = Math.max(\n            1,\n            end > count ? lineLength - pad : end - start\n          );\n          res.push(`   |  ` + \" \".repeat(pad) + \"^\".repeat(length));\n        } else if (j > i) {\n          if (end > count) {\n            const length = Math.max(Math.min(end - count, lineLength), 1);\n            res.push(`   |  ` + \"^\".repeat(length));\n          }\n          count += lineLength + newLineSeqLength;\n        }\n      }\n      break;\n    }\n  }\n  return res.join(\"\\n\");\n}\n\nfunction normalizeStyle(value) {\n  if (isArray(value)) {\n    const res = {};\n    for (let i = 0; i < value.length; i++) {\n      const item = value[i];\n      const normalized = isString(item) ? parseStringStyle(item) : normalizeStyle(item);\n      if (normalized) {\n        for (const key in normalized) {\n          res[key] = normalized[key];\n        }\n      }\n    }\n    return res;\n  } else if (isString(value) || isObject(value)) {\n    return value;\n  }\n}\nconst listDelimiterRE = /;(?![^(]*\\))/g;\nconst propertyDelimiterRE = /:([^]+)/;\nconst styleCommentRE = /\\/\\*[^]*?\\*\\//g;\nfunction parseStringStyle(cssText) {\n  const ret = {};\n  cssText.replace(styleCommentRE, \"\").split(listDelimiterRE).forEach((item) => {\n    if (item) {\n      const tmp = item.split(propertyDelimiterRE);\n      tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());\n    }\n  });\n  return ret;\n}\nfunction stringifyStyle(styles) {\n  if (!styles) return \"\";\n  if (isString(styles)) return styles;\n  let ret = \"\";\n  for (const key in styles) {\n    const value = styles[key];\n    if (isString(value) || typeof value === \"number\") {\n      const normalizedKey = key.startsWith(`--`) ? key : hyphenate(key);\n      ret += `${normalizedKey}:${value};`;\n    }\n  }\n  return ret;\n}\nfunction normalizeClass(value) {\n  let res = \"\";\n  if (isString(value)) {\n    res = value;\n  } else if (isArray(value)) {\n    for (let i = 0; i < value.length; i++) {\n      const normalized = normalizeClass(value[i]);\n      if (normalized) {\n        res += normalized + \" \";\n      }\n    }\n  } else if (isObject(value)) {\n    for (const name in value) {\n      if (value[name]) {\n        res += name + \" \";\n      }\n    }\n  }\n  return res.trim();\n}\nfunction normalizeProps(props) {\n  if (!props) return null;\n  let { class: klass, style } = props;\n  if (klass && !isString(klass)) {\n    props.class = normalizeClass(klass);\n  }\n  if (style) {\n    props.style = normalizeStyle(style);\n  }\n  return props;\n}\n\nconst HTML_TAGS = \"html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot\";\nconst SVG_TAGS = \"svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view\";\nconst MATH_TAGS = \"annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics\";\nconst VOID_TAGS = \"area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr\";\nconst isHTMLTag = /* @__PURE__ */ makeMap(HTML_TAGS);\nconst isSVGTag = /* @__PURE__ */ makeMap(SVG_TAGS);\nconst isMathMLTag = /* @__PURE__ */ makeMap(MATH_TAGS);\nconst isVoidTag = /* @__PURE__ */ makeMap(VOID_TAGS);\n\nconst specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;\nconst isSpecialBooleanAttr = /* @__PURE__ */ makeMap(specialBooleanAttrs);\nconst isBooleanAttr = /* @__PURE__ */ makeMap(\n  specialBooleanAttrs + `,async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected`\n);\nfunction includeBooleanAttr(value) {\n  return !!value || value === \"\";\n}\nconst unsafeAttrCharRE = /[>/=\"'\\u0009\\u000a\\u000c\\u0020]/;\nconst attrValidationCache = {};\nfunction isSSRSafeAttrName(name) {\n  if (attrValidationCache.hasOwnProperty(name)) {\n    return attrValidationCache[name];\n  }\n  const isUnsafe = unsafeAttrCharRE.test(name);\n  if (isUnsafe) {\n    console.error(`unsafe attribute name: ${name}`);\n  }\n  return attrValidationCache[name] = !isUnsafe;\n}\nconst propsToAttrMap = {\n  acceptCharset: \"accept-charset\",\n  className: \"class\",\n  htmlFor: \"for\",\n  httpEquiv: \"http-equiv\"\n};\nconst isKnownHtmlAttr = /* @__PURE__ */ makeMap(\n  `accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap`\n);\nconst isKnownSvgAttr = /* @__PURE__ */ makeMap(\n  `xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan`\n);\nconst isKnownMathMLAttr = /* @__PURE__ */ makeMap(\n  `accent,accentunder,actiontype,align,alignmentscope,altimg,altimg-height,altimg-valign,altimg-width,alttext,bevelled,close,columnsalign,columnlines,columnspan,denomalign,depth,dir,display,displaystyle,encoding,equalcolumns,equalrows,fence,fontstyle,fontweight,form,frame,framespacing,groupalign,height,href,id,indentalign,indentalignfirst,indentalignlast,indentshift,indentshiftfirst,indentshiftlast,indextype,justify,largetop,largeop,lquote,lspace,mathbackground,mathcolor,mathsize,mathvariant,maxsize,minlabelspacing,mode,other,overflow,position,rowalign,rowlines,rowspan,rquote,rspace,scriptlevel,scriptminsize,scriptsizemultiplier,selection,separator,separators,shift,side,src,stackalign,stretchy,subscriptshift,superscriptshift,symmetric,voffset,width,widths,xlink:href,xlink:show,xlink:type,xmlns`\n);\nfunction isRenderableAttrValue(value) {\n  if (value == null) {\n    return false;\n  }\n  const type = typeof value;\n  return type === \"string\" || type === \"number\" || type === \"boolean\";\n}\n\nconst escapeRE = /[\"'&<>]/;\nfunction escapeHtml(string) {\n  const str = \"\" + string;\n  const match = escapeRE.exec(str);\n  if (!match) {\n    return str;\n  }\n  let html = \"\";\n  let escaped;\n  let index;\n  let lastIndex = 0;\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34:\n        escaped = \"&quot;\";\n        break;\n      case 38:\n        escaped = \"&amp;\";\n        break;\n      case 39:\n        escaped = \"&#39;\";\n        break;\n      case 60:\n        escaped = \"&lt;\";\n        break;\n      case 62:\n        escaped = \"&gt;\";\n        break;\n      default:\n        continue;\n    }\n    if (lastIndex !== index) {\n      html += str.slice(lastIndex, index);\n    }\n    lastIndex = index + 1;\n    html += escaped;\n  }\n  return lastIndex !== index ? html + str.slice(lastIndex, index) : html;\n}\nconst commentStripRE = /^-?>|<!--|-->|--!>|<!-$/g;\nfunction escapeHtmlComment(src) {\n  return src.replace(commentStripRE, \"\");\n}\nconst cssVarNameEscapeSymbolsRE = /[ !\"#$%&'()*+,./:;<=>?@[\\\\\\]^`{|}~]/g;\nfunction getEscapedCssVarName(key, doubleEscape) {\n  return key.replace(\n    cssVarNameEscapeSymbolsRE,\n    (s) => doubleEscape ? s === '\"' ? '\\\\\\\\\\\\\"' : `\\\\\\\\${s}` : `\\\\${s}`\n  );\n}\n\nfunction looseCompareArrays(a, b) {\n  if (a.length !== b.length) return false;\n  let equal = true;\n  for (let i = 0; equal && i < a.length; i++) {\n    equal = looseEqual(a[i], b[i]);\n  }\n  return equal;\n}\nfunction looseEqual(a, b) {\n  if (a === b) return true;\n  let aValidType = isDate(a);\n  let bValidType = isDate(b);\n  if (aValidType || bValidType) {\n    return aValidType && bValidType ? a.getTime() === b.getTime() : false;\n  }\n  aValidType = isSymbol(a);\n  bValidType = isSymbol(b);\n  if (aValidType || bValidType) {\n    return a === b;\n  }\n  aValidType = isArray(a);\n  bValidType = isArray(b);\n  if (aValidType || bValidType) {\n    return aValidType && bValidType ? looseCompareArrays(a, b) : false;\n  }\n  aValidType = isObject(a);\n  bValidType = isObject(b);\n  if (aValidType || bValidType) {\n    if (!aValidType || !bValidType) {\n      return false;\n    }\n    const aKeysCount = Object.keys(a).length;\n    const bKeysCount = Object.keys(b).length;\n    if (aKeysCount !== bKeysCount) {\n      return false;\n    }\n    for (const key in a) {\n      const aHasKey = a.hasOwnProperty(key);\n      const bHasKey = b.hasOwnProperty(key);\n      if (aHasKey && !bHasKey || !aHasKey && bHasKey || !looseEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n  }\n  return String(a) === String(b);\n}\nfunction looseIndexOf(arr, val) {\n  return arr.findIndex((item) => looseEqual(item, val));\n}\n\nconst isRef = (val) => {\n  return !!(val && val[\"__v_isRef\"] === true);\n};\nconst toDisplayString = (val) => {\n  return isString(val) ? val : val == null ? \"\" : isArray(val) || isObject(val) && (val.toString === objectToString || !isFunction(val.toString)) ? isRef(val) ? toDisplayString(val.value) : JSON.stringify(val, replacer, 2) : String(val);\n};\nconst replacer = (_key, val) => {\n  if (isRef(val)) {\n    return replacer(_key, val.value);\n  } else if (isMap(val)) {\n    return {\n      [`Map(${val.size})`]: [...val.entries()].reduce(\n        (entries, [key, val2], i) => {\n          entries[stringifySymbol(key, i) + \" =>\"] = val2;\n          return entries;\n        },\n        {}\n      )\n    };\n  } else if (isSet(val)) {\n    return {\n      [`Set(${val.size})`]: [...val.values()].map((v) => stringifySymbol(v))\n    };\n  } else if (isSymbol(val)) {\n    return stringifySymbol(val);\n  } else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {\n    return String(val);\n  }\n  return val;\n};\nconst stringifySymbol = (v, i = \"\") => {\n  var _a;\n  return (\n    // Symbol.description in es2019+ so we need to cast here to pass\n    // the lib: es2016 check\n    isSymbol(v) ? `Symbol(${(_a = v.description) != null ? _a : i})` : v\n  );\n};\n\nexport { EMPTY_ARR, EMPTY_OBJ, NO, NOOP, PatchFlagNames, PatchFlags, ShapeFlags, SlotFlags, camelize, capitalize, cssVarNameEscapeSymbolsRE, def, escapeHtml, escapeHtmlComment, extend, genCacheKey, genPropsAccessExp, generateCodeFrame, getEscapedCssVarName, getGlobalThis, hasChanged, hasOwn, hyphenate, includeBooleanAttr, invokeArrayFns, isArray, isBooleanAttr, isBuiltInDirective, isDate, isFunction, isGloballyAllowed, isGloballyWhitelisted, isHTMLTag, isIntegerKey, isKnownHtmlAttr, isKnownMathMLAttr, isKnownSvgAttr, isMap, isMathMLTag, isModelListener, isObject, isOn, isPlainObject, isPromise, isRegExp, isRenderableAttrValue, isReservedProp, isSSRSafeAttrName, isSVGTag, isSet, isSpecialBooleanAttr, isString, isSymbol, isVoidTag, looseEqual, looseIndexOf, looseToNumber, makeMap, normalizeClass, normalizeProps, normalizeStyle, objectToString, parseStringStyle, propsToAttrMap, remove, slotFlagsText, stringifyStyle, toDisplayString, toHandlerKey, toNumber, toRawType, toTypeString };\n","/**\n* @vue/reactivity v3.5.13\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/\nimport { hasChanged, extend, isArray, isIntegerKey, isSymbol, isMap, hasOwn, isObject, makeMap, toRawType, capitalize, def, isFunction, EMPTY_OBJ, isSet, isPlainObject, NOOP, remove } from '@vue/shared';\n\nfunction warn(msg, ...args) {\n  console.warn(`[Vue warn] ${msg}`, ...args);\n}\n\nlet activeEffectScope;\nclass EffectScope {\n  constructor(detached = false) {\n    this.detached = detached;\n    /**\n     * @internal\n     */\n    this._active = true;\n    /**\n     * @internal\n     */\n    this.effects = [];\n    /**\n     * @internal\n     */\n    this.cleanups = [];\n    this._isPaused = false;\n    this.parent = activeEffectScope;\n    if (!detached && activeEffectScope) {\n      this.index = (activeEffectScope.scopes || (activeEffectScope.scopes = [])).push(\n        this\n      ) - 1;\n    }\n  }\n  get active() {\n    return this._active;\n  }\n  pause() {\n    if (this._active) {\n      this._isPaused = true;\n      let i, l;\n      if (this.scopes) {\n        for (i = 0, l = this.scopes.length; i < l; i++) {\n          this.scopes[i].pause();\n        }\n      }\n      for (i = 0, l = this.effects.length; i < l; i++) {\n        this.effects[i].pause();\n      }\n    }\n  }\n  /**\n   * Resumes the effect scope, including all child scopes and effects.\n   */\n  resume() {\n    if (this._active) {\n      if (this._isPaused) {\n        this._isPaused = false;\n        let i, l;\n        if (this.scopes) {\n          for (i = 0, l = this.scopes.length; i < l; i++) {\n            this.scopes[i].resume();\n          }\n        }\n        for (i = 0, l = this.effects.length; i < l; i++) {\n          this.effects[i].resume();\n        }\n      }\n    }\n  }\n  run(fn) {\n    if (this._active) {\n      const currentEffectScope = activeEffectScope;\n      try {\n        activeEffectScope = this;\n        return fn();\n      } finally {\n        activeEffectScope = currentEffectScope;\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`cannot run an inactive effect scope.`);\n    }\n  }\n  /**\n   * This should only be called on non-detached scopes\n   * @internal\n   */\n  on() {\n    activeEffectScope = this;\n  }\n  /**\n   * This should only be called on non-detached scopes\n   * @internal\n   */\n  off() {\n    activeEffectScope = this.parent;\n  }\n  stop(fromParent) {\n    if (this._active) {\n      this._active = false;\n      let i, l;\n      for (i = 0, l = this.effects.length; i < l; i++) {\n        this.effects[i].stop();\n      }\n      this.effects.length = 0;\n      for (i = 0, l = this.cleanups.length; i < l; i++) {\n        this.cleanups[i]();\n      }\n      this.cleanups.length = 0;\n      if (this.scopes) {\n        for (i = 0, l = this.scopes.length; i < l; i++) {\n          this.scopes[i].stop(true);\n        }\n        this.scopes.length = 0;\n      }\n      if (!this.detached && this.parent && !fromParent) {\n        const last = this.parent.scopes.pop();\n        if (last && last !== this) {\n          this.parent.scopes[this.index] = last;\n          last.index = this.index;\n        }\n      }\n      this.parent = void 0;\n    }\n  }\n}\nfunction effectScope(detached) {\n  return new EffectScope(detached);\n}\nfunction getCurrentScope() {\n  return activeEffectScope;\n}\nfunction onScopeDispose(fn, failSilently = false) {\n  if (activeEffectScope) {\n    activeEffectScope.cleanups.push(fn);\n  } else if (!!(process.env.NODE_ENV !== \"production\") && !failSilently) {\n    warn(\n      `onScopeDispose() is called when there is no active effect scope to be associated with.`\n    );\n  }\n}\n\nlet activeSub;\nconst EffectFlags = {\n  \"ACTIVE\": 1,\n  \"1\": \"ACTIVE\",\n  \"RUNNING\": 2,\n  \"2\": \"RUNNING\",\n  \"TRACKING\": 4,\n  \"4\": \"TRACKING\",\n  \"NOTIFIED\": 8,\n  \"8\": \"NOTIFIED\",\n  \"DIRTY\": 16,\n  \"16\": \"DIRTY\",\n  \"ALLOW_RECURSE\": 32,\n  \"32\": \"ALLOW_RECURSE\",\n  \"PAUSED\": 64,\n  \"64\": \"PAUSED\"\n};\nconst pausedQueueEffects = /* @__PURE__ */ new WeakSet();\nclass ReactiveEffect {\n  constructor(fn) {\n    this.fn = fn;\n    /**\n     * @internal\n     */\n    this.deps = void 0;\n    /**\n     * @internal\n     */\n    this.depsTail = void 0;\n    /**\n     * @internal\n     */\n    this.flags = 1 | 4;\n    /**\n     * @internal\n     */\n    this.next = void 0;\n    /**\n     * @internal\n     */\n    this.cleanup = void 0;\n    this.scheduler = void 0;\n    if (activeEffectScope && activeEffectScope.active) {\n      activeEffectScope.effects.push(this);\n    }\n  }\n  pause() {\n    this.flags |= 64;\n  }\n  resume() {\n    if (this.flags & 64) {\n      this.flags &= ~64;\n      if (pausedQueueEffects.has(this)) {\n        pausedQueueEffects.delete(this);\n        this.trigger();\n      }\n    }\n  }\n  /**\n   * @internal\n   */\n  notify() {\n    if (this.flags & 2 && !(this.flags & 32)) {\n      return;\n    }\n    if (!(this.flags & 8)) {\n      batch(this);\n    }\n  }\n  run() {\n    if (!(this.flags & 1)) {\n      return this.fn();\n    }\n    this.flags |= 2;\n    cleanupEffect(this);\n    prepareDeps(this);\n    const prevEffect = activeSub;\n    const prevShouldTrack = shouldTrack;\n    activeSub = this;\n    shouldTrack = true;\n    try {\n      return this.fn();\n    } finally {\n      if (!!(process.env.NODE_ENV !== \"production\") && activeSub !== this) {\n        warn(\n          \"Active effect was not restored correctly - this is likely a Vue internal bug.\"\n        );\n      }\n      cleanupDeps(this);\n      activeSub = prevEffect;\n      shouldTrack = prevShouldTrack;\n      this.flags &= ~2;\n    }\n  }\n  stop() {\n    if (this.flags & 1) {\n      for (let link = this.deps; link; link = link.nextDep) {\n        removeSub(link);\n      }\n      this.deps = this.depsTail = void 0;\n      cleanupEffect(this);\n      this.onStop && this.onStop();\n      this.flags &= ~1;\n    }\n  }\n  trigger() {\n    if (this.flags & 64) {\n      pausedQueueEffects.add(this);\n    } else if (this.scheduler) {\n      this.scheduler();\n    } else {\n      this.runIfDirty();\n    }\n  }\n  /**\n   * @internal\n   */\n  runIfDirty() {\n    if (isDirty(this)) {\n      this.run();\n    }\n  }\n  get dirty() {\n    return isDirty(this);\n  }\n}\nlet batchDepth = 0;\nlet batchedSub;\nlet batchedComputed;\nfunction batch(sub, isComputed = false) {\n  sub.flags |= 8;\n  if (isComputed) {\n    sub.next = batchedComputed;\n    batchedComputed = sub;\n    return;\n  }\n  sub.next = batchedSub;\n  batchedSub = sub;\n}\nfunction startBatch() {\n  batchDepth++;\n}\nfunction endBatch() {\n  if (--batchDepth > 0) {\n    return;\n  }\n  if (batchedComputed) {\n    let e = batchedComputed;\n    batchedComputed = void 0;\n    while (e) {\n      const next = e.next;\n      e.next = void 0;\n      e.flags &= ~8;\n      e = next;\n    }\n  }\n  let error;\n  while (batchedSub) {\n    let e = batchedSub;\n    batchedSub = void 0;\n    while (e) {\n      const next = e.next;\n      e.next = void 0;\n      e.flags &= ~8;\n      if (e.flags & 1) {\n        try {\n          ;\n          e.trigger();\n        } catch (err) {\n          if (!error) error = err;\n        }\n      }\n      e = next;\n    }\n  }\n  if (error) throw error;\n}\nfunction prepareDeps(sub) {\n  for (let link = sub.deps; link; link = link.nextDep) {\n    link.version = -1;\n    link.prevActiveLink = link.dep.activeLink;\n    link.dep.activeLink = link;\n  }\n}\nfunction cleanupDeps(sub) {\n  let head;\n  let tail = sub.depsTail;\n  let link = tail;\n  while (link) {\n    const prev = link.prevDep;\n    if (link.version === -1) {\n      if (link === tail) tail = prev;\n      removeSub(link);\n      removeDep(link);\n    } else {\n      head = link;\n    }\n    link.dep.activeLink = link.prevActiveLink;\n    link.prevActiveLink = void 0;\n    link = prev;\n  }\n  sub.deps = head;\n  sub.depsTail = tail;\n}\nfunction isDirty(sub) {\n  for (let link = sub.deps; link; link = link.nextDep) {\n    if (link.dep.version !== link.version || link.dep.computed && (refreshComputed(link.dep.computed) || link.dep.version !== link.version)) {\n      return true;\n    }\n  }\n  if (sub._dirty) {\n    return true;\n  }\n  return false;\n}\nfunction refreshComputed(computed) {\n  if (computed.flags & 4 && !(computed.flags & 16)) {\n    return;\n  }\n  computed.flags &= ~16;\n  if (computed.globalVersion === globalVersion) {\n    return;\n  }\n  computed.globalVersion = globalVersion;\n  const dep = computed.dep;\n  computed.flags |= 2;\n  if (dep.version > 0 && !computed.isSSR && computed.deps && !isDirty(computed)) {\n    computed.flags &= ~2;\n    return;\n  }\n  const prevSub = activeSub;\n  const prevShouldTrack = shouldTrack;\n  activeSub = computed;\n  shouldTrack = true;\n  try {\n    prepareDeps(computed);\n    const value = computed.fn(computed._value);\n    if (dep.version === 0 || hasChanged(value, computed._value)) {\n      computed._value = value;\n      dep.version++;\n    }\n  } catch (err) {\n    dep.version++;\n    throw err;\n  } finally {\n    activeSub = prevSub;\n    shouldTrack = prevShouldTrack;\n    cleanupDeps(computed);\n    computed.flags &= ~2;\n  }\n}\nfunction removeSub(link, soft = false) {\n  const { dep, prevSub, nextSub } = link;\n  if (prevSub) {\n    prevSub.nextSub = nextSub;\n    link.prevSub = void 0;\n  }\n  if (nextSub) {\n    nextSub.prevSub = prevSub;\n    link.nextSub = void 0;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && dep.subsHead === link) {\n    dep.subsHead = nextSub;\n  }\n  if (dep.subs === link) {\n    dep.subs = prevSub;\n    if (!prevSub && dep.computed) {\n      dep.computed.flags &= ~4;\n      for (let l = dep.computed.deps; l; l = l.nextDep) {\n        removeSub(l, true);\n      }\n    }\n  }\n  if (!soft && !--dep.sc && dep.map) {\n    dep.map.delete(dep.key);\n  }\n}\nfunction removeDep(link) {\n  const { prevDep, nextDep } = link;\n  if (prevDep) {\n    prevDep.nextDep = nextDep;\n    link.prevDep = void 0;\n  }\n  if (nextDep) {\n    nextDep.prevDep = prevDep;\n    link.nextDep = void 0;\n  }\n}\nfunction effect(fn, options) {\n  if (fn.effect instanceof ReactiveEffect) {\n    fn = fn.effect.fn;\n  }\n  const e = new ReactiveEffect(fn);\n  if (options) {\n    extend(e, options);\n  }\n  try {\n    e.run();\n  } catch (err) {\n    e.stop();\n    throw err;\n  }\n  const runner = e.run.bind(e);\n  runner.effect = e;\n  return runner;\n}\nfunction stop(runner) {\n  runner.effect.stop();\n}\nlet shouldTrack = true;\nconst trackStack = [];\nfunction pauseTracking() {\n  trackStack.push(shouldTrack);\n  shouldTrack = false;\n}\nfunction enableTracking() {\n  trackStack.push(shouldTrack);\n  shouldTrack = true;\n}\nfunction resetTracking() {\n  const last = trackStack.pop();\n  shouldTrack = last === void 0 ? true : last;\n}\nfunction onEffectCleanup(fn, failSilently = false) {\n  if (activeSub instanceof ReactiveEffect) {\n    activeSub.cleanup = fn;\n  } else if (!!(process.env.NODE_ENV !== \"production\") && !failSilently) {\n    warn(\n      `onEffectCleanup() was called when there was no active effect to associate with.`\n    );\n  }\n}\nfunction cleanupEffect(e) {\n  const { cleanup } = e;\n  e.cleanup = void 0;\n  if (cleanup) {\n    const prevSub = activeSub;\n    activeSub = void 0;\n    try {\n      cleanup();\n    } finally {\n      activeSub = prevSub;\n    }\n  }\n}\n\nlet globalVersion = 0;\nclass Link {\n  constructor(sub, dep) {\n    this.sub = sub;\n    this.dep = dep;\n    this.version = dep.version;\n    this.nextDep = this.prevDep = this.nextSub = this.prevSub = this.prevActiveLink = void 0;\n  }\n}\nclass Dep {\n  constructor(computed) {\n    this.computed = computed;\n    this.version = 0;\n    /**\n     * Link between this dep and the current active effect\n     */\n    this.activeLink = void 0;\n    /**\n     * Doubly linked list representing the subscribing effects (tail)\n     */\n    this.subs = void 0;\n    /**\n     * For object property deps cleanup\n     */\n    this.map = void 0;\n    this.key = void 0;\n    /**\n     * Subscriber counter\n     */\n    this.sc = 0;\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      this.subsHead = void 0;\n    }\n  }\n  track(debugInfo) {\n    if (!activeSub || !shouldTrack || activeSub === this.computed) {\n      return;\n    }\n    let link = this.activeLink;\n    if (link === void 0 || link.sub !== activeSub) {\n      link = this.activeLink = new Link(activeSub, this);\n      if (!activeSub.deps) {\n        activeSub.deps = activeSub.depsTail = link;\n      } else {\n        link.prevDep = activeSub.depsTail;\n        activeSub.depsTail.nextDep = link;\n        activeSub.depsTail = link;\n      }\n      addSub(link);\n    } else if (link.version === -1) {\n      link.version = this.version;\n      if (link.nextDep) {\n        const next = link.nextDep;\n        next.prevDep = link.prevDep;\n        if (link.prevDep) {\n          link.prevDep.nextDep = next;\n        }\n        link.prevDep = activeSub.depsTail;\n        link.nextDep = void 0;\n        activeSub.depsTail.nextDep = link;\n        activeSub.depsTail = link;\n        if (activeSub.deps === link) {\n          activeSub.deps = next;\n        }\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") && activeSub.onTrack) {\n      activeSub.onTrack(\n        extend(\n          {\n            effect: activeSub\n          },\n          debugInfo\n        )\n      );\n    }\n    return link;\n  }\n  trigger(debugInfo) {\n    this.version++;\n    globalVersion++;\n    this.notify(debugInfo);\n  }\n  notify(debugInfo) {\n    startBatch();\n    try {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        for (let head = this.subsHead; head; head = head.nextSub) {\n          if (head.sub.onTrigger && !(head.sub.flags & 8)) {\n            head.sub.onTrigger(\n              extend(\n                {\n                  effect: head.sub\n                },\n                debugInfo\n              )\n            );\n          }\n        }\n      }\n      for (let link = this.subs; link; link = link.prevSub) {\n        if (link.sub.notify()) {\n          ;\n          link.sub.dep.notify();\n        }\n      }\n    } finally {\n      endBatch();\n    }\n  }\n}\nfunction addSub(link) {\n  link.dep.sc++;\n  if (link.sub.flags & 4) {\n    const computed = link.dep.computed;\n    if (computed && !link.dep.subs) {\n      computed.flags |= 4 | 16;\n      for (let l = computed.deps; l; l = l.nextDep) {\n        addSub(l);\n      }\n    }\n    const currentTail = link.dep.subs;\n    if (currentTail !== link) {\n      link.prevSub = currentTail;\n      if (currentTail) currentTail.nextSub = link;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") && link.dep.subsHead === void 0) {\n      link.dep.subsHead = link;\n    }\n    link.dep.subs = link;\n  }\n}\nconst targetMap = /* @__PURE__ */ new WeakMap();\nconst ITERATE_KEY = Symbol(\n  !!(process.env.NODE_ENV !== \"production\") ? \"Object iterate\" : \"\"\n);\nconst MAP_KEY_ITERATE_KEY = Symbol(\n  !!(process.env.NODE_ENV !== \"production\") ? \"Map keys iterate\" : \"\"\n);\nconst ARRAY_ITERATE_KEY = Symbol(\n  !!(process.env.NODE_ENV !== \"production\") ? \"Array iterate\" : \"\"\n);\nfunction track(target, type, key) {\n  if (shouldTrack && activeSub) {\n    let depsMap = targetMap.get(target);\n    if (!depsMap) {\n      targetMap.set(target, depsMap = /* @__PURE__ */ new Map());\n    }\n    let dep = depsMap.get(key);\n    if (!dep) {\n      depsMap.set(key, dep = new Dep());\n      dep.map = depsMap;\n      dep.key = key;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      dep.track({\n        target,\n        type,\n        key\n      });\n    } else {\n      dep.track();\n    }\n  }\n}\nfunction trigger(target, type, key, newValue, oldValue, oldTarget) {\n  const depsMap = targetMap.get(target);\n  if (!depsMap) {\n    globalVersion++;\n    return;\n  }\n  const run = (dep) => {\n    if (dep) {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        dep.trigger({\n          target,\n          type,\n          key,\n          newValue,\n          oldValue,\n          oldTarget\n        });\n      } else {\n        dep.trigger();\n      }\n    }\n  };\n  startBatch();\n  if (type === \"clear\") {\n    depsMap.forEach(run);\n  } else {\n    const targetIsArray = isArray(target);\n    const isArrayIndex = targetIsArray && isIntegerKey(key);\n    if (targetIsArray && key === \"length\") {\n      const newLength = Number(newValue);\n      depsMap.forEach((dep, key2) => {\n        if (key2 === \"length\" || key2 === ARRAY_ITERATE_KEY || !isSymbol(key2) && key2 >= newLength) {\n          run(dep);\n        }\n      });\n    } else {\n      if (key !== void 0 || depsMap.has(void 0)) {\n        run(depsMap.get(key));\n      }\n      if (isArrayIndex) {\n        run(depsMap.get(ARRAY_ITERATE_KEY));\n      }\n      switch (type) {\n        case \"add\":\n          if (!targetIsArray) {\n            run(depsMap.get(ITERATE_KEY));\n            if (isMap(target)) {\n              run(depsMap.get(MAP_KEY_ITERATE_KEY));\n            }\n          } else if (isArrayIndex) {\n            run(depsMap.get(\"length\"));\n          }\n          break;\n        case \"delete\":\n          if (!targetIsArray) {\n            run(depsMap.get(ITERATE_KEY));\n            if (isMap(target)) {\n              run(depsMap.get(MAP_KEY_ITERATE_KEY));\n            }\n          }\n          break;\n        case \"set\":\n          if (isMap(target)) {\n            run(depsMap.get(ITERATE_KEY));\n          }\n          break;\n      }\n    }\n  }\n  endBatch();\n}\nfunction getDepFromReactive(object, key) {\n  const depMap = targetMap.get(object);\n  return depMap && depMap.get(key);\n}\n\nfunction reactiveReadArray(array) {\n  const raw = toRaw(array);\n  if (raw === array) return raw;\n  track(raw, \"iterate\", ARRAY_ITERATE_KEY);\n  return isShallow(array) ? raw : raw.map(toReactive);\n}\nfunction shallowReadArray(arr) {\n  track(arr = toRaw(arr), \"iterate\", ARRAY_ITERATE_KEY);\n  return arr;\n}\nconst arrayInstrumentations = {\n  __proto__: null,\n  [Symbol.iterator]() {\n    return iterator(this, Symbol.iterator, toReactive);\n  },\n  concat(...args) {\n    return reactiveReadArray(this).concat(\n      ...args.map((x) => isArray(x) ? reactiveReadArray(x) : x)\n    );\n  },\n  entries() {\n    return iterator(this, \"entries\", (value) => {\n      value[1] = toReactive(value[1]);\n      return value;\n    });\n  },\n  every(fn, thisArg) {\n    return apply(this, \"every\", fn, thisArg, void 0, arguments);\n  },\n  filter(fn, thisArg) {\n    return apply(this, \"filter\", fn, thisArg, (v) => v.map(toReactive), arguments);\n  },\n  find(fn, thisArg) {\n    return apply(this, \"find\", fn, thisArg, toReactive, arguments);\n  },\n  findIndex(fn, thisArg) {\n    return apply(this, \"findIndex\", fn, thisArg, void 0, arguments);\n  },\n  findLast(fn, thisArg) {\n    return apply(this, \"findLast\", fn, thisArg, toReactive, arguments);\n  },\n  findLastIndex(fn, thisArg) {\n    return apply(this, \"findLastIndex\", fn, thisArg, void 0, arguments);\n  },\n  // flat, flatMap could benefit from ARRAY_ITERATE but are not straight-forward to implement\n  forEach(fn, thisArg) {\n    return apply(this, \"forEach\", fn, thisArg, void 0, arguments);\n  },\n  includes(...args) {\n    return searchProxy(this, \"includes\", args);\n  },\n  indexOf(...args) {\n    return searchProxy(this, \"indexOf\", args);\n  },\n  join(separator) {\n    return reactiveReadArray(this).join(separator);\n  },\n  // keys() iterator only reads `length`, no optimisation required\n  lastIndexOf(...args) {\n    return searchProxy(this, \"lastIndexOf\", args);\n  },\n  map(fn, thisArg) {\n    return apply(this, \"map\", fn, thisArg, void 0, arguments);\n  },\n  pop() {\n    return noTracking(this, \"pop\");\n  },\n  push(...args) {\n    return noTracking(this, \"push\", args);\n  },\n  reduce(fn, ...args) {\n    return reduce(this, \"reduce\", fn, args);\n  },\n  reduceRight(fn, ...args) {\n    return reduce(this, \"reduceRight\", fn, args);\n  },\n  shift() {\n    return noTracking(this, \"shift\");\n  },\n  // slice could use ARRAY_ITERATE but also seems to beg for range tracking\n  some(fn, thisArg) {\n    return apply(this, \"some\", fn, thisArg, void 0, arguments);\n  },\n  splice(...args) {\n    return noTracking(this, \"splice\", args);\n  },\n  toReversed() {\n    return reactiveReadArray(this).toReversed();\n  },\n  toSorted(comparer) {\n    return reactiveReadArray(this).toSorted(comparer);\n  },\n  toSpliced(...args) {\n    return reactiveReadArray(this).toSpliced(...args);\n  },\n  unshift(...args) {\n    return noTracking(this, \"unshift\", args);\n  },\n  values() {\n    return iterator(this, \"values\", toReactive);\n  }\n};\nfunction iterator(self, method, wrapValue) {\n  const arr = shallowReadArray(self);\n  const iter = arr[method]();\n  if (arr !== self && !isShallow(self)) {\n    iter._next = iter.next;\n    iter.next = () => {\n      const result = iter._next();\n      if (result.value) {\n        result.value = wrapValue(result.value);\n      }\n      return result;\n    };\n  }\n  return iter;\n}\nconst arrayProto = Array.prototype;\nfunction apply(self, method, fn, thisArg, wrappedRetFn, args) {\n  const arr = shallowReadArray(self);\n  const needsWrap = arr !== self && !isShallow(self);\n  const methodFn = arr[method];\n  if (methodFn !== arrayProto[method]) {\n    const result2 = methodFn.apply(self, args);\n    return needsWrap ? toReactive(result2) : result2;\n  }\n  let wrappedFn = fn;\n  if (arr !== self) {\n    if (needsWrap) {\n      wrappedFn = function(item, index) {\n        return fn.call(this, toReactive(item), index, self);\n      };\n    } else if (fn.length > 2) {\n      wrappedFn = function(item, index) {\n        return fn.call(this, item, index, self);\n      };\n    }\n  }\n  const result = methodFn.call(arr, wrappedFn, thisArg);\n  return needsWrap && wrappedRetFn ? wrappedRetFn(result) : result;\n}\nfunction reduce(self, method, fn, args) {\n  const arr = shallowReadArray(self);\n  let wrappedFn = fn;\n  if (arr !== self) {\n    if (!isShallow(self)) {\n      wrappedFn = function(acc, item, index) {\n        return fn.call(this, acc, toReactive(item), index, self);\n      };\n    } else if (fn.length > 3) {\n      wrappedFn = function(acc, item, index) {\n        return fn.call(this, acc, item, index, self);\n      };\n    }\n  }\n  return arr[method](wrappedFn, ...args);\n}\nfunction searchProxy(self, method, args) {\n  const arr = toRaw(self);\n  track(arr, \"iterate\", ARRAY_ITERATE_KEY);\n  const res = arr[method](...args);\n  if ((res === -1 || res === false) && isProxy(args[0])) {\n    args[0] = toRaw(args[0]);\n    return arr[method](...args);\n  }\n  return res;\n}\nfunction noTracking(self, method, args = []) {\n  pauseTracking();\n  startBatch();\n  const res = toRaw(self)[method].apply(self, args);\n  endBatch();\n  resetTracking();\n  return res;\n}\n\nconst isNonTrackableKeys = /* @__PURE__ */ makeMap(`__proto__,__v_isRef,__isVue`);\nconst builtInSymbols = new Set(\n  /* @__PURE__ */ Object.getOwnPropertyNames(Symbol).filter((key) => key !== \"arguments\" && key !== \"caller\").map((key) => Symbol[key]).filter(isSymbol)\n);\nfunction hasOwnProperty(key) {\n  if (!isSymbol(key)) key = String(key);\n  const obj = toRaw(this);\n  track(obj, \"has\", key);\n  return obj.hasOwnProperty(key);\n}\nclass BaseReactiveHandler {\n  constructor(_isReadonly = false, _isShallow = false) {\n    this._isReadonly = _isReadonly;\n    this._isShallow = _isShallow;\n  }\n  get(target, key, receiver) {\n    if (key === \"__v_skip\") return target[\"__v_skip\"];\n    const isReadonly2 = this._isReadonly, isShallow2 = this._isShallow;\n    if (key === \"__v_isReactive\") {\n      return !isReadonly2;\n    } else if (key === \"__v_isReadonly\") {\n      return isReadonly2;\n    } else if (key === \"__v_isShallow\") {\n      return isShallow2;\n    } else if (key === \"__v_raw\") {\n      if (receiver === (isReadonly2 ? isShallow2 ? shallowReadonlyMap : readonlyMap : isShallow2 ? shallowReactiveMap : reactiveMap).get(target) || // receiver is not the reactive proxy, but has the same prototype\n      // this means the receiver is a user proxy of the reactive proxy\n      Object.getPrototypeOf(target) === Object.getPrototypeOf(receiver)) {\n        return target;\n      }\n      return;\n    }\n    const targetIsArray = isArray(target);\n    if (!isReadonly2) {\n      let fn;\n      if (targetIsArray && (fn = arrayInstrumentations[key])) {\n        return fn;\n      }\n      if (key === \"hasOwnProperty\") {\n        return hasOwnProperty;\n      }\n    }\n    const res = Reflect.get(\n      target,\n      key,\n      // if this is a proxy wrapping a ref, return methods using the raw ref\n      // as receiver so that we don't have to call `toRaw` on the ref in all\n      // its class methods\n      isRef(target) ? target : receiver\n    );\n    if (isSymbol(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {\n      return res;\n    }\n    if (!isReadonly2) {\n      track(target, \"get\", key);\n    }\n    if (isShallow2) {\n      return res;\n    }\n    if (isRef(res)) {\n      return targetIsArray && isIntegerKey(key) ? res : res.value;\n    }\n    if (isObject(res)) {\n      return isReadonly2 ? readonly(res) : reactive(res);\n    }\n    return res;\n  }\n}\nclass MutableReactiveHandler extends BaseReactiveHandler {\n  constructor(isShallow2 = false) {\n    super(false, isShallow2);\n  }\n  set(target, key, value, receiver) {\n    let oldValue = target[key];\n    if (!this._isShallow) {\n      const isOldValueReadonly = isReadonly(oldValue);\n      if (!isShallow(value) && !isReadonly(value)) {\n        oldValue = toRaw(oldValue);\n        value = toRaw(value);\n      }\n      if (!isArray(target) && isRef(oldValue) && !isRef(value)) {\n        if (isOldValueReadonly) {\n          return false;\n        } else {\n          oldValue.value = value;\n          return true;\n        }\n      }\n    }\n    const hadKey = isArray(target) && isIntegerKey(key) ? Number(key) < target.length : hasOwn(target, key);\n    const result = Reflect.set(\n      target,\n      key,\n      value,\n      isRef(target) ? target : receiver\n    );\n    if (target === toRaw(receiver)) {\n      if (!hadKey) {\n        trigger(target, \"add\", key, value);\n      } else if (hasChanged(value, oldValue)) {\n        trigger(target, \"set\", key, value, oldValue);\n      }\n    }\n    return result;\n  }\n  deleteProperty(target, key) {\n    const hadKey = hasOwn(target, key);\n    const oldValue = target[key];\n    const result = Reflect.deleteProperty(target, key);\n    if (result && hadKey) {\n      trigger(target, \"delete\", key, void 0, oldValue);\n    }\n    return result;\n  }\n  has(target, key) {\n    const result = Reflect.has(target, key);\n    if (!isSymbol(key) || !builtInSymbols.has(key)) {\n      track(target, \"has\", key);\n    }\n    return result;\n  }\n  ownKeys(target) {\n    track(\n      target,\n      \"iterate\",\n      isArray(target) ? \"length\" : ITERATE_KEY\n    );\n    return Reflect.ownKeys(target);\n  }\n}\nclass ReadonlyReactiveHandler extends BaseReactiveHandler {\n  constructor(isShallow2 = false) {\n    super(true, isShallow2);\n  }\n  set(target, key) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\n        `Set operation on key \"${String(key)}\" failed: target is readonly.`,\n        target\n      );\n    }\n    return true;\n  }\n  deleteProperty(target, key) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\n        `Delete operation on key \"${String(key)}\" failed: target is readonly.`,\n        target\n      );\n    }\n    return true;\n  }\n}\nconst mutableHandlers = /* @__PURE__ */ new MutableReactiveHandler();\nconst readonlyHandlers = /* @__PURE__ */ new ReadonlyReactiveHandler();\nconst shallowReactiveHandlers = /* @__PURE__ */ new MutableReactiveHandler(true);\nconst shallowReadonlyHandlers = /* @__PURE__ */ new ReadonlyReactiveHandler(true);\n\nconst toShallow = (value) => value;\nconst getProto = (v) => Reflect.getPrototypeOf(v);\nfunction createIterableMethod(method, isReadonly2, isShallow2) {\n  return function(...args) {\n    const target = this[\"__v_raw\"];\n    const rawTarget = toRaw(target);\n    const targetIsMap = isMap(rawTarget);\n    const isPair = method === \"entries\" || method === Symbol.iterator && targetIsMap;\n    const isKeyOnly = method === \"keys\" && targetIsMap;\n    const innerIterator = target[method](...args);\n    const wrap = isShallow2 ? toShallow : isReadonly2 ? toReadonly : toReactive;\n    !isReadonly2 && track(\n      rawTarget,\n      \"iterate\",\n      isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY\n    );\n    return {\n      // iterator protocol\n      next() {\n        const { value, done } = innerIterator.next();\n        return done ? { value, done } : {\n          value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),\n          done\n        };\n      },\n      // iterable protocol\n      [Symbol.iterator]() {\n        return this;\n      }\n    };\n  };\n}\nfunction createReadonlyMethod(type) {\n  return function(...args) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      const key = args[0] ? `on key \"${args[0]}\" ` : ``;\n      warn(\n        `${capitalize(type)} operation ${key}failed: target is readonly.`,\n        toRaw(this)\n      );\n    }\n    return type === \"delete\" ? false : type === \"clear\" ? void 0 : this;\n  };\n}\nfunction createInstrumentations(readonly, shallow) {\n  const instrumentations = {\n    get(key) {\n      const target = this[\"__v_raw\"];\n      const rawTarget = toRaw(target);\n      const rawKey = toRaw(key);\n      if (!readonly) {\n        if (hasChanged(key, rawKey)) {\n          track(rawTarget, \"get\", key);\n        }\n        track(rawTarget, \"get\", rawKey);\n      }\n      const { has } = getProto(rawTarget);\n      const wrap = shallow ? toShallow : readonly ? toReadonly : toReactive;\n      if (has.call(rawTarget, key)) {\n        return wrap(target.get(key));\n      } else if (has.call(rawTarget, rawKey)) {\n        return wrap(target.get(rawKey));\n      } else if (target !== rawTarget) {\n        target.get(key);\n      }\n    },\n    get size() {\n      const target = this[\"__v_raw\"];\n      !readonly && track(toRaw(target), \"iterate\", ITERATE_KEY);\n      return Reflect.get(target, \"size\", target);\n    },\n    has(key) {\n      const target = this[\"__v_raw\"];\n      const rawTarget = toRaw(target);\n      const rawKey = toRaw(key);\n      if (!readonly) {\n        if (hasChanged(key, rawKey)) {\n          track(rawTarget, \"has\", key);\n        }\n        track(rawTarget, \"has\", rawKey);\n      }\n      return key === rawKey ? target.has(key) : target.has(key) || target.has(rawKey);\n    },\n    forEach(callback, thisArg) {\n      const observed = this;\n      const target = observed[\"__v_raw\"];\n      const rawTarget = toRaw(target);\n      const wrap = shallow ? toShallow : readonly ? toReadonly : toReactive;\n      !readonly && track(rawTarget, \"iterate\", ITERATE_KEY);\n      return target.forEach((value, key) => {\n        return callback.call(thisArg, wrap(value), wrap(key), observed);\n      });\n    }\n  };\n  extend(\n    instrumentations,\n    readonly ? {\n      add: createReadonlyMethod(\"add\"),\n      set: createReadonlyMethod(\"set\"),\n      delete: createReadonlyMethod(\"delete\"),\n      clear: createReadonlyMethod(\"clear\")\n    } : {\n      add(value) {\n        if (!shallow && !isShallow(value) && !isReadonly(value)) {\n          value = toRaw(value);\n        }\n        const target = toRaw(this);\n        const proto = getProto(target);\n        const hadKey = proto.has.call(target, value);\n        if (!hadKey) {\n          target.add(value);\n          trigger(target, \"add\", value, value);\n        }\n        return this;\n      },\n      set(key, value) {\n        if (!shallow && !isShallow(value) && !isReadonly(value)) {\n          value = toRaw(value);\n        }\n        const target = toRaw(this);\n        const { has, get } = getProto(target);\n        let hadKey = has.call(target, key);\n        if (!hadKey) {\n          key = toRaw(key);\n          hadKey = has.call(target, key);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          checkIdentityKeys(target, has, key);\n        }\n        const oldValue = get.call(target, key);\n        target.set(key, value);\n        if (!hadKey) {\n          trigger(target, \"add\", key, value);\n        } else if (hasChanged(value, oldValue)) {\n          trigger(target, \"set\", key, value, oldValue);\n        }\n        return this;\n      },\n      delete(key) {\n        const target = toRaw(this);\n        const { has, get } = getProto(target);\n        let hadKey = has.call(target, key);\n        if (!hadKey) {\n          key = toRaw(key);\n          hadKey = has.call(target, key);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          checkIdentityKeys(target, has, key);\n        }\n        const oldValue = get ? get.call(target, key) : void 0;\n        const result = target.delete(key);\n        if (hadKey) {\n          trigger(target, \"delete\", key, void 0, oldValue);\n        }\n        return result;\n      },\n      clear() {\n        const target = toRaw(this);\n        const hadItems = target.size !== 0;\n        const oldTarget = !!(process.env.NODE_ENV !== \"production\") ? isMap(target) ? new Map(target) : new Set(target) : void 0;\n        const result = target.clear();\n        if (hadItems) {\n          trigger(\n            target,\n            \"clear\",\n            void 0,\n            void 0,\n            oldTarget\n          );\n        }\n        return result;\n      }\n    }\n  );\n  const iteratorMethods = [\n    \"keys\",\n    \"values\",\n    \"entries\",\n    Symbol.iterator\n  ];\n  iteratorMethods.forEach((method) => {\n    instrumentations[method] = createIterableMethod(method, readonly, shallow);\n  });\n  return instrumentations;\n}\nfunction createInstrumentationGetter(isReadonly2, shallow) {\n  const instrumentations = createInstrumentations(isReadonly2, shallow);\n  return (target, key, receiver) => {\n    if (key === \"__v_isReactive\") {\n      return !isReadonly2;\n    } else if (key === \"__v_isReadonly\") {\n      return isReadonly2;\n    } else if (key === \"__v_raw\") {\n      return target;\n    }\n    return Reflect.get(\n      hasOwn(instrumentations, key) && key in target ? instrumentations : target,\n      key,\n      receiver\n    );\n  };\n}\nconst mutableCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(false, false)\n};\nconst shallowCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(false, true)\n};\nconst readonlyCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(true, false)\n};\nconst shallowReadonlyCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(true, true)\n};\nfunction checkIdentityKeys(target, has, key) {\n  const rawKey = toRaw(key);\n  if (rawKey !== key && has.call(target, rawKey)) {\n    const type = toRawType(target);\n    warn(\n      `Reactive ${type} contains both the raw and reactive versions of the same object${type === `Map` ? ` as keys` : ``}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`\n    );\n  }\n}\n\nconst reactiveMap = /* @__PURE__ */ new WeakMap();\nconst shallowReactiveMap = /* @__PURE__ */ new WeakMap();\nconst readonlyMap = /* @__PURE__ */ new WeakMap();\nconst shallowReadonlyMap = /* @__PURE__ */ new WeakMap();\nfunction targetTypeMap(rawType) {\n  switch (rawType) {\n    case \"Object\":\n    case \"Array\":\n      return 1 /* COMMON */;\n    case \"Map\":\n    case \"Set\":\n    case \"WeakMap\":\n    case \"WeakSet\":\n      return 2 /* COLLECTION */;\n    default:\n      return 0 /* INVALID */;\n  }\n}\nfunction getTargetType(value) {\n  return value[\"__v_skip\"] || !Object.isExtensible(value) ? 0 /* INVALID */ : targetTypeMap(toRawType(value));\n}\nfunction reactive(target) {\n  if (isReadonly(target)) {\n    return target;\n  }\n  return createReactiveObject(\n    target,\n    false,\n    mutableHandlers,\n    mutableCollectionHandlers,\n    reactiveMap\n  );\n}\nfunction shallowReactive(target) {\n  return createReactiveObject(\n    target,\n    false,\n    shallowReactiveHandlers,\n    shallowCollectionHandlers,\n    shallowReactiveMap\n  );\n}\nfunction readonly(target) {\n  return createReactiveObject(\n    target,\n    true,\n    readonlyHandlers,\n    readonlyCollectionHandlers,\n    readonlyMap\n  );\n}\nfunction shallowReadonly(target) {\n  return createReactiveObject(\n    target,\n    true,\n    shallowReadonlyHandlers,\n    shallowReadonlyCollectionHandlers,\n    shallowReadonlyMap\n  );\n}\nfunction createReactiveObject(target, isReadonly2, baseHandlers, collectionHandlers, proxyMap) {\n  if (!isObject(target)) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\n        `value cannot be made ${isReadonly2 ? \"readonly\" : \"reactive\"}: ${String(\n          target\n        )}`\n      );\n    }\n    return target;\n  }\n  if (target[\"__v_raw\"] && !(isReadonly2 && target[\"__v_isReactive\"])) {\n    return target;\n  }\n  const existingProxy = proxyMap.get(target);\n  if (existingProxy) {\n    return existingProxy;\n  }\n  const targetType = getTargetType(target);\n  if (targetType === 0 /* INVALID */) {\n    return target;\n  }\n  const proxy = new Proxy(\n    target,\n    targetType === 2 /* COLLECTION */ ? collectionHandlers : baseHandlers\n  );\n  proxyMap.set(target, proxy);\n  return proxy;\n}\nfunction isReactive(value) {\n  if (isReadonly(value)) {\n    return isReactive(value[\"__v_raw\"]);\n  }\n  return !!(value && value[\"__v_isReactive\"]);\n}\nfunction isReadonly(value) {\n  return !!(value && value[\"__v_isReadonly\"]);\n}\nfunction isShallow(value) {\n  return !!(value && value[\"__v_isShallow\"]);\n}\nfunction isProxy(value) {\n  return value ? !!value[\"__v_raw\"] : false;\n}\nfunction toRaw(observed) {\n  const raw = observed && observed[\"__v_raw\"];\n  return raw ? toRaw(raw) : observed;\n}\nfunction markRaw(value) {\n  if (!hasOwn(value, \"__v_skip\") && Object.isExtensible(value)) {\n    def(value, \"__v_skip\", true);\n  }\n  return value;\n}\nconst toReactive = (value) => isObject(value) ? reactive(value) : value;\nconst toReadonly = (value) => isObject(value) ? readonly(value) : value;\n\nfunction isRef(r) {\n  return r ? r[\"__v_isRef\"] === true : false;\n}\nfunction ref(value) {\n  return createRef(value, false);\n}\nfunction shallowRef(value) {\n  return createRef(value, true);\n}\nfunction createRef(rawValue, shallow) {\n  if (isRef(rawValue)) {\n    return rawValue;\n  }\n  return new RefImpl(rawValue, shallow);\n}\nclass RefImpl {\n  constructor(value, isShallow2) {\n    this.dep = new Dep();\n    this[\"__v_isRef\"] = true;\n    this[\"__v_isShallow\"] = false;\n    this._rawValue = isShallow2 ? value : toRaw(value);\n    this._value = isShallow2 ? value : toReactive(value);\n    this[\"__v_isShallow\"] = isShallow2;\n  }\n  get value() {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      this.dep.track({\n        target: this,\n        type: \"get\",\n        key: \"value\"\n      });\n    } else {\n      this.dep.track();\n    }\n    return this._value;\n  }\n  set value(newValue) {\n    const oldValue = this._rawValue;\n    const useDirectValue = this[\"__v_isShallow\"] || isShallow(newValue) || isReadonly(newValue);\n    newValue = useDirectValue ? newValue : toRaw(newValue);\n    if (hasChanged(newValue, oldValue)) {\n      this._rawValue = newValue;\n      this._value = useDirectValue ? newValue : toReactive(newValue);\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        this.dep.trigger({\n          target: this,\n          type: \"set\",\n          key: \"value\",\n          newValue,\n          oldValue\n        });\n      } else {\n        this.dep.trigger();\n      }\n    }\n  }\n}\nfunction triggerRef(ref2) {\n  if (ref2.dep) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      ref2.dep.trigger({\n        target: ref2,\n        type: \"set\",\n        key: \"value\",\n        newValue: ref2._value\n      });\n    } else {\n      ref2.dep.trigger();\n    }\n  }\n}\nfunction unref(ref2) {\n  return isRef(ref2) ? ref2.value : ref2;\n}\nfunction toValue(source) {\n  return isFunction(source) ? source() : unref(source);\n}\nconst shallowUnwrapHandlers = {\n  get: (target, key, receiver) => key === \"__v_raw\" ? target : unref(Reflect.get(target, key, receiver)),\n  set: (target, key, value, receiver) => {\n    const oldValue = target[key];\n    if (isRef(oldValue) && !isRef(value)) {\n      oldValue.value = value;\n      return true;\n    } else {\n      return Reflect.set(target, key, value, receiver);\n    }\n  }\n};\nfunction proxyRefs(objectWithRefs) {\n  return isReactive(objectWithRefs) ? objectWithRefs : new Proxy(objectWithRefs, shallowUnwrapHandlers);\n}\nclass CustomRefImpl {\n  constructor(factory) {\n    this[\"__v_isRef\"] = true;\n    this._value = void 0;\n    const dep = this.dep = new Dep();\n    const { get, set } = factory(dep.track.bind(dep), dep.trigger.bind(dep));\n    this._get = get;\n    this._set = set;\n  }\n  get value() {\n    return this._value = this._get();\n  }\n  set value(newVal) {\n    this._set(newVal);\n  }\n}\nfunction customRef(factory) {\n  return new CustomRefImpl(factory);\n}\nfunction toRefs(object) {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isProxy(object)) {\n    warn(`toRefs() expects a reactive object but received a plain one.`);\n  }\n  const ret = isArray(object) ? new Array(object.length) : {};\n  for (const key in object) {\n    ret[key] = propertyToRef(object, key);\n  }\n  return ret;\n}\nclass ObjectRefImpl {\n  constructor(_object, _key, _defaultValue) {\n    this._object = _object;\n    this._key = _key;\n    this._defaultValue = _defaultValue;\n    this[\"__v_isRef\"] = true;\n    this._value = void 0;\n  }\n  get value() {\n    const val = this._object[this._key];\n    return this._value = val === void 0 ? this._defaultValue : val;\n  }\n  set value(newVal) {\n    this._object[this._key] = newVal;\n  }\n  get dep() {\n    return getDepFromReactive(toRaw(this._object), this._key);\n  }\n}\nclass GetterRefImpl {\n  constructor(_getter) {\n    this._getter = _getter;\n    this[\"__v_isRef\"] = true;\n    this[\"__v_isReadonly\"] = true;\n    this._value = void 0;\n  }\n  get value() {\n    return this._value = this._getter();\n  }\n}\nfunction toRef(source, key, defaultValue) {\n  if (isRef(source)) {\n    return source;\n  } else if (isFunction(source)) {\n    return new GetterRefImpl(source);\n  } else if (isObject(source) && arguments.length > 1) {\n    return propertyToRef(source, key, defaultValue);\n  } else {\n    return ref(source);\n  }\n}\nfunction propertyToRef(source, key, defaultValue) {\n  const val = source[key];\n  return isRef(val) ? val : new ObjectRefImpl(source, key, defaultValue);\n}\n\nclass ComputedRefImpl {\n  constructor(fn, setter, isSSR) {\n    this.fn = fn;\n    this.setter = setter;\n    /**\n     * @internal\n     */\n    this._value = void 0;\n    /**\n     * @internal\n     */\n    this.dep = new Dep(this);\n    /**\n     * @internal\n     */\n    this.__v_isRef = true;\n    // TODO isolatedDeclarations \"__v_isReadonly\"\n    // A computed is also a subscriber that tracks other deps\n    /**\n     * @internal\n     */\n    this.deps = void 0;\n    /**\n     * @internal\n     */\n    this.depsTail = void 0;\n    /**\n     * @internal\n     */\n    this.flags = 16;\n    /**\n     * @internal\n     */\n    this.globalVersion = globalVersion - 1;\n    /**\n     * @internal\n     */\n    this.next = void 0;\n    // for backwards compat\n    this.effect = this;\n    this[\"__v_isReadonly\"] = !setter;\n    this.isSSR = isSSR;\n  }\n  /**\n   * @internal\n   */\n  notify() {\n    this.flags |= 16;\n    if (!(this.flags & 8) && // avoid infinite self recursion\n    activeSub !== this) {\n      batch(this, true);\n      return true;\n    } else if (!!(process.env.NODE_ENV !== \"production\")) ;\n  }\n  get value() {\n    const link = !!(process.env.NODE_ENV !== \"production\") ? this.dep.track({\n      target: this,\n      type: \"get\",\n      key: \"value\"\n    }) : this.dep.track();\n    refreshComputed(this);\n    if (link) {\n      link.version = this.dep.version;\n    }\n    return this._value;\n  }\n  set value(newValue) {\n    if (this.setter) {\n      this.setter(newValue);\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\"Write operation failed: computed value is readonly\");\n    }\n  }\n}\nfunction computed(getterOrOptions, debugOptions, isSSR = false) {\n  let getter;\n  let setter;\n  if (isFunction(getterOrOptions)) {\n    getter = getterOrOptions;\n  } else {\n    getter = getterOrOptions.get;\n    setter = getterOrOptions.set;\n  }\n  const cRef = new ComputedRefImpl(getter, setter, isSSR);\n  if (!!(process.env.NODE_ENV !== \"production\") && debugOptions && !isSSR) {\n    cRef.onTrack = debugOptions.onTrack;\n    cRef.onTrigger = debugOptions.onTrigger;\n  }\n  return cRef;\n}\n\nconst TrackOpTypes = {\n  \"GET\": \"get\",\n  \"HAS\": \"has\",\n  \"ITERATE\": \"iterate\"\n};\nconst TriggerOpTypes = {\n  \"SET\": \"set\",\n  \"ADD\": \"add\",\n  \"DELETE\": \"delete\",\n  \"CLEAR\": \"clear\"\n};\nconst ReactiveFlags = {\n  \"SKIP\": \"__v_skip\",\n  \"IS_REACTIVE\": \"__v_isReactive\",\n  \"IS_READONLY\": \"__v_isReadonly\",\n  \"IS_SHALLOW\": \"__v_isShallow\",\n  \"RAW\": \"__v_raw\",\n  \"IS_REF\": \"__v_isRef\"\n};\n\nconst WatchErrorCodes = {\n  \"WATCH_GETTER\": 2,\n  \"2\": \"WATCH_GETTER\",\n  \"WATCH_CALLBACK\": 3,\n  \"3\": \"WATCH_CALLBACK\",\n  \"WATCH_CLEANUP\": 4,\n  \"4\": \"WATCH_CLEANUP\"\n};\nconst INITIAL_WATCHER_VALUE = {};\nconst cleanupMap = /* @__PURE__ */ new WeakMap();\nlet activeWatcher = void 0;\nfunction getCurrentWatcher() {\n  return activeWatcher;\n}\nfunction onWatcherCleanup(cleanupFn, failSilently = false, owner = activeWatcher) {\n  if (owner) {\n    let cleanups = cleanupMap.get(owner);\n    if (!cleanups) cleanupMap.set(owner, cleanups = []);\n    cleanups.push(cleanupFn);\n  } else if (!!(process.env.NODE_ENV !== \"production\") && !failSilently) {\n    warn(\n      `onWatcherCleanup() was called when there was no active watcher to associate with.`\n    );\n  }\n}\nfunction watch(source, cb, options = EMPTY_OBJ) {\n  const { immediate, deep, once, scheduler, augmentJob, call } = options;\n  const warnInvalidSource = (s) => {\n    (options.onWarn || warn)(\n      `Invalid watch source: `,\n      s,\n      `A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.`\n    );\n  };\n  const reactiveGetter = (source2) => {\n    if (deep) return source2;\n    if (isShallow(source2) || deep === false || deep === 0)\n      return traverse(source2, 1);\n    return traverse(source2);\n  };\n  let effect;\n  let getter;\n  let cleanup;\n  let boundCleanup;\n  let forceTrigger = false;\n  let isMultiSource = false;\n  if (isRef(source)) {\n    getter = () => source.value;\n    forceTrigger = isShallow(source);\n  } else if (isReactive(source)) {\n    getter = () => reactiveGetter(source);\n    forceTrigger = true;\n  } else if (isArray(source)) {\n    isMultiSource = true;\n    forceTrigger = source.some((s) => isReactive(s) || isShallow(s));\n    getter = () => source.map((s) => {\n      if (isRef(s)) {\n        return s.value;\n      } else if (isReactive(s)) {\n        return reactiveGetter(s);\n      } else if (isFunction(s)) {\n        return call ? call(s, 2) : s();\n      } else {\n        !!(process.env.NODE_ENV !== \"production\") && warnInvalidSource(s);\n      }\n    });\n  } else if (isFunction(source)) {\n    if (cb) {\n      getter = call ? () => call(source, 2) : source;\n    } else {\n      getter = () => {\n        if (cleanup) {\n          pauseTracking();\n          try {\n            cleanup();\n          } finally {\n            resetTracking();\n          }\n        }\n        const currentEffect = activeWatcher;\n        activeWatcher = effect;\n        try {\n          return call ? call(source, 3, [boundCleanup]) : source(boundCleanup);\n        } finally {\n          activeWatcher = currentEffect;\n        }\n      };\n    }\n  } else {\n    getter = NOOP;\n    !!(process.env.NODE_ENV !== \"production\") && warnInvalidSource(source);\n  }\n  if (cb && deep) {\n    const baseGetter = getter;\n    const depth = deep === true ? Infinity : deep;\n    getter = () => traverse(baseGetter(), depth);\n  }\n  const scope = getCurrentScope();\n  const watchHandle = () => {\n    effect.stop();\n    if (scope && scope.active) {\n      remove(scope.effects, effect);\n    }\n  };\n  if (once && cb) {\n    const _cb = cb;\n    cb = (...args) => {\n      _cb(...args);\n      watchHandle();\n    };\n  }\n  let oldValue = isMultiSource ? new Array(source.length).fill(INITIAL_WATCHER_VALUE) : INITIAL_WATCHER_VALUE;\n  const job = (immediateFirstRun) => {\n    if (!(effect.flags & 1) || !effect.dirty && !immediateFirstRun) {\n      return;\n    }\n    if (cb) {\n      const newValue = effect.run();\n      if (deep || forceTrigger || (isMultiSource ? newValue.some((v, i) => hasChanged(v, oldValue[i])) : hasChanged(newValue, oldValue))) {\n        if (cleanup) {\n          cleanup();\n        }\n        const currentWatcher = activeWatcher;\n        activeWatcher = effect;\n        try {\n          const args = [\n            newValue,\n            // pass undefined as the old value when it's changed for the first time\n            oldValue === INITIAL_WATCHER_VALUE ? void 0 : isMultiSource && oldValue[0] === INITIAL_WATCHER_VALUE ? [] : oldValue,\n            boundCleanup\n          ];\n          call ? call(cb, 3, args) : (\n            // @ts-expect-error\n            cb(...args)\n          );\n          oldValue = newValue;\n        } finally {\n          activeWatcher = currentWatcher;\n        }\n      }\n    } else {\n      effect.run();\n    }\n  };\n  if (augmentJob) {\n    augmentJob(job);\n  }\n  effect = new ReactiveEffect(getter);\n  effect.scheduler = scheduler ? () => scheduler(job, false) : job;\n  boundCleanup = (fn) => onWatcherCleanup(fn, false, effect);\n  cleanup = effect.onStop = () => {\n    const cleanups = cleanupMap.get(effect);\n    if (cleanups) {\n      if (call) {\n        call(cleanups, 4);\n      } else {\n        for (const cleanup2 of cleanups) cleanup2();\n      }\n      cleanupMap.delete(effect);\n    }\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    effect.onTrack = options.onTrack;\n    effect.onTrigger = options.onTrigger;\n  }\n  if (cb) {\n    if (immediate) {\n      job(true);\n    } else {\n      oldValue = effect.run();\n    }\n  } else if (scheduler) {\n    scheduler(job.bind(null, true), true);\n  } else {\n    effect.run();\n  }\n  watchHandle.pause = effect.pause.bind(effect);\n  watchHandle.resume = effect.resume.bind(effect);\n  watchHandle.stop = watchHandle;\n  return watchHandle;\n}\nfunction traverse(value, depth = Infinity, seen) {\n  if (depth <= 0 || !isObject(value) || value[\"__v_skip\"]) {\n    return value;\n  }\n  seen = seen || /* @__PURE__ */ new Set();\n  if (seen.has(value)) {\n    return value;\n  }\n  seen.add(value);\n  depth--;\n  if (isRef(value)) {\n    traverse(value.value, depth, seen);\n  } else if (isArray(value)) {\n    for (let i = 0; i < value.length; i++) {\n      traverse(value[i], depth, seen);\n    }\n  } else if (isSet(value) || isMap(value)) {\n    value.forEach((v) => {\n      traverse(v, depth, seen);\n    });\n  } else if (isPlainObject(value)) {\n    for (const key in value) {\n      traverse(value[key], depth, seen);\n    }\n    for (const key of Object.getOwnPropertySymbols(value)) {\n      if (Object.prototype.propertyIsEnumerable.call(value, key)) {\n        traverse(value[key], depth, seen);\n      }\n    }\n  }\n  return value;\n}\n\nexport { ARRAY_ITERATE_KEY, EffectFlags, EffectScope, ITERATE_KEY, MAP_KEY_ITERATE_KEY, ReactiveEffect, ReactiveFlags, TrackOpTypes, TriggerOpTypes, WatchErrorCodes, computed, customRef, effect, effectScope, enableTracking, getCurrentScope, getCurrentWatcher, isProxy, isReactive, isReadonly, isRef, isShallow, markRaw, onEffectCleanup, onScopeDispose, onWatcherCleanup, pauseTracking, proxyRefs, reactive, reactiveReadArray, readonly, ref, resetTracking, shallowReactive, shallowReadArray, shallowReadonly, shallowRef, stop, toRaw, toReactive, toReadonly, toRef, toRefs, toValue, track, traverse, trigger, triggerRef, unref, watch };\n","/**\n* @vue/runtime-core v3.5.13\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/\nimport { pauseTracking, resetTracking, isRef, toRaw, traverse, shallowRef, readonly, isReactive, ref, isShallow, shallowReadArray, toReactive, shallowReadonly, track, reactive, shallowReactive, trigger, ReactiveEffect, watch as watch$1, customRef, isProxy, proxyRefs, markRaw, EffectScope, computed as computed$1, isReadonly } from '@vue/reactivity';\nexport { EffectScope, ReactiveEffect, TrackOpTypes, TriggerOpTypes, customRef, effect, effectScope, getCurrentScope, getCurrentWatcher, isProxy, isReactive, isReadonly, isRef, isShallow, markRaw, onScopeDispose, onWatcherCleanup, proxyRefs, reactive, readonly, ref, shallowReactive, shallowReadonly, shallowRef, stop, toRaw, toRef, toRefs, toValue, triggerRef, unref } from '@vue/reactivity';\nimport { isString, isFunction, isPromise, isArray, EMPTY_OBJ, NOOP, getGlobalThis, extend, isBuiltInDirective, hasOwn, remove, def, isOn, isReservedProp, normalizeClass, stringifyStyle, normalizeStyle, isKnownSvgAttr, isBooleanAttr, isKnownHtmlAttr, includeBooleanAttr, isRenderableAttrValue, getEscapedCssVarName, isObject, isRegExp, invokeArrayFns, toHandlerKey, capitalize, camelize, isSymbol, isGloballyAllowed, NO, hyphenate, EMPTY_ARR, toRawType, makeMap, hasChanged, looseToNumber, isModelListener, toNumber } from '@vue/shared';\nexport { camelize, capitalize, normalizeClass, normalizeProps, normalizeStyle, toDisplayString, toHandlerKey } from '@vue/shared';\n\nconst stack = [];\nfunction pushWarningContext(vnode) {\n  stack.push(vnode);\n}\nfunction popWarningContext() {\n  stack.pop();\n}\nlet isWarning = false;\nfunction warn$1(msg, ...args) {\n  if (isWarning) return;\n  isWarning = true;\n  pauseTracking();\n  const instance = stack.length ? stack[stack.length - 1].component : null;\n  const appWarnHandler = instance && instance.appContext.config.warnHandler;\n  const trace = getComponentTrace();\n  if (appWarnHandler) {\n    callWithErrorHandling(\n      appWarnHandler,\n      instance,\n      11,\n      [\n        // eslint-disable-next-line no-restricted-syntax\n        msg + args.map((a) => {\n          var _a, _b;\n          return (_b = (_a = a.toString) == null ? void 0 : _a.call(a)) != null ? _b : JSON.stringify(a);\n        }).join(\"\"),\n        instance && instance.proxy,\n        trace.map(\n          ({ vnode }) => `at <${formatComponentName(instance, vnode.type)}>`\n        ).join(\"\\n\"),\n        trace\n      ]\n    );\n  } else {\n    const warnArgs = [`[Vue warn]: ${msg}`, ...args];\n    if (trace.length && // avoid spamming console during tests\n    true) {\n      warnArgs.push(`\n`, ...formatTrace(trace));\n    }\n    console.warn(...warnArgs);\n  }\n  resetTracking();\n  isWarning = false;\n}\nfunction getComponentTrace() {\n  let currentVNode = stack[stack.length - 1];\n  if (!currentVNode) {\n    return [];\n  }\n  const normalizedStack = [];\n  while (currentVNode) {\n    const last = normalizedStack[0];\n    if (last && last.vnode === currentVNode) {\n      last.recurseCount++;\n    } else {\n      normalizedStack.push({\n        vnode: currentVNode,\n        recurseCount: 0\n      });\n    }\n    const parentInstance = currentVNode.component && currentVNode.component.parent;\n    currentVNode = parentInstance && parentInstance.vnode;\n  }\n  return normalizedStack;\n}\nfunction formatTrace(trace) {\n  const logs = [];\n  trace.forEach((entry, i) => {\n    logs.push(...i === 0 ? [] : [`\n`], ...formatTraceEntry(entry));\n  });\n  return logs;\n}\nfunction formatTraceEntry({ vnode, recurseCount }) {\n  const postfix = recurseCount > 0 ? `... (${recurseCount} recursive calls)` : ``;\n  const isRoot = vnode.component ? vnode.component.parent == null : false;\n  const open = ` at <${formatComponentName(\n    vnode.component,\n    vnode.type,\n    isRoot\n  )}`;\n  const close = `>` + postfix;\n  return vnode.props ? [open, ...formatProps(vnode.props), close] : [open + close];\n}\nfunction formatProps(props) {\n  const res = [];\n  const keys = Object.keys(props);\n  keys.slice(0, 3).forEach((key) => {\n    res.push(...formatProp(key, props[key]));\n  });\n  if (keys.length > 3) {\n    res.push(` ...`);\n  }\n  return res;\n}\nfunction formatProp(key, value, raw) {\n  if (isString(value)) {\n    value = JSON.stringify(value);\n    return raw ? value : [`${key}=${value}`];\n  } else if (typeof value === \"number\" || typeof value === \"boolean\" || value == null) {\n    return raw ? value : [`${key}=${value}`];\n  } else if (isRef(value)) {\n    value = formatProp(key, toRaw(value.value), true);\n    return raw ? value : [`${key}=Ref<`, value, `>`];\n  } else if (isFunction(value)) {\n    return [`${key}=fn${value.name ? `<${value.name}>` : ``}`];\n  } else {\n    value = toRaw(value);\n    return raw ? value : [`${key}=`, value];\n  }\n}\nfunction assertNumber(val, type) {\n  if (!!!(process.env.NODE_ENV !== \"production\")) return;\n  if (val === void 0) {\n    return;\n  } else if (typeof val !== \"number\") {\n    warn$1(`${type} is not a valid number - got ${JSON.stringify(val)}.`);\n  } else if (isNaN(val)) {\n    warn$1(`${type} is NaN - the duration expression might be incorrect.`);\n  }\n}\n\nconst ErrorCodes = {\n  \"SETUP_FUNCTION\": 0,\n  \"0\": \"SETUP_FUNCTION\",\n  \"RENDER_FUNCTION\": 1,\n  \"1\": \"RENDER_FUNCTION\",\n  \"NATIVE_EVENT_HANDLER\": 5,\n  \"5\": \"NATIVE_EVENT_HANDLER\",\n  \"COMPONENT_EVENT_HANDLER\": 6,\n  \"6\": \"COMPONENT_EVENT_HANDLER\",\n  \"VNODE_HOOK\": 7,\n  \"7\": \"VNODE_HOOK\",\n  \"DIRECTIVE_HOOK\": 8,\n  \"8\": \"DIRECTIVE_HOOK\",\n  \"TRANSITION_HOOK\": 9,\n  \"9\": \"TRANSITION_HOOK\",\n  \"APP_ERROR_HANDLER\": 10,\n  \"10\": \"APP_ERROR_HANDLER\",\n  \"APP_WARN_HANDLER\": 11,\n  \"11\": \"APP_WARN_HANDLER\",\n  \"FUNCTION_REF\": 12,\n  \"12\": \"FUNCTION_REF\",\n  \"ASYNC_COMPONENT_LOADER\": 13,\n  \"13\": \"ASYNC_COMPONENT_LOADER\",\n  \"SCHEDULER\": 14,\n  \"14\": \"SCHEDULER\",\n  \"COMPONENT_UPDATE\": 15,\n  \"15\": \"COMPONENT_UPDATE\",\n  \"APP_UNMOUNT_CLEANUP\": 16,\n  \"16\": \"APP_UNMOUNT_CLEANUP\"\n};\nconst ErrorTypeStrings$1 = {\n  [\"sp\"]: \"serverPrefetch hook\",\n  [\"bc\"]: \"beforeCreate hook\",\n  [\"c\"]: \"created hook\",\n  [\"bm\"]: \"beforeMount hook\",\n  [\"m\"]: \"mounted hook\",\n  [\"bu\"]: \"beforeUpdate hook\",\n  [\"u\"]: \"updated\",\n  [\"bum\"]: \"beforeUnmount hook\",\n  [\"um\"]: \"unmounted hook\",\n  [\"a\"]: \"activated hook\",\n  [\"da\"]: \"deactivated hook\",\n  [\"ec\"]: \"errorCaptured hook\",\n  [\"rtc\"]: \"renderTracked hook\",\n  [\"rtg\"]: \"renderTriggered hook\",\n  [0]: \"setup function\",\n  [1]: \"render function\",\n  [2]: \"watcher getter\",\n  [3]: \"watcher callback\",\n  [4]: \"watcher cleanup function\",\n  [5]: \"native event handler\",\n  [6]: \"component event handler\",\n  [7]: \"vnode hook\",\n  [8]: \"directive hook\",\n  [9]: \"transition hook\",\n  [10]: \"app errorHandler\",\n  [11]: \"app warnHandler\",\n  [12]: \"ref function\",\n  [13]: \"async component loader\",\n  [14]: \"scheduler flush\",\n  [15]: \"component update\",\n  [16]: \"app unmount cleanup function\"\n};\nfunction callWithErrorHandling(fn, instance, type, args) {\n  try {\n    return args ? fn(...args) : fn();\n  } catch (err) {\n    handleError(err, instance, type);\n  }\n}\nfunction callWithAsyncErrorHandling(fn, instance, type, args) {\n  if (isFunction(fn)) {\n    const res = callWithErrorHandling(fn, instance, type, args);\n    if (res && isPromise(res)) {\n      res.catch((err) => {\n        handleError(err, instance, type);\n      });\n    }\n    return res;\n  }\n  if (isArray(fn)) {\n    const values = [];\n    for (let i = 0; i < fn.length; i++) {\n      values.push(callWithAsyncErrorHandling(fn[i], instance, type, args));\n    }\n    return values;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(\n      `Invalid value type passed to callWithAsyncErrorHandling(): ${typeof fn}`\n    );\n  }\n}\nfunction handleError(err, instance, type, throwInDev = true) {\n  const contextVNode = instance ? instance.vnode : null;\n  const { errorHandler, throwUnhandledErrorInProduction } = instance && instance.appContext.config || EMPTY_OBJ;\n  if (instance) {\n    let cur = instance.parent;\n    const exposedInstance = instance.proxy;\n    const errorInfo = !!(process.env.NODE_ENV !== \"production\") ? ErrorTypeStrings$1[type] : `https://vuejs.org/error-reference/#runtime-${type}`;\n    while (cur) {\n      const errorCapturedHooks = cur.ec;\n      if (errorCapturedHooks) {\n        for (let i = 0; i < errorCapturedHooks.length; i++) {\n          if (errorCapturedHooks[i](err, exposedInstance, errorInfo) === false) {\n            return;\n          }\n        }\n      }\n      cur = cur.parent;\n    }\n    if (errorHandler) {\n      pauseTracking();\n      callWithErrorHandling(errorHandler, null, 10, [\n        err,\n        exposedInstance,\n        errorInfo\n      ]);\n      resetTracking();\n      return;\n    }\n  }\n  logError(err, type, contextVNode, throwInDev, throwUnhandledErrorInProduction);\n}\nfunction logError(err, type, contextVNode, throwInDev = true, throwInProd = false) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const info = ErrorTypeStrings$1[type];\n    if (contextVNode) {\n      pushWarningContext(contextVNode);\n    }\n    warn$1(`Unhandled error${info ? ` during execution of ${info}` : ``}`);\n    if (contextVNode) {\n      popWarningContext();\n    }\n    if (throwInDev) {\n      throw err;\n    } else {\n      console.error(err);\n    }\n  } else if (throwInProd) {\n    throw err;\n  } else {\n    console.error(err);\n  }\n}\n\nconst queue = [];\nlet flushIndex = -1;\nconst pendingPostFlushCbs = [];\nlet activePostFlushCbs = null;\nlet postFlushIndex = 0;\nconst resolvedPromise = /* @__PURE__ */ Promise.resolve();\nlet currentFlushPromise = null;\nconst RECURSION_LIMIT = 100;\nfunction nextTick(fn) {\n  const p = currentFlushPromise || resolvedPromise;\n  return fn ? p.then(this ? fn.bind(this) : fn) : p;\n}\nfunction findInsertionIndex(id) {\n  let start = flushIndex + 1;\n  let end = queue.length;\n  while (start < end) {\n    const middle = start + end >>> 1;\n    const middleJob = queue[middle];\n    const middleJobId = getId(middleJob);\n    if (middleJobId < id || middleJobId === id && middleJob.flags & 2) {\n      start = middle + 1;\n    } else {\n      end = middle;\n    }\n  }\n  return start;\n}\nfunction queueJob(job) {\n  if (!(job.flags & 1)) {\n    const jobId = getId(job);\n    const lastJob = queue[queue.length - 1];\n    if (!lastJob || // fast path when the job id is larger than the tail\n    !(job.flags & 2) && jobId >= getId(lastJob)) {\n      queue.push(job);\n    } else {\n      queue.splice(findInsertionIndex(jobId), 0, job);\n    }\n    job.flags |= 1;\n    queueFlush();\n  }\n}\nfunction queueFlush() {\n  if (!currentFlushPromise) {\n    currentFlushPromise = resolvedPromise.then(flushJobs);\n  }\n}\nfunction queuePostFlushCb(cb) {\n  if (!isArray(cb)) {\n    if (activePostFlushCbs && cb.id === -1) {\n      activePostFlushCbs.splice(postFlushIndex + 1, 0, cb);\n    } else if (!(cb.flags & 1)) {\n      pendingPostFlushCbs.push(cb);\n      cb.flags |= 1;\n    }\n  } else {\n    pendingPostFlushCbs.push(...cb);\n  }\n  queueFlush();\n}\nfunction flushPreFlushCbs(instance, seen, i = flushIndex + 1) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    seen = seen || /* @__PURE__ */ new Map();\n  }\n  for (; i < queue.length; i++) {\n    const cb = queue[i];\n    if (cb && cb.flags & 2) {\n      if (instance && cb.id !== instance.uid) {\n        continue;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && checkRecursiveUpdates(seen, cb)) {\n        continue;\n      }\n      queue.splice(i, 1);\n      i--;\n      if (cb.flags & 4) {\n        cb.flags &= ~1;\n      }\n      cb();\n      if (!(cb.flags & 4)) {\n        cb.flags &= ~1;\n      }\n    }\n  }\n}\nfunction flushPostFlushCbs(seen) {\n  if (pendingPostFlushCbs.length) {\n    const deduped = [...new Set(pendingPostFlushCbs)].sort(\n      (a, b) => getId(a) - getId(b)\n    );\n    pendingPostFlushCbs.length = 0;\n    if (activePostFlushCbs) {\n      activePostFlushCbs.push(...deduped);\n      return;\n    }\n    activePostFlushCbs = deduped;\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      seen = seen || /* @__PURE__ */ new Map();\n    }\n    for (postFlushIndex = 0; postFlushIndex < activePostFlushCbs.length; postFlushIndex++) {\n      const cb = activePostFlushCbs[postFlushIndex];\n      if (!!(process.env.NODE_ENV !== \"production\") && checkRecursiveUpdates(seen, cb)) {\n        continue;\n      }\n      if (cb.flags & 4) {\n        cb.flags &= ~1;\n      }\n      if (!(cb.flags & 8)) cb();\n      cb.flags &= ~1;\n    }\n    activePostFlushCbs = null;\n    postFlushIndex = 0;\n  }\n}\nconst getId = (job) => job.id == null ? job.flags & 2 ? -1 : Infinity : job.id;\nfunction flushJobs(seen) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    seen = seen || /* @__PURE__ */ new Map();\n  }\n  const check = !!(process.env.NODE_ENV !== \"production\") ? (job) => checkRecursiveUpdates(seen, job) : NOOP;\n  try {\n    for (flushIndex = 0; flushIndex < queue.length; flushIndex++) {\n      const job = queue[flushIndex];\n      if (job && !(job.flags & 8)) {\n        if (!!(process.env.NODE_ENV !== \"production\") && check(job)) {\n          continue;\n        }\n        if (job.flags & 4) {\n          job.flags &= ~1;\n        }\n        callWithErrorHandling(\n          job,\n          job.i,\n          job.i ? 15 : 14\n        );\n        if (!(job.flags & 4)) {\n          job.flags &= ~1;\n        }\n      }\n    }\n  } finally {\n    for (; flushIndex < queue.length; flushIndex++) {\n      const job = queue[flushIndex];\n      if (job) {\n        job.flags &= ~1;\n      }\n    }\n    flushIndex = -1;\n    queue.length = 0;\n    flushPostFlushCbs(seen);\n    currentFlushPromise = null;\n    if (queue.length || pendingPostFlushCbs.length) {\n      flushJobs(seen);\n    }\n  }\n}\nfunction checkRecursiveUpdates(seen, fn) {\n  const count = seen.get(fn) || 0;\n  if (count > RECURSION_LIMIT) {\n    const instance = fn.i;\n    const componentName = instance && getComponentName(instance.type);\n    handleError(\n      `Maximum recursive updates exceeded${componentName ? ` in component <${componentName}>` : ``}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,\n      null,\n      10\n    );\n    return true;\n  }\n  seen.set(fn, count + 1);\n  return false;\n}\n\nlet isHmrUpdating = false;\nconst hmrDirtyComponents = /* @__PURE__ */ new Map();\nif (!!(process.env.NODE_ENV !== \"production\")) {\n  getGlobalThis().__VUE_HMR_RUNTIME__ = {\n    createRecord: tryWrap(createRecord),\n    rerender: tryWrap(rerender),\n    reload: tryWrap(reload)\n  };\n}\nconst map = /* @__PURE__ */ new Map();\nfunction registerHMR(instance) {\n  const id = instance.type.__hmrId;\n  let record = map.get(id);\n  if (!record) {\n    createRecord(id, instance.type);\n    record = map.get(id);\n  }\n  record.instances.add(instance);\n}\nfunction unregisterHMR(instance) {\n  map.get(instance.type.__hmrId).instances.delete(instance);\n}\nfunction createRecord(id, initialDef) {\n  if (map.has(id)) {\n    return false;\n  }\n  map.set(id, {\n    initialDef: normalizeClassComponent(initialDef),\n    instances: /* @__PURE__ */ new Set()\n  });\n  return true;\n}\nfunction normalizeClassComponent(component) {\n  return isClassComponent(component) ? component.__vccOpts : component;\n}\nfunction rerender(id, newRender) {\n  const record = map.get(id);\n  if (!record) {\n    return;\n  }\n  record.initialDef.render = newRender;\n  [...record.instances].forEach((instance) => {\n    if (newRender) {\n      instance.render = newRender;\n      normalizeClassComponent(instance.type).render = newRender;\n    }\n    instance.renderCache = [];\n    isHmrUpdating = true;\n    instance.update();\n    isHmrUpdating = false;\n  });\n}\nfunction reload(id, newComp) {\n  const record = map.get(id);\n  if (!record) return;\n  newComp = normalizeClassComponent(newComp);\n  updateComponentDef(record.initialDef, newComp);\n  const instances = [...record.instances];\n  for (let i = 0; i < instances.length; i++) {\n    const instance = instances[i];\n    const oldComp = normalizeClassComponent(instance.type);\n    let dirtyInstances = hmrDirtyComponents.get(oldComp);\n    if (!dirtyInstances) {\n      if (oldComp !== record.initialDef) {\n        updateComponentDef(oldComp, newComp);\n      }\n      hmrDirtyComponents.set(oldComp, dirtyInstances = /* @__PURE__ */ new Set());\n    }\n    dirtyInstances.add(instance);\n    instance.appContext.propsCache.delete(instance.type);\n    instance.appContext.emitsCache.delete(instance.type);\n    instance.appContext.optionsCache.delete(instance.type);\n    if (instance.ceReload) {\n      dirtyInstances.add(instance);\n      instance.ceReload(newComp.styles);\n      dirtyInstances.delete(instance);\n    } else if (instance.parent) {\n      queueJob(() => {\n        isHmrUpdating = true;\n        instance.parent.update();\n        isHmrUpdating = false;\n        dirtyInstances.delete(instance);\n      });\n    } else if (instance.appContext.reload) {\n      instance.appContext.reload();\n    } else if (typeof window !== \"undefined\") {\n      window.location.reload();\n    } else {\n      console.warn(\n        \"[HMR] Root or manually mounted instance modified. Full reload required.\"\n      );\n    }\n    if (instance.root.ce && instance !== instance.root) {\n      instance.root.ce._removeChildStyle(oldComp);\n    }\n  }\n  queuePostFlushCb(() => {\n    hmrDirtyComponents.clear();\n  });\n}\nfunction updateComponentDef(oldComp, newComp) {\n  extend(oldComp, newComp);\n  for (const key in oldComp) {\n    if (key !== \"__file\" && !(key in newComp)) {\n      delete oldComp[key];\n    }\n  }\n}\nfunction tryWrap(fn) {\n  return (id, arg) => {\n    try {\n      return fn(id, arg);\n    } catch (e) {\n      console.error(e);\n      console.warn(\n        `[HMR] Something went wrong during Vue component hot-reload. Full reload required.`\n      );\n    }\n  };\n}\n\nlet devtools$1;\nlet buffer = [];\nlet devtoolsNotInstalled = false;\nfunction emit$1(event, ...args) {\n  if (devtools$1) {\n    devtools$1.emit(event, ...args);\n  } else if (!devtoolsNotInstalled) {\n    buffer.push({ event, args });\n  }\n}\nfunction setDevtoolsHook$1(hook, target) {\n  var _a, _b;\n  devtools$1 = hook;\n  if (devtools$1) {\n    devtools$1.enabled = true;\n    buffer.forEach(({ event, args }) => devtools$1.emit(event, ...args));\n    buffer = [];\n  } else if (\n    // handle late devtools injection - only do this if we are in an actual\n    // browser environment to avoid the timer handle stalling test runner exit\n    // (#4815)\n    typeof window !== \"undefined\" && // some envs mock window but not fully\n    window.HTMLElement && // also exclude jsdom\n    // eslint-disable-next-line no-restricted-syntax\n    !((_b = (_a = window.navigator) == null ? void 0 : _a.userAgent) == null ? void 0 : _b.includes(\"jsdom\"))\n  ) {\n    const replay = target.__VUE_DEVTOOLS_HOOK_REPLAY__ = target.__VUE_DEVTOOLS_HOOK_REPLAY__ || [];\n    replay.push((newHook) => {\n      setDevtoolsHook$1(newHook, target);\n    });\n    setTimeout(() => {\n      if (!devtools$1) {\n        target.__VUE_DEVTOOLS_HOOK_REPLAY__ = null;\n        devtoolsNotInstalled = true;\n        buffer = [];\n      }\n    }, 3e3);\n  } else {\n    devtoolsNotInstalled = true;\n    buffer = [];\n  }\n}\nfunction devtoolsInitApp(app, version) {\n  emit$1(\"app:init\" /* APP_INIT */, app, version, {\n    Fragment,\n    Text,\n    Comment,\n    Static\n  });\n}\nfunction devtoolsUnmountApp(app) {\n  emit$1(\"app:unmount\" /* APP_UNMOUNT */, app);\n}\nconst devtoolsComponentAdded = /* @__PURE__ */ createDevtoolsComponentHook(\"component:added\" /* COMPONENT_ADDED */);\nconst devtoolsComponentUpdated = /* @__PURE__ */ createDevtoolsComponentHook(\"component:updated\" /* COMPONENT_UPDATED */);\nconst _devtoolsComponentRemoved = /* @__PURE__ */ createDevtoolsComponentHook(\n  \"component:removed\" /* COMPONENT_REMOVED */\n);\nconst devtoolsComponentRemoved = (component) => {\n  if (devtools$1 && typeof devtools$1.cleanupBuffer === \"function\" && // remove the component if it wasn't buffered\n  !devtools$1.cleanupBuffer(component)) {\n    _devtoolsComponentRemoved(component);\n  }\n};\n/*! #__NO_SIDE_EFFECTS__ */\n// @__NO_SIDE_EFFECTS__\nfunction createDevtoolsComponentHook(hook) {\n  return (component) => {\n    emit$1(\n      hook,\n      component.appContext.app,\n      component.uid,\n      component.parent ? component.parent.uid : void 0,\n      component\n    );\n  };\n}\nconst devtoolsPerfStart = /* @__PURE__ */ createDevtoolsPerformanceHook(\"perf:start\" /* PERFORMANCE_START */);\nconst devtoolsPerfEnd = /* @__PURE__ */ createDevtoolsPerformanceHook(\"perf:end\" /* PERFORMANCE_END */);\nfunction createDevtoolsPerformanceHook(hook) {\n  return (component, type, time) => {\n    emit$1(hook, component.appContext.app, component.uid, component, type, time);\n  };\n}\nfunction devtoolsComponentEmit(component, event, params) {\n  emit$1(\n    \"component:emit\" /* COMPONENT_EMIT */,\n    component.appContext.app,\n    component,\n    event,\n    params\n  );\n}\n\nlet currentRenderingInstance = null;\nlet currentScopeId = null;\nfunction setCurrentRenderingInstance(instance) {\n  const prev = currentRenderingInstance;\n  currentRenderingInstance = instance;\n  currentScopeId = instance && instance.type.__scopeId || null;\n  return prev;\n}\nfunction pushScopeId(id) {\n  currentScopeId = id;\n}\nfunction popScopeId() {\n  currentScopeId = null;\n}\nconst withScopeId = (_id) => withCtx;\nfunction withCtx(fn, ctx = currentRenderingInstance, isNonScopedSlot) {\n  if (!ctx) return fn;\n  if (fn._n) {\n    return fn;\n  }\n  const renderFnWithContext = (...args) => {\n    if (renderFnWithContext._d) {\n      setBlockTracking(-1);\n    }\n    const prevInstance = setCurrentRenderingInstance(ctx);\n    let res;\n    try {\n      res = fn(...args);\n    } finally {\n      setCurrentRenderingInstance(prevInstance);\n      if (renderFnWithContext._d) {\n        setBlockTracking(1);\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      devtoolsComponentUpdated(ctx);\n    }\n    return res;\n  };\n  renderFnWithContext._n = true;\n  renderFnWithContext._c = true;\n  renderFnWithContext._d = true;\n  return renderFnWithContext;\n}\n\nfunction validateDirectiveName(name) {\n  if (isBuiltInDirective(name)) {\n    warn$1(\"Do not use built-in directive ids as custom directive id: \" + name);\n  }\n}\nfunction withDirectives(vnode, directives) {\n  if (currentRenderingInstance === null) {\n    !!(process.env.NODE_ENV !== \"production\") && warn$1(`withDirectives can only be used inside render functions.`);\n    return vnode;\n  }\n  const instance = getComponentPublicInstance(currentRenderingInstance);\n  const bindings = vnode.dirs || (vnode.dirs = []);\n  for (let i = 0; i < directives.length; i++) {\n    let [dir, value, arg, modifiers = EMPTY_OBJ] = directives[i];\n    if (dir) {\n      if (isFunction(dir)) {\n        dir = {\n          mounted: dir,\n          updated: dir\n        };\n      }\n      if (dir.deep) {\n        traverse(value);\n      }\n      bindings.push({\n        dir,\n        instance,\n        value,\n        oldValue: void 0,\n        arg,\n        modifiers\n      });\n    }\n  }\n  return vnode;\n}\nfunction invokeDirectiveHook(vnode, prevVNode, instance, name) {\n  const bindings = vnode.dirs;\n  const oldBindings = prevVNode && prevVNode.dirs;\n  for (let i = 0; i < bindings.length; i++) {\n    const binding = bindings[i];\n    if (oldBindings) {\n      binding.oldValue = oldBindings[i].value;\n    }\n    let hook = binding.dir[name];\n    if (hook) {\n      pauseTracking();\n      callWithAsyncErrorHandling(hook, instance, 8, [\n        vnode.el,\n        binding,\n        vnode,\n        prevVNode\n      ]);\n      resetTracking();\n    }\n  }\n}\n\nconst TeleportEndKey = Symbol(\"_vte\");\nconst isTeleport = (type) => type.__isTeleport;\nconst isTeleportDisabled = (props) => props && (props.disabled || props.disabled === \"\");\nconst isTeleportDeferred = (props) => props && (props.defer || props.defer === \"\");\nconst isTargetSVG = (target) => typeof SVGElement !== \"undefined\" && target instanceof SVGElement;\nconst isTargetMathML = (target) => typeof MathMLElement === \"function\" && target instanceof MathMLElement;\nconst resolveTarget = (props, select) => {\n  const targetSelector = props && props.to;\n  if (isString(targetSelector)) {\n    if (!select) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(\n        `Current renderer does not support string target for Teleports. (missing querySelector renderer option)`\n      );\n      return null;\n    } else {\n      const target = select(targetSelector);\n      if (!!(process.env.NODE_ENV !== \"production\") && !target && !isTeleportDisabled(props)) {\n        warn$1(\n          `Failed to locate Teleport target with selector \"${targetSelector}\". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`\n        );\n      }\n      return target;\n    }\n  } else {\n    if (!!(process.env.NODE_ENV !== \"production\") && !targetSelector && !isTeleportDisabled(props)) {\n      warn$1(`Invalid Teleport target: ${targetSelector}`);\n    }\n    return targetSelector;\n  }\n};\nconst TeleportImpl = {\n  name: \"Teleport\",\n  __isTeleport: true,\n  process(n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, internals) {\n    const {\n      mc: mountChildren,\n      pc: patchChildren,\n      pbc: patchBlockChildren,\n      o: { insert, querySelector, createText, createComment }\n    } = internals;\n    const disabled = isTeleportDisabled(n2.props);\n    let { shapeFlag, children, dynamicChildren } = n2;\n    if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n      optimized = false;\n      dynamicChildren = null;\n    }\n    if (n1 == null) {\n      const placeholder = n2.el = !!(process.env.NODE_ENV !== \"production\") ? createComment(\"teleport start\") : createText(\"\");\n      const mainAnchor = n2.anchor = !!(process.env.NODE_ENV !== \"production\") ? createComment(\"teleport end\") : createText(\"\");\n      insert(placeholder, container, anchor);\n      insert(mainAnchor, container, anchor);\n      const mount = (container2, anchor2) => {\n        if (shapeFlag & 16) {\n          if (parentComponent && parentComponent.isCE) {\n            parentComponent.ce._teleportTarget = container2;\n          }\n          mountChildren(\n            children,\n            container2,\n            anchor2,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        }\n      };\n      const mountToTarget = () => {\n        const target = n2.target = resolveTarget(n2.props, querySelector);\n        const targetAnchor = prepareAnchor(target, n2, createText, insert);\n        if (target) {\n          if (namespace !== \"svg\" && isTargetSVG(target)) {\n            namespace = \"svg\";\n          } else if (namespace !== \"mathml\" && isTargetMathML(target)) {\n            namespace = \"mathml\";\n          }\n          if (!disabled) {\n            mount(target, targetAnchor);\n            updateCssVars(n2, false);\n          }\n        } else if (!!(process.env.NODE_ENV !== \"production\") && !disabled) {\n          warn$1(\n            \"Invalid Teleport target on mount:\",\n            target,\n            `(${typeof target})`\n          );\n        }\n      };\n      if (disabled) {\n        mount(container, mainAnchor);\n        updateCssVars(n2, true);\n      }\n      if (isTeleportDeferred(n2.props)) {\n        queuePostRenderEffect(() => {\n          mountToTarget();\n          n2.el.__isMounted = true;\n        }, parentSuspense);\n      } else {\n        mountToTarget();\n      }\n    } else {\n      if (isTeleportDeferred(n2.props) && !n1.el.__isMounted) {\n        queuePostRenderEffect(() => {\n          TeleportImpl.process(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized,\n            internals\n          );\n          delete n1.el.__isMounted;\n        }, parentSuspense);\n        return;\n      }\n      n2.el = n1.el;\n      n2.targetStart = n1.targetStart;\n      const mainAnchor = n2.anchor = n1.anchor;\n      const target = n2.target = n1.target;\n      const targetAnchor = n2.targetAnchor = n1.targetAnchor;\n      const wasDisabled = isTeleportDisabled(n1.props);\n      const currentContainer = wasDisabled ? container : target;\n      const currentAnchor = wasDisabled ? mainAnchor : targetAnchor;\n      if (namespace === \"svg\" || isTargetSVG(target)) {\n        namespace = \"svg\";\n      } else if (namespace === \"mathml\" || isTargetMathML(target)) {\n        namespace = \"mathml\";\n      }\n      if (dynamicChildren) {\n        patchBlockChildren(\n          n1.dynamicChildren,\n          dynamicChildren,\n          currentContainer,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds\n        );\n        traverseStaticChildren(n1, n2, true);\n      } else if (!optimized) {\n        patchChildren(\n          n1,\n          n2,\n          currentContainer,\n          currentAnchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          false\n        );\n      }\n      if (disabled) {\n        if (!wasDisabled) {\n          moveTeleport(\n            n2,\n            container,\n            mainAnchor,\n            internals,\n            1\n          );\n        } else {\n          if (n2.props && n1.props && n2.props.to !== n1.props.to) {\n            n2.props.to = n1.props.to;\n          }\n        }\n      } else {\n        if ((n2.props && n2.props.to) !== (n1.props && n1.props.to)) {\n          const nextTarget = n2.target = resolveTarget(\n            n2.props,\n            querySelector\n          );\n          if (nextTarget) {\n            moveTeleport(\n              n2,\n              nextTarget,\n              null,\n              internals,\n              0\n            );\n          } else if (!!(process.env.NODE_ENV !== \"production\")) {\n            warn$1(\n              \"Invalid Teleport target on update:\",\n              target,\n              `(${typeof target})`\n            );\n          }\n        } else if (wasDisabled) {\n          moveTeleport(\n            n2,\n            target,\n            targetAnchor,\n            internals,\n            1\n          );\n        }\n      }\n      updateCssVars(n2, disabled);\n    }\n  },\n  remove(vnode, parentComponent, parentSuspense, { um: unmount, o: { remove: hostRemove } }, doRemove) {\n    const {\n      shapeFlag,\n      children,\n      anchor,\n      targetStart,\n      targetAnchor,\n      target,\n      props\n    } = vnode;\n    if (target) {\n      hostRemove(targetStart);\n      hostRemove(targetAnchor);\n    }\n    doRemove && hostRemove(anchor);\n    if (shapeFlag & 16) {\n      const shouldRemove = doRemove || !isTeleportDisabled(props);\n      for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        unmount(\n          child,\n          parentComponent,\n          parentSuspense,\n          shouldRemove,\n          !!child.dynamicChildren\n        );\n      }\n    }\n  },\n  move: moveTeleport,\n  hydrate: hydrateTeleport\n};\nfunction moveTeleport(vnode, container, parentAnchor, { o: { insert }, m: move }, moveType = 2) {\n  if (moveType === 0) {\n    insert(vnode.targetAnchor, container, parentAnchor);\n  }\n  const { el, anchor, shapeFlag, children, props } = vnode;\n  const isReorder = moveType === 2;\n  if (isReorder) {\n    insert(el, container, parentAnchor);\n  }\n  if (!isReorder || isTeleportDisabled(props)) {\n    if (shapeFlag & 16) {\n      for (let i = 0; i < children.length; i++) {\n        move(\n          children[i],\n          container,\n          parentAnchor,\n          2\n        );\n      }\n    }\n  }\n  if (isReorder) {\n    insert(anchor, container, parentAnchor);\n  }\n}\nfunction hydrateTeleport(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized, {\n  o: { nextSibling, parentNode, querySelector, insert, createText }\n}, hydrateChildren) {\n  const target = vnode.target = resolveTarget(\n    vnode.props,\n    querySelector\n  );\n  if (target) {\n    const disabled = isTeleportDisabled(vnode.props);\n    const targetNode = target._lpa || target.firstChild;\n    if (vnode.shapeFlag & 16) {\n      if (disabled) {\n        vnode.anchor = hydrateChildren(\n          nextSibling(node),\n          vnode,\n          parentNode(node),\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n        vnode.targetStart = targetNode;\n        vnode.targetAnchor = targetNode && nextSibling(targetNode);\n      } else {\n        vnode.anchor = nextSibling(node);\n        let targetAnchor = targetNode;\n        while (targetAnchor) {\n          if (targetAnchor && targetAnchor.nodeType === 8) {\n            if (targetAnchor.data === \"teleport start anchor\") {\n              vnode.targetStart = targetAnchor;\n            } else if (targetAnchor.data === \"teleport anchor\") {\n              vnode.targetAnchor = targetAnchor;\n              target._lpa = vnode.targetAnchor && nextSibling(vnode.targetAnchor);\n              break;\n            }\n          }\n          targetAnchor = nextSibling(targetAnchor);\n        }\n        if (!vnode.targetAnchor) {\n          prepareAnchor(target, vnode, createText, insert);\n        }\n        hydrateChildren(\n          targetNode && nextSibling(targetNode),\n          vnode,\n          target,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n      }\n    }\n    updateCssVars(vnode, disabled);\n  }\n  return vnode.anchor && nextSibling(vnode.anchor);\n}\nconst Teleport = TeleportImpl;\nfunction updateCssVars(vnode, isDisabled) {\n  const ctx = vnode.ctx;\n  if (ctx && ctx.ut) {\n    let node, anchor;\n    if (isDisabled) {\n      node = vnode.el;\n      anchor = vnode.anchor;\n    } else {\n      node = vnode.targetStart;\n      anchor = vnode.targetAnchor;\n    }\n    while (node && node !== anchor) {\n      if (node.nodeType === 1) node.setAttribute(\"data-v-owner\", ctx.uid);\n      node = node.nextSibling;\n    }\n    ctx.ut();\n  }\n}\nfunction prepareAnchor(target, vnode, createText, insert) {\n  const targetStart = vnode.targetStart = createText(\"\");\n  const targetAnchor = vnode.targetAnchor = createText(\"\");\n  targetStart[TeleportEndKey] = targetAnchor;\n  if (target) {\n    insert(targetStart, target);\n    insert(targetAnchor, target);\n  }\n  return targetAnchor;\n}\n\nconst leaveCbKey = Symbol(\"_leaveCb\");\nconst enterCbKey = Symbol(\"_enterCb\");\nfunction useTransitionState() {\n  const state = {\n    isMounted: false,\n    isLeaving: false,\n    isUnmounting: false,\n    leavingVNodes: /* @__PURE__ */ new Map()\n  };\n  onMounted(() => {\n    state.isMounted = true;\n  });\n  onBeforeUnmount(() => {\n    state.isUnmounting = true;\n  });\n  return state;\n}\nconst TransitionHookValidator = [Function, Array];\nconst BaseTransitionPropsValidators = {\n  mode: String,\n  appear: Boolean,\n  persisted: Boolean,\n  // enter\n  onBeforeEnter: TransitionHookValidator,\n  onEnter: TransitionHookValidator,\n  onAfterEnter: TransitionHookValidator,\n  onEnterCancelled: TransitionHookValidator,\n  // leave\n  onBeforeLeave: TransitionHookValidator,\n  onLeave: TransitionHookValidator,\n  onAfterLeave: TransitionHookValidator,\n  onLeaveCancelled: TransitionHookValidator,\n  // appear\n  onBeforeAppear: TransitionHookValidator,\n  onAppear: TransitionHookValidator,\n  onAfterAppear: TransitionHookValidator,\n  onAppearCancelled: TransitionHookValidator\n};\nconst recursiveGetSubtree = (instance) => {\n  const subTree = instance.subTree;\n  return subTree.component ? recursiveGetSubtree(subTree.component) : subTree;\n};\nconst BaseTransitionImpl = {\n  name: `BaseTransition`,\n  props: BaseTransitionPropsValidators,\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const state = useTransitionState();\n    return () => {\n      const children = slots.default && getTransitionRawChildren(slots.default(), true);\n      if (!children || !children.length) {\n        return;\n      }\n      const child = findNonCommentChild(children);\n      const rawProps = toRaw(props);\n      const { mode } = rawProps;\n      if (!!(process.env.NODE_ENV !== \"production\") && mode && mode !== \"in-out\" && mode !== \"out-in\" && mode !== \"default\") {\n        warn$1(`invalid <transition> mode: ${mode}`);\n      }\n      if (state.isLeaving) {\n        return emptyPlaceholder(child);\n      }\n      const innerChild = getInnerChild$1(child);\n      if (!innerChild) {\n        return emptyPlaceholder(child);\n      }\n      let enterHooks = resolveTransitionHooks(\n        innerChild,\n        rawProps,\n        state,\n        instance,\n        // #11061, ensure enterHooks is fresh after clone\n        (hooks) => enterHooks = hooks\n      );\n      if (innerChild.type !== Comment) {\n        setTransitionHooks(innerChild, enterHooks);\n      }\n      let oldInnerChild = instance.subTree && getInnerChild$1(instance.subTree);\n      if (oldInnerChild && oldInnerChild.type !== Comment && !isSameVNodeType(innerChild, oldInnerChild) && recursiveGetSubtree(instance).type !== Comment) {\n        let leavingHooks = resolveTransitionHooks(\n          oldInnerChild,\n          rawProps,\n          state,\n          instance\n        );\n        setTransitionHooks(oldInnerChild, leavingHooks);\n        if (mode === \"out-in\" && innerChild.type !== Comment) {\n          state.isLeaving = true;\n          leavingHooks.afterLeave = () => {\n            state.isLeaving = false;\n            if (!(instance.job.flags & 8)) {\n              instance.update();\n            }\n            delete leavingHooks.afterLeave;\n            oldInnerChild = void 0;\n          };\n          return emptyPlaceholder(child);\n        } else if (mode === \"in-out\" && innerChild.type !== Comment) {\n          leavingHooks.delayLeave = (el, earlyRemove, delayedLeave) => {\n            const leavingVNodesCache = getLeavingNodesForType(\n              state,\n              oldInnerChild\n            );\n            leavingVNodesCache[String(oldInnerChild.key)] = oldInnerChild;\n            el[leaveCbKey] = () => {\n              earlyRemove();\n              el[leaveCbKey] = void 0;\n              delete enterHooks.delayedLeave;\n              oldInnerChild = void 0;\n            };\n            enterHooks.delayedLeave = () => {\n              delayedLeave();\n              delete enterHooks.delayedLeave;\n              oldInnerChild = void 0;\n            };\n          };\n        } else {\n          oldInnerChild = void 0;\n        }\n      } else if (oldInnerChild) {\n        oldInnerChild = void 0;\n      }\n      return child;\n    };\n  }\n};\nfunction findNonCommentChild(children) {\n  let child = children[0];\n  if (children.length > 1) {\n    let hasFound = false;\n    for (const c of children) {\n      if (c.type !== Comment) {\n        if (!!(process.env.NODE_ENV !== \"production\") && hasFound) {\n          warn$1(\n            \"<transition> can only be used on a single element or component. Use <transition-group> for lists.\"\n          );\n          break;\n        }\n        child = c;\n        hasFound = true;\n        if (!!!(process.env.NODE_ENV !== \"production\")) break;\n      }\n    }\n  }\n  return child;\n}\nconst BaseTransition = BaseTransitionImpl;\nfunction getLeavingNodesForType(state, vnode) {\n  const { leavingVNodes } = state;\n  let leavingVNodesCache = leavingVNodes.get(vnode.type);\n  if (!leavingVNodesCache) {\n    leavingVNodesCache = /* @__PURE__ */ Object.create(null);\n    leavingVNodes.set(vnode.type, leavingVNodesCache);\n  }\n  return leavingVNodesCache;\n}\nfunction resolveTransitionHooks(vnode, props, state, instance, postClone) {\n  const {\n    appear,\n    mode,\n    persisted = false,\n    onBeforeEnter,\n    onEnter,\n    onAfterEnter,\n    onEnterCancelled,\n    onBeforeLeave,\n    onLeave,\n    onAfterLeave,\n    onLeaveCancelled,\n    onBeforeAppear,\n    onAppear,\n    onAfterAppear,\n    onAppearCancelled\n  } = props;\n  const key = String(vnode.key);\n  const leavingVNodesCache = getLeavingNodesForType(state, vnode);\n  const callHook = (hook, args) => {\n    hook && callWithAsyncErrorHandling(\n      hook,\n      instance,\n      9,\n      args\n    );\n  };\n  const callAsyncHook = (hook, args) => {\n    const done = args[1];\n    callHook(hook, args);\n    if (isArray(hook)) {\n      if (hook.every((hook2) => hook2.length <= 1)) done();\n    } else if (hook.length <= 1) {\n      done();\n    }\n  };\n  const hooks = {\n    mode,\n    persisted,\n    beforeEnter(el) {\n      let hook = onBeforeEnter;\n      if (!state.isMounted) {\n        if (appear) {\n          hook = onBeforeAppear || onBeforeEnter;\n        } else {\n          return;\n        }\n      }\n      if (el[leaveCbKey]) {\n        el[leaveCbKey](\n          true\n          /* cancelled */\n        );\n      }\n      const leavingVNode = leavingVNodesCache[key];\n      if (leavingVNode && isSameVNodeType(vnode, leavingVNode) && leavingVNode.el[leaveCbKey]) {\n        leavingVNode.el[leaveCbKey]();\n      }\n      callHook(hook, [el]);\n    },\n    enter(el) {\n      let hook = onEnter;\n      let afterHook = onAfterEnter;\n      let cancelHook = onEnterCancelled;\n      if (!state.isMounted) {\n        if (appear) {\n          hook = onAppear || onEnter;\n          afterHook = onAfterAppear || onAfterEnter;\n          cancelHook = onAppearCancelled || onEnterCancelled;\n        } else {\n          return;\n        }\n      }\n      let called = false;\n      const done = el[enterCbKey] = (cancelled) => {\n        if (called) return;\n        called = true;\n        if (cancelled) {\n          callHook(cancelHook, [el]);\n        } else {\n          callHook(afterHook, [el]);\n        }\n        if (hooks.delayedLeave) {\n          hooks.delayedLeave();\n        }\n        el[enterCbKey] = void 0;\n      };\n      if (hook) {\n        callAsyncHook(hook, [el, done]);\n      } else {\n        done();\n      }\n    },\n    leave(el, remove) {\n      const key2 = String(vnode.key);\n      if (el[enterCbKey]) {\n        el[enterCbKey](\n          true\n          /* cancelled */\n        );\n      }\n      if (state.isUnmounting) {\n        return remove();\n      }\n      callHook(onBeforeLeave, [el]);\n      let called = false;\n      const done = el[leaveCbKey] = (cancelled) => {\n        if (called) return;\n        called = true;\n        remove();\n        if (cancelled) {\n          callHook(onLeaveCancelled, [el]);\n        } else {\n          callHook(onAfterLeave, [el]);\n        }\n        el[leaveCbKey] = void 0;\n        if (leavingVNodesCache[key2] === vnode) {\n          delete leavingVNodesCache[key2];\n        }\n      };\n      leavingVNodesCache[key2] = vnode;\n      if (onLeave) {\n        callAsyncHook(onLeave, [el, done]);\n      } else {\n        done();\n      }\n    },\n    clone(vnode2) {\n      const hooks2 = resolveTransitionHooks(\n        vnode2,\n        props,\n        state,\n        instance,\n        postClone\n      );\n      if (postClone) postClone(hooks2);\n      return hooks2;\n    }\n  };\n  return hooks;\n}\nfunction emptyPlaceholder(vnode) {\n  if (isKeepAlive(vnode)) {\n    vnode = cloneVNode(vnode);\n    vnode.children = null;\n    return vnode;\n  }\n}\nfunction getInnerChild$1(vnode) {\n  if (!isKeepAlive(vnode)) {\n    if (isTeleport(vnode.type) && vnode.children) {\n      return findNonCommentChild(vnode.children);\n    }\n    return vnode;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && vnode.component) {\n    return vnode.component.subTree;\n  }\n  const { shapeFlag, children } = vnode;\n  if (children) {\n    if (shapeFlag & 16) {\n      return children[0];\n    }\n    if (shapeFlag & 32 && isFunction(children.default)) {\n      return children.default();\n    }\n  }\n}\nfunction setTransitionHooks(vnode, hooks) {\n  if (vnode.shapeFlag & 6 && vnode.component) {\n    vnode.transition = hooks;\n    setTransitionHooks(vnode.component.subTree, hooks);\n  } else if (vnode.shapeFlag & 128) {\n    vnode.ssContent.transition = hooks.clone(vnode.ssContent);\n    vnode.ssFallback.transition = hooks.clone(vnode.ssFallback);\n  } else {\n    vnode.transition = hooks;\n  }\n}\nfunction getTransitionRawChildren(children, keepComment = false, parentKey) {\n  let ret = [];\n  let keyedFragmentCount = 0;\n  for (let i = 0; i < children.length; i++) {\n    let child = children[i];\n    const key = parentKey == null ? child.key : String(parentKey) + String(child.key != null ? child.key : i);\n    if (child.type === Fragment) {\n      if (child.patchFlag & 128) keyedFragmentCount++;\n      ret = ret.concat(\n        getTransitionRawChildren(child.children, keepComment, key)\n      );\n    } else if (keepComment || child.type !== Comment) {\n      ret.push(key != null ? cloneVNode(child, { key }) : child);\n    }\n  }\n  if (keyedFragmentCount > 1) {\n    for (let i = 0; i < ret.length; i++) {\n      ret[i].patchFlag = -2;\n    }\n  }\n  return ret;\n}\n\n/*! #__NO_SIDE_EFFECTS__ */\n// @__NO_SIDE_EFFECTS__\nfunction defineComponent(options, extraOptions) {\n  return isFunction(options) ? (\n    // #8236: extend call and options.name access are considered side-effects\n    // by Rollup, so we have to wrap it in a pure-annotated IIFE.\n    /* @__PURE__ */ (() => extend({ name: options.name }, extraOptions, { setup: options }))()\n  ) : options;\n}\n\nfunction useId() {\n  const i = getCurrentInstance();\n  if (i) {\n    return (i.appContext.config.idPrefix || \"v\") + \"-\" + i.ids[0] + i.ids[1]++;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(\n      `useId() is called when there is no active component instance to be associated with.`\n    );\n  }\n  return \"\";\n}\nfunction markAsyncBoundary(instance) {\n  instance.ids = [instance.ids[0] + instance.ids[2]++ + \"-\", 0, 0];\n}\n\nconst knownTemplateRefs = /* @__PURE__ */ new WeakSet();\nfunction useTemplateRef(key) {\n  const i = getCurrentInstance();\n  const r = shallowRef(null);\n  if (i) {\n    const refs = i.refs === EMPTY_OBJ ? i.refs = {} : i.refs;\n    let desc;\n    if (!!(process.env.NODE_ENV !== \"production\") && (desc = Object.getOwnPropertyDescriptor(refs, key)) && !desc.configurable) {\n      warn$1(`useTemplateRef('${key}') already exists.`);\n    } else {\n      Object.defineProperty(refs, key, {\n        enumerable: true,\n        get: () => r.value,\n        set: (val) => r.value = val\n      });\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(\n      `useTemplateRef() is called when there is no active component instance to be associated with.`\n    );\n  }\n  const ret = !!(process.env.NODE_ENV !== \"production\") ? readonly(r) : r;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    knownTemplateRefs.add(ret);\n  }\n  return ret;\n}\n\nfunction setRef(rawRef, oldRawRef, parentSuspense, vnode, isUnmount = false) {\n  if (isArray(rawRef)) {\n    rawRef.forEach(\n      (r, i) => setRef(\n        r,\n        oldRawRef && (isArray(oldRawRef) ? oldRawRef[i] : oldRawRef),\n        parentSuspense,\n        vnode,\n        isUnmount\n      )\n    );\n    return;\n  }\n  if (isAsyncWrapper(vnode) && !isUnmount) {\n    if (vnode.shapeFlag & 512 && vnode.type.__asyncResolved && vnode.component.subTree.component) {\n      setRef(rawRef, oldRawRef, parentSuspense, vnode.component.subTree);\n    }\n    return;\n  }\n  const refValue = vnode.shapeFlag & 4 ? getComponentPublicInstance(vnode.component) : vnode.el;\n  const value = isUnmount ? null : refValue;\n  const { i: owner, r: ref } = rawRef;\n  if (!!(process.env.NODE_ENV !== \"production\") && !owner) {\n    warn$1(\n      `Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.`\n    );\n    return;\n  }\n  const oldRef = oldRawRef && oldRawRef.r;\n  const refs = owner.refs === EMPTY_OBJ ? owner.refs = {} : owner.refs;\n  const setupState = owner.setupState;\n  const rawSetupState = toRaw(setupState);\n  const canSetSetupRef = setupState === EMPTY_OBJ ? () => false : (key) => {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      if (hasOwn(rawSetupState, key) && !isRef(rawSetupState[key])) {\n        warn$1(\n          `Template ref \"${key}\" used on a non-ref value. It will not work in the production build.`\n        );\n      }\n      if (knownTemplateRefs.has(rawSetupState[key])) {\n        return false;\n      }\n    }\n    return hasOwn(rawSetupState, key);\n  };\n  if (oldRef != null && oldRef !== ref) {\n    if (isString(oldRef)) {\n      refs[oldRef] = null;\n      if (canSetSetupRef(oldRef)) {\n        setupState[oldRef] = null;\n      }\n    } else if (isRef(oldRef)) {\n      oldRef.value = null;\n    }\n  }\n  if (isFunction(ref)) {\n    callWithErrorHandling(ref, owner, 12, [value, refs]);\n  } else {\n    const _isString = isString(ref);\n    const _isRef = isRef(ref);\n    if (_isString || _isRef) {\n      const doSet = () => {\n        if (rawRef.f) {\n          const existing = _isString ? canSetSetupRef(ref) ? setupState[ref] : refs[ref] : ref.value;\n          if (isUnmount) {\n            isArray(existing) && remove(existing, refValue);\n          } else {\n            if (!isArray(existing)) {\n              if (_isString) {\n                refs[ref] = [refValue];\n                if (canSetSetupRef(ref)) {\n                  setupState[ref] = refs[ref];\n                }\n              } else {\n                ref.value = [refValue];\n                if (rawRef.k) refs[rawRef.k] = ref.value;\n              }\n            } else if (!existing.includes(refValue)) {\n              existing.push(refValue);\n            }\n          }\n        } else if (_isString) {\n          refs[ref] = value;\n          if (canSetSetupRef(ref)) {\n            setupState[ref] = value;\n          }\n        } else if (_isRef) {\n          ref.value = value;\n          if (rawRef.k) refs[rawRef.k] = value;\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\"Invalid template ref type:\", ref, `(${typeof ref})`);\n        }\n      };\n      if (value) {\n        doSet.id = -1;\n        queuePostRenderEffect(doSet, parentSuspense);\n      } else {\n        doSet();\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn$1(\"Invalid template ref type:\", ref, `(${typeof ref})`);\n    }\n  }\n}\n\nlet hasLoggedMismatchError = false;\nconst logMismatchError = () => {\n  if (hasLoggedMismatchError) {\n    return;\n  }\n  console.error(\"Hydration completed but contains mismatches.\");\n  hasLoggedMismatchError = true;\n};\nconst isSVGContainer = (container) => container.namespaceURI.includes(\"svg\") && container.tagName !== \"foreignObject\";\nconst isMathMLContainer = (container) => container.namespaceURI.includes(\"MathML\");\nconst getContainerType = (container) => {\n  if (container.nodeType !== 1) return void 0;\n  if (isSVGContainer(container)) return \"svg\";\n  if (isMathMLContainer(container)) return \"mathml\";\n  return void 0;\n};\nconst isComment = (node) => node.nodeType === 8;\nfunction createHydrationFunctions(rendererInternals) {\n  const {\n    mt: mountComponent,\n    p: patch,\n    o: {\n      patchProp,\n      createText,\n      nextSibling,\n      parentNode,\n      remove,\n      insert,\n      createComment\n    }\n  } = rendererInternals;\n  const hydrate = (vnode, container) => {\n    if (!container.hasChildNodes()) {\n      (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && warn$1(\n        `Attempting to hydrate existing markup but container is empty. Performing full mount instead.`\n      );\n      patch(null, vnode, container);\n      flushPostFlushCbs();\n      container._vnode = vnode;\n      return;\n    }\n    hydrateNode(container.firstChild, vnode, null, null, null);\n    flushPostFlushCbs();\n    container._vnode = vnode;\n  };\n  const hydrateNode = (node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized = false) => {\n    optimized = optimized || !!vnode.dynamicChildren;\n    const isFragmentStart = isComment(node) && node.data === \"[\";\n    const onMismatch = () => handleMismatch(\n      node,\n      vnode,\n      parentComponent,\n      parentSuspense,\n      slotScopeIds,\n      isFragmentStart\n    );\n    const { type, ref, shapeFlag, patchFlag } = vnode;\n    let domType = node.nodeType;\n    vnode.el = node;\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      def(node, \"__vnode\", vnode, true);\n      def(node, \"__vueParentComponent\", parentComponent, true);\n    }\n    if (patchFlag === -2) {\n      optimized = false;\n      vnode.dynamicChildren = null;\n    }\n    let nextNode = null;\n    switch (type) {\n      case Text:\n        if (domType !== 3) {\n          if (vnode.children === \"\") {\n            insert(vnode.el = createText(\"\"), parentNode(node), node);\n            nextNode = node;\n          } else {\n            nextNode = onMismatch();\n          }\n        } else {\n          if (node.data !== vnode.children) {\n            (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && warn$1(\n              `Hydration text mismatch in`,\n              node.parentNode,\n              `\n  - rendered on server: ${JSON.stringify(\n                node.data\n              )}\n  - expected on client: ${JSON.stringify(vnode.children)}`\n            );\n            logMismatchError();\n            node.data = vnode.children;\n          }\n          nextNode = nextSibling(node);\n        }\n        break;\n      case Comment:\n        if (isTemplateNode(node)) {\n          nextNode = nextSibling(node);\n          replaceNode(\n            vnode.el = node.content.firstChild,\n            node,\n            parentComponent\n          );\n        } else if (domType !== 8 || isFragmentStart) {\n          nextNode = onMismatch();\n        } else {\n          nextNode = nextSibling(node);\n        }\n        break;\n      case Static:\n        if (isFragmentStart) {\n          node = nextSibling(node);\n          domType = node.nodeType;\n        }\n        if (domType === 1 || domType === 3) {\n          nextNode = node;\n          const needToAdoptContent = !vnode.children.length;\n          for (let i = 0; i < vnode.staticCount; i++) {\n            if (needToAdoptContent)\n              vnode.children += nextNode.nodeType === 1 ? nextNode.outerHTML : nextNode.data;\n            if (i === vnode.staticCount - 1) {\n              vnode.anchor = nextNode;\n            }\n            nextNode = nextSibling(nextNode);\n          }\n          return isFragmentStart ? nextSibling(nextNode) : nextNode;\n        } else {\n          onMismatch();\n        }\n        break;\n      case Fragment:\n        if (!isFragmentStart) {\n          nextNode = onMismatch();\n        } else {\n          nextNode = hydrateFragment(\n            node,\n            vnode,\n            parentComponent,\n            parentSuspense,\n            slotScopeIds,\n            optimized\n          );\n        }\n        break;\n      default:\n        if (shapeFlag & 1) {\n          if ((domType !== 1 || vnode.type.toLowerCase() !== node.tagName.toLowerCase()) && !isTemplateNode(node)) {\n            nextNode = onMismatch();\n          } else {\n            nextNode = hydrateElement(\n              node,\n              vnode,\n              parentComponent,\n              parentSuspense,\n              slotScopeIds,\n              optimized\n            );\n          }\n        } else if (shapeFlag & 6) {\n          vnode.slotScopeIds = slotScopeIds;\n          const container = parentNode(node);\n          if (isFragmentStart) {\n            nextNode = locateClosingAnchor(node);\n          } else if (isComment(node) && node.data === \"teleport start\") {\n            nextNode = locateClosingAnchor(node, node.data, \"teleport end\");\n          } else {\n            nextNode = nextSibling(node);\n          }\n          mountComponent(\n            vnode,\n            container,\n            null,\n            parentComponent,\n            parentSuspense,\n            getContainerType(container),\n            optimized\n          );\n          if (isAsyncWrapper(vnode) && !vnode.type.__asyncResolved) {\n            let subTree;\n            if (isFragmentStart) {\n              subTree = createVNode(Fragment);\n              subTree.anchor = nextNode ? nextNode.previousSibling : container.lastChild;\n            } else {\n              subTree = node.nodeType === 3 ? createTextVNode(\"\") : createVNode(\"div\");\n            }\n            subTree.el = node;\n            vnode.component.subTree = subTree;\n          }\n        } else if (shapeFlag & 64) {\n          if (domType !== 8) {\n            nextNode = onMismatch();\n          } else {\n            nextNode = vnode.type.hydrate(\n              node,\n              vnode,\n              parentComponent,\n              parentSuspense,\n              slotScopeIds,\n              optimized,\n              rendererInternals,\n              hydrateChildren\n            );\n          }\n        } else if (shapeFlag & 128) {\n          nextNode = vnode.type.hydrate(\n            node,\n            vnode,\n            parentComponent,\n            parentSuspense,\n            getContainerType(parentNode(node)),\n            slotScopeIds,\n            optimized,\n            rendererInternals,\n            hydrateNode\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) {\n          warn$1(\"Invalid HostVNode type:\", type, `(${typeof type})`);\n        }\n    }\n    if (ref != null) {\n      setRef(ref, null, parentSuspense, vnode);\n    }\n    return nextNode;\n  };\n  const hydrateElement = (el, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    optimized = optimized || !!vnode.dynamicChildren;\n    const { type, props, patchFlag, shapeFlag, dirs, transition } = vnode;\n    const forcePatch = type === \"input\" || type === \"option\";\n    if (!!(process.env.NODE_ENV !== \"production\") || forcePatch || patchFlag !== -1) {\n      if (dirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"created\");\n      }\n      let needCallTransitionHooks = false;\n      if (isTemplateNode(el)) {\n        needCallTransitionHooks = needTransition(\n          null,\n          // no need check parentSuspense in hydration\n          transition\n        ) && parentComponent && parentComponent.vnode.props && parentComponent.vnode.props.appear;\n        const content = el.content.firstChild;\n        if (needCallTransitionHooks) {\n          transition.beforeEnter(content);\n        }\n        replaceNode(content, el, parentComponent);\n        vnode.el = el = content;\n      }\n      if (shapeFlag & 16 && // skip if element has innerHTML / textContent\n      !(props && (props.innerHTML || props.textContent))) {\n        let next = hydrateChildren(\n          el.firstChild,\n          vnode,\n          el,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n        let hasWarned = false;\n        while (next) {\n          if (!isMismatchAllowed(el, 1 /* CHILDREN */)) {\n            if ((!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && !hasWarned) {\n              warn$1(\n                `Hydration children mismatch on`,\n                el,\n                `\nServer rendered element contains more child nodes than client vdom.`\n              );\n              hasWarned = true;\n            }\n            logMismatchError();\n          }\n          const cur = next;\n          next = next.nextSibling;\n          remove(cur);\n        }\n      } else if (shapeFlag & 8) {\n        let clientText = vnode.children;\n        if (clientText[0] === \"\\n\" && (el.tagName === \"PRE\" || el.tagName === \"TEXTAREA\")) {\n          clientText = clientText.slice(1);\n        }\n        if (el.textContent !== clientText) {\n          if (!isMismatchAllowed(el, 0 /* TEXT */)) {\n            (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && warn$1(\n              `Hydration text content mismatch on`,\n              el,\n              `\n  - rendered on server: ${el.textContent}\n  - expected on client: ${vnode.children}`\n            );\n            logMismatchError();\n          }\n          el.textContent = vnode.children;\n        }\n      }\n      if (props) {\n        if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__ || forcePatch || !optimized || patchFlag & (16 | 32)) {\n          const isCustomElement = el.tagName.includes(\"-\");\n          for (const key in props) {\n            if ((!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && // #11189 skip if this node has directives that have created hooks\n            // as it could have mutated the DOM in any possible way\n            !(dirs && dirs.some((d) => d.dir.created)) && propHasMismatch(el, key, props[key], vnode, parentComponent)) {\n              logMismatchError();\n            }\n            if (forcePatch && (key.endsWith(\"value\") || key === \"indeterminate\") || isOn(key) && !isReservedProp(key) || // force hydrate v-bind with .prop modifiers\n            key[0] === \".\" || isCustomElement) {\n              patchProp(el, key, null, props[key], void 0, parentComponent);\n            }\n          }\n        } else if (props.onClick) {\n          patchProp(\n            el,\n            \"onClick\",\n            null,\n            props.onClick,\n            void 0,\n            parentComponent\n          );\n        } else if (patchFlag & 4 && isReactive(props.style)) {\n          for (const key in props.style) props.style[key];\n        }\n      }\n      let vnodeHooks;\n      if (vnodeHooks = props && props.onVnodeBeforeMount) {\n        invokeVNodeHook(vnodeHooks, parentComponent, vnode);\n      }\n      if (dirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"beforeMount\");\n      }\n      if ((vnodeHooks = props && props.onVnodeMounted) || dirs || needCallTransitionHooks) {\n        queueEffectWithSuspense(() => {\n          vnodeHooks && invokeVNodeHook(vnodeHooks, parentComponent, vnode);\n          needCallTransitionHooks && transition.enter(el);\n          dirs && invokeDirectiveHook(vnode, null, parentComponent, \"mounted\");\n        }, parentSuspense);\n      }\n    }\n    return el.nextSibling;\n  };\n  const hydrateChildren = (node, parentVNode, container, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    optimized = optimized || !!parentVNode.dynamicChildren;\n    const children = parentVNode.children;\n    const l = children.length;\n    let hasWarned = false;\n    for (let i = 0; i < l; i++) {\n      const vnode = optimized ? children[i] : children[i] = normalizeVNode(children[i]);\n      const isText = vnode.type === Text;\n      if (node) {\n        if (isText && !optimized) {\n          if (i + 1 < l && normalizeVNode(children[i + 1]).type === Text) {\n            insert(\n              createText(\n                node.data.slice(vnode.children.length)\n              ),\n              container,\n              nextSibling(node)\n            );\n            node.data = vnode.children;\n          }\n        }\n        node = hydrateNode(\n          node,\n          vnode,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n      } else if (isText && !vnode.children) {\n        insert(vnode.el = createText(\"\"), container);\n      } else {\n        if (!isMismatchAllowed(container, 1 /* CHILDREN */)) {\n          if ((!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && !hasWarned) {\n            warn$1(\n              `Hydration children mismatch on`,\n              container,\n              `\nServer rendered element contains fewer child nodes than client vdom.`\n            );\n            hasWarned = true;\n          }\n          logMismatchError();\n        }\n        patch(\n          null,\n          vnode,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          getContainerType(container),\n          slotScopeIds\n        );\n      }\n    }\n    return node;\n  };\n  const hydrateFragment = (node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    const { slotScopeIds: fragmentSlotScopeIds } = vnode;\n    if (fragmentSlotScopeIds) {\n      slotScopeIds = slotScopeIds ? slotScopeIds.concat(fragmentSlotScopeIds) : fragmentSlotScopeIds;\n    }\n    const container = parentNode(node);\n    const next = hydrateChildren(\n      nextSibling(node),\n      vnode,\n      container,\n      parentComponent,\n      parentSuspense,\n      slotScopeIds,\n      optimized\n    );\n    if (next && isComment(next) && next.data === \"]\") {\n      return nextSibling(vnode.anchor = next);\n    } else {\n      logMismatchError();\n      insert(vnode.anchor = createComment(`]`), container, next);\n      return next;\n    }\n  };\n  const handleMismatch = (node, vnode, parentComponent, parentSuspense, slotScopeIds, isFragment) => {\n    if (!isMismatchAllowed(node.parentElement, 1 /* CHILDREN */)) {\n      (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && warn$1(\n        `Hydration node mismatch:\n- rendered on server:`,\n        node,\n        node.nodeType === 3 ? `(text)` : isComment(node) && node.data === \"[\" ? `(start of fragment)` : ``,\n        `\n- expected on client:`,\n        vnode.type\n      );\n      logMismatchError();\n    }\n    vnode.el = null;\n    if (isFragment) {\n      const end = locateClosingAnchor(node);\n      while (true) {\n        const next2 = nextSibling(node);\n        if (next2 && next2 !== end) {\n          remove(next2);\n        } else {\n          break;\n        }\n      }\n    }\n    const next = nextSibling(node);\n    const container = parentNode(node);\n    remove(node);\n    patch(\n      null,\n      vnode,\n      container,\n      next,\n      parentComponent,\n      parentSuspense,\n      getContainerType(container),\n      slotScopeIds\n    );\n    if (parentComponent) {\n      parentComponent.vnode.el = vnode.el;\n      updateHOCHostEl(parentComponent, vnode.el);\n    }\n    return next;\n  };\n  const locateClosingAnchor = (node, open = \"[\", close = \"]\") => {\n    let match = 0;\n    while (node) {\n      node = nextSibling(node);\n      if (node && isComment(node)) {\n        if (node.data === open) match++;\n        if (node.data === close) {\n          if (match === 0) {\n            return nextSibling(node);\n          } else {\n            match--;\n          }\n        }\n      }\n    }\n    return node;\n  };\n  const replaceNode = (newNode, oldNode, parentComponent) => {\n    const parentNode2 = oldNode.parentNode;\n    if (parentNode2) {\n      parentNode2.replaceChild(newNode, oldNode);\n    }\n    let parent = parentComponent;\n    while (parent) {\n      if (parent.vnode.el === oldNode) {\n        parent.vnode.el = parent.subTree.el = newNode;\n      }\n      parent = parent.parent;\n    }\n  };\n  const isTemplateNode = (node) => {\n    return node.nodeType === 1 && node.tagName === \"TEMPLATE\";\n  };\n  return [hydrate, hydrateNode];\n}\nfunction propHasMismatch(el, key, clientValue, vnode, instance) {\n  let mismatchType;\n  let mismatchKey;\n  let actual;\n  let expected;\n  if (key === \"class\") {\n    actual = el.getAttribute(\"class\");\n    expected = normalizeClass(clientValue);\n    if (!isSetEqual(toClassSet(actual || \"\"), toClassSet(expected))) {\n      mismatchType = 2 /* CLASS */;\n      mismatchKey = `class`;\n    }\n  } else if (key === \"style\") {\n    actual = el.getAttribute(\"style\") || \"\";\n    expected = isString(clientValue) ? clientValue : stringifyStyle(normalizeStyle(clientValue));\n    const actualMap = toStyleMap(actual);\n    const expectedMap = toStyleMap(expected);\n    if (vnode.dirs) {\n      for (const { dir, value } of vnode.dirs) {\n        if (dir.name === \"show\" && !value) {\n          expectedMap.set(\"display\", \"none\");\n        }\n      }\n    }\n    if (instance) {\n      resolveCssVars(instance, vnode, expectedMap);\n    }\n    if (!isMapEqual(actualMap, expectedMap)) {\n      mismatchType = 3 /* STYLE */;\n      mismatchKey = \"style\";\n    }\n  } else if (el instanceof SVGElement && isKnownSvgAttr(key) || el instanceof HTMLElement && (isBooleanAttr(key) || isKnownHtmlAttr(key))) {\n    if (isBooleanAttr(key)) {\n      actual = el.hasAttribute(key);\n      expected = includeBooleanAttr(clientValue);\n    } else if (clientValue == null) {\n      actual = el.hasAttribute(key);\n      expected = false;\n    } else {\n      if (el.hasAttribute(key)) {\n        actual = el.getAttribute(key);\n      } else if (key === \"value\" && el.tagName === \"TEXTAREA\") {\n        actual = el.value;\n      } else {\n        actual = false;\n      }\n      expected = isRenderableAttrValue(clientValue) ? String(clientValue) : false;\n    }\n    if (actual !== expected) {\n      mismatchType = 4 /* ATTRIBUTE */;\n      mismatchKey = key;\n    }\n  }\n  if (mismatchType != null && !isMismatchAllowed(el, mismatchType)) {\n    const format = (v) => v === false ? `(not rendered)` : `${mismatchKey}=\"${v}\"`;\n    const preSegment = `Hydration ${MismatchTypeString[mismatchType]} mismatch on`;\n    const postSegment = `\n  - rendered on server: ${format(actual)}\n  - expected on client: ${format(expected)}\n  Note: this mismatch is check-only. The DOM will not be rectified in production due to performance overhead.\n  You should fix the source of the mismatch.`;\n    {\n      warn$1(preSegment, el, postSegment);\n    }\n    return true;\n  }\n  return false;\n}\nfunction toClassSet(str) {\n  return new Set(str.trim().split(/\\s+/));\n}\nfunction isSetEqual(a, b) {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const s of a) {\n    if (!b.has(s)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction toStyleMap(str) {\n  const styleMap = /* @__PURE__ */ new Map();\n  for (const item of str.split(\";\")) {\n    let [key, value] = item.split(\":\");\n    key = key.trim();\n    value = value && value.trim();\n    if (key && value) {\n      styleMap.set(key, value);\n    }\n  }\n  return styleMap;\n}\nfunction isMapEqual(a, b) {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const [key, value] of a) {\n    if (value !== b.get(key)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction resolveCssVars(instance, vnode, expectedMap) {\n  const root = instance.subTree;\n  if (instance.getCssVars && (vnode === root || root && root.type === Fragment && root.children.includes(vnode))) {\n    const cssVars = instance.getCssVars();\n    for (const key in cssVars) {\n      expectedMap.set(\n        `--${getEscapedCssVarName(key, false)}`,\n        String(cssVars[key])\n      );\n    }\n  }\n  if (vnode === root && instance.parent) {\n    resolveCssVars(instance.parent, instance.vnode, expectedMap);\n  }\n}\nconst allowMismatchAttr = \"data-allow-mismatch\";\nconst MismatchTypeString = {\n  [0 /* TEXT */]: \"text\",\n  [1 /* CHILDREN */]: \"children\",\n  [2 /* CLASS */]: \"class\",\n  [3 /* STYLE */]: \"style\",\n  [4 /* ATTRIBUTE */]: \"attribute\"\n};\nfunction isMismatchAllowed(el, allowedType) {\n  if (allowedType === 0 /* TEXT */ || allowedType === 1 /* CHILDREN */) {\n    while (el && !el.hasAttribute(allowMismatchAttr)) {\n      el = el.parentElement;\n    }\n  }\n  const allowedAttr = el && el.getAttribute(allowMismatchAttr);\n  if (allowedAttr == null) {\n    return false;\n  } else if (allowedAttr === \"\") {\n    return true;\n  } else {\n    const list = allowedAttr.split(\",\");\n    if (allowedType === 0 /* TEXT */ && list.includes(\"children\")) {\n      return true;\n    }\n    return allowedAttr.split(\",\").includes(MismatchTypeString[allowedType]);\n  }\n}\n\nconst requestIdleCallback = getGlobalThis().requestIdleCallback || ((cb) => setTimeout(cb, 1));\nconst cancelIdleCallback = getGlobalThis().cancelIdleCallback || ((id) => clearTimeout(id));\nconst hydrateOnIdle = (timeout = 1e4) => (hydrate) => {\n  const id = requestIdleCallback(hydrate, { timeout });\n  return () => cancelIdleCallback(id);\n};\nfunction elementIsVisibleInViewport(el) {\n  const { top, left, bottom, right } = el.getBoundingClientRect();\n  const { innerHeight, innerWidth } = window;\n  return (top > 0 && top < innerHeight || bottom > 0 && bottom < innerHeight) && (left > 0 && left < innerWidth || right > 0 && right < innerWidth);\n}\nconst hydrateOnVisible = (opts) => (hydrate, forEach) => {\n  const ob = new IntersectionObserver((entries) => {\n    for (const e of entries) {\n      if (!e.isIntersecting) continue;\n      ob.disconnect();\n      hydrate();\n      break;\n    }\n  }, opts);\n  forEach((el) => {\n    if (!(el instanceof Element)) return;\n    if (elementIsVisibleInViewport(el)) {\n      hydrate();\n      ob.disconnect();\n      return false;\n    }\n    ob.observe(el);\n  });\n  return () => ob.disconnect();\n};\nconst hydrateOnMediaQuery = (query) => (hydrate) => {\n  if (query) {\n    const mql = matchMedia(query);\n    if (mql.matches) {\n      hydrate();\n    } else {\n      mql.addEventListener(\"change\", hydrate, { once: true });\n      return () => mql.removeEventListener(\"change\", hydrate);\n    }\n  }\n};\nconst hydrateOnInteraction = (interactions = []) => (hydrate, forEach) => {\n  if (isString(interactions)) interactions = [interactions];\n  let hasHydrated = false;\n  const doHydrate = (e) => {\n    if (!hasHydrated) {\n      hasHydrated = true;\n      teardown();\n      hydrate();\n      e.target.dispatchEvent(new e.constructor(e.type, e));\n    }\n  };\n  const teardown = () => {\n    forEach((el) => {\n      for (const i of interactions) {\n        el.removeEventListener(i, doHydrate);\n      }\n    });\n  };\n  forEach((el) => {\n    for (const i of interactions) {\n      el.addEventListener(i, doHydrate, { once: true });\n    }\n  });\n  return teardown;\n};\nfunction forEachElement(node, cb) {\n  if (isComment(node) && node.data === \"[\") {\n    let depth = 1;\n    let next = node.nextSibling;\n    while (next) {\n      if (next.nodeType === 1) {\n        const result = cb(next);\n        if (result === false) {\n          break;\n        }\n      } else if (isComment(next)) {\n        if (next.data === \"]\") {\n          if (--depth === 0) break;\n        } else if (next.data === \"[\") {\n          depth++;\n        }\n      }\n      next = next.nextSibling;\n    }\n  } else {\n    cb(node);\n  }\n}\n\nconst isAsyncWrapper = (i) => !!i.type.__asyncLoader;\n/*! #__NO_SIDE_EFFECTS__ */\n// @__NO_SIDE_EFFECTS__\nfunction defineAsyncComponent(source) {\n  if (isFunction(source)) {\n    source = { loader: source };\n  }\n  const {\n    loader,\n    loadingComponent,\n    errorComponent,\n    delay = 200,\n    hydrate: hydrateStrategy,\n    timeout,\n    // undefined = never times out\n    suspensible = true,\n    onError: userOnError\n  } = source;\n  let pendingRequest = null;\n  let resolvedComp;\n  let retries = 0;\n  const retry = () => {\n    retries++;\n    pendingRequest = null;\n    return load();\n  };\n  const load = () => {\n    let thisRequest;\n    return pendingRequest || (thisRequest = pendingRequest = loader().catch((err) => {\n      err = err instanceof Error ? err : new Error(String(err));\n      if (userOnError) {\n        return new Promise((resolve, reject) => {\n          const userRetry = () => resolve(retry());\n          const userFail = () => reject(err);\n          userOnError(err, userRetry, userFail, retries + 1);\n        });\n      } else {\n        throw err;\n      }\n    }).then((comp) => {\n      if (thisRequest !== pendingRequest && pendingRequest) {\n        return pendingRequest;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && !comp) {\n        warn$1(\n          `Async component loader resolved to undefined. If you are using retry(), make sure to return its return value.`\n        );\n      }\n      if (comp && (comp.__esModule || comp[Symbol.toStringTag] === \"Module\")) {\n        comp = comp.default;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && comp && !isObject(comp) && !isFunction(comp)) {\n        throw new Error(`Invalid async component load result: ${comp}`);\n      }\n      resolvedComp = comp;\n      return comp;\n    }));\n  };\n  return defineComponent({\n    name: \"AsyncComponentWrapper\",\n    __asyncLoader: load,\n    __asyncHydrate(el, instance, hydrate) {\n      const doHydrate = hydrateStrategy ? () => {\n        const teardown = hydrateStrategy(\n          hydrate,\n          (cb) => forEachElement(el, cb)\n        );\n        if (teardown) {\n          (instance.bum || (instance.bum = [])).push(teardown);\n        }\n      } : hydrate;\n      if (resolvedComp) {\n        doHydrate();\n      } else {\n        load().then(() => !instance.isUnmounted && doHydrate());\n      }\n    },\n    get __asyncResolved() {\n      return resolvedComp;\n    },\n    setup() {\n      const instance = currentInstance;\n      markAsyncBoundary(instance);\n      if (resolvedComp) {\n        return () => createInnerComp(resolvedComp, instance);\n      }\n      const onError = (err) => {\n        pendingRequest = null;\n        handleError(\n          err,\n          instance,\n          13,\n          !errorComponent\n        );\n      };\n      if (suspensible && instance.suspense || isInSSRComponentSetup) {\n        return load().then((comp) => {\n          return () => createInnerComp(comp, instance);\n        }).catch((err) => {\n          onError(err);\n          return () => errorComponent ? createVNode(errorComponent, {\n            error: err\n          }) : null;\n        });\n      }\n      const loaded = ref(false);\n      const error = ref();\n      const delayed = ref(!!delay);\n      if (delay) {\n        setTimeout(() => {\n          delayed.value = false;\n        }, delay);\n      }\n      if (timeout != null) {\n        setTimeout(() => {\n          if (!loaded.value && !error.value) {\n            const err = new Error(\n              `Async component timed out after ${timeout}ms.`\n            );\n            onError(err);\n            error.value = err;\n          }\n        }, timeout);\n      }\n      load().then(() => {\n        loaded.value = true;\n        if (instance.parent && isKeepAlive(instance.parent.vnode)) {\n          instance.parent.update();\n        }\n      }).catch((err) => {\n        onError(err);\n        error.value = err;\n      });\n      return () => {\n        if (loaded.value && resolvedComp) {\n          return createInnerComp(resolvedComp, instance);\n        } else if (error.value && errorComponent) {\n          return createVNode(errorComponent, {\n            error: error.value\n          });\n        } else if (loadingComponent && !delayed.value) {\n          return createVNode(loadingComponent);\n        }\n      };\n    }\n  });\n}\nfunction createInnerComp(comp, parent) {\n  const { ref: ref2, props, children, ce } = parent.vnode;\n  const vnode = createVNode(comp, props, children);\n  vnode.ref = ref2;\n  vnode.ce = ce;\n  delete parent.vnode.ce;\n  return vnode;\n}\n\nconst isKeepAlive = (vnode) => vnode.type.__isKeepAlive;\nconst KeepAliveImpl = {\n  name: `KeepAlive`,\n  // Marker for special handling inside the renderer. We are not using a ===\n  // check directly on KeepAlive in the renderer, because importing it directly\n  // would prevent it from being tree-shaken.\n  __isKeepAlive: true,\n  props: {\n    include: [String, RegExp, Array],\n    exclude: [String, RegExp, Array],\n    max: [String, Number]\n  },\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const sharedContext = instance.ctx;\n    if (!sharedContext.renderer) {\n      return () => {\n        const children = slots.default && slots.default();\n        return children && children.length === 1 ? children[0] : children;\n      };\n    }\n    const cache = /* @__PURE__ */ new Map();\n    const keys = /* @__PURE__ */ new Set();\n    let current = null;\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      instance.__v_cache = cache;\n    }\n    const parentSuspense = instance.suspense;\n    const {\n      renderer: {\n        p: patch,\n        m: move,\n        um: _unmount,\n        o: { createElement }\n      }\n    } = sharedContext;\n    const storageContainer = createElement(\"div\");\n    sharedContext.activate = (vnode, container, anchor, namespace, optimized) => {\n      const instance2 = vnode.component;\n      move(vnode, container, anchor, 0, parentSuspense);\n      patch(\n        instance2.vnode,\n        vnode,\n        container,\n        anchor,\n        instance2,\n        parentSuspense,\n        namespace,\n        vnode.slotScopeIds,\n        optimized\n      );\n      queuePostRenderEffect(() => {\n        instance2.isDeactivated = false;\n        if (instance2.a) {\n          invokeArrayFns(instance2.a);\n        }\n        const vnodeHook = vnode.props && vnode.props.onVnodeMounted;\n        if (vnodeHook) {\n          invokeVNodeHook(vnodeHook, instance2.parent, vnode);\n        }\n      }, parentSuspense);\n      if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n        devtoolsComponentAdded(instance2);\n      }\n    };\n    sharedContext.deactivate = (vnode) => {\n      const instance2 = vnode.component;\n      invalidateMount(instance2.m);\n      invalidateMount(instance2.a);\n      move(vnode, storageContainer, null, 1, parentSuspense);\n      queuePostRenderEffect(() => {\n        if (instance2.da) {\n          invokeArrayFns(instance2.da);\n        }\n        const vnodeHook = vnode.props && vnode.props.onVnodeUnmounted;\n        if (vnodeHook) {\n          invokeVNodeHook(vnodeHook, instance2.parent, vnode);\n        }\n        instance2.isDeactivated = true;\n      }, parentSuspense);\n      if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n        devtoolsComponentAdded(instance2);\n      }\n    };\n    function unmount(vnode) {\n      resetShapeFlag(vnode);\n      _unmount(vnode, instance, parentSuspense, true);\n    }\n    function pruneCache(filter) {\n      cache.forEach((vnode, key) => {\n        const name = getComponentName(vnode.type);\n        if (name && !filter(name)) {\n          pruneCacheEntry(key);\n        }\n      });\n    }\n    function pruneCacheEntry(key) {\n      const cached = cache.get(key);\n      if (cached && (!current || !isSameVNodeType(cached, current))) {\n        unmount(cached);\n      } else if (current) {\n        resetShapeFlag(current);\n      }\n      cache.delete(key);\n      keys.delete(key);\n    }\n    watch(\n      () => [props.include, props.exclude],\n      ([include, exclude]) => {\n        include && pruneCache((name) => matches(include, name));\n        exclude && pruneCache((name) => !matches(exclude, name));\n      },\n      // prune post-render after `current` has been updated\n      { flush: \"post\", deep: true }\n    );\n    let pendingCacheKey = null;\n    const cacheSubtree = () => {\n      if (pendingCacheKey != null) {\n        if (isSuspense(instance.subTree.type)) {\n          queuePostRenderEffect(() => {\n            cache.set(pendingCacheKey, getInnerChild(instance.subTree));\n          }, instance.subTree.suspense);\n        } else {\n          cache.set(pendingCacheKey, getInnerChild(instance.subTree));\n        }\n      }\n    };\n    onMounted(cacheSubtree);\n    onUpdated(cacheSubtree);\n    onBeforeUnmount(() => {\n      cache.forEach((cached) => {\n        const { subTree, suspense } = instance;\n        const vnode = getInnerChild(subTree);\n        if (cached.type === vnode.type && cached.key === vnode.key) {\n          resetShapeFlag(vnode);\n          const da = vnode.component.da;\n          da && queuePostRenderEffect(da, suspense);\n          return;\n        }\n        unmount(cached);\n      });\n    });\n    return () => {\n      pendingCacheKey = null;\n      if (!slots.default) {\n        return current = null;\n      }\n      const children = slots.default();\n      const rawVNode = children[0];\n      if (children.length > 1) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(`KeepAlive should contain exactly one component child.`);\n        }\n        current = null;\n        return children;\n      } else if (!isVNode(rawVNode) || !(rawVNode.shapeFlag & 4) && !(rawVNode.shapeFlag & 128)) {\n        current = null;\n        return rawVNode;\n      }\n      let vnode = getInnerChild(rawVNode);\n      if (vnode.type === Comment) {\n        current = null;\n        return vnode;\n      }\n      const comp = vnode.type;\n      const name = getComponentName(\n        isAsyncWrapper(vnode) ? vnode.type.__asyncResolved || {} : comp\n      );\n      const { include, exclude, max } = props;\n      if (include && (!name || !matches(include, name)) || exclude && name && matches(exclude, name)) {\n        vnode.shapeFlag &= ~256;\n        current = vnode;\n        return rawVNode;\n      }\n      const key = vnode.key == null ? comp : vnode.key;\n      const cachedVNode = cache.get(key);\n      if (vnode.el) {\n        vnode = cloneVNode(vnode);\n        if (rawVNode.shapeFlag & 128) {\n          rawVNode.ssContent = vnode;\n        }\n      }\n      pendingCacheKey = key;\n      if (cachedVNode) {\n        vnode.el = cachedVNode.el;\n        vnode.component = cachedVNode.component;\n        if (vnode.transition) {\n          setTransitionHooks(vnode, vnode.transition);\n        }\n        vnode.shapeFlag |= 512;\n        keys.delete(key);\n        keys.add(key);\n      } else {\n        keys.add(key);\n        if (max && keys.size > parseInt(max, 10)) {\n          pruneCacheEntry(keys.values().next().value);\n        }\n      }\n      vnode.shapeFlag |= 256;\n      current = vnode;\n      return isSuspense(rawVNode.type) ? rawVNode : vnode;\n    };\n  }\n};\nconst KeepAlive = KeepAliveImpl;\nfunction matches(pattern, name) {\n  if (isArray(pattern)) {\n    return pattern.some((p) => matches(p, name));\n  } else if (isString(pattern)) {\n    return pattern.split(\",\").includes(name);\n  } else if (isRegExp(pattern)) {\n    pattern.lastIndex = 0;\n    return pattern.test(name);\n  }\n  return false;\n}\nfunction onActivated(hook, target) {\n  registerKeepAliveHook(hook, \"a\", target);\n}\nfunction onDeactivated(hook, target) {\n  registerKeepAliveHook(hook, \"da\", target);\n}\nfunction registerKeepAliveHook(hook, type, target = currentInstance) {\n  const wrappedHook = hook.__wdc || (hook.__wdc = () => {\n    let current = target;\n    while (current) {\n      if (current.isDeactivated) {\n        return;\n      }\n      current = current.parent;\n    }\n    return hook();\n  });\n  injectHook(type, wrappedHook, target);\n  if (target) {\n    let current = target.parent;\n    while (current && current.parent) {\n      if (isKeepAlive(current.parent.vnode)) {\n        injectToKeepAliveRoot(wrappedHook, type, target, current);\n      }\n      current = current.parent;\n    }\n  }\n}\nfunction injectToKeepAliveRoot(hook, type, target, keepAliveRoot) {\n  const injected = injectHook(\n    type,\n    hook,\n    keepAliveRoot,\n    true\n    /* prepend */\n  );\n  onUnmounted(() => {\n    remove(keepAliveRoot[type], injected);\n  }, target);\n}\nfunction resetShapeFlag(vnode) {\n  vnode.shapeFlag &= ~256;\n  vnode.shapeFlag &= ~512;\n}\nfunction getInnerChild(vnode) {\n  return vnode.shapeFlag & 128 ? vnode.ssContent : vnode;\n}\n\nfunction injectHook(type, hook, target = currentInstance, prepend = false) {\n  if (target) {\n    const hooks = target[type] || (target[type] = []);\n    const wrappedHook = hook.__weh || (hook.__weh = (...args) => {\n      pauseTracking();\n      const reset = setCurrentInstance(target);\n      const res = callWithAsyncErrorHandling(hook, target, type, args);\n      reset();\n      resetTracking();\n      return res;\n    });\n    if (prepend) {\n      hooks.unshift(wrappedHook);\n    } else {\n      hooks.push(wrappedHook);\n    }\n    return wrappedHook;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    const apiName = toHandlerKey(ErrorTypeStrings$1[type].replace(/ hook$/, \"\"));\n    warn$1(\n      `${apiName} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup().` + (` If you are using async setup(), make sure to register lifecycle hooks before the first await statement.` )\n    );\n  }\n}\nconst createHook = (lifecycle) => (hook, target = currentInstance) => {\n  if (!isInSSRComponentSetup || lifecycle === \"sp\") {\n    injectHook(lifecycle, (...args) => hook(...args), target);\n  }\n};\nconst onBeforeMount = createHook(\"bm\");\nconst onMounted = createHook(\"m\");\nconst onBeforeUpdate = createHook(\n  \"bu\"\n);\nconst onUpdated = createHook(\"u\");\nconst onBeforeUnmount = createHook(\n  \"bum\"\n);\nconst onUnmounted = createHook(\"um\");\nconst onServerPrefetch = createHook(\n  \"sp\"\n);\nconst onRenderTriggered = createHook(\"rtg\");\nconst onRenderTracked = createHook(\"rtc\");\nfunction onErrorCaptured(hook, target = currentInstance) {\n  injectHook(\"ec\", hook, target);\n}\n\nconst COMPONENTS = \"components\";\nconst DIRECTIVES = \"directives\";\nfunction resolveComponent(name, maybeSelfReference) {\n  return resolveAsset(COMPONENTS, name, true, maybeSelfReference) || name;\n}\nconst NULL_DYNAMIC_COMPONENT = Symbol.for(\"v-ndc\");\nfunction resolveDynamicComponent(component) {\n  if (isString(component)) {\n    return resolveAsset(COMPONENTS, component, false) || component;\n  } else {\n    return component || NULL_DYNAMIC_COMPONENT;\n  }\n}\nfunction resolveDirective(name) {\n  return resolveAsset(DIRECTIVES, name);\n}\nfunction resolveAsset(type, name, warnMissing = true, maybeSelfReference = false) {\n  const instance = currentRenderingInstance || currentInstance;\n  if (instance) {\n    const Component = instance.type;\n    if (type === COMPONENTS) {\n      const selfName = getComponentName(\n        Component,\n        false\n      );\n      if (selfName && (selfName === name || selfName === camelize(name) || selfName === capitalize(camelize(name)))) {\n        return Component;\n      }\n    }\n    const res = (\n      // local registration\n      // check instance[type] first which is resolved for options API\n      resolve(instance[type] || Component[type], name) || // global registration\n      resolve(instance.appContext[type], name)\n    );\n    if (!res && maybeSelfReference) {\n      return Component;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") && warnMissing && !res) {\n      const extra = type === COMPONENTS ? `\nIf this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.` : ``;\n      warn$1(`Failed to resolve ${type.slice(0, -1)}: ${name}${extra}`);\n    }\n    return res;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(\n      `resolve${capitalize(type.slice(0, -1))} can only be used in render() or setup().`\n    );\n  }\n}\nfunction resolve(registry, name) {\n  return registry && (registry[name] || registry[camelize(name)] || registry[capitalize(camelize(name))]);\n}\n\nfunction renderList(source, renderItem, cache, index) {\n  let ret;\n  const cached = cache && cache[index];\n  const sourceIsArray = isArray(source);\n  if (sourceIsArray || isString(source)) {\n    const sourceIsReactiveArray = sourceIsArray && isReactive(source);\n    let needsWrap = false;\n    if (sourceIsReactiveArray) {\n      needsWrap = !isShallow(source);\n      source = shallowReadArray(source);\n    }\n    ret = new Array(source.length);\n    for (let i = 0, l = source.length; i < l; i++) {\n      ret[i] = renderItem(\n        needsWrap ? toReactive(source[i]) : source[i],\n        i,\n        void 0,\n        cached && cached[i]\n      );\n    }\n  } else if (typeof source === \"number\") {\n    if (!!(process.env.NODE_ENV !== \"production\") && !Number.isInteger(source)) {\n      warn$1(`The v-for range expect an integer value but got ${source}.`);\n    }\n    ret = new Array(source);\n    for (let i = 0; i < source; i++) {\n      ret[i] = renderItem(i + 1, i, void 0, cached && cached[i]);\n    }\n  } else if (isObject(source)) {\n    if (source[Symbol.iterator]) {\n      ret = Array.from(\n        source,\n        (item, i) => renderItem(item, i, void 0, cached && cached[i])\n      );\n    } else {\n      const keys = Object.keys(source);\n      ret = new Array(keys.length);\n      for (let i = 0, l = keys.length; i < l; i++) {\n        const key = keys[i];\n        ret[i] = renderItem(source[key], key, i, cached && cached[i]);\n      }\n    }\n  } else {\n    ret = [];\n  }\n  if (cache) {\n    cache[index] = ret;\n  }\n  return ret;\n}\n\nfunction createSlots(slots, dynamicSlots) {\n  for (let i = 0; i < dynamicSlots.length; i++) {\n    const slot = dynamicSlots[i];\n    if (isArray(slot)) {\n      for (let j = 0; j < slot.length; j++) {\n        slots[slot[j].name] = slot[j].fn;\n      }\n    } else if (slot) {\n      slots[slot.name] = slot.key ? (...args) => {\n        const res = slot.fn(...args);\n        if (res) res.key = slot.key;\n        return res;\n      } : slot.fn;\n    }\n  }\n  return slots;\n}\n\nfunction renderSlot(slots, name, props = {}, fallback, noSlotted) {\n  if (currentRenderingInstance.ce || currentRenderingInstance.parent && isAsyncWrapper(currentRenderingInstance.parent) && currentRenderingInstance.parent.ce) {\n    if (name !== \"default\") props.name = name;\n    return openBlock(), createBlock(\n      Fragment,\n      null,\n      [createVNode(\"slot\", props, fallback && fallback())],\n      64\n    );\n  }\n  let slot = slots[name];\n  if (!!(process.env.NODE_ENV !== \"production\") && slot && slot.length > 1) {\n    warn$1(\n      `SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template.`\n    );\n    slot = () => [];\n  }\n  if (slot && slot._c) {\n    slot._d = false;\n  }\n  openBlock();\n  const validSlotContent = slot && ensureValidVNode(slot(props));\n  const slotKey = props.key || // slot content array of a dynamic conditional slot may have a branch\n  // key attached in the `createSlots` helper, respect that\n  validSlotContent && validSlotContent.key;\n  const rendered = createBlock(\n    Fragment,\n    {\n      key: (slotKey && !isSymbol(slotKey) ? slotKey : `_${name}`) + // #7256 force differentiate fallback content from actual content\n      (!validSlotContent && fallback ? \"_fb\" : \"\")\n    },\n    validSlotContent || (fallback ? fallback() : []),\n    validSlotContent && slots._ === 1 ? 64 : -2\n  );\n  if (!noSlotted && rendered.scopeId) {\n    rendered.slotScopeIds = [rendered.scopeId + \"-s\"];\n  }\n  if (slot && slot._c) {\n    slot._d = true;\n  }\n  return rendered;\n}\nfunction ensureValidVNode(vnodes) {\n  return vnodes.some((child) => {\n    if (!isVNode(child)) return true;\n    if (child.type === Comment) return false;\n    if (child.type === Fragment && !ensureValidVNode(child.children))\n      return false;\n    return true;\n  }) ? vnodes : null;\n}\n\nfunction toHandlers(obj, preserveCaseIfNecessary) {\n  const ret = {};\n  if (!!(process.env.NODE_ENV !== \"production\") && !isObject(obj)) {\n    warn$1(`v-on with no argument expects an object value.`);\n    return ret;\n  }\n  for (const key in obj) {\n    ret[preserveCaseIfNecessary && /[A-Z]/.test(key) ? `on:${key}` : toHandlerKey(key)] = obj[key];\n  }\n  return ret;\n}\n\nconst getPublicInstance = (i) => {\n  if (!i) return null;\n  if (isStatefulComponent(i)) return getComponentPublicInstance(i);\n  return getPublicInstance(i.parent);\n};\nconst publicPropertiesMap = (\n  // Move PURE marker to new line to workaround compiler discarding it\n  // due to type annotation\n  /* @__PURE__ */ extend(/* @__PURE__ */ Object.create(null), {\n    $: (i) => i,\n    $el: (i) => i.vnode.el,\n    $data: (i) => i.data,\n    $props: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.props) : i.props,\n    $attrs: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.attrs) : i.attrs,\n    $slots: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.slots) : i.slots,\n    $refs: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.refs) : i.refs,\n    $parent: (i) => getPublicInstance(i.parent),\n    $root: (i) => getPublicInstance(i.root),\n    $host: (i) => i.ce,\n    $emit: (i) => i.emit,\n    $options: (i) => __VUE_OPTIONS_API__ ? resolveMergedOptions(i) : i.type,\n    $forceUpdate: (i) => i.f || (i.f = () => {\n      queueJob(i.update);\n    }),\n    $nextTick: (i) => i.n || (i.n = nextTick.bind(i.proxy)),\n    $watch: (i) => __VUE_OPTIONS_API__ ? instanceWatch.bind(i) : NOOP\n  })\n);\nconst isReservedPrefix = (key) => key === \"_\" || key === \"$\";\nconst hasSetupBinding = (state, key) => state !== EMPTY_OBJ && !state.__isScriptSetup && hasOwn(state, key);\nconst PublicInstanceProxyHandlers = {\n  get({ _: instance }, key) {\n    if (key === \"__v_skip\") {\n      return true;\n    }\n    const { ctx, setupState, data, props, accessCache, type, appContext } = instance;\n    if (!!(process.env.NODE_ENV !== \"production\") && key === \"__isVue\") {\n      return true;\n    }\n    let normalizedProps;\n    if (key[0] !== \"$\") {\n      const n = accessCache[key];\n      if (n !== void 0) {\n        switch (n) {\n          case 1 /* SETUP */:\n            return setupState[key];\n          case 2 /* DATA */:\n            return data[key];\n          case 4 /* CONTEXT */:\n            return ctx[key];\n          case 3 /* PROPS */:\n            return props[key];\n        }\n      } else if (hasSetupBinding(setupState, key)) {\n        accessCache[key] = 1 /* SETUP */;\n        return setupState[key];\n      } else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\n        accessCache[key] = 2 /* DATA */;\n        return data[key];\n      } else if (\n        // only cache other properties when instance has declared (thus stable)\n        // props\n        (normalizedProps = instance.propsOptions[0]) && hasOwn(normalizedProps, key)\n      ) {\n        accessCache[key] = 3 /* PROPS */;\n        return props[key];\n      } else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\n        accessCache[key] = 4 /* CONTEXT */;\n        return ctx[key];\n      } else if (!__VUE_OPTIONS_API__ || shouldCacheAccess) {\n        accessCache[key] = 0 /* OTHER */;\n      }\n    }\n    const publicGetter = publicPropertiesMap[key];\n    let cssModule, globalProperties;\n    if (publicGetter) {\n      if (key === \"$attrs\") {\n        track(instance.attrs, \"get\", \"\");\n        !!(process.env.NODE_ENV !== \"production\") && markAttrsAccessed();\n      } else if (!!(process.env.NODE_ENV !== \"production\") && key === \"$slots\") {\n        track(instance, \"get\", key);\n      }\n      return publicGetter(instance);\n    } else if (\n      // css module (injected by vue-loader)\n      (cssModule = type.__cssModules) && (cssModule = cssModule[key])\n    ) {\n      return cssModule;\n    } else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\n      accessCache[key] = 4 /* CONTEXT */;\n      return ctx[key];\n    } else if (\n      // global properties\n      globalProperties = appContext.config.globalProperties, hasOwn(globalProperties, key)\n    ) {\n      {\n        return globalProperties[key];\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\") && currentRenderingInstance && (!isString(key) || // #1091 avoid internal isRef/isVNode checks on component instance leading\n    // to infinite warning loop\n    key.indexOf(\"__v\") !== 0)) {\n      if (data !== EMPTY_OBJ && isReservedPrefix(key[0]) && hasOwn(data, key)) {\n        warn$1(\n          `Property ${JSON.stringify(\n            key\n          )} must be accessed via $data because it starts with a reserved character (\"$\" or \"_\") and is not proxied on the render context.`\n        );\n      } else if (instance === currentRenderingInstance) {\n        warn$1(\n          `Property ${JSON.stringify(key)} was accessed during render but is not defined on instance.`\n        );\n      }\n    }\n  },\n  set({ _: instance }, key, value) {\n    const { data, setupState, ctx } = instance;\n    if (hasSetupBinding(setupState, key)) {\n      setupState[key] = value;\n      return true;\n    } else if (!!(process.env.NODE_ENV !== \"production\") && setupState.__isScriptSetup && hasOwn(setupState, key)) {\n      warn$1(`Cannot mutate <script setup> binding \"${key}\" from Options API.`);\n      return false;\n    } else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\n      data[key] = value;\n      return true;\n    } else if (hasOwn(instance.props, key)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(`Attempting to mutate prop \"${key}\". Props are readonly.`);\n      return false;\n    }\n    if (key[0] === \"$\" && key.slice(1) in instance) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(\n        `Attempting to mutate public property \"${key}\". Properties starting with $ are reserved and readonly.`\n      );\n      return false;\n    } else {\n      if (!!(process.env.NODE_ENV !== \"production\") && key in instance.appContext.config.globalProperties) {\n        Object.defineProperty(ctx, key, {\n          enumerable: true,\n          configurable: true,\n          value\n        });\n      } else {\n        ctx[key] = value;\n      }\n    }\n    return true;\n  },\n  has({\n    _: { data, setupState, accessCache, ctx, appContext, propsOptions }\n  }, key) {\n    let normalizedProps;\n    return !!accessCache[key] || data !== EMPTY_OBJ && hasOwn(data, key) || hasSetupBinding(setupState, key) || (normalizedProps = propsOptions[0]) && hasOwn(normalizedProps, key) || hasOwn(ctx, key) || hasOwn(publicPropertiesMap, key) || hasOwn(appContext.config.globalProperties, key);\n  },\n  defineProperty(target, key, descriptor) {\n    if (descriptor.get != null) {\n      target._.accessCache[key] = 0;\n    } else if (hasOwn(descriptor, \"value\")) {\n      this.set(target, key, descriptor.value, null);\n    }\n    return Reflect.defineProperty(target, key, descriptor);\n  }\n};\nif (!!(process.env.NODE_ENV !== \"production\") && true) {\n  PublicInstanceProxyHandlers.ownKeys = (target) => {\n    warn$1(\n      `Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead.`\n    );\n    return Reflect.ownKeys(target);\n  };\n}\nconst RuntimeCompiledPublicInstanceProxyHandlers = /* @__PURE__ */ extend({}, PublicInstanceProxyHandlers, {\n  get(target, key) {\n    if (key === Symbol.unscopables) {\n      return;\n    }\n    return PublicInstanceProxyHandlers.get(target, key, target);\n  },\n  has(_, key) {\n    const has = key[0] !== \"_\" && !isGloballyAllowed(key);\n    if (!!(process.env.NODE_ENV !== \"production\") && !has && PublicInstanceProxyHandlers.has(_, key)) {\n      warn$1(\n        `Property ${JSON.stringify(\n          key\n        )} should not start with _ which is a reserved prefix for Vue internals.`\n      );\n    }\n    return has;\n  }\n});\nfunction createDevRenderContext(instance) {\n  const target = {};\n  Object.defineProperty(target, `_`, {\n    configurable: true,\n    enumerable: false,\n    get: () => instance\n  });\n  Object.keys(publicPropertiesMap).forEach((key) => {\n    Object.defineProperty(target, key, {\n      configurable: true,\n      enumerable: false,\n      get: () => publicPropertiesMap[key](instance),\n      // intercepted by the proxy so no need for implementation,\n      // but needed to prevent set errors\n      set: NOOP\n    });\n  });\n  return target;\n}\nfunction exposePropsOnRenderContext(instance) {\n  const {\n    ctx,\n    propsOptions: [propsOptions]\n  } = instance;\n  if (propsOptions) {\n    Object.keys(propsOptions).forEach((key) => {\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => instance.props[key],\n        set: NOOP\n      });\n    });\n  }\n}\nfunction exposeSetupStateOnRenderContext(instance) {\n  const { ctx, setupState } = instance;\n  Object.keys(toRaw(setupState)).forEach((key) => {\n    if (!setupState.__isScriptSetup) {\n      if (isReservedPrefix(key[0])) {\n        warn$1(\n          `setup() return property ${JSON.stringify(\n            key\n          )} should not start with \"$\" or \"_\" which are reserved prefixes for Vue internals.`\n        );\n        return;\n      }\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => setupState[key],\n        set: NOOP\n      });\n    }\n  });\n}\n\nconst warnRuntimeUsage = (method) => warn$1(\n  `${method}() is a compiler-hint helper that is only usable inside <script setup> of a single file component. Its arguments should be compiled away and passing it at runtime has no effect.`\n);\nfunction defineProps() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineProps`);\n  }\n  return null;\n}\nfunction defineEmits() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineEmits`);\n  }\n  return null;\n}\nfunction defineExpose(exposed) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineExpose`);\n  }\n}\nfunction defineOptions(options) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineOptions`);\n  }\n}\nfunction defineSlots() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineSlots`);\n  }\n  return null;\n}\nfunction defineModel() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(\"defineModel\");\n  }\n}\nfunction withDefaults(props, defaults) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`withDefaults`);\n  }\n  return null;\n}\nfunction useSlots() {\n  return getContext().slots;\n}\nfunction useAttrs() {\n  return getContext().attrs;\n}\nfunction getContext() {\n  const i = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !i) {\n    warn$1(`useContext() called without active instance.`);\n  }\n  return i.setupContext || (i.setupContext = createSetupContext(i));\n}\nfunction normalizePropsOrEmits(props) {\n  return isArray(props) ? props.reduce(\n    (normalized, p) => (normalized[p] = null, normalized),\n    {}\n  ) : props;\n}\nfunction mergeDefaults(raw, defaults) {\n  const props = normalizePropsOrEmits(raw);\n  for (const key in defaults) {\n    if (key.startsWith(\"__skip\")) continue;\n    let opt = props[key];\n    if (opt) {\n      if (isArray(opt) || isFunction(opt)) {\n        opt = props[key] = { type: opt, default: defaults[key] };\n      } else {\n        opt.default = defaults[key];\n      }\n    } else if (opt === null) {\n      opt = props[key] = { default: defaults[key] };\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn$1(`props default key \"${key}\" has no corresponding declaration.`);\n    }\n    if (opt && defaults[`__skip_${key}`]) {\n      opt.skipFactory = true;\n    }\n  }\n  return props;\n}\nfunction mergeModels(a, b) {\n  if (!a || !b) return a || b;\n  if (isArray(a) && isArray(b)) return a.concat(b);\n  return extend({}, normalizePropsOrEmits(a), normalizePropsOrEmits(b));\n}\nfunction createPropsRestProxy(props, excludedKeys) {\n  const ret = {};\n  for (const key in props) {\n    if (!excludedKeys.includes(key)) {\n      Object.defineProperty(ret, key, {\n        enumerable: true,\n        get: () => props[key]\n      });\n    }\n  }\n  return ret;\n}\nfunction withAsyncContext(getAwaitable) {\n  const ctx = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !ctx) {\n    warn$1(\n      `withAsyncContext called without active current instance. This is likely a bug.`\n    );\n  }\n  let awaitable = getAwaitable();\n  unsetCurrentInstance();\n  if (isPromise(awaitable)) {\n    awaitable = awaitable.catch((e) => {\n      setCurrentInstance(ctx);\n      throw e;\n    });\n  }\n  return [awaitable, () => setCurrentInstance(ctx)];\n}\n\nfunction createDuplicateChecker() {\n  const cache = /* @__PURE__ */ Object.create(null);\n  return (type, key) => {\n    if (cache[key]) {\n      warn$1(`${type} property \"${key}\" is already defined in ${cache[key]}.`);\n    } else {\n      cache[key] = type;\n    }\n  };\n}\nlet shouldCacheAccess = true;\nfunction applyOptions(instance) {\n  const options = resolveMergedOptions(instance);\n  const publicThis = instance.proxy;\n  const ctx = instance.ctx;\n  shouldCacheAccess = false;\n  if (options.beforeCreate) {\n    callHook(options.beforeCreate, instance, \"bc\");\n  }\n  const {\n    // state\n    data: dataOptions,\n    computed: computedOptions,\n    methods,\n    watch: watchOptions,\n    provide: provideOptions,\n    inject: injectOptions,\n    // lifecycle\n    created,\n    beforeMount,\n    mounted,\n    beforeUpdate,\n    updated,\n    activated,\n    deactivated,\n    beforeDestroy,\n    beforeUnmount,\n    destroyed,\n    unmounted,\n    render,\n    renderTracked,\n    renderTriggered,\n    errorCaptured,\n    serverPrefetch,\n    // public API\n    expose,\n    inheritAttrs,\n    // assets\n    components,\n    directives,\n    filters\n  } = options;\n  const checkDuplicateProperties = !!(process.env.NODE_ENV !== \"production\") ? createDuplicateChecker() : null;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const [propsOptions] = instance.propsOptions;\n    if (propsOptions) {\n      for (const key in propsOptions) {\n        checkDuplicateProperties(\"Props\" /* PROPS */, key);\n      }\n    }\n  }\n  if (injectOptions) {\n    resolveInjections(injectOptions, ctx, checkDuplicateProperties);\n  }\n  if (methods) {\n    for (const key in methods) {\n      const methodHandler = methods[key];\n      if (isFunction(methodHandler)) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          Object.defineProperty(ctx, key, {\n            value: methodHandler.bind(publicThis),\n            configurable: true,\n            enumerable: true,\n            writable: true\n          });\n        } else {\n          ctx[key] = methodHandler.bind(publicThis);\n        }\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          checkDuplicateProperties(\"Methods\" /* METHODS */, key);\n        }\n      } else if (!!(process.env.NODE_ENV !== \"production\")) {\n        warn$1(\n          `Method \"${key}\" has type \"${typeof methodHandler}\" in the component definition. Did you reference the function correctly?`\n        );\n      }\n    }\n  }\n  if (dataOptions) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isFunction(dataOptions)) {\n      warn$1(\n        `The data option must be a function. Plain object usage is no longer supported.`\n      );\n    }\n    const data = dataOptions.call(publicThis, publicThis);\n    if (!!(process.env.NODE_ENV !== \"production\") && isPromise(data)) {\n      warn$1(\n        `data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>.`\n      );\n    }\n    if (!isObject(data)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(`data() should return an object.`);\n    } else {\n      instance.data = reactive(data);\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        for (const key in data) {\n          checkDuplicateProperties(\"Data\" /* DATA */, key);\n          if (!isReservedPrefix(key[0])) {\n            Object.defineProperty(ctx, key, {\n              configurable: true,\n              enumerable: true,\n              get: () => data[key],\n              set: NOOP\n            });\n          }\n        }\n      }\n    }\n  }\n  shouldCacheAccess = true;\n  if (computedOptions) {\n    for (const key in computedOptions) {\n      const opt = computedOptions[key];\n      const get = isFunction(opt) ? opt.bind(publicThis, publicThis) : isFunction(opt.get) ? opt.get.bind(publicThis, publicThis) : NOOP;\n      if (!!(process.env.NODE_ENV !== \"production\") && get === NOOP) {\n        warn$1(`Computed property \"${key}\" has no getter.`);\n      }\n      const set = !isFunction(opt) && isFunction(opt.set) ? opt.set.bind(publicThis) : !!(process.env.NODE_ENV !== \"production\") ? () => {\n        warn$1(\n          `Write operation failed: computed property \"${key}\" is readonly.`\n        );\n      } : NOOP;\n      const c = computed({\n        get,\n        set\n      });\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => c.value,\n        set: (v) => c.value = v\n      });\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        checkDuplicateProperties(\"Computed\" /* COMPUTED */, key);\n      }\n    }\n  }\n  if (watchOptions) {\n    for (const key in watchOptions) {\n      createWatcher(watchOptions[key], ctx, publicThis, key);\n    }\n  }\n  if (provideOptions) {\n    const provides = isFunction(provideOptions) ? provideOptions.call(publicThis) : provideOptions;\n    Reflect.ownKeys(provides).forEach((key) => {\n      provide(key, provides[key]);\n    });\n  }\n  if (created) {\n    callHook(created, instance, \"c\");\n  }\n  function registerLifecycleHook(register, hook) {\n    if (isArray(hook)) {\n      hook.forEach((_hook) => register(_hook.bind(publicThis)));\n    } else if (hook) {\n      register(hook.bind(publicThis));\n    }\n  }\n  registerLifecycleHook(onBeforeMount, beforeMount);\n  registerLifecycleHook(onMounted, mounted);\n  registerLifecycleHook(onBeforeUpdate, beforeUpdate);\n  registerLifecycleHook(onUpdated, updated);\n  registerLifecycleHook(onActivated, activated);\n  registerLifecycleHook(onDeactivated, deactivated);\n  registerLifecycleHook(onErrorCaptured, errorCaptured);\n  registerLifecycleHook(onRenderTracked, renderTracked);\n  registerLifecycleHook(onRenderTriggered, renderTriggered);\n  registerLifecycleHook(onBeforeUnmount, beforeUnmount);\n  registerLifecycleHook(onUnmounted, unmounted);\n  registerLifecycleHook(onServerPrefetch, serverPrefetch);\n  if (isArray(expose)) {\n    if (expose.length) {\n      const exposed = instance.exposed || (instance.exposed = {});\n      expose.forEach((key) => {\n        Object.defineProperty(exposed, key, {\n          get: () => publicThis[key],\n          set: (val) => publicThis[key] = val\n        });\n      });\n    } else if (!instance.exposed) {\n      instance.exposed = {};\n    }\n  }\n  if (render && instance.render === NOOP) {\n    instance.render = render;\n  }\n  if (inheritAttrs != null) {\n    instance.inheritAttrs = inheritAttrs;\n  }\n  if (components) instance.components = components;\n  if (directives) instance.directives = directives;\n  if (serverPrefetch) {\n    markAsyncBoundary(instance);\n  }\n}\nfunction resolveInjections(injectOptions, ctx, checkDuplicateProperties = NOOP) {\n  if (isArray(injectOptions)) {\n    injectOptions = normalizeInject(injectOptions);\n  }\n  for (const key in injectOptions) {\n    const opt = injectOptions[key];\n    let injected;\n    if (isObject(opt)) {\n      if (\"default\" in opt) {\n        injected = inject(\n          opt.from || key,\n          opt.default,\n          true\n        );\n      } else {\n        injected = inject(opt.from || key);\n      }\n    } else {\n      injected = inject(opt);\n    }\n    if (isRef(injected)) {\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => injected.value,\n        set: (v) => injected.value = v\n      });\n    } else {\n      ctx[key] = injected;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      checkDuplicateProperties(\"Inject\" /* INJECT */, key);\n    }\n  }\n}\nfunction callHook(hook, instance, type) {\n  callWithAsyncErrorHandling(\n    isArray(hook) ? hook.map((h) => h.bind(instance.proxy)) : hook.bind(instance.proxy),\n    instance,\n    type\n  );\n}\nfunction createWatcher(raw, ctx, publicThis, key) {\n  let getter = key.includes(\".\") ? createPathGetter(publicThis, key) : () => publicThis[key];\n  if (isString(raw)) {\n    const handler = ctx[raw];\n    if (isFunction(handler)) {\n      {\n        watch(getter, handler);\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn$1(`Invalid watch handler specified by key \"${raw}\"`, handler);\n    }\n  } else if (isFunction(raw)) {\n    {\n      watch(getter, raw.bind(publicThis));\n    }\n  } else if (isObject(raw)) {\n    if (isArray(raw)) {\n      raw.forEach((r) => createWatcher(r, ctx, publicThis, key));\n    } else {\n      const handler = isFunction(raw.handler) ? raw.handler.bind(publicThis) : ctx[raw.handler];\n      if (isFunction(handler)) {\n        watch(getter, handler, raw);\n      } else if (!!(process.env.NODE_ENV !== \"production\")) {\n        warn$1(`Invalid watch handler specified by key \"${raw.handler}\"`, handler);\n      }\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(`Invalid watch option: \"${key}\"`, raw);\n  }\n}\nfunction resolveMergedOptions(instance) {\n  const base = instance.type;\n  const { mixins, extends: extendsOptions } = base;\n  const {\n    mixins: globalMixins,\n    optionsCache: cache,\n    config: { optionMergeStrategies }\n  } = instance.appContext;\n  const cached = cache.get(base);\n  let resolved;\n  if (cached) {\n    resolved = cached;\n  } else if (!globalMixins.length && !mixins && !extendsOptions) {\n    {\n      resolved = base;\n    }\n  } else {\n    resolved = {};\n    if (globalMixins.length) {\n      globalMixins.forEach(\n        (m) => mergeOptions(resolved, m, optionMergeStrategies, true)\n      );\n    }\n    mergeOptions(resolved, base, optionMergeStrategies);\n  }\n  if (isObject(base)) {\n    cache.set(base, resolved);\n  }\n  return resolved;\n}\nfunction mergeOptions(to, from, strats, asMixin = false) {\n  const { mixins, extends: extendsOptions } = from;\n  if (extendsOptions) {\n    mergeOptions(to, extendsOptions, strats, true);\n  }\n  if (mixins) {\n    mixins.forEach(\n      (m) => mergeOptions(to, m, strats, true)\n    );\n  }\n  for (const key in from) {\n    if (asMixin && key === \"expose\") {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(\n        `\"expose\" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.`\n      );\n    } else {\n      const strat = internalOptionMergeStrats[key] || strats && strats[key];\n      to[key] = strat ? strat(to[key], from[key]) : from[key];\n    }\n  }\n  return to;\n}\nconst internalOptionMergeStrats = {\n  data: mergeDataFn,\n  props: mergeEmitsOrPropsOptions,\n  emits: mergeEmitsOrPropsOptions,\n  // objects\n  methods: mergeObjectOptions,\n  computed: mergeObjectOptions,\n  // lifecycle\n  beforeCreate: mergeAsArray,\n  created: mergeAsArray,\n  beforeMount: mergeAsArray,\n  mounted: mergeAsArray,\n  beforeUpdate: mergeAsArray,\n  updated: mergeAsArray,\n  beforeDestroy: mergeAsArray,\n  beforeUnmount: mergeAsArray,\n  destroyed: mergeAsArray,\n  unmounted: mergeAsArray,\n  activated: mergeAsArray,\n  deactivated: mergeAsArray,\n  errorCaptured: mergeAsArray,\n  serverPrefetch: mergeAsArray,\n  // assets\n  components: mergeObjectOptions,\n  directives: mergeObjectOptions,\n  // watch\n  watch: mergeWatchOptions,\n  // provide / inject\n  provide: mergeDataFn,\n  inject: mergeInject\n};\nfunction mergeDataFn(to, from) {\n  if (!from) {\n    return to;\n  }\n  if (!to) {\n    return from;\n  }\n  return function mergedDataFn() {\n    return (extend)(\n      isFunction(to) ? to.call(this, this) : to,\n      isFunction(from) ? from.call(this, this) : from\n    );\n  };\n}\nfunction mergeInject(to, from) {\n  return mergeObjectOptions(normalizeInject(to), normalizeInject(from));\n}\nfunction normalizeInject(raw) {\n  if (isArray(raw)) {\n    const res = {};\n    for (let i = 0; i < raw.length; i++) {\n      res[raw[i]] = raw[i];\n    }\n    return res;\n  }\n  return raw;\n}\nfunction mergeAsArray(to, from) {\n  return to ? [...new Set([].concat(to, from))] : from;\n}\nfunction mergeObjectOptions(to, from) {\n  return to ? extend(/* @__PURE__ */ Object.create(null), to, from) : from;\n}\nfunction mergeEmitsOrPropsOptions(to, from) {\n  if (to) {\n    if (isArray(to) && isArray(from)) {\n      return [.../* @__PURE__ */ new Set([...to, ...from])];\n    }\n    return extend(\n      /* @__PURE__ */ Object.create(null),\n      normalizePropsOrEmits(to),\n      normalizePropsOrEmits(from != null ? from : {})\n    );\n  } else {\n    return from;\n  }\n}\nfunction mergeWatchOptions(to, from) {\n  if (!to) return from;\n  if (!from) return to;\n  const merged = extend(/* @__PURE__ */ Object.create(null), to);\n  for (const key in from) {\n    merged[key] = mergeAsArray(to[key], from[key]);\n  }\n  return merged;\n}\n\nfunction createAppContext() {\n  return {\n    app: null,\n    config: {\n      isNativeTag: NO,\n      performance: false,\n      globalProperties: {},\n      optionMergeStrategies: {},\n      errorHandler: void 0,\n      warnHandler: void 0,\n      compilerOptions: {}\n    },\n    mixins: [],\n    components: {},\n    directives: {},\n    provides: /* @__PURE__ */ Object.create(null),\n    optionsCache: /* @__PURE__ */ new WeakMap(),\n    propsCache: /* @__PURE__ */ new WeakMap(),\n    emitsCache: /* @__PURE__ */ new WeakMap()\n  };\n}\nlet uid$1 = 0;\nfunction createAppAPI(render, hydrate) {\n  return function createApp(rootComponent, rootProps = null) {\n    if (!isFunction(rootComponent)) {\n      rootComponent = extend({}, rootComponent);\n    }\n    if (rootProps != null && !isObject(rootProps)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(`root props passed to app.mount() must be an object.`);\n      rootProps = null;\n    }\n    const context = createAppContext();\n    const installedPlugins = /* @__PURE__ */ new WeakSet();\n    const pluginCleanupFns = [];\n    let isMounted = false;\n    const app = context.app = {\n      _uid: uid$1++,\n      _component: rootComponent,\n      _props: rootProps,\n      _container: null,\n      _context: context,\n      _instance: null,\n      version,\n      get config() {\n        return context.config;\n      },\n      set config(v) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\n            `app.config cannot be replaced. Modify individual options instead.`\n          );\n        }\n      },\n      use(plugin, ...options) {\n        if (installedPlugins.has(plugin)) {\n          !!(process.env.NODE_ENV !== \"production\") && warn$1(`Plugin has already been applied to target app.`);\n        } else if (plugin && isFunction(plugin.install)) {\n          installedPlugins.add(plugin);\n          plugin.install(app, ...options);\n        } else if (isFunction(plugin)) {\n          installedPlugins.add(plugin);\n          plugin(app, ...options);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\n            `A plugin must either be a function or an object with an \"install\" function.`\n          );\n        }\n        return app;\n      },\n      mixin(mixin) {\n        if (__VUE_OPTIONS_API__) {\n          if (!context.mixins.includes(mixin)) {\n            context.mixins.push(mixin);\n          } else if (!!(process.env.NODE_ENV !== \"production\")) {\n            warn$1(\n              \"Mixin has already been applied to target app\" + (mixin.name ? `: ${mixin.name}` : \"\")\n            );\n          }\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\"Mixins are only available in builds supporting Options API\");\n        }\n        return app;\n      },\n      component(name, component) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          validateComponentName(name, context.config);\n        }\n        if (!component) {\n          return context.components[name];\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") && context.components[name]) {\n          warn$1(`Component \"${name}\" has already been registered in target app.`);\n        }\n        context.components[name] = component;\n        return app;\n      },\n      directive(name, directive) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          validateDirectiveName(name);\n        }\n        if (!directive) {\n          return context.directives[name];\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") && context.directives[name]) {\n          warn$1(`Directive \"${name}\" has already been registered in target app.`);\n        }\n        context.directives[name] = directive;\n        return app;\n      },\n      mount(rootContainer, isHydrate, namespace) {\n        if (!isMounted) {\n          if (!!(process.env.NODE_ENV !== \"production\") && rootContainer.__vue_app__) {\n            warn$1(\n              `There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling \\`app.unmount()\\` first.`\n            );\n          }\n          const vnode = app._ceVNode || createVNode(rootComponent, rootProps);\n          vnode.appContext = context;\n          if (namespace === true) {\n            namespace = \"svg\";\n          } else if (namespace === false) {\n            namespace = void 0;\n          }\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            context.reload = () => {\n              render(\n                cloneVNode(vnode),\n                rootContainer,\n                namespace\n              );\n            };\n          }\n          if (isHydrate && hydrate) {\n            hydrate(vnode, rootContainer);\n          } else {\n            render(vnode, rootContainer, namespace);\n          }\n          isMounted = true;\n          app._container = rootContainer;\n          rootContainer.__vue_app__ = app;\n          if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n            app._instance = vnode.component;\n            devtoolsInitApp(app, version);\n          }\n          return getComponentPublicInstance(vnode.component);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\n            `App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. \\`const createMyApp = () => createApp(App)\\``\n          );\n        }\n      },\n      onUnmount(cleanupFn) {\n        if (!!(process.env.NODE_ENV !== \"production\") && typeof cleanupFn !== \"function\") {\n          warn$1(\n            `Expected function as first argument to app.onUnmount(), but got ${typeof cleanupFn}`\n          );\n        }\n        pluginCleanupFns.push(cleanupFn);\n      },\n      unmount() {\n        if (isMounted) {\n          callWithAsyncErrorHandling(\n            pluginCleanupFns,\n            app._instance,\n            16\n          );\n          render(null, app._container);\n          if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n            app._instance = null;\n            devtoolsUnmountApp(app);\n          }\n          delete app._container.__vue_app__;\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(`Cannot unmount an app that is not mounted.`);\n        }\n      },\n      provide(key, value) {\n        if (!!(process.env.NODE_ENV !== \"production\") && key in context.provides) {\n          warn$1(\n            `App already provides property with key \"${String(key)}\". It will be overwritten with the new value.`\n          );\n        }\n        context.provides[key] = value;\n        return app;\n      },\n      runWithContext(fn) {\n        const lastApp = currentApp;\n        currentApp = app;\n        try {\n          return fn();\n        } finally {\n          currentApp = lastApp;\n        }\n      }\n    };\n    return app;\n  };\n}\nlet currentApp = null;\n\nfunction provide(key, value) {\n  if (!currentInstance) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn$1(`provide() can only be used inside setup().`);\n    }\n  } else {\n    let provides = currentInstance.provides;\n    const parentProvides = currentInstance.parent && currentInstance.parent.provides;\n    if (parentProvides === provides) {\n      provides = currentInstance.provides = Object.create(parentProvides);\n    }\n    provides[key] = value;\n  }\n}\nfunction inject(key, defaultValue, treatDefaultAsFactory = false) {\n  const instance = currentInstance || currentRenderingInstance;\n  if (instance || currentApp) {\n    const provides = currentApp ? currentApp._context.provides : instance ? instance.parent == null ? instance.vnode.appContext && instance.vnode.appContext.provides : instance.parent.provides : void 0;\n    if (provides && key in provides) {\n      return provides[key];\n    } else if (arguments.length > 1) {\n      return treatDefaultAsFactory && isFunction(defaultValue) ? defaultValue.call(instance && instance.proxy) : defaultValue;\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn$1(`injection \"${String(key)}\" not found.`);\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(`inject() can only be used inside setup() or functional components.`);\n  }\n}\nfunction hasInjectionContext() {\n  return !!(currentInstance || currentRenderingInstance || currentApp);\n}\n\nconst internalObjectProto = {};\nconst createInternalObject = () => Object.create(internalObjectProto);\nconst isInternalObject = (obj) => Object.getPrototypeOf(obj) === internalObjectProto;\n\nfunction initProps(instance, rawProps, isStateful, isSSR = false) {\n  const props = {};\n  const attrs = createInternalObject();\n  instance.propsDefaults = /* @__PURE__ */ Object.create(null);\n  setFullProps(instance, rawProps, props, attrs);\n  for (const key in instance.propsOptions[0]) {\n    if (!(key in props)) {\n      props[key] = void 0;\n    }\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    validateProps(rawProps || {}, props, instance);\n  }\n  if (isStateful) {\n    instance.props = isSSR ? props : shallowReactive(props);\n  } else {\n    if (!instance.type.props) {\n      instance.props = attrs;\n    } else {\n      instance.props = props;\n    }\n  }\n  instance.attrs = attrs;\n}\nfunction isInHmrContext(instance) {\n  while (instance) {\n    if (instance.type.__hmrId) return true;\n    instance = instance.parent;\n  }\n}\nfunction updateProps(instance, rawProps, rawPrevProps, optimized) {\n  const {\n    props,\n    attrs,\n    vnode: { patchFlag }\n  } = instance;\n  const rawCurrentProps = toRaw(props);\n  const [options] = instance.propsOptions;\n  let hasAttrsChanged = false;\n  if (\n    // always force full diff in dev\n    // - #1942 if hmr is enabled with sfc component\n    // - vite#872 non-sfc component used by sfc component\n    !(!!(process.env.NODE_ENV !== \"production\") && isInHmrContext(instance)) && (optimized || patchFlag > 0) && !(patchFlag & 16)\n  ) {\n    if (patchFlag & 8) {\n      const propsToUpdate = instance.vnode.dynamicProps;\n      for (let i = 0; i < propsToUpdate.length; i++) {\n        let key = propsToUpdate[i];\n        if (isEmitListener(instance.emitsOptions, key)) {\n          continue;\n        }\n        const value = rawProps[key];\n        if (options) {\n          if (hasOwn(attrs, key)) {\n            if (value !== attrs[key]) {\n              attrs[key] = value;\n              hasAttrsChanged = true;\n            }\n          } else {\n            const camelizedKey = camelize(key);\n            props[camelizedKey] = resolvePropValue(\n              options,\n              rawCurrentProps,\n              camelizedKey,\n              value,\n              instance,\n              false\n            );\n          }\n        } else {\n          if (value !== attrs[key]) {\n            attrs[key] = value;\n            hasAttrsChanged = true;\n          }\n        }\n      }\n    }\n  } else {\n    if (setFullProps(instance, rawProps, props, attrs)) {\n      hasAttrsChanged = true;\n    }\n    let kebabKey;\n    for (const key in rawCurrentProps) {\n      if (!rawProps || // for camelCase\n      !hasOwn(rawProps, key) && // it's possible the original props was passed in as kebab-case\n      // and converted to camelCase (#955)\n      ((kebabKey = hyphenate(key)) === key || !hasOwn(rawProps, kebabKey))) {\n        if (options) {\n          if (rawPrevProps && // for camelCase\n          (rawPrevProps[key] !== void 0 || // for kebab-case\n          rawPrevProps[kebabKey] !== void 0)) {\n            props[key] = resolvePropValue(\n              options,\n              rawCurrentProps,\n              key,\n              void 0,\n              instance,\n              true\n            );\n          }\n        } else {\n          delete props[key];\n        }\n      }\n    }\n    if (attrs !== rawCurrentProps) {\n      for (const key in attrs) {\n        if (!rawProps || !hasOwn(rawProps, key) && true) {\n          delete attrs[key];\n          hasAttrsChanged = true;\n        }\n      }\n    }\n  }\n  if (hasAttrsChanged) {\n    trigger(instance.attrs, \"set\", \"\");\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    validateProps(rawProps || {}, props, instance);\n  }\n}\nfunction setFullProps(instance, rawProps, props, attrs) {\n  const [options, needCastKeys] = instance.propsOptions;\n  let hasAttrsChanged = false;\n  let rawCastValues;\n  if (rawProps) {\n    for (let key in rawProps) {\n      if (isReservedProp(key)) {\n        continue;\n      }\n      const value = rawProps[key];\n      let camelKey;\n      if (options && hasOwn(options, camelKey = camelize(key))) {\n        if (!needCastKeys || !needCastKeys.includes(camelKey)) {\n          props[camelKey] = value;\n        } else {\n          (rawCastValues || (rawCastValues = {}))[camelKey] = value;\n        }\n      } else if (!isEmitListener(instance.emitsOptions, key)) {\n        if (!(key in attrs) || value !== attrs[key]) {\n          attrs[key] = value;\n          hasAttrsChanged = true;\n        }\n      }\n    }\n  }\n  if (needCastKeys) {\n    const rawCurrentProps = toRaw(props);\n    const castValues = rawCastValues || EMPTY_OBJ;\n    for (let i = 0; i < needCastKeys.length; i++) {\n      const key = needCastKeys[i];\n      props[key] = resolvePropValue(\n        options,\n        rawCurrentProps,\n        key,\n        castValues[key],\n        instance,\n        !hasOwn(castValues, key)\n      );\n    }\n  }\n  return hasAttrsChanged;\n}\nfunction resolvePropValue(options, props, key, value, instance, isAbsent) {\n  const opt = options[key];\n  if (opt != null) {\n    const hasDefault = hasOwn(opt, \"default\");\n    if (hasDefault && value === void 0) {\n      const defaultValue = opt.default;\n      if (opt.type !== Function && !opt.skipFactory && isFunction(defaultValue)) {\n        const { propsDefaults } = instance;\n        if (key in propsDefaults) {\n          value = propsDefaults[key];\n        } else {\n          const reset = setCurrentInstance(instance);\n          value = propsDefaults[key] = defaultValue.call(\n            null,\n            props\n          );\n          reset();\n        }\n      } else {\n        value = defaultValue;\n      }\n      if (instance.ce) {\n        instance.ce._setProp(key, value);\n      }\n    }\n    if (opt[0 /* shouldCast */]) {\n      if (isAbsent && !hasDefault) {\n        value = false;\n      } else if (opt[1 /* shouldCastTrue */] && (value === \"\" || value === hyphenate(key))) {\n        value = true;\n      }\n    }\n  }\n  return value;\n}\nconst mixinPropsCache = /* @__PURE__ */ new WeakMap();\nfunction normalizePropsOptions(comp, appContext, asMixin = false) {\n  const cache = __VUE_OPTIONS_API__ && asMixin ? mixinPropsCache : appContext.propsCache;\n  const cached = cache.get(comp);\n  if (cached) {\n    return cached;\n  }\n  const raw = comp.props;\n  const normalized = {};\n  const needCastKeys = [];\n  let hasExtends = false;\n  if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\n    const extendProps = (raw2) => {\n      hasExtends = true;\n      const [props, keys] = normalizePropsOptions(raw2, appContext, true);\n      extend(normalized, props);\n      if (keys) needCastKeys.push(...keys);\n    };\n    if (!asMixin && appContext.mixins.length) {\n      appContext.mixins.forEach(extendProps);\n    }\n    if (comp.extends) {\n      extendProps(comp.extends);\n    }\n    if (comp.mixins) {\n      comp.mixins.forEach(extendProps);\n    }\n  }\n  if (!raw && !hasExtends) {\n    if (isObject(comp)) {\n      cache.set(comp, EMPTY_ARR);\n    }\n    return EMPTY_ARR;\n  }\n  if (isArray(raw)) {\n    for (let i = 0; i < raw.length; i++) {\n      if (!!(process.env.NODE_ENV !== \"production\") && !isString(raw[i])) {\n        warn$1(`props must be strings when using array syntax.`, raw[i]);\n      }\n      const normalizedKey = camelize(raw[i]);\n      if (validatePropName(normalizedKey)) {\n        normalized[normalizedKey] = EMPTY_OBJ;\n      }\n    }\n  } else if (raw) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isObject(raw)) {\n      warn$1(`invalid props options`, raw);\n    }\n    for (const key in raw) {\n      const normalizedKey = camelize(key);\n      if (validatePropName(normalizedKey)) {\n        const opt = raw[key];\n        const prop = normalized[normalizedKey] = isArray(opt) || isFunction(opt) ? { type: opt } : extend({}, opt);\n        const propType = prop.type;\n        let shouldCast = false;\n        let shouldCastTrue = true;\n        if (isArray(propType)) {\n          for (let index = 0; index < propType.length; ++index) {\n            const type = propType[index];\n            const typeName = isFunction(type) && type.name;\n            if (typeName === \"Boolean\") {\n              shouldCast = true;\n              break;\n            } else if (typeName === \"String\") {\n              shouldCastTrue = false;\n            }\n          }\n        } else {\n          shouldCast = isFunction(propType) && propType.name === \"Boolean\";\n        }\n        prop[0 /* shouldCast */] = shouldCast;\n        prop[1 /* shouldCastTrue */] = shouldCastTrue;\n        if (shouldCast || hasOwn(prop, \"default\")) {\n          needCastKeys.push(normalizedKey);\n        }\n      }\n    }\n  }\n  const res = [normalized, needCastKeys];\n  if (isObject(comp)) {\n    cache.set(comp, res);\n  }\n  return res;\n}\nfunction validatePropName(key) {\n  if (key[0] !== \"$\" && !isReservedProp(key)) {\n    return true;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(`Invalid prop name: \"${key}\" is a reserved property.`);\n  }\n  return false;\n}\nfunction getType(ctor) {\n  if (ctor === null) {\n    return \"null\";\n  }\n  if (typeof ctor === \"function\") {\n    return ctor.name || \"\";\n  } else if (typeof ctor === \"object\") {\n    const name = ctor.constructor && ctor.constructor.name;\n    return name || \"\";\n  }\n  return \"\";\n}\nfunction validateProps(rawProps, props, instance) {\n  const resolvedValues = toRaw(props);\n  const options = instance.propsOptions[0];\n  const camelizePropsKey = Object.keys(rawProps).map((key) => camelize(key));\n  for (const key in options) {\n    let opt = options[key];\n    if (opt == null) continue;\n    validateProp(\n      key,\n      resolvedValues[key],\n      opt,\n      !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(resolvedValues) : resolvedValues,\n      !camelizePropsKey.includes(key)\n    );\n  }\n}\nfunction validateProp(name, value, prop, props, isAbsent) {\n  const { type, required, validator, skipCheck } = prop;\n  if (required && isAbsent) {\n    warn$1('Missing required prop: \"' + name + '\"');\n    return;\n  }\n  if (value == null && !required) {\n    return;\n  }\n  if (type != null && type !== true && !skipCheck) {\n    let isValid = false;\n    const types = isArray(type) ? type : [type];\n    const expectedTypes = [];\n    for (let i = 0; i < types.length && !isValid; i++) {\n      const { valid, expectedType } = assertType(value, types[i]);\n      expectedTypes.push(expectedType || \"\");\n      isValid = valid;\n    }\n    if (!isValid) {\n      warn$1(getInvalidTypeMessage(name, value, expectedTypes));\n      return;\n    }\n  }\n  if (validator && !validator(value, props)) {\n    warn$1('Invalid prop: custom validator check failed for prop \"' + name + '\".');\n  }\n}\nconst isSimpleType = /* @__PURE__ */ makeMap(\n  \"String,Number,Boolean,Function,Symbol,BigInt\"\n);\nfunction assertType(value, type) {\n  let valid;\n  const expectedType = getType(type);\n  if (expectedType === \"null\") {\n    valid = value === null;\n  } else if (isSimpleType(expectedType)) {\n    const t = typeof value;\n    valid = t === expectedType.toLowerCase();\n    if (!valid && t === \"object\") {\n      valid = value instanceof type;\n    }\n  } else if (expectedType === \"Object\") {\n    valid = isObject(value);\n  } else if (expectedType === \"Array\") {\n    valid = isArray(value);\n  } else {\n    valid = value instanceof type;\n  }\n  return {\n    valid,\n    expectedType\n  };\n}\nfunction getInvalidTypeMessage(name, value, expectedTypes) {\n  if (expectedTypes.length === 0) {\n    return `Prop type [] for prop \"${name}\" won't match anything. Did you mean to use type Array instead?`;\n  }\n  let message = `Invalid prop: type check failed for prop \"${name}\". Expected ${expectedTypes.map(capitalize).join(\" | \")}`;\n  const expectedType = expectedTypes[0];\n  const receivedType = toRawType(value);\n  const expectedValue = styleValue(value, expectedType);\n  const receivedValue = styleValue(value, receivedType);\n  if (expectedTypes.length === 1 && isExplicable(expectedType) && !isBoolean(expectedType, receivedType)) {\n    message += ` with value ${expectedValue}`;\n  }\n  message += `, got ${receivedType} `;\n  if (isExplicable(receivedType)) {\n    message += `with value ${receivedValue}.`;\n  }\n  return message;\n}\nfunction styleValue(value, type) {\n  if (type === \"String\") {\n    return `\"${value}\"`;\n  } else if (type === \"Number\") {\n    return `${Number(value)}`;\n  } else {\n    return `${value}`;\n  }\n}\nfunction isExplicable(type) {\n  const explicitTypes = [\"string\", \"number\", \"boolean\"];\n  return explicitTypes.some((elem) => type.toLowerCase() === elem);\n}\nfunction isBoolean(...args) {\n  return args.some((elem) => elem.toLowerCase() === \"boolean\");\n}\n\nconst isInternalKey = (key) => key[0] === \"_\" || key === \"$stable\";\nconst normalizeSlotValue = (value) => isArray(value) ? value.map(normalizeVNode) : [normalizeVNode(value)];\nconst normalizeSlot = (key, rawSlot, ctx) => {\n  if (rawSlot._n) {\n    return rawSlot;\n  }\n  const normalized = withCtx((...args) => {\n    if (!!(process.env.NODE_ENV !== \"production\") && currentInstance && (!ctx || ctx.root === currentInstance.root)) {\n      warn$1(\n        `Slot \"${key}\" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`\n      );\n    }\n    return normalizeSlotValue(rawSlot(...args));\n  }, ctx);\n  normalized._c = false;\n  return normalized;\n};\nconst normalizeObjectSlots = (rawSlots, slots, instance) => {\n  const ctx = rawSlots._ctx;\n  for (const key in rawSlots) {\n    if (isInternalKey(key)) continue;\n    const value = rawSlots[key];\n    if (isFunction(value)) {\n      slots[key] = normalizeSlot(key, value, ctx);\n    } else if (value != null) {\n      if (!!(process.env.NODE_ENV !== \"production\") && true) {\n        warn$1(\n          `Non-function value encountered for slot \"${key}\". Prefer function slots for better performance.`\n        );\n      }\n      const normalized = normalizeSlotValue(value);\n      slots[key] = () => normalized;\n    }\n  }\n};\nconst normalizeVNodeSlots = (instance, children) => {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isKeepAlive(instance.vnode) && true) {\n    warn$1(\n      `Non-function value encountered for default slot. Prefer function slots for better performance.`\n    );\n  }\n  const normalized = normalizeSlotValue(children);\n  instance.slots.default = () => normalized;\n};\nconst assignSlots = (slots, children, optimized) => {\n  for (const key in children) {\n    if (optimized || key !== \"_\") {\n      slots[key] = children[key];\n    }\n  }\n};\nconst initSlots = (instance, children, optimized) => {\n  const slots = instance.slots = createInternalObject();\n  if (instance.vnode.shapeFlag & 32) {\n    const type = children._;\n    if (type) {\n      assignSlots(slots, children, optimized);\n      if (optimized) {\n        def(slots, \"_\", type, true);\n      }\n    } else {\n      normalizeObjectSlots(children, slots);\n    }\n  } else if (children) {\n    normalizeVNodeSlots(instance, children);\n  }\n};\nconst updateSlots = (instance, children, optimized) => {\n  const { vnode, slots } = instance;\n  let needDeletionCheck = true;\n  let deletionComparisonTarget = EMPTY_OBJ;\n  if (vnode.shapeFlag & 32) {\n    const type = children._;\n    if (type) {\n      if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n        assignSlots(slots, children, optimized);\n        trigger(instance, \"set\", \"$slots\");\n      } else if (optimized && type === 1) {\n        needDeletionCheck = false;\n      } else {\n        assignSlots(slots, children, optimized);\n      }\n    } else {\n      needDeletionCheck = !children.$stable;\n      normalizeObjectSlots(children, slots);\n    }\n    deletionComparisonTarget = children;\n  } else if (children) {\n    normalizeVNodeSlots(instance, children);\n    deletionComparisonTarget = { default: 1 };\n  }\n  if (needDeletionCheck) {\n    for (const key in slots) {\n      if (!isInternalKey(key) && deletionComparisonTarget[key] == null) {\n        delete slots[key];\n      }\n    }\n  }\n};\n\nlet supported;\nlet perf;\nfunction startMeasure(instance, type) {\n  if (instance.appContext.config.performance && isSupported()) {\n    perf.mark(`vue-${type}-${instance.uid}`);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsPerfStart(instance, type, isSupported() ? perf.now() : Date.now());\n  }\n}\nfunction endMeasure(instance, type) {\n  if (instance.appContext.config.performance && isSupported()) {\n    const startTag = `vue-${type}-${instance.uid}`;\n    const endTag = startTag + `:end`;\n    perf.mark(endTag);\n    perf.measure(\n      `<${formatComponentName(instance, instance.type)}> ${type}`,\n      startTag,\n      endTag\n    );\n    perf.clearMarks(startTag);\n    perf.clearMarks(endTag);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsPerfEnd(instance, type, isSupported() ? perf.now() : Date.now());\n  }\n}\nfunction isSupported() {\n  if (supported !== void 0) {\n    return supported;\n  }\n  if (typeof window !== \"undefined\" && window.performance) {\n    supported = true;\n    perf = window.performance;\n  } else {\n    supported = false;\n  }\n  return supported;\n}\n\nfunction initFeatureFlags() {\n  const needWarn = [];\n  if (typeof __VUE_OPTIONS_API__ !== \"boolean\") {\n    !!(process.env.NODE_ENV !== \"production\") && needWarn.push(`__VUE_OPTIONS_API__`);\n    getGlobalThis().__VUE_OPTIONS_API__ = true;\n  }\n  if (typeof __VUE_PROD_DEVTOOLS__ !== \"boolean\") {\n    !!(process.env.NODE_ENV !== \"production\") && needWarn.push(`__VUE_PROD_DEVTOOLS__`);\n    getGlobalThis().__VUE_PROD_DEVTOOLS__ = false;\n  }\n  if (typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__ !== \"boolean\") {\n    !!(process.env.NODE_ENV !== \"production\") && needWarn.push(`__VUE_PROD_HYDRATION_MISMATCH_DETAILS__`);\n    getGlobalThis().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__ = false;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && needWarn.length) {\n    const multi = needWarn.length > 1;\n    console.warn(\n      `Feature flag${multi ? `s` : ``} ${needWarn.join(\", \")} ${multi ? `are` : `is`} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.\n\nFor more details, see https://link.vuejs.org/feature-flags.`\n    );\n  }\n}\n\nconst queuePostRenderEffect = queueEffectWithSuspense ;\nfunction createRenderer(options) {\n  return baseCreateRenderer(options);\n}\nfunction createHydrationRenderer(options) {\n  return baseCreateRenderer(options, createHydrationFunctions);\n}\nfunction baseCreateRenderer(options, createHydrationFns) {\n  {\n    initFeatureFlags();\n  }\n  const target = getGlobalThis();\n  target.__VUE__ = true;\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    setDevtoolsHook$1(target.__VUE_DEVTOOLS_GLOBAL_HOOK__, target);\n  }\n  const {\n    insert: hostInsert,\n    remove: hostRemove,\n    patchProp: hostPatchProp,\n    createElement: hostCreateElement,\n    createText: hostCreateText,\n    createComment: hostCreateComment,\n    setText: hostSetText,\n    setElementText: hostSetElementText,\n    parentNode: hostParentNode,\n    nextSibling: hostNextSibling,\n    setScopeId: hostSetScopeId = NOOP,\n    insertStaticContent: hostInsertStaticContent\n  } = options;\n  const patch = (n1, n2, container, anchor = null, parentComponent = null, parentSuspense = null, namespace = void 0, slotScopeIds = null, optimized = !!(process.env.NODE_ENV !== \"production\") && isHmrUpdating ? false : !!n2.dynamicChildren) => {\n    if (n1 === n2) {\n      return;\n    }\n    if (n1 && !isSameVNodeType(n1, n2)) {\n      anchor = getNextHostNode(n1);\n      unmount(n1, parentComponent, parentSuspense, true);\n      n1 = null;\n    }\n    if (n2.patchFlag === -2) {\n      optimized = false;\n      n2.dynamicChildren = null;\n    }\n    const { type, ref, shapeFlag } = n2;\n    switch (type) {\n      case Text:\n        processText(n1, n2, container, anchor);\n        break;\n      case Comment:\n        processCommentNode(n1, n2, container, anchor);\n        break;\n      case Static:\n        if (n1 == null) {\n          mountStaticNode(n2, container, anchor, namespace);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          patchStaticNode(n1, n2, container, namespace);\n        }\n        break;\n      case Fragment:\n        processFragment(\n          n1,\n          n2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        break;\n      default:\n        if (shapeFlag & 1) {\n          processElement(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        } else if (shapeFlag & 6) {\n          processComponent(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        } else if (shapeFlag & 64) {\n          type.process(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized,\n            internals\n          );\n        } else if (shapeFlag & 128) {\n          type.process(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized,\n            internals\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\"Invalid VNode type:\", type, `(${typeof type})`);\n        }\n    }\n    if (ref != null && parentComponent) {\n      setRef(ref, n1 && n1.ref, parentSuspense, n2 || n1, !n2);\n    }\n  };\n  const processText = (n1, n2, container, anchor) => {\n    if (n1 == null) {\n      hostInsert(\n        n2.el = hostCreateText(n2.children),\n        container,\n        anchor\n      );\n    } else {\n      const el = n2.el = n1.el;\n      if (n2.children !== n1.children) {\n        hostSetText(el, n2.children);\n      }\n    }\n  };\n  const processCommentNode = (n1, n2, container, anchor) => {\n    if (n1 == null) {\n      hostInsert(\n        n2.el = hostCreateComment(n2.children || \"\"),\n        container,\n        anchor\n      );\n    } else {\n      n2.el = n1.el;\n    }\n  };\n  const mountStaticNode = (n2, container, anchor, namespace) => {\n    [n2.el, n2.anchor] = hostInsertStaticContent(\n      n2.children,\n      container,\n      anchor,\n      namespace,\n      n2.el,\n      n2.anchor\n    );\n  };\n  const patchStaticNode = (n1, n2, container, namespace) => {\n    if (n2.children !== n1.children) {\n      const anchor = hostNextSibling(n1.anchor);\n      removeStaticNode(n1);\n      [n2.el, n2.anchor] = hostInsertStaticContent(\n        n2.children,\n        container,\n        anchor,\n        namespace\n      );\n    } else {\n      n2.el = n1.el;\n      n2.anchor = n1.anchor;\n    }\n  };\n  const moveStaticNode = ({ el, anchor }, container, nextSibling) => {\n    let next;\n    while (el && el !== anchor) {\n      next = hostNextSibling(el);\n      hostInsert(el, container, nextSibling);\n      el = next;\n    }\n    hostInsert(anchor, container, nextSibling);\n  };\n  const removeStaticNode = ({ el, anchor }) => {\n    let next;\n    while (el && el !== anchor) {\n      next = hostNextSibling(el);\n      hostRemove(el);\n      el = next;\n    }\n    hostRemove(anchor);\n  };\n  const processElement = (n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    if (n2.type === \"svg\") {\n      namespace = \"svg\";\n    } else if (n2.type === \"math\") {\n      namespace = \"mathml\";\n    }\n    if (n1 == null) {\n      mountElement(\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n    } else {\n      patchElement(\n        n1,\n        n2,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n    }\n  };\n  const mountElement = (vnode, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    let el;\n    let vnodeHook;\n    const { props, shapeFlag, transition, dirs } = vnode;\n    el = vnode.el = hostCreateElement(\n      vnode.type,\n      namespace,\n      props && props.is,\n      props\n    );\n    if (shapeFlag & 8) {\n      hostSetElementText(el, vnode.children);\n    } else if (shapeFlag & 16) {\n      mountChildren(\n        vnode.children,\n        el,\n        null,\n        parentComponent,\n        parentSuspense,\n        resolveChildrenNamespace(vnode, namespace),\n        slotScopeIds,\n        optimized\n      );\n    }\n    if (dirs) {\n      invokeDirectiveHook(vnode, null, parentComponent, \"created\");\n    }\n    setScopeId(el, vnode, vnode.scopeId, slotScopeIds, parentComponent);\n    if (props) {\n      for (const key in props) {\n        if (key !== \"value\" && !isReservedProp(key)) {\n          hostPatchProp(el, key, null, props[key], namespace, parentComponent);\n        }\n      }\n      if (\"value\" in props) {\n        hostPatchProp(el, \"value\", null, props.value, namespace);\n      }\n      if (vnodeHook = props.onVnodeBeforeMount) {\n        invokeVNodeHook(vnodeHook, parentComponent, vnode);\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      def(el, \"__vnode\", vnode, true);\n      def(el, \"__vueParentComponent\", parentComponent, true);\n    }\n    if (dirs) {\n      invokeDirectiveHook(vnode, null, parentComponent, \"beforeMount\");\n    }\n    const needCallTransitionHooks = needTransition(parentSuspense, transition);\n    if (needCallTransitionHooks) {\n      transition.beforeEnter(el);\n    }\n    hostInsert(el, container, anchor);\n    if ((vnodeHook = props && props.onVnodeMounted) || needCallTransitionHooks || dirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\n        needCallTransitionHooks && transition.enter(el);\n        dirs && invokeDirectiveHook(vnode, null, parentComponent, \"mounted\");\n      }, parentSuspense);\n    }\n  };\n  const setScopeId = (el, vnode, scopeId, slotScopeIds, parentComponent) => {\n    if (scopeId) {\n      hostSetScopeId(el, scopeId);\n    }\n    if (slotScopeIds) {\n      for (let i = 0; i < slotScopeIds.length; i++) {\n        hostSetScopeId(el, slotScopeIds[i]);\n      }\n    }\n    if (parentComponent) {\n      let subTree = parentComponent.subTree;\n      if (!!(process.env.NODE_ENV !== \"production\") && subTree.patchFlag > 0 && subTree.patchFlag & 2048) {\n        subTree = filterSingleRoot(subTree.children) || subTree;\n      }\n      if (vnode === subTree || isSuspense(subTree.type) && (subTree.ssContent === vnode || subTree.ssFallback === vnode)) {\n        const parentVNode = parentComponent.vnode;\n        setScopeId(\n          el,\n          parentVNode,\n          parentVNode.scopeId,\n          parentVNode.slotScopeIds,\n          parentComponent.parent\n        );\n      }\n    }\n  };\n  const mountChildren = (children, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, start = 0) => {\n    for (let i = start; i < children.length; i++) {\n      const child = children[i] = optimized ? cloneIfMounted(children[i]) : normalizeVNode(children[i]);\n      patch(\n        null,\n        child,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n    }\n  };\n  const patchElement = (n1, n2, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    const el = n2.el = n1.el;\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      el.__vnode = n2;\n    }\n    let { patchFlag, dynamicChildren, dirs } = n2;\n    patchFlag |= n1.patchFlag & 16;\n    const oldProps = n1.props || EMPTY_OBJ;\n    const newProps = n2.props || EMPTY_OBJ;\n    let vnodeHook;\n    parentComponent && toggleRecurse(parentComponent, false);\n    if (vnodeHook = newProps.onVnodeBeforeUpdate) {\n      invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\n    }\n    if (dirs) {\n      invokeDirectiveHook(n2, n1, parentComponent, \"beforeUpdate\");\n    }\n    parentComponent && toggleRecurse(parentComponent, true);\n    if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n      patchFlag = 0;\n      optimized = false;\n      dynamicChildren = null;\n    }\n    if (oldProps.innerHTML && newProps.innerHTML == null || oldProps.textContent && newProps.textContent == null) {\n      hostSetElementText(el, \"\");\n    }\n    if (dynamicChildren) {\n      patchBlockChildren(\n        n1.dynamicChildren,\n        dynamicChildren,\n        el,\n        parentComponent,\n        parentSuspense,\n        resolveChildrenNamespace(n2, namespace),\n        slotScopeIds\n      );\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        traverseStaticChildren(n1, n2);\n      }\n    } else if (!optimized) {\n      patchChildren(\n        n1,\n        n2,\n        el,\n        null,\n        parentComponent,\n        parentSuspense,\n        resolveChildrenNamespace(n2, namespace),\n        slotScopeIds,\n        false\n      );\n    }\n    if (patchFlag > 0) {\n      if (patchFlag & 16) {\n        patchProps(el, oldProps, newProps, parentComponent, namespace);\n      } else {\n        if (patchFlag & 2) {\n          if (oldProps.class !== newProps.class) {\n            hostPatchProp(el, \"class\", null, newProps.class, namespace);\n          }\n        }\n        if (patchFlag & 4) {\n          hostPatchProp(el, \"style\", oldProps.style, newProps.style, namespace);\n        }\n        if (patchFlag & 8) {\n          const propsToUpdate = n2.dynamicProps;\n          for (let i = 0; i < propsToUpdate.length; i++) {\n            const key = propsToUpdate[i];\n            const prev = oldProps[key];\n            const next = newProps[key];\n            if (next !== prev || key === \"value\") {\n              hostPatchProp(el, key, prev, next, namespace, parentComponent);\n            }\n          }\n        }\n      }\n      if (patchFlag & 1) {\n        if (n1.children !== n2.children) {\n          hostSetElementText(el, n2.children);\n        }\n      }\n    } else if (!optimized && dynamicChildren == null) {\n      patchProps(el, oldProps, newProps, parentComponent, namespace);\n    }\n    if ((vnodeHook = newProps.onVnodeUpdated) || dirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\n        dirs && invokeDirectiveHook(n2, n1, parentComponent, \"updated\");\n      }, parentSuspense);\n    }\n  };\n  const patchBlockChildren = (oldChildren, newChildren, fallbackContainer, parentComponent, parentSuspense, namespace, slotScopeIds) => {\n    for (let i = 0; i < newChildren.length; i++) {\n      const oldVNode = oldChildren[i];\n      const newVNode = newChildren[i];\n      const container = (\n        // oldVNode may be an errored async setup() component inside Suspense\n        // which will not have a mounted element\n        oldVNode.el && // - In the case of a Fragment, we need to provide the actual parent\n        // of the Fragment itself so it can move its children.\n        (oldVNode.type === Fragment || // - In the case of different nodes, there is going to be a replacement\n        // which also requires the correct parent container\n        !isSameVNodeType(oldVNode, newVNode) || // - In the case of a component, it could contain anything.\n        oldVNode.shapeFlag & (6 | 64)) ? hostParentNode(oldVNode.el) : (\n          // In other cases, the parent container is not actually used so we\n          // just pass the block element here to avoid a DOM parentNode call.\n          fallbackContainer\n        )\n      );\n      patch(\n        oldVNode,\n        newVNode,\n        container,\n        null,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        true\n      );\n    }\n  };\n  const patchProps = (el, oldProps, newProps, parentComponent, namespace) => {\n    if (oldProps !== newProps) {\n      if (oldProps !== EMPTY_OBJ) {\n        for (const key in oldProps) {\n          if (!isReservedProp(key) && !(key in newProps)) {\n            hostPatchProp(\n              el,\n              key,\n              oldProps[key],\n              null,\n              namespace,\n              parentComponent\n            );\n          }\n        }\n      }\n      for (const key in newProps) {\n        if (isReservedProp(key)) continue;\n        const next = newProps[key];\n        const prev = oldProps[key];\n        if (next !== prev && key !== \"value\") {\n          hostPatchProp(el, key, prev, next, namespace, parentComponent);\n        }\n      }\n      if (\"value\" in newProps) {\n        hostPatchProp(el, \"value\", oldProps.value, newProps.value, namespace);\n      }\n    }\n  };\n  const processFragment = (n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    const fragmentStartAnchor = n2.el = n1 ? n1.el : hostCreateText(\"\");\n    const fragmentEndAnchor = n2.anchor = n1 ? n1.anchor : hostCreateText(\"\");\n    let { patchFlag, dynamicChildren, slotScopeIds: fragmentSlotScopeIds } = n2;\n    if (!!(process.env.NODE_ENV !== \"production\") && // #5523 dev root fragment may inherit directives\n    (isHmrUpdating || patchFlag & 2048)) {\n      patchFlag = 0;\n      optimized = false;\n      dynamicChildren = null;\n    }\n    if (fragmentSlotScopeIds) {\n      slotScopeIds = slotScopeIds ? slotScopeIds.concat(fragmentSlotScopeIds) : fragmentSlotScopeIds;\n    }\n    if (n1 == null) {\n      hostInsert(fragmentStartAnchor, container, anchor);\n      hostInsert(fragmentEndAnchor, container, anchor);\n      mountChildren(\n        // #10007\n        // such fragment like `<></>` will be compiled into\n        // a fragment which doesn't have a children.\n        // In this case fallback to an empty array\n        n2.children || [],\n        container,\n        fragmentEndAnchor,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n    } else {\n      if (patchFlag > 0 && patchFlag & 64 && dynamicChildren && // #2715 the previous fragment could've been a BAILed one as a result\n      // of renderSlot() with no valid children\n      n1.dynamicChildren) {\n        patchBlockChildren(\n          n1.dynamicChildren,\n          dynamicChildren,\n          container,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds\n        );\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          traverseStaticChildren(n1, n2);\n        } else if (\n          // #2080 if the stable fragment has a key, it's a <template v-for> that may\n          //  get moved around. Make sure all root level vnodes inherit el.\n          // #2134 or if it's a component root, it may also get moved around\n          // as the component is being moved.\n          n2.key != null || parentComponent && n2 === parentComponent.subTree\n        ) {\n          traverseStaticChildren(\n            n1,\n            n2,\n            true\n            /* shallow */\n          );\n        }\n      } else {\n        patchChildren(\n          n1,\n          n2,\n          container,\n          fragmentEndAnchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n      }\n    }\n  };\n  const processComponent = (n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    n2.slotScopeIds = slotScopeIds;\n    if (n1 == null) {\n      if (n2.shapeFlag & 512) {\n        parentComponent.ctx.activate(\n          n2,\n          container,\n          anchor,\n          namespace,\n          optimized\n        );\n      } else {\n        mountComponent(\n          n2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          optimized\n        );\n      }\n    } else {\n      updateComponent(n1, n2, optimized);\n    }\n  };\n  const mountComponent = (initialVNode, container, anchor, parentComponent, parentSuspense, namespace, optimized) => {\n    const instance = (initialVNode.component = createComponentInstance(\n      initialVNode,\n      parentComponent,\n      parentSuspense\n    ));\n    if (!!(process.env.NODE_ENV !== \"production\") && instance.type.__hmrId) {\n      registerHMR(instance);\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      pushWarningContext(initialVNode);\n      startMeasure(instance, `mount`);\n    }\n    if (isKeepAlive(initialVNode)) {\n      instance.ctx.renderer = internals;\n    }\n    {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        startMeasure(instance, `init`);\n      }\n      setupComponent(instance, false, optimized);\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        endMeasure(instance, `init`);\n      }\n    }\n    if (instance.asyncDep) {\n      if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) initialVNode.el = null;\n      parentSuspense && parentSuspense.registerDep(instance, setupRenderEffect, optimized);\n      if (!initialVNode.el) {\n        const placeholder = instance.subTree = createVNode(Comment);\n        processCommentNode(null, placeholder, container, anchor);\n      }\n    } else {\n      setupRenderEffect(\n        instance,\n        initialVNode,\n        container,\n        anchor,\n        parentSuspense,\n        namespace,\n        optimized\n      );\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      popWarningContext();\n      endMeasure(instance, `mount`);\n    }\n  };\n  const updateComponent = (n1, n2, optimized) => {\n    const instance = n2.component = n1.component;\n    if (shouldUpdateComponent(n1, n2, optimized)) {\n      if (instance.asyncDep && !instance.asyncResolved) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(n2);\n        }\n        updateComponentPreRender(instance, n2, optimized);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n        return;\n      } else {\n        instance.next = n2;\n        instance.update();\n      }\n    } else {\n      n2.el = n1.el;\n      instance.vnode = n2;\n    }\n  };\n  const setupRenderEffect = (instance, initialVNode, container, anchor, parentSuspense, namespace, optimized) => {\n    const componentUpdateFn = () => {\n      if (!instance.isMounted) {\n        let vnodeHook;\n        const { el, props } = initialVNode;\n        const { bm, m, parent, root, type } = instance;\n        const isAsyncWrapperVNode = isAsyncWrapper(initialVNode);\n        toggleRecurse(instance, false);\n        if (bm) {\n          invokeArrayFns(bm);\n        }\n        if (!isAsyncWrapperVNode && (vnodeHook = props && props.onVnodeBeforeMount)) {\n          invokeVNodeHook(vnodeHook, parent, initialVNode);\n        }\n        toggleRecurse(instance, true);\n        if (el && hydrateNode) {\n          const hydrateSubTree = () => {\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              startMeasure(instance, `render`);\n            }\n            instance.subTree = renderComponentRoot(instance);\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              endMeasure(instance, `render`);\n            }\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              startMeasure(instance, `hydrate`);\n            }\n            hydrateNode(\n              el,\n              instance.subTree,\n              instance,\n              parentSuspense,\n              null\n            );\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              endMeasure(instance, `hydrate`);\n            }\n          };\n          if (isAsyncWrapperVNode && type.__asyncHydrate) {\n            type.__asyncHydrate(\n              el,\n              instance,\n              hydrateSubTree\n            );\n          } else {\n            hydrateSubTree();\n          }\n        } else {\n          if (root.ce) {\n            root.ce._injectChildStyle(type);\n          }\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            startMeasure(instance, `render`);\n          }\n          const subTree = instance.subTree = renderComponentRoot(instance);\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            endMeasure(instance, `render`);\n          }\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            startMeasure(instance, `patch`);\n          }\n          patch(\n            null,\n            subTree,\n            container,\n            anchor,\n            instance,\n            parentSuspense,\n            namespace\n          );\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            endMeasure(instance, `patch`);\n          }\n          initialVNode.el = subTree.el;\n        }\n        if (m) {\n          queuePostRenderEffect(m, parentSuspense);\n        }\n        if (!isAsyncWrapperVNode && (vnodeHook = props && props.onVnodeMounted)) {\n          const scopedInitialVNode = initialVNode;\n          queuePostRenderEffect(\n            () => invokeVNodeHook(vnodeHook, parent, scopedInitialVNode),\n            parentSuspense\n          );\n        }\n        if (initialVNode.shapeFlag & 256 || parent && isAsyncWrapper(parent.vnode) && parent.vnode.shapeFlag & 256) {\n          instance.a && queuePostRenderEffect(instance.a, parentSuspense);\n        }\n        instance.isMounted = true;\n        if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n          devtoolsComponentAdded(instance);\n        }\n        initialVNode = container = anchor = null;\n      } else {\n        let { next, bu, u, parent, vnode } = instance;\n        {\n          const nonHydratedAsyncRoot = locateNonHydratedAsyncRoot(instance);\n          if (nonHydratedAsyncRoot) {\n            if (next) {\n              next.el = vnode.el;\n              updateComponentPreRender(instance, next, optimized);\n            }\n            nonHydratedAsyncRoot.asyncDep.then(() => {\n              if (!instance.isUnmounted) {\n                componentUpdateFn();\n              }\n            });\n            return;\n          }\n        }\n        let originNext = next;\n        let vnodeHook;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(next || instance.vnode);\n        }\n        toggleRecurse(instance, false);\n        if (next) {\n          next.el = vnode.el;\n          updateComponentPreRender(instance, next, optimized);\n        } else {\n          next = vnode;\n        }\n        if (bu) {\n          invokeArrayFns(bu);\n        }\n        if (vnodeHook = next.props && next.props.onVnodeBeforeUpdate) {\n          invokeVNodeHook(vnodeHook, parent, next, vnode);\n        }\n        toggleRecurse(instance, true);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `render`);\n        }\n        const nextTree = renderComponentRoot(instance);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `render`);\n        }\n        const prevTree = instance.subTree;\n        instance.subTree = nextTree;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `patch`);\n        }\n        patch(\n          prevTree,\n          nextTree,\n          // parent may have changed if it's in a teleport\n          hostParentNode(prevTree.el),\n          // anchor may have changed if it's in a fragment\n          getNextHostNode(prevTree),\n          instance,\n          parentSuspense,\n          namespace\n        );\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `patch`);\n        }\n        next.el = nextTree.el;\n        if (originNext === null) {\n          updateHOCHostEl(instance, nextTree.el);\n        }\n        if (u) {\n          queuePostRenderEffect(u, parentSuspense);\n        }\n        if (vnodeHook = next.props && next.props.onVnodeUpdated) {\n          queuePostRenderEffect(\n            () => invokeVNodeHook(vnodeHook, parent, next, vnode),\n            parentSuspense\n          );\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n          devtoolsComponentUpdated(instance);\n        }\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n      }\n    };\n    instance.scope.on();\n    const effect = instance.effect = new ReactiveEffect(componentUpdateFn);\n    instance.scope.off();\n    const update = instance.update = effect.run.bind(effect);\n    const job = instance.job = effect.runIfDirty.bind(effect);\n    job.i = instance;\n    job.id = instance.uid;\n    effect.scheduler = () => queueJob(job);\n    toggleRecurse(instance, true);\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      effect.onTrack = instance.rtc ? (e) => invokeArrayFns(instance.rtc, e) : void 0;\n      effect.onTrigger = instance.rtg ? (e) => invokeArrayFns(instance.rtg, e) : void 0;\n    }\n    update();\n  };\n  const updateComponentPreRender = (instance, nextVNode, optimized) => {\n    nextVNode.component = instance;\n    const prevProps = instance.vnode.props;\n    instance.vnode = nextVNode;\n    instance.next = null;\n    updateProps(instance, nextVNode.props, prevProps, optimized);\n    updateSlots(instance, nextVNode.children, optimized);\n    pauseTracking();\n    flushPreFlushCbs(instance);\n    resetTracking();\n  };\n  const patchChildren = (n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized = false) => {\n    const c1 = n1 && n1.children;\n    const prevShapeFlag = n1 ? n1.shapeFlag : 0;\n    const c2 = n2.children;\n    const { patchFlag, shapeFlag } = n2;\n    if (patchFlag > 0) {\n      if (patchFlag & 128) {\n        patchKeyedChildren(\n          c1,\n          c2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        return;\n      } else if (patchFlag & 256) {\n        patchUnkeyedChildren(\n          c1,\n          c2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        return;\n      }\n    }\n    if (shapeFlag & 8) {\n      if (prevShapeFlag & 16) {\n        unmountChildren(c1, parentComponent, parentSuspense);\n      }\n      if (c2 !== c1) {\n        hostSetElementText(container, c2);\n      }\n    } else {\n      if (prevShapeFlag & 16) {\n        if (shapeFlag & 16) {\n          patchKeyedChildren(\n            c1,\n            c2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        } else {\n          unmountChildren(c1, parentComponent, parentSuspense, true);\n        }\n      } else {\n        if (prevShapeFlag & 8) {\n          hostSetElementText(container, \"\");\n        }\n        if (shapeFlag & 16) {\n          mountChildren(\n            c2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        }\n      }\n    }\n  };\n  const patchUnkeyedChildren = (c1, c2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    c1 = c1 || EMPTY_ARR;\n    c2 = c2 || EMPTY_ARR;\n    const oldLength = c1.length;\n    const newLength = c2.length;\n    const commonLength = Math.min(oldLength, newLength);\n    let i;\n    for (i = 0; i < commonLength; i++) {\n      const nextChild = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n      patch(\n        c1[i],\n        nextChild,\n        container,\n        null,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n    }\n    if (oldLength > newLength) {\n      unmountChildren(\n        c1,\n        parentComponent,\n        parentSuspense,\n        true,\n        false,\n        commonLength\n      );\n    } else {\n      mountChildren(\n        c2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized,\n        commonLength\n      );\n    }\n  };\n  const patchKeyedChildren = (c1, c2, container, parentAnchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    let i = 0;\n    const l2 = c2.length;\n    let e1 = c1.length - 1;\n    let e2 = l2 - 1;\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[i];\n      const n2 = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n      if (isSameVNodeType(n1, n2)) {\n        patch(\n          n1,\n          n2,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n      } else {\n        break;\n      }\n      i++;\n    }\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[e1];\n      const n2 = c2[e2] = optimized ? cloneIfMounted(c2[e2]) : normalizeVNode(c2[e2]);\n      if (isSameVNodeType(n1, n2)) {\n        patch(\n          n1,\n          n2,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n      } else {\n        break;\n      }\n      e1--;\n      e2--;\n    }\n    if (i > e1) {\n      if (i <= e2) {\n        const nextPos = e2 + 1;\n        const anchor = nextPos < l2 ? c2[nextPos].el : parentAnchor;\n        while (i <= e2) {\n          patch(\n            null,\n            c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]),\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n          i++;\n        }\n      }\n    } else if (i > e2) {\n      while (i <= e1) {\n        unmount(c1[i], parentComponent, parentSuspense, true);\n        i++;\n      }\n    } else {\n      const s1 = i;\n      const s2 = i;\n      const keyToNewIndexMap = /* @__PURE__ */ new Map();\n      for (i = s2; i <= e2; i++) {\n        const nextChild = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n        if (nextChild.key != null) {\n          if (!!(process.env.NODE_ENV !== \"production\") && keyToNewIndexMap.has(nextChild.key)) {\n            warn$1(\n              `Duplicate keys found during update:`,\n              JSON.stringify(nextChild.key),\n              `Make sure keys are unique.`\n            );\n          }\n          keyToNewIndexMap.set(nextChild.key, i);\n        }\n      }\n      let j;\n      let patched = 0;\n      const toBePatched = e2 - s2 + 1;\n      let moved = false;\n      let maxNewIndexSoFar = 0;\n      const newIndexToOldIndexMap = new Array(toBePatched);\n      for (i = 0; i < toBePatched; i++) newIndexToOldIndexMap[i] = 0;\n      for (i = s1; i <= e1; i++) {\n        const prevChild = c1[i];\n        if (patched >= toBePatched) {\n          unmount(prevChild, parentComponent, parentSuspense, true);\n          continue;\n        }\n        let newIndex;\n        if (prevChild.key != null) {\n          newIndex = keyToNewIndexMap.get(prevChild.key);\n        } else {\n          for (j = s2; j <= e2; j++) {\n            if (newIndexToOldIndexMap[j - s2] === 0 && isSameVNodeType(prevChild, c2[j])) {\n              newIndex = j;\n              break;\n            }\n          }\n        }\n        if (newIndex === void 0) {\n          unmount(prevChild, parentComponent, parentSuspense, true);\n        } else {\n          newIndexToOldIndexMap[newIndex - s2] = i + 1;\n          if (newIndex >= maxNewIndexSoFar) {\n            maxNewIndexSoFar = newIndex;\n          } else {\n            moved = true;\n          }\n          patch(\n            prevChild,\n            c2[newIndex],\n            container,\n            null,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n          patched++;\n        }\n      }\n      const increasingNewIndexSequence = moved ? getSequence(newIndexToOldIndexMap) : EMPTY_ARR;\n      j = increasingNewIndexSequence.length - 1;\n      for (i = toBePatched - 1; i >= 0; i--) {\n        const nextIndex = s2 + i;\n        const nextChild = c2[nextIndex];\n        const anchor = nextIndex + 1 < l2 ? c2[nextIndex + 1].el : parentAnchor;\n        if (newIndexToOldIndexMap[i] === 0) {\n          patch(\n            null,\n            nextChild,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        } else if (moved) {\n          if (j < 0 || i !== increasingNewIndexSequence[j]) {\n            move(nextChild, container, anchor, 2);\n          } else {\n            j--;\n          }\n        }\n      }\n    }\n  };\n  const move = (vnode, container, anchor, moveType, parentSuspense = null) => {\n    const { el, type, transition, children, shapeFlag } = vnode;\n    if (shapeFlag & 6) {\n      move(vnode.component.subTree, container, anchor, moveType);\n      return;\n    }\n    if (shapeFlag & 128) {\n      vnode.suspense.move(container, anchor, moveType);\n      return;\n    }\n    if (shapeFlag & 64) {\n      type.move(vnode, container, anchor, internals);\n      return;\n    }\n    if (type === Fragment) {\n      hostInsert(el, container, anchor);\n      for (let i = 0; i < children.length; i++) {\n        move(children[i], container, anchor, moveType);\n      }\n      hostInsert(vnode.anchor, container, anchor);\n      return;\n    }\n    if (type === Static) {\n      moveStaticNode(vnode, container, anchor);\n      return;\n    }\n    const needTransition2 = moveType !== 2 && shapeFlag & 1 && transition;\n    if (needTransition2) {\n      if (moveType === 0) {\n        transition.beforeEnter(el);\n        hostInsert(el, container, anchor);\n        queuePostRenderEffect(() => transition.enter(el), parentSuspense);\n      } else {\n        const { leave, delayLeave, afterLeave } = transition;\n        const remove2 = () => hostInsert(el, container, anchor);\n        const performLeave = () => {\n          leave(el, () => {\n            remove2();\n            afterLeave && afterLeave();\n          });\n        };\n        if (delayLeave) {\n          delayLeave(el, remove2, performLeave);\n        } else {\n          performLeave();\n        }\n      }\n    } else {\n      hostInsert(el, container, anchor);\n    }\n  };\n  const unmount = (vnode, parentComponent, parentSuspense, doRemove = false, optimized = false) => {\n    const {\n      type,\n      props,\n      ref,\n      children,\n      dynamicChildren,\n      shapeFlag,\n      patchFlag,\n      dirs,\n      cacheIndex\n    } = vnode;\n    if (patchFlag === -2) {\n      optimized = false;\n    }\n    if (ref != null) {\n      setRef(ref, null, parentSuspense, vnode, true);\n    }\n    if (cacheIndex != null) {\n      parentComponent.renderCache[cacheIndex] = void 0;\n    }\n    if (shapeFlag & 256) {\n      parentComponent.ctx.deactivate(vnode);\n      return;\n    }\n    const shouldInvokeDirs = shapeFlag & 1 && dirs;\n    const shouldInvokeVnodeHook = !isAsyncWrapper(vnode);\n    let vnodeHook;\n    if (shouldInvokeVnodeHook && (vnodeHook = props && props.onVnodeBeforeUnmount)) {\n      invokeVNodeHook(vnodeHook, parentComponent, vnode);\n    }\n    if (shapeFlag & 6) {\n      unmountComponent(vnode.component, parentSuspense, doRemove);\n    } else {\n      if (shapeFlag & 128) {\n        vnode.suspense.unmount(parentSuspense, doRemove);\n        return;\n      }\n      if (shouldInvokeDirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"beforeUnmount\");\n      }\n      if (shapeFlag & 64) {\n        vnode.type.remove(\n          vnode,\n          parentComponent,\n          parentSuspense,\n          internals,\n          doRemove\n        );\n      } else if (dynamicChildren && // #5154\n      // when v-once is used inside a block, setBlockTracking(-1) marks the\n      // parent block with hasOnce: true\n      // so that it doesn't take the fast path during unmount - otherwise\n      // components nested in v-once are never unmounted.\n      !dynamicChildren.hasOnce && // #1153: fast path should not be taken for non-stable (v-for) fragments\n      (type !== Fragment || patchFlag > 0 && patchFlag & 64)) {\n        unmountChildren(\n          dynamicChildren,\n          parentComponent,\n          parentSuspense,\n          false,\n          true\n        );\n      } else if (type === Fragment && patchFlag & (128 | 256) || !optimized && shapeFlag & 16) {\n        unmountChildren(children, parentComponent, parentSuspense);\n      }\n      if (doRemove) {\n        remove(vnode);\n      }\n    }\n    if (shouldInvokeVnodeHook && (vnodeHook = props && props.onVnodeUnmounted) || shouldInvokeDirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\n        shouldInvokeDirs && invokeDirectiveHook(vnode, null, parentComponent, \"unmounted\");\n      }, parentSuspense);\n    }\n  };\n  const remove = (vnode) => {\n    const { type, el, anchor, transition } = vnode;\n    if (type === Fragment) {\n      if (!!(process.env.NODE_ENV !== \"production\") && vnode.patchFlag > 0 && vnode.patchFlag & 2048 && transition && !transition.persisted) {\n        vnode.children.forEach((child) => {\n          if (child.type === Comment) {\n            hostRemove(child.el);\n          } else {\n            remove(child);\n          }\n        });\n      } else {\n        removeFragment(el, anchor);\n      }\n      return;\n    }\n    if (type === Static) {\n      removeStaticNode(vnode);\n      return;\n    }\n    const performRemove = () => {\n      hostRemove(el);\n      if (transition && !transition.persisted && transition.afterLeave) {\n        transition.afterLeave();\n      }\n    };\n    if (vnode.shapeFlag & 1 && transition && !transition.persisted) {\n      const { leave, delayLeave } = transition;\n      const performLeave = () => leave(el, performRemove);\n      if (delayLeave) {\n        delayLeave(vnode.el, performRemove, performLeave);\n      } else {\n        performLeave();\n      }\n    } else {\n      performRemove();\n    }\n  };\n  const removeFragment = (cur, end) => {\n    let next;\n    while (cur !== end) {\n      next = hostNextSibling(cur);\n      hostRemove(cur);\n      cur = next;\n    }\n    hostRemove(end);\n  };\n  const unmountComponent = (instance, parentSuspense, doRemove) => {\n    if (!!(process.env.NODE_ENV !== \"production\") && instance.type.__hmrId) {\n      unregisterHMR(instance);\n    }\n    const { bum, scope, job, subTree, um, m, a } = instance;\n    invalidateMount(m);\n    invalidateMount(a);\n    if (bum) {\n      invokeArrayFns(bum);\n    }\n    scope.stop();\n    if (job) {\n      job.flags |= 8;\n      unmount(subTree, instance, parentSuspense, doRemove);\n    }\n    if (um) {\n      queuePostRenderEffect(um, parentSuspense);\n    }\n    queuePostRenderEffect(() => {\n      instance.isUnmounted = true;\n    }, parentSuspense);\n    if (parentSuspense && parentSuspense.pendingBranch && !parentSuspense.isUnmounted && instance.asyncDep && !instance.asyncResolved && instance.suspenseId === parentSuspense.pendingId) {\n      parentSuspense.deps--;\n      if (parentSuspense.deps === 0) {\n        parentSuspense.resolve();\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      devtoolsComponentRemoved(instance);\n    }\n  };\n  const unmountChildren = (children, parentComponent, parentSuspense, doRemove = false, optimized = false, start = 0) => {\n    for (let i = start; i < children.length; i++) {\n      unmount(children[i], parentComponent, parentSuspense, doRemove, optimized);\n    }\n  };\n  const getNextHostNode = (vnode) => {\n    if (vnode.shapeFlag & 6) {\n      return getNextHostNode(vnode.component.subTree);\n    }\n    if (vnode.shapeFlag & 128) {\n      return vnode.suspense.next();\n    }\n    const el = hostNextSibling(vnode.anchor || vnode.el);\n    const teleportEnd = el && el[TeleportEndKey];\n    return teleportEnd ? hostNextSibling(teleportEnd) : el;\n  };\n  let isFlushing = false;\n  const render = (vnode, container, namespace) => {\n    if (vnode == null) {\n      if (container._vnode) {\n        unmount(container._vnode, null, null, true);\n      }\n    } else {\n      patch(\n        container._vnode || null,\n        vnode,\n        container,\n        null,\n        null,\n        null,\n        namespace\n      );\n    }\n    container._vnode = vnode;\n    if (!isFlushing) {\n      isFlushing = true;\n      flushPreFlushCbs();\n      flushPostFlushCbs();\n      isFlushing = false;\n    }\n  };\n  const internals = {\n    p: patch,\n    um: unmount,\n    m: move,\n    r: remove,\n    mt: mountComponent,\n    mc: mountChildren,\n    pc: patchChildren,\n    pbc: patchBlockChildren,\n    n: getNextHostNode,\n    o: options\n  };\n  let hydrate;\n  let hydrateNode;\n  if (createHydrationFns) {\n    [hydrate, hydrateNode] = createHydrationFns(\n      internals\n    );\n  }\n  return {\n    render,\n    hydrate,\n    createApp: createAppAPI(render, hydrate)\n  };\n}\nfunction resolveChildrenNamespace({ type, props }, currentNamespace) {\n  return currentNamespace === \"svg\" && type === \"foreignObject\" || currentNamespace === \"mathml\" && type === \"annotation-xml\" && props && props.encoding && props.encoding.includes(\"html\") ? void 0 : currentNamespace;\n}\nfunction toggleRecurse({ effect, job }, allowed) {\n  if (allowed) {\n    effect.flags |= 32;\n    job.flags |= 4;\n  } else {\n    effect.flags &= ~32;\n    job.flags &= ~4;\n  }\n}\nfunction needTransition(parentSuspense, transition) {\n  return (!parentSuspense || parentSuspense && !parentSuspense.pendingBranch) && transition && !transition.persisted;\n}\nfunction traverseStaticChildren(n1, n2, shallow = false) {\n  const ch1 = n1.children;\n  const ch2 = n2.children;\n  if (isArray(ch1) && isArray(ch2)) {\n    for (let i = 0; i < ch1.length; i++) {\n      const c1 = ch1[i];\n      let c2 = ch2[i];\n      if (c2.shapeFlag & 1 && !c2.dynamicChildren) {\n        if (c2.patchFlag <= 0 || c2.patchFlag === 32) {\n          c2 = ch2[i] = cloneIfMounted(ch2[i]);\n          c2.el = c1.el;\n        }\n        if (!shallow && c2.patchFlag !== -2)\n          traverseStaticChildren(c1, c2);\n      }\n      if (c2.type === Text) {\n        c2.el = c1.el;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && c2.type === Comment && !c2.el) {\n        c2.el = c1.el;\n      }\n    }\n  }\n}\nfunction getSequence(arr) {\n  const p = arr.slice();\n  const result = [0];\n  let i, j, u, v, c;\n  const len = arr.length;\n  for (i = 0; i < len; i++) {\n    const arrI = arr[i];\n    if (arrI !== 0) {\n      j = result[result.length - 1];\n      if (arr[j] < arrI) {\n        p[i] = j;\n        result.push(i);\n        continue;\n      }\n      u = 0;\n      v = result.length - 1;\n      while (u < v) {\n        c = u + v >> 1;\n        if (arr[result[c]] < arrI) {\n          u = c + 1;\n        } else {\n          v = c;\n        }\n      }\n      if (arrI < arr[result[u]]) {\n        if (u > 0) {\n          p[i] = result[u - 1];\n        }\n        result[u] = i;\n      }\n    }\n  }\n  u = result.length;\n  v = result[u - 1];\n  while (u-- > 0) {\n    result[u] = v;\n    v = p[v];\n  }\n  return result;\n}\nfunction locateNonHydratedAsyncRoot(instance) {\n  const subComponent = instance.subTree.component;\n  if (subComponent) {\n    if (subComponent.asyncDep && !subComponent.asyncResolved) {\n      return subComponent;\n    } else {\n      return locateNonHydratedAsyncRoot(subComponent);\n    }\n  }\n}\nfunction invalidateMount(hooks) {\n  if (hooks) {\n    for (let i = 0; i < hooks.length; i++)\n      hooks[i].flags |= 8;\n  }\n}\n\nconst ssrContextKey = Symbol.for(\"v-scx\");\nconst useSSRContext = () => {\n  {\n    const ctx = inject(ssrContextKey);\n    if (!ctx) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(\n        `Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build.`\n      );\n    }\n    return ctx;\n  }\n};\n\nfunction watchEffect(effect, options) {\n  return doWatch(effect, null, options);\n}\nfunction watchPostEffect(effect, options) {\n  return doWatch(\n    effect,\n    null,\n    !!(process.env.NODE_ENV !== \"production\") ? extend({}, options, { flush: \"post\" }) : { flush: \"post\" }\n  );\n}\nfunction watchSyncEffect(effect, options) {\n  return doWatch(\n    effect,\n    null,\n    !!(process.env.NODE_ENV !== \"production\") ? extend({}, options, { flush: \"sync\" }) : { flush: \"sync\" }\n  );\n}\nfunction watch(source, cb, options) {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isFunction(cb)) {\n    warn$1(\n      `\\`watch(fn, options?)\\` signature has been moved to a separate API. Use \\`watchEffect(fn, options?)\\` instead. \\`watch\\` now only supports \\`watch(source, cb, options?) signature.`\n    );\n  }\n  return doWatch(source, cb, options);\n}\nfunction doWatch(source, cb, options = EMPTY_OBJ) {\n  const { immediate, deep, flush, once } = options;\n  if (!!(process.env.NODE_ENV !== \"production\") && !cb) {\n    if (immediate !== void 0) {\n      warn$1(\n        `watch() \"immediate\" option is only respected when using the watch(source, callback, options?) signature.`\n      );\n    }\n    if (deep !== void 0) {\n      warn$1(\n        `watch() \"deep\" option is only respected when using the watch(source, callback, options?) signature.`\n      );\n    }\n    if (once !== void 0) {\n      warn$1(\n        `watch() \"once\" option is only respected when using the watch(source, callback, options?) signature.`\n      );\n    }\n  }\n  const baseWatchOptions = extend({}, options);\n  if (!!(process.env.NODE_ENV !== \"production\")) baseWatchOptions.onWarn = warn$1;\n  const runsImmediately = cb && immediate || !cb && flush !== \"post\";\n  let ssrCleanup;\n  if (isInSSRComponentSetup) {\n    if (flush === \"sync\") {\n      const ctx = useSSRContext();\n      ssrCleanup = ctx.__watcherHandles || (ctx.__watcherHandles = []);\n    } else if (!runsImmediately) {\n      const watchStopHandle = () => {\n      };\n      watchStopHandle.stop = NOOP;\n      watchStopHandle.resume = NOOP;\n      watchStopHandle.pause = NOOP;\n      return watchStopHandle;\n    }\n  }\n  const instance = currentInstance;\n  baseWatchOptions.call = (fn, type, args) => callWithAsyncErrorHandling(fn, instance, type, args);\n  let isPre = false;\n  if (flush === \"post\") {\n    baseWatchOptions.scheduler = (job) => {\n      queuePostRenderEffect(job, instance && instance.suspense);\n    };\n  } else if (flush !== \"sync\") {\n    isPre = true;\n    baseWatchOptions.scheduler = (job, isFirstRun) => {\n      if (isFirstRun) {\n        job();\n      } else {\n        queueJob(job);\n      }\n    };\n  }\n  baseWatchOptions.augmentJob = (job) => {\n    if (cb) {\n      job.flags |= 4;\n    }\n    if (isPre) {\n      job.flags |= 2;\n      if (instance) {\n        job.id = instance.uid;\n        job.i = instance;\n      }\n    }\n  };\n  const watchHandle = watch$1(source, cb, baseWatchOptions);\n  if (isInSSRComponentSetup) {\n    if (ssrCleanup) {\n      ssrCleanup.push(watchHandle);\n    } else if (runsImmediately) {\n      watchHandle();\n    }\n  }\n  return watchHandle;\n}\nfunction instanceWatch(source, value, options) {\n  const publicThis = this.proxy;\n  const getter = isString(source) ? source.includes(\".\") ? createPathGetter(publicThis, source) : () => publicThis[source] : source.bind(publicThis, publicThis);\n  let cb;\n  if (isFunction(value)) {\n    cb = value;\n  } else {\n    cb = value.handler;\n    options = value;\n  }\n  const reset = setCurrentInstance(this);\n  const res = doWatch(getter, cb.bind(publicThis), options);\n  reset();\n  return res;\n}\nfunction createPathGetter(ctx, path) {\n  const segments = path.split(\".\");\n  return () => {\n    let cur = ctx;\n    for (let i = 0; i < segments.length && cur; i++) {\n      cur = cur[segments[i]];\n    }\n    return cur;\n  };\n}\n\nfunction useModel(props, name, options = EMPTY_OBJ) {\n  const i = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !i) {\n    warn$1(`useModel() called without active instance.`);\n    return ref();\n  }\n  const camelizedName = camelize(name);\n  if (!!(process.env.NODE_ENV !== \"production\") && !i.propsOptions[0][camelizedName]) {\n    warn$1(`useModel() called with prop \"${name}\" which is not declared.`);\n    return ref();\n  }\n  const hyphenatedName = hyphenate(name);\n  const modifiers = getModelModifiers(props, camelizedName);\n  const res = customRef((track, trigger) => {\n    let localValue;\n    let prevSetValue = EMPTY_OBJ;\n    let prevEmittedValue;\n    watchSyncEffect(() => {\n      const propValue = props[camelizedName];\n      if (hasChanged(localValue, propValue)) {\n        localValue = propValue;\n        trigger();\n      }\n    });\n    return {\n      get() {\n        track();\n        return options.get ? options.get(localValue) : localValue;\n      },\n      set(value) {\n        const emittedValue = options.set ? options.set(value) : value;\n        if (!hasChanged(emittedValue, localValue) && !(prevSetValue !== EMPTY_OBJ && hasChanged(value, prevSetValue))) {\n          return;\n        }\n        const rawProps = i.vnode.props;\n        if (!(rawProps && // check if parent has passed v-model\n        (name in rawProps || camelizedName in rawProps || hyphenatedName in rawProps) && (`onUpdate:${name}` in rawProps || `onUpdate:${camelizedName}` in rawProps || `onUpdate:${hyphenatedName}` in rawProps))) {\n          localValue = value;\n          trigger();\n        }\n        i.emit(`update:${name}`, emittedValue);\n        if (hasChanged(value, emittedValue) && hasChanged(value, prevSetValue) && !hasChanged(emittedValue, prevEmittedValue)) {\n          trigger();\n        }\n        prevSetValue = value;\n        prevEmittedValue = emittedValue;\n      }\n    };\n  });\n  res[Symbol.iterator] = () => {\n    let i2 = 0;\n    return {\n      next() {\n        if (i2 < 2) {\n          return { value: i2++ ? modifiers || EMPTY_OBJ : res, done: false };\n        } else {\n          return { done: true };\n        }\n      }\n    };\n  };\n  return res;\n}\nconst getModelModifiers = (props, modelName) => {\n  return modelName === \"modelValue\" || modelName === \"model-value\" ? props.modelModifiers : props[`${modelName}Modifiers`] || props[`${camelize(modelName)}Modifiers`] || props[`${hyphenate(modelName)}Modifiers`];\n};\n\nfunction emit(instance, event, ...rawArgs) {\n  if (instance.isUnmounted) return;\n  const props = instance.vnode.props || EMPTY_OBJ;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const {\n      emitsOptions,\n      propsOptions: [propsOptions]\n    } = instance;\n    if (emitsOptions) {\n      if (!(event in emitsOptions) && true) {\n        if (!propsOptions || !(toHandlerKey(camelize(event)) in propsOptions)) {\n          warn$1(\n            `Component emitted event \"${event}\" but it is neither declared in the emits option nor as an \"${toHandlerKey(camelize(event))}\" prop.`\n          );\n        }\n      } else {\n        const validator = emitsOptions[event];\n        if (isFunction(validator)) {\n          const isValid = validator(...rawArgs);\n          if (!isValid) {\n            warn$1(\n              `Invalid event arguments: event validation failed for event \"${event}\".`\n            );\n          }\n        }\n      }\n    }\n  }\n  let args = rawArgs;\n  const isModelListener = event.startsWith(\"update:\");\n  const modifiers = isModelListener && getModelModifiers(props, event.slice(7));\n  if (modifiers) {\n    if (modifiers.trim) {\n      args = rawArgs.map((a) => isString(a) ? a.trim() : a);\n    }\n    if (modifiers.number) {\n      args = rawArgs.map(looseToNumber);\n    }\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsComponentEmit(instance, event, args);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const lowerCaseEvent = event.toLowerCase();\n    if (lowerCaseEvent !== event && props[toHandlerKey(lowerCaseEvent)]) {\n      warn$1(\n        `Event \"${lowerCaseEvent}\" is emitted in component ${formatComponentName(\n          instance,\n          instance.type\n        )} but the handler is registered for \"${event}\". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use \"${hyphenate(\n          event\n        )}\" instead of \"${event}\".`\n      );\n    }\n  }\n  let handlerName;\n  let handler = props[handlerName = toHandlerKey(event)] || // also try camelCase event handler (#2249)\n  props[handlerName = toHandlerKey(camelize(event))];\n  if (!handler && isModelListener) {\n    handler = props[handlerName = toHandlerKey(hyphenate(event))];\n  }\n  if (handler) {\n    callWithAsyncErrorHandling(\n      handler,\n      instance,\n      6,\n      args\n    );\n  }\n  const onceHandler = props[handlerName + `Once`];\n  if (onceHandler) {\n    if (!instance.emitted) {\n      instance.emitted = {};\n    } else if (instance.emitted[handlerName]) {\n      return;\n    }\n    instance.emitted[handlerName] = true;\n    callWithAsyncErrorHandling(\n      onceHandler,\n      instance,\n      6,\n      args\n    );\n  }\n}\nfunction normalizeEmitsOptions(comp, appContext, asMixin = false) {\n  const cache = appContext.emitsCache;\n  const cached = cache.get(comp);\n  if (cached !== void 0) {\n    return cached;\n  }\n  const raw = comp.emits;\n  let normalized = {};\n  let hasExtends = false;\n  if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\n    const extendEmits = (raw2) => {\n      const normalizedFromExtend = normalizeEmitsOptions(raw2, appContext, true);\n      if (normalizedFromExtend) {\n        hasExtends = true;\n        extend(normalized, normalizedFromExtend);\n      }\n    };\n    if (!asMixin && appContext.mixins.length) {\n      appContext.mixins.forEach(extendEmits);\n    }\n    if (comp.extends) {\n      extendEmits(comp.extends);\n    }\n    if (comp.mixins) {\n      comp.mixins.forEach(extendEmits);\n    }\n  }\n  if (!raw && !hasExtends) {\n    if (isObject(comp)) {\n      cache.set(comp, null);\n    }\n    return null;\n  }\n  if (isArray(raw)) {\n    raw.forEach((key) => normalized[key] = null);\n  } else {\n    extend(normalized, raw);\n  }\n  if (isObject(comp)) {\n    cache.set(comp, normalized);\n  }\n  return normalized;\n}\nfunction isEmitListener(options, key) {\n  if (!options || !isOn(key)) {\n    return false;\n  }\n  key = key.slice(2).replace(/Once$/, \"\");\n  return hasOwn(options, key[0].toLowerCase() + key.slice(1)) || hasOwn(options, hyphenate(key)) || hasOwn(options, key);\n}\n\nlet accessedAttrs = false;\nfunction markAttrsAccessed() {\n  accessedAttrs = true;\n}\nfunction renderComponentRoot(instance) {\n  const {\n    type: Component,\n    vnode,\n    proxy,\n    withProxy,\n    propsOptions: [propsOptions],\n    slots,\n    attrs,\n    emit,\n    render,\n    renderCache,\n    props,\n    data,\n    setupState,\n    ctx,\n    inheritAttrs\n  } = instance;\n  const prev = setCurrentRenderingInstance(instance);\n  let result;\n  let fallthroughAttrs;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    accessedAttrs = false;\n  }\n  try {\n    if (vnode.shapeFlag & 4) {\n      const proxyToUse = withProxy || proxy;\n      const thisProxy = !!(process.env.NODE_ENV !== \"production\") && setupState.__isScriptSetup ? new Proxy(proxyToUse, {\n        get(target, key, receiver) {\n          warn$1(\n            `Property '${String(\n              key\n            )}' was accessed via 'this'. Avoid using 'this' in templates.`\n          );\n          return Reflect.get(target, key, receiver);\n        }\n      }) : proxyToUse;\n      result = normalizeVNode(\n        render.call(\n          thisProxy,\n          proxyToUse,\n          renderCache,\n          !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(props) : props,\n          setupState,\n          data,\n          ctx\n        )\n      );\n      fallthroughAttrs = attrs;\n    } else {\n      const render2 = Component;\n      if (!!(process.env.NODE_ENV !== \"production\") && attrs === props) {\n        markAttrsAccessed();\n      }\n      result = normalizeVNode(\n        render2.length > 1 ? render2(\n          !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(props) : props,\n          !!(process.env.NODE_ENV !== \"production\") ? {\n            get attrs() {\n              markAttrsAccessed();\n              return shallowReadonly(attrs);\n            },\n            slots,\n            emit\n          } : { attrs, slots, emit }\n        ) : render2(\n          !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(props) : props,\n          null\n        )\n      );\n      fallthroughAttrs = Component.props ? attrs : getFunctionalFallthrough(attrs);\n    }\n  } catch (err) {\n    blockStack.length = 0;\n    handleError(err, instance, 1);\n    result = createVNode(Comment);\n  }\n  let root = result;\n  let setRoot = void 0;\n  if (!!(process.env.NODE_ENV !== \"production\") && result.patchFlag > 0 && result.patchFlag & 2048) {\n    [root, setRoot] = getChildRoot(result);\n  }\n  if (fallthroughAttrs && inheritAttrs !== false) {\n    const keys = Object.keys(fallthroughAttrs);\n    const { shapeFlag } = root;\n    if (keys.length) {\n      if (shapeFlag & (1 | 6)) {\n        if (propsOptions && keys.some(isModelListener)) {\n          fallthroughAttrs = filterModelListeners(\n            fallthroughAttrs,\n            propsOptions\n          );\n        }\n        root = cloneVNode(root, fallthroughAttrs, false, true);\n      } else if (!!(process.env.NODE_ENV !== \"production\") && !accessedAttrs && root.type !== Comment) {\n        const allAttrs = Object.keys(attrs);\n        const eventAttrs = [];\n        const extraAttrs = [];\n        for (let i = 0, l = allAttrs.length; i < l; i++) {\n          const key = allAttrs[i];\n          if (isOn(key)) {\n            if (!isModelListener(key)) {\n              eventAttrs.push(key[2].toLowerCase() + key.slice(3));\n            }\n          } else {\n            extraAttrs.push(key);\n          }\n        }\n        if (extraAttrs.length) {\n          warn$1(\n            `Extraneous non-props attributes (${extraAttrs.join(\", \")}) were passed to component but could not be automatically inherited because component renders fragment or text or teleport root nodes.`\n          );\n        }\n        if (eventAttrs.length) {\n          warn$1(\n            `Extraneous non-emits event listeners (${eventAttrs.join(\", \")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the \"emits\" option.`\n          );\n        }\n      }\n    }\n  }\n  if (vnode.dirs) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isElementRoot(root)) {\n      warn$1(\n        `Runtime directive used on component with non-element root node. The directives will not function as intended.`\n      );\n    }\n    root = cloneVNode(root, null, false, true);\n    root.dirs = root.dirs ? root.dirs.concat(vnode.dirs) : vnode.dirs;\n  }\n  if (vnode.transition) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isElementRoot(root)) {\n      warn$1(\n        `Component inside <Transition> renders non-element root node that cannot be animated.`\n      );\n    }\n    setTransitionHooks(root, vnode.transition);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && setRoot) {\n    setRoot(root);\n  } else {\n    result = root;\n  }\n  setCurrentRenderingInstance(prev);\n  return result;\n}\nconst getChildRoot = (vnode) => {\n  const rawChildren = vnode.children;\n  const dynamicChildren = vnode.dynamicChildren;\n  const childRoot = filterSingleRoot(rawChildren, false);\n  if (!childRoot) {\n    return [vnode, void 0];\n  } else if (!!(process.env.NODE_ENV !== \"production\") && childRoot.patchFlag > 0 && childRoot.patchFlag & 2048) {\n    return getChildRoot(childRoot);\n  }\n  const index = rawChildren.indexOf(childRoot);\n  const dynamicIndex = dynamicChildren ? dynamicChildren.indexOf(childRoot) : -1;\n  const setRoot = (updatedRoot) => {\n    rawChildren[index] = updatedRoot;\n    if (dynamicChildren) {\n      if (dynamicIndex > -1) {\n        dynamicChildren[dynamicIndex] = updatedRoot;\n      } else if (updatedRoot.patchFlag > 0) {\n        vnode.dynamicChildren = [...dynamicChildren, updatedRoot];\n      }\n    }\n  };\n  return [normalizeVNode(childRoot), setRoot];\n};\nfunction filterSingleRoot(children, recurse = true) {\n  let singleRoot;\n  for (let i = 0; i < children.length; i++) {\n    const child = children[i];\n    if (isVNode(child)) {\n      if (child.type !== Comment || child.children === \"v-if\") {\n        if (singleRoot) {\n          return;\n        } else {\n          singleRoot = child;\n          if (!!(process.env.NODE_ENV !== \"production\") && recurse && singleRoot.patchFlag > 0 && singleRoot.patchFlag & 2048) {\n            return filterSingleRoot(singleRoot.children);\n          }\n        }\n      }\n    } else {\n      return;\n    }\n  }\n  return singleRoot;\n}\nconst getFunctionalFallthrough = (attrs) => {\n  let res;\n  for (const key in attrs) {\n    if (key === \"class\" || key === \"style\" || isOn(key)) {\n      (res || (res = {}))[key] = attrs[key];\n    }\n  }\n  return res;\n};\nconst filterModelListeners = (attrs, props) => {\n  const res = {};\n  for (const key in attrs) {\n    if (!isModelListener(key) || !(key.slice(9) in props)) {\n      res[key] = attrs[key];\n    }\n  }\n  return res;\n};\nconst isElementRoot = (vnode) => {\n  return vnode.shapeFlag & (6 | 1) || vnode.type === Comment;\n};\nfunction shouldUpdateComponent(prevVNode, nextVNode, optimized) {\n  const { props: prevProps, children: prevChildren, component } = prevVNode;\n  const { props: nextProps, children: nextChildren, patchFlag } = nextVNode;\n  const emits = component.emitsOptions;\n  if (!!(process.env.NODE_ENV !== \"production\") && (prevChildren || nextChildren) && isHmrUpdating) {\n    return true;\n  }\n  if (nextVNode.dirs || nextVNode.transition) {\n    return true;\n  }\n  if (optimized && patchFlag >= 0) {\n    if (patchFlag & 1024) {\n      return true;\n    }\n    if (patchFlag & 16) {\n      if (!prevProps) {\n        return !!nextProps;\n      }\n      return hasPropsChanged(prevProps, nextProps, emits);\n    } else if (patchFlag & 8) {\n      const dynamicProps = nextVNode.dynamicProps;\n      for (let i = 0; i < dynamicProps.length; i++) {\n        const key = dynamicProps[i];\n        if (nextProps[key] !== prevProps[key] && !isEmitListener(emits, key)) {\n          return true;\n        }\n      }\n    }\n  } else {\n    if (prevChildren || nextChildren) {\n      if (!nextChildren || !nextChildren.$stable) {\n        return true;\n      }\n    }\n    if (prevProps === nextProps) {\n      return false;\n    }\n    if (!prevProps) {\n      return !!nextProps;\n    }\n    if (!nextProps) {\n      return true;\n    }\n    return hasPropsChanged(prevProps, nextProps, emits);\n  }\n  return false;\n}\nfunction hasPropsChanged(prevProps, nextProps, emitsOptions) {\n  const nextKeys = Object.keys(nextProps);\n  if (nextKeys.length !== Object.keys(prevProps).length) {\n    return true;\n  }\n  for (let i = 0; i < nextKeys.length; i++) {\n    const key = nextKeys[i];\n    if (nextProps[key] !== prevProps[key] && !isEmitListener(emitsOptions, key)) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction updateHOCHostEl({ vnode, parent }, el) {\n  while (parent) {\n    const root = parent.subTree;\n    if (root.suspense && root.suspense.activeBranch === vnode) {\n      root.el = vnode.el;\n    }\n    if (root === vnode) {\n      (vnode = parent.vnode).el = el;\n      parent = parent.parent;\n    } else {\n      break;\n    }\n  }\n}\n\nconst isSuspense = (type) => type.__isSuspense;\nlet suspenseId = 0;\nconst SuspenseImpl = {\n  name: \"Suspense\",\n  // In order to make Suspense tree-shakable, we need to avoid importing it\n  // directly in the renderer. The renderer checks for the __isSuspense flag\n  // on a vnode's type and calls the `process` method, passing in renderer\n  // internals.\n  __isSuspense: true,\n  process(n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, rendererInternals) {\n    if (n1 == null) {\n      mountSuspense(\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized,\n        rendererInternals\n      );\n    } else {\n      if (parentSuspense && parentSuspense.deps > 0 && !n1.suspense.isInFallback) {\n        n2.suspense = n1.suspense;\n        n2.suspense.vnode = n2;\n        n2.el = n1.el;\n        return;\n      }\n      patchSuspense(\n        n1,\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        namespace,\n        slotScopeIds,\n        optimized,\n        rendererInternals\n      );\n    }\n  },\n  hydrate: hydrateSuspense,\n  normalize: normalizeSuspenseChildren\n};\nconst Suspense = SuspenseImpl ;\nfunction triggerEvent(vnode, name) {\n  const eventListener = vnode.props && vnode.props[name];\n  if (isFunction(eventListener)) {\n    eventListener();\n  }\n}\nfunction mountSuspense(vnode, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, rendererInternals) {\n  const {\n    p: patch,\n    o: { createElement }\n  } = rendererInternals;\n  const hiddenContainer = createElement(\"div\");\n  const suspense = vnode.suspense = createSuspenseBoundary(\n    vnode,\n    parentSuspense,\n    parentComponent,\n    container,\n    hiddenContainer,\n    anchor,\n    namespace,\n    slotScopeIds,\n    optimized,\n    rendererInternals\n  );\n  patch(\n    null,\n    suspense.pendingBranch = vnode.ssContent,\n    hiddenContainer,\n    null,\n    parentComponent,\n    suspense,\n    namespace,\n    slotScopeIds\n  );\n  if (suspense.deps > 0) {\n    triggerEvent(vnode, \"onPending\");\n    triggerEvent(vnode, \"onFallback\");\n    patch(\n      null,\n      vnode.ssFallback,\n      container,\n      anchor,\n      parentComponent,\n      null,\n      // fallback tree will not have suspense context\n      namespace,\n      slotScopeIds\n    );\n    setActiveBranch(suspense, vnode.ssFallback);\n  } else {\n    suspense.resolve(false, true);\n  }\n}\nfunction patchSuspense(n1, n2, container, anchor, parentComponent, namespace, slotScopeIds, optimized, { p: patch, um: unmount, o: { createElement } }) {\n  const suspense = n2.suspense = n1.suspense;\n  suspense.vnode = n2;\n  n2.el = n1.el;\n  const newBranch = n2.ssContent;\n  const newFallback = n2.ssFallback;\n  const { activeBranch, pendingBranch, isInFallback, isHydrating } = suspense;\n  if (pendingBranch) {\n    suspense.pendingBranch = newBranch;\n    if (isSameVNodeType(newBranch, pendingBranch)) {\n      patch(\n        pendingBranch,\n        newBranch,\n        suspense.hiddenContainer,\n        null,\n        parentComponent,\n        suspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n      if (suspense.deps <= 0) {\n        suspense.resolve();\n      } else if (isInFallback) {\n        if (!isHydrating) {\n          patch(\n            activeBranch,\n            newFallback,\n            container,\n            anchor,\n            parentComponent,\n            null,\n            // fallback tree will not have suspense context\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n          setActiveBranch(suspense, newFallback);\n        }\n      }\n    } else {\n      suspense.pendingId = suspenseId++;\n      if (isHydrating) {\n        suspense.isHydrating = false;\n        suspense.activeBranch = pendingBranch;\n      } else {\n        unmount(pendingBranch, parentComponent, suspense);\n      }\n      suspense.deps = 0;\n      suspense.effects.length = 0;\n      suspense.hiddenContainer = createElement(\"div\");\n      if (isInFallback) {\n        patch(\n          null,\n          newBranch,\n          suspense.hiddenContainer,\n          null,\n          parentComponent,\n          suspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        if (suspense.deps <= 0) {\n          suspense.resolve();\n        } else {\n          patch(\n            activeBranch,\n            newFallback,\n            container,\n            anchor,\n            parentComponent,\n            null,\n            // fallback tree will not have suspense context\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n          setActiveBranch(suspense, newFallback);\n        }\n      } else if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {\n        patch(\n          activeBranch,\n          newBranch,\n          container,\n          anchor,\n          parentComponent,\n          suspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        suspense.resolve(true);\n      } else {\n        patch(\n          null,\n          newBranch,\n          suspense.hiddenContainer,\n          null,\n          parentComponent,\n          suspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        if (suspense.deps <= 0) {\n          suspense.resolve();\n        }\n      }\n    }\n  } else {\n    if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {\n      patch(\n        activeBranch,\n        newBranch,\n        container,\n        anchor,\n        parentComponent,\n        suspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n      setActiveBranch(suspense, newBranch);\n    } else {\n      triggerEvent(n2, \"onPending\");\n      suspense.pendingBranch = newBranch;\n      if (newBranch.shapeFlag & 512) {\n        suspense.pendingId = newBranch.component.suspenseId;\n      } else {\n        suspense.pendingId = suspenseId++;\n      }\n      patch(\n        null,\n        newBranch,\n        suspense.hiddenContainer,\n        null,\n        parentComponent,\n        suspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n      if (suspense.deps <= 0) {\n        suspense.resolve();\n      } else {\n        const { timeout, pendingId } = suspense;\n        if (timeout > 0) {\n          setTimeout(() => {\n            if (suspense.pendingId === pendingId) {\n              suspense.fallback(newFallback);\n            }\n          }, timeout);\n        } else if (timeout === 0) {\n          suspense.fallback(newFallback);\n        }\n      }\n    }\n  }\n}\nlet hasWarned = false;\nfunction createSuspenseBoundary(vnode, parentSuspense, parentComponent, container, hiddenContainer, anchor, namespace, slotScopeIds, optimized, rendererInternals, isHydrating = false) {\n  if (!!(process.env.NODE_ENV !== \"production\") && true && !hasWarned) {\n    hasWarned = true;\n    console[console.info ? \"info\" : \"log\"](\n      `<Suspense> is an experimental feature and its API will likely change.`\n    );\n  }\n  const {\n    p: patch,\n    m: move,\n    um: unmount,\n    n: next,\n    o: { parentNode, remove }\n  } = rendererInternals;\n  let parentSuspenseId;\n  const isSuspensible = isVNodeSuspensible(vnode);\n  if (isSuspensible) {\n    if (parentSuspense && parentSuspense.pendingBranch) {\n      parentSuspenseId = parentSuspense.pendingId;\n      parentSuspense.deps++;\n    }\n  }\n  const timeout = vnode.props ? toNumber(vnode.props.timeout) : void 0;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    assertNumber(timeout, `Suspense timeout`);\n  }\n  const initialAnchor = anchor;\n  const suspense = {\n    vnode,\n    parent: parentSuspense,\n    parentComponent,\n    namespace,\n    container,\n    hiddenContainer,\n    deps: 0,\n    pendingId: suspenseId++,\n    timeout: typeof timeout === \"number\" ? timeout : -1,\n    activeBranch: null,\n    pendingBranch: null,\n    isInFallback: !isHydrating,\n    isHydrating,\n    isUnmounted: false,\n    effects: [],\n    resolve(resume = false, sync = false) {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        if (!resume && !suspense.pendingBranch) {\n          throw new Error(\n            `suspense.resolve() is called without a pending branch.`\n          );\n        }\n        if (suspense.isUnmounted) {\n          throw new Error(\n            `suspense.resolve() is called on an already unmounted suspense boundary.`\n          );\n        }\n      }\n      const {\n        vnode: vnode2,\n        activeBranch,\n        pendingBranch,\n        pendingId,\n        effects,\n        parentComponent: parentComponent2,\n        container: container2\n      } = suspense;\n      let delayEnter = false;\n      if (suspense.isHydrating) {\n        suspense.isHydrating = false;\n      } else if (!resume) {\n        delayEnter = activeBranch && pendingBranch.transition && pendingBranch.transition.mode === \"out-in\";\n        if (delayEnter) {\n          activeBranch.transition.afterLeave = () => {\n            if (pendingId === suspense.pendingId) {\n              move(\n                pendingBranch,\n                container2,\n                anchor === initialAnchor ? next(activeBranch) : anchor,\n                0\n              );\n              queuePostFlushCb(effects);\n            }\n          };\n        }\n        if (activeBranch) {\n          if (parentNode(activeBranch.el) === container2) {\n            anchor = next(activeBranch);\n          }\n          unmount(activeBranch, parentComponent2, suspense, true);\n        }\n        if (!delayEnter) {\n          move(pendingBranch, container2, anchor, 0);\n        }\n      }\n      setActiveBranch(suspense, pendingBranch);\n      suspense.pendingBranch = null;\n      suspense.isInFallback = false;\n      let parent = suspense.parent;\n      let hasUnresolvedAncestor = false;\n      while (parent) {\n        if (parent.pendingBranch) {\n          parent.effects.push(...effects);\n          hasUnresolvedAncestor = true;\n          break;\n        }\n        parent = parent.parent;\n      }\n      if (!hasUnresolvedAncestor && !delayEnter) {\n        queuePostFlushCb(effects);\n      }\n      suspense.effects = [];\n      if (isSuspensible) {\n        if (parentSuspense && parentSuspense.pendingBranch && parentSuspenseId === parentSuspense.pendingId) {\n          parentSuspense.deps--;\n          if (parentSuspense.deps === 0 && !sync) {\n            parentSuspense.resolve();\n          }\n        }\n      }\n      triggerEvent(vnode2, \"onResolve\");\n    },\n    fallback(fallbackVNode) {\n      if (!suspense.pendingBranch) {\n        return;\n      }\n      const { vnode: vnode2, activeBranch, parentComponent: parentComponent2, container: container2, namespace: namespace2 } = suspense;\n      triggerEvent(vnode2, \"onFallback\");\n      const anchor2 = next(activeBranch);\n      const mountFallback = () => {\n        if (!suspense.isInFallback) {\n          return;\n        }\n        patch(\n          null,\n          fallbackVNode,\n          container2,\n          anchor2,\n          parentComponent2,\n          null,\n          // fallback tree will not have suspense context\n          namespace2,\n          slotScopeIds,\n          optimized\n        );\n        setActiveBranch(suspense, fallbackVNode);\n      };\n      const delayEnter = fallbackVNode.transition && fallbackVNode.transition.mode === \"out-in\";\n      if (delayEnter) {\n        activeBranch.transition.afterLeave = mountFallback;\n      }\n      suspense.isInFallback = true;\n      unmount(\n        activeBranch,\n        parentComponent2,\n        null,\n        // no suspense so unmount hooks fire now\n        true\n        // shouldRemove\n      );\n      if (!delayEnter) {\n        mountFallback();\n      }\n    },\n    move(container2, anchor2, type) {\n      suspense.activeBranch && move(suspense.activeBranch, container2, anchor2, type);\n      suspense.container = container2;\n    },\n    next() {\n      return suspense.activeBranch && next(suspense.activeBranch);\n    },\n    registerDep(instance, setupRenderEffect, optimized2) {\n      const isInPendingSuspense = !!suspense.pendingBranch;\n      if (isInPendingSuspense) {\n        suspense.deps++;\n      }\n      const hydratedEl = instance.vnode.el;\n      instance.asyncDep.catch((err) => {\n        handleError(err, instance, 0);\n      }).then((asyncSetupResult) => {\n        if (instance.isUnmounted || suspense.isUnmounted || suspense.pendingId !== instance.suspenseId) {\n          return;\n        }\n        instance.asyncResolved = true;\n        const { vnode: vnode2 } = instance;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(vnode2);\n        }\n        handleSetupResult(instance, asyncSetupResult, false);\n        if (hydratedEl) {\n          vnode2.el = hydratedEl;\n        }\n        const placeholder = !hydratedEl && instance.subTree.el;\n        setupRenderEffect(\n          instance,\n          vnode2,\n          // component may have been moved before resolve.\n          // if this is not a hydration, instance.subTree will be the comment\n          // placeholder.\n          parentNode(hydratedEl || instance.subTree.el),\n          // anchor will not be used if this is hydration, so only need to\n          // consider the comment placeholder case.\n          hydratedEl ? null : next(instance.subTree),\n          suspense,\n          namespace,\n          optimized2\n        );\n        if (placeholder) {\n          remove(placeholder);\n        }\n        updateHOCHostEl(instance, vnode2.el);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n        if (isInPendingSuspense && --suspense.deps === 0) {\n          suspense.resolve();\n        }\n      });\n    },\n    unmount(parentSuspense2, doRemove) {\n      suspense.isUnmounted = true;\n      if (suspense.activeBranch) {\n        unmount(\n          suspense.activeBranch,\n          parentComponent,\n          parentSuspense2,\n          doRemove\n        );\n      }\n      if (suspense.pendingBranch) {\n        unmount(\n          suspense.pendingBranch,\n          parentComponent,\n          parentSuspense2,\n          doRemove\n        );\n      }\n    }\n  };\n  return suspense;\n}\nfunction hydrateSuspense(node, vnode, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, rendererInternals, hydrateNode) {\n  const suspense = vnode.suspense = createSuspenseBoundary(\n    vnode,\n    parentSuspense,\n    parentComponent,\n    node.parentNode,\n    // eslint-disable-next-line no-restricted-globals\n    document.createElement(\"div\"),\n    null,\n    namespace,\n    slotScopeIds,\n    optimized,\n    rendererInternals,\n    true\n  );\n  const result = hydrateNode(\n    node,\n    suspense.pendingBranch = vnode.ssContent,\n    parentComponent,\n    suspense,\n    slotScopeIds,\n    optimized\n  );\n  if (suspense.deps === 0) {\n    suspense.resolve(false, true);\n  }\n  return result;\n}\nfunction normalizeSuspenseChildren(vnode) {\n  const { shapeFlag, children } = vnode;\n  const isSlotChildren = shapeFlag & 32;\n  vnode.ssContent = normalizeSuspenseSlot(\n    isSlotChildren ? children.default : children\n  );\n  vnode.ssFallback = isSlotChildren ? normalizeSuspenseSlot(children.fallback) : createVNode(Comment);\n}\nfunction normalizeSuspenseSlot(s) {\n  let block;\n  if (isFunction(s)) {\n    const trackBlock = isBlockTreeEnabled && s._c;\n    if (trackBlock) {\n      s._d = false;\n      openBlock();\n    }\n    s = s();\n    if (trackBlock) {\n      s._d = true;\n      block = currentBlock;\n      closeBlock();\n    }\n  }\n  if (isArray(s)) {\n    const singleChild = filterSingleRoot(s);\n    if (!!(process.env.NODE_ENV !== \"production\") && !singleChild && s.filter((child) => child !== NULL_DYNAMIC_COMPONENT).length > 0) {\n      warn$1(`<Suspense> slots expect a single root node.`);\n    }\n    s = singleChild;\n  }\n  s = normalizeVNode(s);\n  if (block && !s.dynamicChildren) {\n    s.dynamicChildren = block.filter((c) => c !== s);\n  }\n  return s;\n}\nfunction queueEffectWithSuspense(fn, suspense) {\n  if (suspense && suspense.pendingBranch) {\n    if (isArray(fn)) {\n      suspense.effects.push(...fn);\n    } else {\n      suspense.effects.push(fn);\n    }\n  } else {\n    queuePostFlushCb(fn);\n  }\n}\nfunction setActiveBranch(suspense, branch) {\n  suspense.activeBranch = branch;\n  const { vnode, parentComponent } = suspense;\n  let el = branch.el;\n  while (!el && branch.component) {\n    branch = branch.component.subTree;\n    el = branch.el;\n  }\n  vnode.el = el;\n  if (parentComponent && parentComponent.subTree === vnode) {\n    parentComponent.vnode.el = el;\n    updateHOCHostEl(parentComponent, el);\n  }\n}\nfunction isVNodeSuspensible(vnode) {\n  const suspensible = vnode.props && vnode.props.suspensible;\n  return suspensible != null && suspensible !== false;\n}\n\nconst Fragment = Symbol.for(\"v-fgt\");\nconst Text = Symbol.for(\"v-txt\");\nconst Comment = Symbol.for(\"v-cmt\");\nconst Static = Symbol.for(\"v-stc\");\nconst blockStack = [];\nlet currentBlock = null;\nfunction openBlock(disableTracking = false) {\n  blockStack.push(currentBlock = disableTracking ? null : []);\n}\nfunction closeBlock() {\n  blockStack.pop();\n  currentBlock = blockStack[blockStack.length - 1] || null;\n}\nlet isBlockTreeEnabled = 1;\nfunction setBlockTracking(value, inVOnce = false) {\n  isBlockTreeEnabled += value;\n  if (value < 0 && currentBlock && inVOnce) {\n    currentBlock.hasOnce = true;\n  }\n}\nfunction setupBlock(vnode) {\n  vnode.dynamicChildren = isBlockTreeEnabled > 0 ? currentBlock || EMPTY_ARR : null;\n  closeBlock();\n  if (isBlockTreeEnabled > 0 && currentBlock) {\n    currentBlock.push(vnode);\n  }\n  return vnode;\n}\nfunction createElementBlock(type, props, children, patchFlag, dynamicProps, shapeFlag) {\n  return setupBlock(\n    createBaseVNode(\n      type,\n      props,\n      children,\n      patchFlag,\n      dynamicProps,\n      shapeFlag,\n      true\n    )\n  );\n}\nfunction createBlock(type, props, children, patchFlag, dynamicProps) {\n  return setupBlock(\n    createVNode(\n      type,\n      props,\n      children,\n      patchFlag,\n      dynamicProps,\n      true\n    )\n  );\n}\nfunction isVNode(value) {\n  return value ? value.__v_isVNode === true : false;\n}\nfunction isSameVNodeType(n1, n2) {\n  if (!!(process.env.NODE_ENV !== \"production\") && n2.shapeFlag & 6 && n1.component) {\n    const dirtyInstances = hmrDirtyComponents.get(n2.type);\n    if (dirtyInstances && dirtyInstances.has(n1.component)) {\n      n1.shapeFlag &= ~256;\n      n2.shapeFlag &= ~512;\n      return false;\n    }\n  }\n  return n1.type === n2.type && n1.key === n2.key;\n}\nlet vnodeArgsTransformer;\nfunction transformVNodeArgs(transformer) {\n  vnodeArgsTransformer = transformer;\n}\nconst createVNodeWithArgsTransform = (...args) => {\n  return _createVNode(\n    ...vnodeArgsTransformer ? vnodeArgsTransformer(args, currentRenderingInstance) : args\n  );\n};\nconst normalizeKey = ({ key }) => key != null ? key : null;\nconst normalizeRef = ({\n  ref,\n  ref_key,\n  ref_for\n}) => {\n  if (typeof ref === \"number\") {\n    ref = \"\" + ref;\n  }\n  return ref != null ? isString(ref) || isRef(ref) || isFunction(ref) ? { i: currentRenderingInstance, r: ref, k: ref_key, f: !!ref_for } : ref : null;\n};\nfunction createBaseVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, shapeFlag = type === Fragment ? 0 : 1, isBlockNode = false, needFullChildrenNormalization = false) {\n  const vnode = {\n    __v_isVNode: true,\n    __v_skip: true,\n    type,\n    props,\n    key: props && normalizeKey(props),\n    ref: props && normalizeRef(props),\n    scopeId: currentScopeId,\n    slotScopeIds: null,\n    children,\n    component: null,\n    suspense: null,\n    ssContent: null,\n    ssFallback: null,\n    dirs: null,\n    transition: null,\n    el: null,\n    anchor: null,\n    target: null,\n    targetStart: null,\n    targetAnchor: null,\n    staticCount: 0,\n    shapeFlag,\n    patchFlag,\n    dynamicProps,\n    dynamicChildren: null,\n    appContext: null,\n    ctx: currentRenderingInstance\n  };\n  if (needFullChildrenNormalization) {\n    normalizeChildren(vnode, children);\n    if (shapeFlag & 128) {\n      type.normalize(vnode);\n    }\n  } else if (children) {\n    vnode.shapeFlag |= isString(children) ? 8 : 16;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && vnode.key !== vnode.key) {\n    warn$1(`VNode created with invalid key (NaN). VNode type:`, vnode.type);\n  }\n  if (isBlockTreeEnabled > 0 && // avoid a block node from tracking itself\n  !isBlockNode && // has current parent block\n  currentBlock && // presence of a patch flag indicates this node needs patching on updates.\n  // component nodes also should always be patched, because even if the\n  // component doesn't need to update, it needs to persist the instance on to\n  // the next vnode so that it can be properly unmounted later.\n  (vnode.patchFlag > 0 || shapeFlag & 6) && // the EVENTS flag is only for hydration and if it is the only flag, the\n  // vnode should not be considered dynamic due to handler caching.\n  vnode.patchFlag !== 32) {\n    currentBlock.push(vnode);\n  }\n  return vnode;\n}\nconst createVNode = !!(process.env.NODE_ENV !== \"production\") ? createVNodeWithArgsTransform : _createVNode;\nfunction _createVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, isBlockNode = false) {\n  if (!type || type === NULL_DYNAMIC_COMPONENT) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !type) {\n      warn$1(`Invalid vnode type when creating vnode: ${type}.`);\n    }\n    type = Comment;\n  }\n  if (isVNode(type)) {\n    const cloned = cloneVNode(\n      type,\n      props,\n      true\n      /* mergeRef: true */\n    );\n    if (children) {\n      normalizeChildren(cloned, children);\n    }\n    if (isBlockTreeEnabled > 0 && !isBlockNode && currentBlock) {\n      if (cloned.shapeFlag & 6) {\n        currentBlock[currentBlock.indexOf(type)] = cloned;\n      } else {\n        currentBlock.push(cloned);\n      }\n    }\n    cloned.patchFlag = -2;\n    return cloned;\n  }\n  if (isClassComponent(type)) {\n    type = type.__vccOpts;\n  }\n  if (props) {\n    props = guardReactiveProps(props);\n    let { class: klass, style } = props;\n    if (klass && !isString(klass)) {\n      props.class = normalizeClass(klass);\n    }\n    if (isObject(style)) {\n      if (isProxy(style) && !isArray(style)) {\n        style = extend({}, style);\n      }\n      props.style = normalizeStyle(style);\n    }\n  }\n  const shapeFlag = isString(type) ? 1 : isSuspense(type) ? 128 : isTeleport(type) ? 64 : isObject(type) ? 4 : isFunction(type) ? 2 : 0;\n  if (!!(process.env.NODE_ENV !== \"production\") && shapeFlag & 4 && isProxy(type)) {\n    type = toRaw(type);\n    warn$1(\n      `Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with \\`markRaw\\` or using \\`shallowRef\\` instead of \\`ref\\`.`,\n      `\nComponent that was made reactive: `,\n      type\n    );\n  }\n  return createBaseVNode(\n    type,\n    props,\n    children,\n    patchFlag,\n    dynamicProps,\n    shapeFlag,\n    isBlockNode,\n    true\n  );\n}\nfunction guardReactiveProps(props) {\n  if (!props) return null;\n  return isProxy(props) || isInternalObject(props) ? extend({}, props) : props;\n}\nfunction cloneVNode(vnode, extraProps, mergeRef = false, cloneTransition = false) {\n  const { props, ref, patchFlag, children, transition } = vnode;\n  const mergedProps = extraProps ? mergeProps(props || {}, extraProps) : props;\n  const cloned = {\n    __v_isVNode: true,\n    __v_skip: true,\n    type: vnode.type,\n    props: mergedProps,\n    key: mergedProps && normalizeKey(mergedProps),\n    ref: extraProps && extraProps.ref ? (\n      // #2078 in the case of <component :is=\"vnode\" ref=\"extra\"/>\n      // if the vnode itself already has a ref, cloneVNode will need to merge\n      // the refs so the single vnode can be set on multiple refs\n      mergeRef && ref ? isArray(ref) ? ref.concat(normalizeRef(extraProps)) : [ref, normalizeRef(extraProps)] : normalizeRef(extraProps)\n    ) : ref,\n    scopeId: vnode.scopeId,\n    slotScopeIds: vnode.slotScopeIds,\n    children: !!(process.env.NODE_ENV !== \"production\") && patchFlag === -1 && isArray(children) ? children.map(deepCloneVNode) : children,\n    target: vnode.target,\n    targetStart: vnode.targetStart,\n    targetAnchor: vnode.targetAnchor,\n    staticCount: vnode.staticCount,\n    shapeFlag: vnode.shapeFlag,\n    // if the vnode is cloned with extra props, we can no longer assume its\n    // existing patch flag to be reliable and need to add the FULL_PROPS flag.\n    // note: preserve flag for fragments since they use the flag for children\n    // fast paths only.\n    patchFlag: extraProps && vnode.type !== Fragment ? patchFlag === -1 ? 16 : patchFlag | 16 : patchFlag,\n    dynamicProps: vnode.dynamicProps,\n    dynamicChildren: vnode.dynamicChildren,\n    appContext: vnode.appContext,\n    dirs: vnode.dirs,\n    transition,\n    // These should technically only be non-null on mounted VNodes. However,\n    // they *should* be copied for kept-alive vnodes. So we just always copy\n    // them since them being non-null during a mount doesn't affect the logic as\n    // they will simply be overwritten.\n    component: vnode.component,\n    suspense: vnode.suspense,\n    ssContent: vnode.ssContent && cloneVNode(vnode.ssContent),\n    ssFallback: vnode.ssFallback && cloneVNode(vnode.ssFallback),\n    el: vnode.el,\n    anchor: vnode.anchor,\n    ctx: vnode.ctx,\n    ce: vnode.ce\n  };\n  if (transition && cloneTransition) {\n    setTransitionHooks(\n      cloned,\n      transition.clone(cloned)\n    );\n  }\n  return cloned;\n}\nfunction deepCloneVNode(vnode) {\n  const cloned = cloneVNode(vnode);\n  if (isArray(vnode.children)) {\n    cloned.children = vnode.children.map(deepCloneVNode);\n  }\n  return cloned;\n}\nfunction createTextVNode(text = \" \", flag = 0) {\n  return createVNode(Text, null, text, flag);\n}\nfunction createStaticVNode(content, numberOfNodes) {\n  const vnode = createVNode(Static, null, content);\n  vnode.staticCount = numberOfNodes;\n  return vnode;\n}\nfunction createCommentVNode(text = \"\", asBlock = false) {\n  return asBlock ? (openBlock(), createBlock(Comment, null, text)) : createVNode(Comment, null, text);\n}\nfunction normalizeVNode(child) {\n  if (child == null || typeof child === \"boolean\") {\n    return createVNode(Comment);\n  } else if (isArray(child)) {\n    return createVNode(\n      Fragment,\n      null,\n      // #3666, avoid reference pollution when reusing vnode\n      child.slice()\n    );\n  } else if (isVNode(child)) {\n    return cloneIfMounted(child);\n  } else {\n    return createVNode(Text, null, String(child));\n  }\n}\nfunction cloneIfMounted(child) {\n  return child.el === null && child.patchFlag !== -1 || child.memo ? child : cloneVNode(child);\n}\nfunction normalizeChildren(vnode, children) {\n  let type = 0;\n  const { shapeFlag } = vnode;\n  if (children == null) {\n    children = null;\n  } else if (isArray(children)) {\n    type = 16;\n  } else if (typeof children === \"object\") {\n    if (shapeFlag & (1 | 64)) {\n      const slot = children.default;\n      if (slot) {\n        slot._c && (slot._d = false);\n        normalizeChildren(vnode, slot());\n        slot._c && (slot._d = true);\n      }\n      return;\n    } else {\n      type = 32;\n      const slotFlag = children._;\n      if (!slotFlag && !isInternalObject(children)) {\n        children._ctx = currentRenderingInstance;\n      } else if (slotFlag === 3 && currentRenderingInstance) {\n        if (currentRenderingInstance.slots._ === 1) {\n          children._ = 1;\n        } else {\n          children._ = 2;\n          vnode.patchFlag |= 1024;\n        }\n      }\n    }\n  } else if (isFunction(children)) {\n    children = { default: children, _ctx: currentRenderingInstance };\n    type = 32;\n  } else {\n    children = String(children);\n    if (shapeFlag & 64) {\n      type = 16;\n      children = [createTextVNode(children)];\n    } else {\n      type = 8;\n    }\n  }\n  vnode.children = children;\n  vnode.shapeFlag |= type;\n}\nfunction mergeProps(...args) {\n  const ret = {};\n  for (let i = 0; i < args.length; i++) {\n    const toMerge = args[i];\n    for (const key in toMerge) {\n      if (key === \"class\") {\n        if (ret.class !== toMerge.class) {\n          ret.class = normalizeClass([ret.class, toMerge.class]);\n        }\n      } else if (key === \"style\") {\n        ret.style = normalizeStyle([ret.style, toMerge.style]);\n      } else if (isOn(key)) {\n        const existing = ret[key];\n        const incoming = toMerge[key];\n        if (incoming && existing !== incoming && !(isArray(existing) && existing.includes(incoming))) {\n          ret[key] = existing ? [].concat(existing, incoming) : incoming;\n        }\n      } else if (key !== \"\") {\n        ret[key] = toMerge[key];\n      }\n    }\n  }\n  return ret;\n}\nfunction invokeVNodeHook(hook, instance, vnode, prevVNode = null) {\n  callWithAsyncErrorHandling(hook, instance, 7, [\n    vnode,\n    prevVNode\n  ]);\n}\n\nconst emptyAppContext = createAppContext();\nlet uid = 0;\nfunction createComponentInstance(vnode, parent, suspense) {\n  const type = vnode.type;\n  const appContext = (parent ? parent.appContext : vnode.appContext) || emptyAppContext;\n  const instance = {\n    uid: uid++,\n    vnode,\n    type,\n    parent,\n    appContext,\n    root: null,\n    // to be immediately set\n    next: null,\n    subTree: null,\n    // will be set synchronously right after creation\n    effect: null,\n    update: null,\n    // will be set synchronously right after creation\n    job: null,\n    scope: new EffectScope(\n      true\n      /* detached */\n    ),\n    render: null,\n    proxy: null,\n    exposed: null,\n    exposeProxy: null,\n    withProxy: null,\n    provides: parent ? parent.provides : Object.create(appContext.provides),\n    ids: parent ? parent.ids : [\"\", 0, 0],\n    accessCache: null,\n    renderCache: [],\n    // local resolved assets\n    components: null,\n    directives: null,\n    // resolved props and emits options\n    propsOptions: normalizePropsOptions(type, appContext),\n    emitsOptions: normalizeEmitsOptions(type, appContext),\n    // emit\n    emit: null,\n    // to be set immediately\n    emitted: null,\n    // props default value\n    propsDefaults: EMPTY_OBJ,\n    // inheritAttrs\n    inheritAttrs: type.inheritAttrs,\n    // state\n    ctx: EMPTY_OBJ,\n    data: EMPTY_OBJ,\n    props: EMPTY_OBJ,\n    attrs: EMPTY_OBJ,\n    slots: EMPTY_OBJ,\n    refs: EMPTY_OBJ,\n    setupState: EMPTY_OBJ,\n    setupContext: null,\n    // suspense related\n    suspense,\n    suspenseId: suspense ? suspense.pendingId : 0,\n    asyncDep: null,\n    asyncResolved: false,\n    // lifecycle hooks\n    // not using enums here because it results in computed properties\n    isMounted: false,\n    isUnmounted: false,\n    isDeactivated: false,\n    bc: null,\n    c: null,\n    bm: null,\n    m: null,\n    bu: null,\n    u: null,\n    um: null,\n    bum: null,\n    da: null,\n    a: null,\n    rtg: null,\n    rtc: null,\n    ec: null,\n    sp: null\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    instance.ctx = createDevRenderContext(instance);\n  } else {\n    instance.ctx = { _: instance };\n  }\n  instance.root = parent ? parent.root : instance;\n  instance.emit = emit.bind(null, instance);\n  if (vnode.ce) {\n    vnode.ce(instance);\n  }\n  return instance;\n}\nlet currentInstance = null;\nconst getCurrentInstance = () => currentInstance || currentRenderingInstance;\nlet internalSetCurrentInstance;\nlet setInSSRSetupState;\n{\n  const g = getGlobalThis();\n  const registerGlobalSetter = (key, setter) => {\n    let setters;\n    if (!(setters = g[key])) setters = g[key] = [];\n    setters.push(setter);\n    return (v) => {\n      if (setters.length > 1) setters.forEach((set) => set(v));\n      else setters[0](v);\n    };\n  };\n  internalSetCurrentInstance = registerGlobalSetter(\n    `__VUE_INSTANCE_SETTERS__`,\n    (v) => currentInstance = v\n  );\n  setInSSRSetupState = registerGlobalSetter(\n    `__VUE_SSR_SETTERS__`,\n    (v) => isInSSRComponentSetup = v\n  );\n}\nconst setCurrentInstance = (instance) => {\n  const prev = currentInstance;\n  internalSetCurrentInstance(instance);\n  instance.scope.on();\n  return () => {\n    instance.scope.off();\n    internalSetCurrentInstance(prev);\n  };\n};\nconst unsetCurrentInstance = () => {\n  currentInstance && currentInstance.scope.off();\n  internalSetCurrentInstance(null);\n};\nconst isBuiltInTag = /* @__PURE__ */ makeMap(\"slot,component\");\nfunction validateComponentName(name, { isNativeTag }) {\n  if (isBuiltInTag(name) || isNativeTag(name)) {\n    warn$1(\n      \"Do not use built-in or reserved HTML elements as component id: \" + name\n    );\n  }\n}\nfunction isStatefulComponent(instance) {\n  return instance.vnode.shapeFlag & 4;\n}\nlet isInSSRComponentSetup = false;\nfunction setupComponent(instance, isSSR = false, optimized = false) {\n  isSSR && setInSSRSetupState(isSSR);\n  const { props, children } = instance.vnode;\n  const isStateful = isStatefulComponent(instance);\n  initProps(instance, props, isStateful, isSSR);\n  initSlots(instance, children, optimized);\n  const setupResult = isStateful ? setupStatefulComponent(instance, isSSR) : void 0;\n  isSSR && setInSSRSetupState(false);\n  return setupResult;\n}\nfunction setupStatefulComponent(instance, isSSR) {\n  var _a;\n  const Component = instance.type;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    if (Component.name) {\n      validateComponentName(Component.name, instance.appContext.config);\n    }\n    if (Component.components) {\n      const names = Object.keys(Component.components);\n      for (let i = 0; i < names.length; i++) {\n        validateComponentName(names[i], instance.appContext.config);\n      }\n    }\n    if (Component.directives) {\n      const names = Object.keys(Component.directives);\n      for (let i = 0; i < names.length; i++) {\n        validateDirectiveName(names[i]);\n      }\n    }\n    if (Component.compilerOptions && isRuntimeOnly()) {\n      warn$1(\n        `\"compilerOptions\" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.`\n      );\n    }\n  }\n  instance.accessCache = /* @__PURE__ */ Object.create(null);\n  instance.proxy = new Proxy(instance.ctx, PublicInstanceProxyHandlers);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    exposePropsOnRenderContext(instance);\n  }\n  const { setup } = Component;\n  if (setup) {\n    pauseTracking();\n    const setupContext = instance.setupContext = setup.length > 1 ? createSetupContext(instance) : null;\n    const reset = setCurrentInstance(instance);\n    const setupResult = callWithErrorHandling(\n      setup,\n      instance,\n      0,\n      [\n        !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(instance.props) : instance.props,\n        setupContext\n      ]\n    );\n    const isAsyncSetup = isPromise(setupResult);\n    resetTracking();\n    reset();\n    if ((isAsyncSetup || instance.sp) && !isAsyncWrapper(instance)) {\n      markAsyncBoundary(instance);\n    }\n    if (isAsyncSetup) {\n      setupResult.then(unsetCurrentInstance, unsetCurrentInstance);\n      if (isSSR) {\n        return setupResult.then((resolvedResult) => {\n          handleSetupResult(instance, resolvedResult, isSSR);\n        }).catch((e) => {\n          handleError(e, instance, 0);\n        });\n      } else {\n        instance.asyncDep = setupResult;\n        if (!!(process.env.NODE_ENV !== \"production\") && !instance.suspense) {\n          const name = (_a = Component.name) != null ? _a : \"Anonymous\";\n          warn$1(\n            `Component <${name}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`\n          );\n        }\n      }\n    } else {\n      handleSetupResult(instance, setupResult, isSSR);\n    }\n  } else {\n    finishComponentSetup(instance, isSSR);\n  }\n}\nfunction handleSetupResult(instance, setupResult, isSSR) {\n  if (isFunction(setupResult)) {\n    if (instance.type.__ssrInlineRender) {\n      instance.ssrRender = setupResult;\n    } else {\n      instance.render = setupResult;\n    }\n  } else if (isObject(setupResult)) {\n    if (!!(process.env.NODE_ENV !== \"production\") && isVNode(setupResult)) {\n      warn$1(\n        `setup() should not return VNodes directly - return a render function instead.`\n      );\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      instance.devtoolsRawSetupState = setupResult;\n    }\n    instance.setupState = proxyRefs(setupResult);\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      exposeSetupStateOnRenderContext(instance);\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\") && setupResult !== void 0) {\n    warn$1(\n      `setup() should return an object. Received: ${setupResult === null ? \"null\" : typeof setupResult}`\n    );\n  }\n  finishComponentSetup(instance, isSSR);\n}\nlet compile;\nlet installWithProxy;\nfunction registerRuntimeCompiler(_compile) {\n  compile = _compile;\n  installWithProxy = (i) => {\n    if (i.render._rc) {\n      i.withProxy = new Proxy(i.ctx, RuntimeCompiledPublicInstanceProxyHandlers);\n    }\n  };\n}\nconst isRuntimeOnly = () => !compile;\nfunction finishComponentSetup(instance, isSSR, skipOptions) {\n  const Component = instance.type;\n  if (!instance.render) {\n    if (!isSSR && compile && !Component.render) {\n      const template = Component.template || __VUE_OPTIONS_API__ && resolveMergedOptions(instance).template;\n      if (template) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `compile`);\n        }\n        const { isCustomElement, compilerOptions } = instance.appContext.config;\n        const { delimiters, compilerOptions: componentCompilerOptions } = Component;\n        const finalCompilerOptions = extend(\n          extend(\n            {\n              isCustomElement,\n              delimiters\n            },\n            compilerOptions\n          ),\n          componentCompilerOptions\n        );\n        Component.render = compile(template, finalCompilerOptions);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `compile`);\n        }\n      }\n    }\n    instance.render = Component.render || NOOP;\n    if (installWithProxy) {\n      installWithProxy(instance);\n    }\n  }\n  if (__VUE_OPTIONS_API__ && true) {\n    const reset = setCurrentInstance(instance);\n    pauseTracking();\n    try {\n      applyOptions(instance);\n    } finally {\n      resetTracking();\n      reset();\n    }\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && !Component.render && instance.render === NOOP && !isSSR) {\n    if (!compile && Component.template) {\n      warn$1(\n        `Component provided template option but runtime compilation is not supported in this build of Vue.` + (` Configure your bundler to alias \"vue\" to \"vue/dist/vue.esm-bundler.js\".` )\n      );\n    } else {\n      warn$1(`Component is missing template or render function: `, Component);\n    }\n  }\n}\nconst attrsProxyHandlers = !!(process.env.NODE_ENV !== \"production\") ? {\n  get(target, key) {\n    markAttrsAccessed();\n    track(target, \"get\", \"\");\n    return target[key];\n  },\n  set() {\n    warn$1(`setupContext.attrs is readonly.`);\n    return false;\n  },\n  deleteProperty() {\n    warn$1(`setupContext.attrs is readonly.`);\n    return false;\n  }\n} : {\n  get(target, key) {\n    track(target, \"get\", \"\");\n    return target[key];\n  }\n};\nfunction getSlotsProxy(instance) {\n  return new Proxy(instance.slots, {\n    get(target, key) {\n      track(instance, \"get\", \"$slots\");\n      return target[key];\n    }\n  });\n}\nfunction createSetupContext(instance) {\n  const expose = (exposed) => {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      if (instance.exposed) {\n        warn$1(`expose() should be called only once per setup().`);\n      }\n      if (exposed != null) {\n        let exposedType = typeof exposed;\n        if (exposedType === \"object\") {\n          if (isArray(exposed)) {\n            exposedType = \"array\";\n          } else if (isRef(exposed)) {\n            exposedType = \"ref\";\n          }\n        }\n        if (exposedType !== \"object\") {\n          warn$1(\n            `expose() should be passed a plain object, received ${exposedType}.`\n          );\n        }\n      }\n    }\n    instance.exposed = exposed || {};\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    let attrsProxy;\n    let slotsProxy;\n    return Object.freeze({\n      get attrs() {\n        return attrsProxy || (attrsProxy = new Proxy(instance.attrs, attrsProxyHandlers));\n      },\n      get slots() {\n        return slotsProxy || (slotsProxy = getSlotsProxy(instance));\n      },\n      get emit() {\n        return (event, ...args) => instance.emit(event, ...args);\n      },\n      expose\n    });\n  } else {\n    return {\n      attrs: new Proxy(instance.attrs, attrsProxyHandlers),\n      slots: instance.slots,\n      emit: instance.emit,\n      expose\n    };\n  }\n}\nfunction getComponentPublicInstance(instance) {\n  if (instance.exposed) {\n    return instance.exposeProxy || (instance.exposeProxy = new Proxy(proxyRefs(markRaw(instance.exposed)), {\n      get(target, key) {\n        if (key in target) {\n          return target[key];\n        } else if (key in publicPropertiesMap) {\n          return publicPropertiesMap[key](instance);\n        }\n      },\n      has(target, key) {\n        return key in target || key in publicPropertiesMap;\n      }\n    }));\n  } else {\n    return instance.proxy;\n  }\n}\nconst classifyRE = /(?:^|[-_])(\\w)/g;\nconst classify = (str) => str.replace(classifyRE, (c) => c.toUpperCase()).replace(/[-_]/g, \"\");\nfunction getComponentName(Component, includeInferred = true) {\n  return isFunction(Component) ? Component.displayName || Component.name : Component.name || includeInferred && Component.__name;\n}\nfunction formatComponentName(instance, Component, isRoot = false) {\n  let name = getComponentName(Component);\n  if (!name && Component.__file) {\n    const match = Component.__file.match(/([^/\\\\]+)\\.\\w+$/);\n    if (match) {\n      name = match[1];\n    }\n  }\n  if (!name && instance && instance.parent) {\n    const inferFromRegistry = (registry) => {\n      for (const key in registry) {\n        if (registry[key] === Component) {\n          return key;\n        }\n      }\n    };\n    name = inferFromRegistry(\n      instance.components || instance.parent.type.components\n    ) || inferFromRegistry(instance.appContext.components);\n  }\n  return name ? classify(name) : isRoot ? `App` : `Anonymous`;\n}\nfunction isClassComponent(value) {\n  return isFunction(value) && \"__vccOpts\" in value;\n}\n\nconst computed = (getterOrOptions, debugOptions) => {\n  const c = computed$1(getterOrOptions, debugOptions, isInSSRComponentSetup);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const i = getCurrentInstance();\n    if (i && i.appContext.config.warnRecursiveComputed) {\n      c._warnRecursive = true;\n    }\n  }\n  return c;\n};\n\nfunction h(type, propsOrChildren, children) {\n  const l = arguments.length;\n  if (l === 2) {\n    if (isObject(propsOrChildren) && !isArray(propsOrChildren)) {\n      if (isVNode(propsOrChildren)) {\n        return createVNode(type, null, [propsOrChildren]);\n      }\n      return createVNode(type, propsOrChildren);\n    } else {\n      return createVNode(type, null, propsOrChildren);\n    }\n  } else {\n    if (l > 3) {\n      children = Array.prototype.slice.call(arguments, 2);\n    } else if (l === 3 && isVNode(children)) {\n      children = [children];\n    }\n    return createVNode(type, propsOrChildren, children);\n  }\n}\n\nfunction initCustomFormatter() {\n  if (!!!(process.env.NODE_ENV !== \"production\") || typeof window === \"undefined\") {\n    return;\n  }\n  const vueStyle = { style: \"color:#3ba776\" };\n  const numberStyle = { style: \"color:#1677ff\" };\n  const stringStyle = { style: \"color:#f5222d\" };\n  const keywordStyle = { style: \"color:#eb2f96\" };\n  const formatter = {\n    __vue_custom_formatter: true,\n    header(obj) {\n      if (!isObject(obj)) {\n        return null;\n      }\n      if (obj.__isVue) {\n        return [\"div\", vueStyle, `VueInstance`];\n      } else if (isRef(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, genRefFlag(obj)],\n          \"<\",\n          // avoid debugger accessing value affecting behavior\n          formatValue(\"_value\" in obj ? obj._value : obj),\n          `>`\n        ];\n      } else if (isReactive(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, isShallow(obj) ? \"ShallowReactive\" : \"Reactive\"],\n          \"<\",\n          formatValue(obj),\n          `>${isReadonly(obj) ? ` (readonly)` : ``}`\n        ];\n      } else if (isReadonly(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, isShallow(obj) ? \"ShallowReadonly\" : \"Readonly\"],\n          \"<\",\n          formatValue(obj),\n          \">\"\n        ];\n      }\n      return null;\n    },\n    hasBody(obj) {\n      return obj && obj.__isVue;\n    },\n    body(obj) {\n      if (obj && obj.__isVue) {\n        return [\n          \"div\",\n          {},\n          ...formatInstance(obj.$)\n        ];\n      }\n    }\n  };\n  function formatInstance(instance) {\n    const blocks = [];\n    if (instance.type.props && instance.props) {\n      blocks.push(createInstanceBlock(\"props\", toRaw(instance.props)));\n    }\n    if (instance.setupState !== EMPTY_OBJ) {\n      blocks.push(createInstanceBlock(\"setup\", instance.setupState));\n    }\n    if (instance.data !== EMPTY_OBJ) {\n      blocks.push(createInstanceBlock(\"data\", toRaw(instance.data)));\n    }\n    const computed = extractKeys(instance, \"computed\");\n    if (computed) {\n      blocks.push(createInstanceBlock(\"computed\", computed));\n    }\n    const injected = extractKeys(instance, \"inject\");\n    if (injected) {\n      blocks.push(createInstanceBlock(\"injected\", injected));\n    }\n    blocks.push([\n      \"div\",\n      {},\n      [\n        \"span\",\n        {\n          style: keywordStyle.style + \";opacity:0.66\"\n        },\n        \"$ (internal): \"\n      ],\n      [\"object\", { object: instance }]\n    ]);\n    return blocks;\n  }\n  function createInstanceBlock(type, target) {\n    target = extend({}, target);\n    if (!Object.keys(target).length) {\n      return [\"span\", {}];\n    }\n    return [\n      \"div\",\n      { style: \"line-height:1.25em;margin-bottom:0.6em\" },\n      [\n        \"div\",\n        {\n          style: \"color:#476582\"\n        },\n        type\n      ],\n      [\n        \"div\",\n        {\n          style: \"padding-left:1.25em\"\n        },\n        ...Object.keys(target).map((key) => {\n          return [\n            \"div\",\n            {},\n            [\"span\", keywordStyle, key + \": \"],\n            formatValue(target[key], false)\n          ];\n        })\n      ]\n    ];\n  }\n  function formatValue(v, asRaw = true) {\n    if (typeof v === \"number\") {\n      return [\"span\", numberStyle, v];\n    } else if (typeof v === \"string\") {\n      return [\"span\", stringStyle, JSON.stringify(v)];\n    } else if (typeof v === \"boolean\") {\n      return [\"span\", keywordStyle, v];\n    } else if (isObject(v)) {\n      return [\"object\", { object: asRaw ? toRaw(v) : v }];\n    } else {\n      return [\"span\", stringStyle, String(v)];\n    }\n  }\n  function extractKeys(instance, type) {\n    const Comp = instance.type;\n    if (isFunction(Comp)) {\n      return;\n    }\n    const extracted = {};\n    for (const key in instance.ctx) {\n      if (isKeyOfType(Comp, key, type)) {\n        extracted[key] = instance.ctx[key];\n      }\n    }\n    return extracted;\n  }\n  function isKeyOfType(Comp, key, type) {\n    const opts = Comp[type];\n    if (isArray(opts) && opts.includes(key) || isObject(opts) && key in opts) {\n      return true;\n    }\n    if (Comp.extends && isKeyOfType(Comp.extends, key, type)) {\n      return true;\n    }\n    if (Comp.mixins && Comp.mixins.some((m) => isKeyOfType(m, key, type))) {\n      return true;\n    }\n  }\n  function genRefFlag(v) {\n    if (isShallow(v)) {\n      return `ShallowRef`;\n    }\n    if (v.effect) {\n      return `ComputedRef`;\n    }\n    return `Ref`;\n  }\n  if (window.devtoolsFormatters) {\n    window.devtoolsFormatters.push(formatter);\n  } else {\n    window.devtoolsFormatters = [formatter];\n  }\n}\n\nfunction withMemo(memo, render, cache, index) {\n  const cached = cache[index];\n  if (cached && isMemoSame(cached, memo)) {\n    return cached;\n  }\n  const ret = render();\n  ret.memo = memo.slice();\n  ret.cacheIndex = index;\n  return cache[index] = ret;\n}\nfunction isMemoSame(cached, memo) {\n  const prev = cached.memo;\n  if (prev.length != memo.length) {\n    return false;\n  }\n  for (let i = 0; i < prev.length; i++) {\n    if (hasChanged(prev[i], memo[i])) {\n      return false;\n    }\n  }\n  if (isBlockTreeEnabled > 0 && currentBlock) {\n    currentBlock.push(cached);\n  }\n  return true;\n}\n\nconst version = \"3.5.13\";\nconst warn = !!(process.env.NODE_ENV !== \"production\") ? warn$1 : NOOP;\nconst ErrorTypeStrings = ErrorTypeStrings$1 ;\nconst devtools = !!(process.env.NODE_ENV !== \"production\") || true ? devtools$1 : void 0;\nconst setDevtoolsHook = !!(process.env.NODE_ENV !== \"production\") || true ? setDevtoolsHook$1 : NOOP;\nconst _ssrUtils = {\n  createComponentInstance,\n  setupComponent,\n  renderComponentRoot,\n  setCurrentRenderingInstance,\n  isVNode: isVNode,\n  normalizeVNode,\n  getComponentPublicInstance,\n  ensureValidVNode,\n  pushWarningContext,\n  popWarningContext\n};\nconst ssrUtils = _ssrUtils ;\nconst resolveFilter = null;\nconst compatUtils = null;\nconst DeprecationTypes = null;\n\nexport { BaseTransition, BaseTransitionPropsValidators, Comment, DeprecationTypes, ErrorCodes, ErrorTypeStrings, Fragment, KeepAlive, Static, Suspense, Teleport, Text, assertNumber, callWithAsyncErrorHandling, callWithErrorHandling, cloneVNode, compatUtils, computed, createBlock, createCommentVNode, createElementBlock, createBaseVNode as createElementVNode, createHydrationRenderer, createPropsRestProxy, createRenderer, createSlots, createStaticVNode, createTextVNode, createVNode, defineAsyncComponent, defineComponent, defineEmits, defineExpose, defineModel, defineOptions, defineProps, defineSlots, devtools, getCurrentInstance, getTransitionRawChildren, guardReactiveProps, h, handleError, hasInjectionContext, hydrateOnIdle, hydrateOnInteraction, hydrateOnMediaQuery, hydrateOnVisible, initCustomFormatter, inject, isMemoSame, isRuntimeOnly, isVNode, mergeDefaults, mergeModels, mergeProps, nextTick, onActivated, onBeforeMount, onBeforeUnmount, onBeforeUpdate, onDeactivated, onErrorCaptured, onMounted, onRenderTracked, onRenderTriggered, onServerPrefetch, onUnmounted, onUpdated, openBlock, popScopeId, provide, pushScopeId, queuePostFlushCb, registerRuntimeCompiler, renderList, renderSlot, resolveComponent, resolveDirective, resolveDynamicComponent, resolveFilter, resolveTransitionHooks, setBlockTracking, setDevtoolsHook, setTransitionHooks, ssrContextKey, ssrUtils, toHandlers, transformVNodeArgs, useAttrs, useId, useModel, useSSRContext, useSlots, useTemplateRef, useTransitionState, version, warn, watch, watchEffect, watchPostEffect, watchSyncEffect, withAsyncContext, withCtx, withDefaults, withDirectives, withMemo, withScopeId };\n","/**\n* @vue/runtime-dom v3.5.13\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/\nimport { warn, h, BaseTransition, assertNumber, BaseTransitionPropsValidators, getCurrentInstance, onBeforeUpdate, queuePostFlushCb, onMounted, watch, onUnmounted, Fragment, Static, camelize, callWithAsyncErrorHandling, defineComponent, nextTick, unref, createVNode, useTransitionState, onUpdated, toRaw, getTransitionRawChildren, setTransitionHooks, resolveTransitionHooks, Text, isRuntimeOnly, createRenderer, createHydrationRenderer } from '@vue/runtime-core';\nexport * from '@vue/runtime-core';\nimport { extend, isObject, toNumber, isArray, NOOP, isString, hyphenate, capitalize, includeBooleanAttr, isSymbol, isSpecialBooleanAttr, isFunction, isOn, isModelListener, camelize as camelize$1, isPlainObject, hasOwn, EMPTY_OBJ, looseToNumber, looseIndexOf, isSet, looseEqual, invokeArrayFns, isHTMLTag, isSVGTag, isMathMLTag } from '@vue/shared';\n\nlet policy = void 0;\nconst tt = typeof window !== \"undefined\" && window.trustedTypes;\nif (tt) {\n  try {\n    policy = /* @__PURE__ */ tt.createPolicy(\"vue\", {\n      createHTML: (val) => val\n    });\n  } catch (e) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(`Error creating trusted types policy: ${e}`);\n  }\n}\nconst unsafeToTrustedHTML = policy ? (val) => policy.createHTML(val) : (val) => val;\nconst svgNS = \"http://www.w3.org/2000/svg\";\nconst mathmlNS = \"http://www.w3.org/1998/Math/MathML\";\nconst doc = typeof document !== \"undefined\" ? document : null;\nconst templateContainer = doc && /* @__PURE__ */ doc.createElement(\"template\");\nconst nodeOps = {\n  insert: (child, parent, anchor) => {\n    parent.insertBefore(child, anchor || null);\n  },\n  remove: (child) => {\n    const parent = child.parentNode;\n    if (parent) {\n      parent.removeChild(child);\n    }\n  },\n  createElement: (tag, namespace, is, props) => {\n    const el = namespace === \"svg\" ? doc.createElementNS(svgNS, tag) : namespace === \"mathml\" ? doc.createElementNS(mathmlNS, tag) : is ? doc.createElement(tag, { is }) : doc.createElement(tag);\n    if (tag === \"select\" && props && props.multiple != null) {\n      el.setAttribute(\"multiple\", props.multiple);\n    }\n    return el;\n  },\n  createText: (text) => doc.createTextNode(text),\n  createComment: (text) => doc.createComment(text),\n  setText: (node, text) => {\n    node.nodeValue = text;\n  },\n  setElementText: (el, text) => {\n    el.textContent = text;\n  },\n  parentNode: (node) => node.parentNode,\n  nextSibling: (node) => node.nextSibling,\n  querySelector: (selector) => doc.querySelector(selector),\n  setScopeId(el, id) {\n    el.setAttribute(id, \"\");\n  },\n  // __UNSAFE__\n  // Reason: innerHTML.\n  // Static content here can only come from compiled templates.\n  // As long as the user only uses trusted templates, this is safe.\n  insertStaticContent(content, parent, anchor, namespace, start, end) {\n    const before = anchor ? anchor.previousSibling : parent.lastChild;\n    if (start && (start === end || start.nextSibling)) {\n      while (true) {\n        parent.insertBefore(start.cloneNode(true), anchor);\n        if (start === end || !(start = start.nextSibling)) break;\n      }\n    } else {\n      templateContainer.innerHTML = unsafeToTrustedHTML(\n        namespace === \"svg\" ? `<svg>${content}</svg>` : namespace === \"mathml\" ? `<math>${content}</math>` : content\n      );\n      const template = templateContainer.content;\n      if (namespace === \"svg\" || namespace === \"mathml\") {\n        const wrapper = template.firstChild;\n        while (wrapper.firstChild) {\n          template.appendChild(wrapper.firstChild);\n        }\n        template.removeChild(wrapper);\n      }\n      parent.insertBefore(template, anchor);\n    }\n    return [\n      // first\n      before ? before.nextSibling : parent.firstChild,\n      // last\n      anchor ? anchor.previousSibling : parent.lastChild\n    ];\n  }\n};\n\nconst TRANSITION = \"transition\";\nconst ANIMATION = \"animation\";\nconst vtcKey = Symbol(\"_vtc\");\nconst DOMTransitionPropsValidators = {\n  name: String,\n  type: String,\n  css: {\n    type: Boolean,\n    default: true\n  },\n  duration: [String, Number, Object],\n  enterFromClass: String,\n  enterActiveClass: String,\n  enterToClass: String,\n  appearFromClass: String,\n  appearActiveClass: String,\n  appearToClass: String,\n  leaveFromClass: String,\n  leaveActiveClass: String,\n  leaveToClass: String\n};\nconst TransitionPropsValidators = /* @__PURE__ */ extend(\n  {},\n  BaseTransitionPropsValidators,\n  DOMTransitionPropsValidators\n);\nconst decorate$1 = (t) => {\n  t.displayName = \"Transition\";\n  t.props = TransitionPropsValidators;\n  return t;\n};\nconst Transition = /* @__PURE__ */ decorate$1(\n  (props, { slots }) => h(BaseTransition, resolveTransitionProps(props), slots)\n);\nconst callHook = (hook, args = []) => {\n  if (isArray(hook)) {\n    hook.forEach((h2) => h2(...args));\n  } else if (hook) {\n    hook(...args);\n  }\n};\nconst hasExplicitCallback = (hook) => {\n  return hook ? isArray(hook) ? hook.some((h2) => h2.length > 1) : hook.length > 1 : false;\n};\nfunction resolveTransitionProps(rawProps) {\n  const baseProps = {};\n  for (const key in rawProps) {\n    if (!(key in DOMTransitionPropsValidators)) {\n      baseProps[key] = rawProps[key];\n    }\n  }\n  if (rawProps.css === false) {\n    return baseProps;\n  }\n  const {\n    name = \"v\",\n    type,\n    duration,\n    enterFromClass = `${name}-enter-from`,\n    enterActiveClass = `${name}-enter-active`,\n    enterToClass = `${name}-enter-to`,\n    appearFromClass = enterFromClass,\n    appearActiveClass = enterActiveClass,\n    appearToClass = enterToClass,\n    leaveFromClass = `${name}-leave-from`,\n    leaveActiveClass = `${name}-leave-active`,\n    leaveToClass = `${name}-leave-to`\n  } = rawProps;\n  const durations = normalizeDuration(duration);\n  const enterDuration = durations && durations[0];\n  const leaveDuration = durations && durations[1];\n  const {\n    onBeforeEnter,\n    onEnter,\n    onEnterCancelled,\n    onLeave,\n    onLeaveCancelled,\n    onBeforeAppear = onBeforeEnter,\n    onAppear = onEnter,\n    onAppearCancelled = onEnterCancelled\n  } = baseProps;\n  const finishEnter = (el, isAppear, done, isCancelled) => {\n    el._enterCancelled = isCancelled;\n    removeTransitionClass(el, isAppear ? appearToClass : enterToClass);\n    removeTransitionClass(el, isAppear ? appearActiveClass : enterActiveClass);\n    done && done();\n  };\n  const finishLeave = (el, done) => {\n    el._isLeaving = false;\n    removeTransitionClass(el, leaveFromClass);\n    removeTransitionClass(el, leaveToClass);\n    removeTransitionClass(el, leaveActiveClass);\n    done && done();\n  };\n  const makeEnterHook = (isAppear) => {\n    return (el, done) => {\n      const hook = isAppear ? onAppear : onEnter;\n      const resolve = () => finishEnter(el, isAppear, done);\n      callHook(hook, [el, resolve]);\n      nextFrame(() => {\n        removeTransitionClass(el, isAppear ? appearFromClass : enterFromClass);\n        addTransitionClass(el, isAppear ? appearToClass : enterToClass);\n        if (!hasExplicitCallback(hook)) {\n          whenTransitionEnds(el, type, enterDuration, resolve);\n        }\n      });\n    };\n  };\n  return extend(baseProps, {\n    onBeforeEnter(el) {\n      callHook(onBeforeEnter, [el]);\n      addTransitionClass(el, enterFromClass);\n      addTransitionClass(el, enterActiveClass);\n    },\n    onBeforeAppear(el) {\n      callHook(onBeforeAppear, [el]);\n      addTransitionClass(el, appearFromClass);\n      addTransitionClass(el, appearActiveClass);\n    },\n    onEnter: makeEnterHook(false),\n    onAppear: makeEnterHook(true),\n    onLeave(el, done) {\n      el._isLeaving = true;\n      const resolve = () => finishLeave(el, done);\n      addTransitionClass(el, leaveFromClass);\n      if (!el._enterCancelled) {\n        forceReflow();\n        addTransitionClass(el, leaveActiveClass);\n      } else {\n        addTransitionClass(el, leaveActiveClass);\n        forceReflow();\n      }\n      nextFrame(() => {\n        if (!el._isLeaving) {\n          return;\n        }\n        removeTransitionClass(el, leaveFromClass);\n        addTransitionClass(el, leaveToClass);\n        if (!hasExplicitCallback(onLeave)) {\n          whenTransitionEnds(el, type, leaveDuration, resolve);\n        }\n      });\n      callHook(onLeave, [el, resolve]);\n    },\n    onEnterCancelled(el) {\n      finishEnter(el, false, void 0, true);\n      callHook(onEnterCancelled, [el]);\n    },\n    onAppearCancelled(el) {\n      finishEnter(el, true, void 0, true);\n      callHook(onAppearCancelled, [el]);\n    },\n    onLeaveCancelled(el) {\n      finishLeave(el);\n      callHook(onLeaveCancelled, [el]);\n    }\n  });\n}\nfunction normalizeDuration(duration) {\n  if (duration == null) {\n    return null;\n  } else if (isObject(duration)) {\n    return [NumberOf(duration.enter), NumberOf(duration.leave)];\n  } else {\n    const n = NumberOf(duration);\n    return [n, n];\n  }\n}\nfunction NumberOf(val) {\n  const res = toNumber(val);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    assertNumber(res, \"<transition> explicit duration\");\n  }\n  return res;\n}\nfunction addTransitionClass(el, cls) {\n  cls.split(/\\s+/).forEach((c) => c && el.classList.add(c));\n  (el[vtcKey] || (el[vtcKey] = /* @__PURE__ */ new Set())).add(cls);\n}\nfunction removeTransitionClass(el, cls) {\n  cls.split(/\\s+/).forEach((c) => c && el.classList.remove(c));\n  const _vtc = el[vtcKey];\n  if (_vtc) {\n    _vtc.delete(cls);\n    if (!_vtc.size) {\n      el[vtcKey] = void 0;\n    }\n  }\n}\nfunction nextFrame(cb) {\n  requestAnimationFrame(() => {\n    requestAnimationFrame(cb);\n  });\n}\nlet endId = 0;\nfunction whenTransitionEnds(el, expectedType, explicitTimeout, resolve) {\n  const id = el._endId = ++endId;\n  const resolveIfNotStale = () => {\n    if (id === el._endId) {\n      resolve();\n    }\n  };\n  if (explicitTimeout != null) {\n    return setTimeout(resolveIfNotStale, explicitTimeout);\n  }\n  const { type, timeout, propCount } = getTransitionInfo(el, expectedType);\n  if (!type) {\n    return resolve();\n  }\n  const endEvent = type + \"end\";\n  let ended = 0;\n  const end = () => {\n    el.removeEventListener(endEvent, onEnd);\n    resolveIfNotStale();\n  };\n  const onEnd = (e) => {\n    if (e.target === el && ++ended >= propCount) {\n      end();\n    }\n  };\n  setTimeout(() => {\n    if (ended < propCount) {\n      end();\n    }\n  }, timeout + 1);\n  el.addEventListener(endEvent, onEnd);\n}\nfunction getTransitionInfo(el, expectedType) {\n  const styles = window.getComputedStyle(el);\n  const getStyleProperties = (key) => (styles[key] || \"\").split(\", \");\n  const transitionDelays = getStyleProperties(`${TRANSITION}Delay`);\n  const transitionDurations = getStyleProperties(`${TRANSITION}Duration`);\n  const transitionTimeout = getTimeout(transitionDelays, transitionDurations);\n  const animationDelays = getStyleProperties(`${ANIMATION}Delay`);\n  const animationDurations = getStyleProperties(`${ANIMATION}Duration`);\n  const animationTimeout = getTimeout(animationDelays, animationDurations);\n  let type = null;\n  let timeout = 0;\n  let propCount = 0;\n  if (expectedType === TRANSITION) {\n    if (transitionTimeout > 0) {\n      type = TRANSITION;\n      timeout = transitionTimeout;\n      propCount = transitionDurations.length;\n    }\n  } else if (expectedType === ANIMATION) {\n    if (animationTimeout > 0) {\n      type = ANIMATION;\n      timeout = animationTimeout;\n      propCount = animationDurations.length;\n    }\n  } else {\n    timeout = Math.max(transitionTimeout, animationTimeout);\n    type = timeout > 0 ? transitionTimeout > animationTimeout ? TRANSITION : ANIMATION : null;\n    propCount = type ? type === TRANSITION ? transitionDurations.length : animationDurations.length : 0;\n  }\n  const hasTransform = type === TRANSITION && /\\b(transform|all)(,|$)/.test(\n    getStyleProperties(`${TRANSITION}Property`).toString()\n  );\n  return {\n    type,\n    timeout,\n    propCount,\n    hasTransform\n  };\n}\nfunction getTimeout(delays, durations) {\n  while (delays.length < durations.length) {\n    delays = delays.concat(delays);\n  }\n  return Math.max(...durations.map((d, i) => toMs(d) + toMs(delays[i])));\n}\nfunction toMs(s) {\n  if (s === \"auto\") return 0;\n  return Number(s.slice(0, -1).replace(\",\", \".\")) * 1e3;\n}\nfunction forceReflow() {\n  return document.body.offsetHeight;\n}\n\nfunction patchClass(el, value, isSVG) {\n  const transitionClasses = el[vtcKey];\n  if (transitionClasses) {\n    value = (value ? [value, ...transitionClasses] : [...transitionClasses]).join(\" \");\n  }\n  if (value == null) {\n    el.removeAttribute(\"class\");\n  } else if (isSVG) {\n    el.setAttribute(\"class\", value);\n  } else {\n    el.className = value;\n  }\n}\n\nconst vShowOriginalDisplay = Symbol(\"_vod\");\nconst vShowHidden = Symbol(\"_vsh\");\nconst vShow = {\n  beforeMount(el, { value }, { transition }) {\n    el[vShowOriginalDisplay] = el.style.display === \"none\" ? \"\" : el.style.display;\n    if (transition && value) {\n      transition.beforeEnter(el);\n    } else {\n      setDisplay(el, value);\n    }\n  },\n  mounted(el, { value }, { transition }) {\n    if (transition && value) {\n      transition.enter(el);\n    }\n  },\n  updated(el, { value, oldValue }, { transition }) {\n    if (!value === !oldValue) return;\n    if (transition) {\n      if (value) {\n        transition.beforeEnter(el);\n        setDisplay(el, true);\n        transition.enter(el);\n      } else {\n        transition.leave(el, () => {\n          setDisplay(el, false);\n        });\n      }\n    } else {\n      setDisplay(el, value);\n    }\n  },\n  beforeUnmount(el, { value }) {\n    setDisplay(el, value);\n  }\n};\nif (!!(process.env.NODE_ENV !== \"production\")) {\n  vShow.name = \"show\";\n}\nfunction setDisplay(el, value) {\n  el.style.display = value ? el[vShowOriginalDisplay] : \"none\";\n  el[vShowHidden] = !value;\n}\nfunction initVShowForSSR() {\n  vShow.getSSRProps = ({ value }) => {\n    if (!value) {\n      return { style: { display: \"none\" } };\n    }\n  };\n}\n\nconst CSS_VAR_TEXT = Symbol(!!(process.env.NODE_ENV !== \"production\") ? \"CSS_VAR_TEXT\" : \"\");\nfunction useCssVars(getter) {\n  const instance = getCurrentInstance();\n  if (!instance) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(`useCssVars is called without current active component instance.`);\n    return;\n  }\n  const updateTeleports = instance.ut = (vars = getter(instance.proxy)) => {\n    Array.from(\n      document.querySelectorAll(`[data-v-owner=\"${instance.uid}\"]`)\n    ).forEach((node) => setVarsOnNode(node, vars));\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    instance.getCssVars = () => getter(instance.proxy);\n  }\n  const setVars = () => {\n    const vars = getter(instance.proxy);\n    if (instance.ce) {\n      setVarsOnNode(instance.ce, vars);\n    } else {\n      setVarsOnVNode(instance.subTree, vars);\n    }\n    updateTeleports(vars);\n  };\n  onBeforeUpdate(() => {\n    queuePostFlushCb(setVars);\n  });\n  onMounted(() => {\n    watch(setVars, NOOP, { flush: \"post\" });\n    const ob = new MutationObserver(setVars);\n    ob.observe(instance.subTree.el.parentNode, { childList: true });\n    onUnmounted(() => ob.disconnect());\n  });\n}\nfunction setVarsOnVNode(vnode, vars) {\n  if (vnode.shapeFlag & 128) {\n    const suspense = vnode.suspense;\n    vnode = suspense.activeBranch;\n    if (suspense.pendingBranch && !suspense.isHydrating) {\n      suspense.effects.push(() => {\n        setVarsOnVNode(suspense.activeBranch, vars);\n      });\n    }\n  }\n  while (vnode.component) {\n    vnode = vnode.component.subTree;\n  }\n  if (vnode.shapeFlag & 1 && vnode.el) {\n    setVarsOnNode(vnode.el, vars);\n  } else if (vnode.type === Fragment) {\n    vnode.children.forEach((c) => setVarsOnVNode(c, vars));\n  } else if (vnode.type === Static) {\n    let { el, anchor } = vnode;\n    while (el) {\n      setVarsOnNode(el, vars);\n      if (el === anchor) break;\n      el = el.nextSibling;\n    }\n  }\n}\nfunction setVarsOnNode(el, vars) {\n  if (el.nodeType === 1) {\n    const style = el.style;\n    let cssText = \"\";\n    for (const key in vars) {\n      style.setProperty(`--${key}`, vars[key]);\n      cssText += `--${key}: ${vars[key]};`;\n    }\n    style[CSS_VAR_TEXT] = cssText;\n  }\n}\n\nconst displayRE = /(^|;)\\s*display\\s*:/;\nfunction patchStyle(el, prev, next) {\n  const style = el.style;\n  const isCssString = isString(next);\n  let hasControlledDisplay = false;\n  if (next && !isCssString) {\n    if (prev) {\n      if (!isString(prev)) {\n        for (const key in prev) {\n          if (next[key] == null) {\n            setStyle(style, key, \"\");\n          }\n        }\n      } else {\n        for (const prevStyle of prev.split(\";\")) {\n          const key = prevStyle.slice(0, prevStyle.indexOf(\":\")).trim();\n          if (next[key] == null) {\n            setStyle(style, key, \"\");\n          }\n        }\n      }\n    }\n    for (const key in next) {\n      if (key === \"display\") {\n        hasControlledDisplay = true;\n      }\n      setStyle(style, key, next[key]);\n    }\n  } else {\n    if (isCssString) {\n      if (prev !== next) {\n        const cssVarText = style[CSS_VAR_TEXT];\n        if (cssVarText) {\n          next += \";\" + cssVarText;\n        }\n        style.cssText = next;\n        hasControlledDisplay = displayRE.test(next);\n      }\n    } else if (prev) {\n      el.removeAttribute(\"style\");\n    }\n  }\n  if (vShowOriginalDisplay in el) {\n    el[vShowOriginalDisplay] = hasControlledDisplay ? style.display : \"\";\n    if (el[vShowHidden]) {\n      style.display = \"none\";\n    }\n  }\n}\nconst semicolonRE = /[^\\\\];\\s*$/;\nconst importantRE = /\\s*!important$/;\nfunction setStyle(style, name, val) {\n  if (isArray(val)) {\n    val.forEach((v) => setStyle(style, name, v));\n  } else {\n    if (val == null) val = \"\";\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      if (semicolonRE.test(val)) {\n        warn(\n          `Unexpected semicolon at the end of '${name}' style value: '${val}'`\n        );\n      }\n    }\n    if (name.startsWith(\"--\")) {\n      style.setProperty(name, val);\n    } else {\n      const prefixed = autoPrefix(style, name);\n      if (importantRE.test(val)) {\n        style.setProperty(\n          hyphenate(prefixed),\n          val.replace(importantRE, \"\"),\n          \"important\"\n        );\n      } else {\n        style[prefixed] = val;\n      }\n    }\n  }\n}\nconst prefixes = [\"Webkit\", \"Moz\", \"ms\"];\nconst prefixCache = {};\nfunction autoPrefix(style, rawName) {\n  const cached = prefixCache[rawName];\n  if (cached) {\n    return cached;\n  }\n  let name = camelize(rawName);\n  if (name !== \"filter\" && name in style) {\n    return prefixCache[rawName] = name;\n  }\n  name = capitalize(name);\n  for (let i = 0; i < prefixes.length; i++) {\n    const prefixed = prefixes[i] + name;\n    if (prefixed in style) {\n      return prefixCache[rawName] = prefixed;\n    }\n  }\n  return rawName;\n}\n\nconst xlinkNS = \"http://www.w3.org/1999/xlink\";\nfunction patchAttr(el, key, value, isSVG, instance, isBoolean = isSpecialBooleanAttr(key)) {\n  if (isSVG && key.startsWith(\"xlink:\")) {\n    if (value == null) {\n      el.removeAttributeNS(xlinkNS, key.slice(6, key.length));\n    } else {\n      el.setAttributeNS(xlinkNS, key, value);\n    }\n  } else {\n    if (value == null || isBoolean && !includeBooleanAttr(value)) {\n      el.removeAttribute(key);\n    } else {\n      el.setAttribute(\n        key,\n        isBoolean ? \"\" : isSymbol(value) ? String(value) : value\n      );\n    }\n  }\n}\n\nfunction patchDOMProp(el, key, value, parentComponent, attrName) {\n  if (key === \"innerHTML\" || key === \"textContent\") {\n    if (value != null) {\n      el[key] = key === \"innerHTML\" ? unsafeToTrustedHTML(value) : value;\n    }\n    return;\n  }\n  const tag = el.tagName;\n  if (key === \"value\" && tag !== \"PROGRESS\" && // custom elements may use _value internally\n  !tag.includes(\"-\")) {\n    const oldValue = tag === \"OPTION\" ? el.getAttribute(\"value\") || \"\" : el.value;\n    const newValue = value == null ? (\n      // #11647: value should be set as empty string for null and undefined,\n      // but <input type=\"checkbox\"> should be set as 'on'.\n      el.type === \"checkbox\" ? \"on\" : \"\"\n    ) : String(value);\n    if (oldValue !== newValue || !(\"_value\" in el)) {\n      el.value = newValue;\n    }\n    if (value == null) {\n      el.removeAttribute(key);\n    }\n    el._value = value;\n    return;\n  }\n  let needRemove = false;\n  if (value === \"\" || value == null) {\n    const type = typeof el[key];\n    if (type === \"boolean\") {\n      value = includeBooleanAttr(value);\n    } else if (value == null && type === \"string\") {\n      value = \"\";\n      needRemove = true;\n    } else if (type === \"number\") {\n      value = 0;\n      needRemove = true;\n    }\n  }\n  try {\n    el[key] = value;\n  } catch (e) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !needRemove) {\n      warn(\n        `Failed setting prop \"${key}\" on <${tag.toLowerCase()}>: value ${value} is invalid.`,\n        e\n      );\n    }\n  }\n  needRemove && el.removeAttribute(attrName || key);\n}\n\nfunction addEventListener(el, event, handler, options) {\n  el.addEventListener(event, handler, options);\n}\nfunction removeEventListener(el, event, handler, options) {\n  el.removeEventListener(event, handler, options);\n}\nconst veiKey = Symbol(\"_vei\");\nfunction patchEvent(el, rawName, prevValue, nextValue, instance = null) {\n  const invokers = el[veiKey] || (el[veiKey] = {});\n  const existingInvoker = invokers[rawName];\n  if (nextValue && existingInvoker) {\n    existingInvoker.value = !!(process.env.NODE_ENV !== \"production\") ? sanitizeEventValue(nextValue, rawName) : nextValue;\n  } else {\n    const [name, options] = parseName(rawName);\n    if (nextValue) {\n      const invoker = invokers[rawName] = createInvoker(\n        !!(process.env.NODE_ENV !== \"production\") ? sanitizeEventValue(nextValue, rawName) : nextValue,\n        instance\n      );\n      addEventListener(el, name, invoker, options);\n    } else if (existingInvoker) {\n      removeEventListener(el, name, existingInvoker, options);\n      invokers[rawName] = void 0;\n    }\n  }\n}\nconst optionsModifierRE = /(?:Once|Passive|Capture)$/;\nfunction parseName(name) {\n  let options;\n  if (optionsModifierRE.test(name)) {\n    options = {};\n    let m;\n    while (m = name.match(optionsModifierRE)) {\n      name = name.slice(0, name.length - m[0].length);\n      options[m[0].toLowerCase()] = true;\n    }\n  }\n  const event = name[2] === \":\" ? name.slice(3) : hyphenate(name.slice(2));\n  return [event, options];\n}\nlet cachedNow = 0;\nconst p = /* @__PURE__ */ Promise.resolve();\nconst getNow = () => cachedNow || (p.then(() => cachedNow = 0), cachedNow = Date.now());\nfunction createInvoker(initialValue, instance) {\n  const invoker = (e) => {\n    if (!e._vts) {\n      e._vts = Date.now();\n    } else if (e._vts <= invoker.attached) {\n      return;\n    }\n    callWithAsyncErrorHandling(\n      patchStopImmediatePropagation(e, invoker.value),\n      instance,\n      5,\n      [e]\n    );\n  };\n  invoker.value = initialValue;\n  invoker.attached = getNow();\n  return invoker;\n}\nfunction sanitizeEventValue(value, propName) {\n  if (isFunction(value) || isArray(value)) {\n    return value;\n  }\n  warn(\n    `Wrong type passed as event handler to ${propName} - did you forget @ or : in front of your prop?\nExpected function or array of functions, received type ${typeof value}.`\n  );\n  return NOOP;\n}\nfunction patchStopImmediatePropagation(e, value) {\n  if (isArray(value)) {\n    const originalStop = e.stopImmediatePropagation;\n    e.stopImmediatePropagation = () => {\n      originalStop.call(e);\n      e._stopped = true;\n    };\n    return value.map(\n      (fn) => (e2) => !e2._stopped && fn && fn(e2)\n    );\n  } else {\n    return value;\n  }\n}\n\nconst isNativeOn = (key) => key.charCodeAt(0) === 111 && key.charCodeAt(1) === 110 && // lowercase letter\nkey.charCodeAt(2) > 96 && key.charCodeAt(2) < 123;\nconst patchProp = (el, key, prevValue, nextValue, namespace, parentComponent) => {\n  const isSVG = namespace === \"svg\";\n  if (key === \"class\") {\n    patchClass(el, nextValue, isSVG);\n  } else if (key === \"style\") {\n    patchStyle(el, prevValue, nextValue);\n  } else if (isOn(key)) {\n    if (!isModelListener(key)) {\n      patchEvent(el, key, prevValue, nextValue, parentComponent);\n    }\n  } else if (key[0] === \".\" ? (key = key.slice(1), true) : key[0] === \"^\" ? (key = key.slice(1), false) : shouldSetAsProp(el, key, nextValue, isSVG)) {\n    patchDOMProp(el, key, nextValue);\n    if (!el.tagName.includes(\"-\") && (key === \"value\" || key === \"checked\" || key === \"selected\")) {\n      patchAttr(el, key, nextValue, isSVG, parentComponent, key !== \"value\");\n    }\n  } else if (\n    // #11081 force set props for possible async custom element\n    el._isVueCE && (/[A-Z]/.test(key) || !isString(nextValue))\n  ) {\n    patchDOMProp(el, camelize$1(key), nextValue, parentComponent, key);\n  } else {\n    if (key === \"true-value\") {\n      el._trueValue = nextValue;\n    } else if (key === \"false-value\") {\n      el._falseValue = nextValue;\n    }\n    patchAttr(el, key, nextValue, isSVG);\n  }\n};\nfunction shouldSetAsProp(el, key, value, isSVG) {\n  if (isSVG) {\n    if (key === \"innerHTML\" || key === \"textContent\") {\n      return true;\n    }\n    if (key in el && isNativeOn(key) && isFunction(value)) {\n      return true;\n    }\n    return false;\n  }\n  if (key === \"spellcheck\" || key === \"draggable\" || key === \"translate\") {\n    return false;\n  }\n  if (key === \"form\") {\n    return false;\n  }\n  if (key === \"list\" && el.tagName === \"INPUT\") {\n    return false;\n  }\n  if (key === \"type\" && el.tagName === \"TEXTAREA\") {\n    return false;\n  }\n  if (key === \"width\" || key === \"height\") {\n    const tag = el.tagName;\n    if (tag === \"IMG\" || tag === \"VIDEO\" || tag === \"CANVAS\" || tag === \"SOURCE\") {\n      return false;\n    }\n  }\n  if (isNativeOn(key) && isString(value)) {\n    return false;\n  }\n  return key in el;\n}\n\nconst REMOVAL = {};\n/*! #__NO_SIDE_EFFECTS__ */\n// @__NO_SIDE_EFFECTS__\nfunction defineCustomElement(options, extraOptions, _createApp) {\n  const Comp = defineComponent(options, extraOptions);\n  if (isPlainObject(Comp)) extend(Comp, extraOptions);\n  class VueCustomElement extends VueElement {\n    constructor(initialProps) {\n      super(Comp, initialProps, _createApp);\n    }\n  }\n  VueCustomElement.def = Comp;\n  return VueCustomElement;\n}\n/*! #__NO_SIDE_EFFECTS__ */\nconst defineSSRCustomElement = /* @__NO_SIDE_EFFECTS__ */ (options, extraOptions) => {\n  return /* @__PURE__ */ defineCustomElement(options, extraOptions, createSSRApp);\n};\nconst BaseClass = typeof HTMLElement !== \"undefined\" ? HTMLElement : class {\n};\nclass VueElement extends BaseClass {\n  constructor(_def, _props = {}, _createApp = createApp) {\n    super();\n    this._def = _def;\n    this._props = _props;\n    this._createApp = _createApp;\n    this._isVueCE = true;\n    /**\n     * @internal\n     */\n    this._instance = null;\n    /**\n     * @internal\n     */\n    this._app = null;\n    /**\n     * @internal\n     */\n    this._nonce = this._def.nonce;\n    this._connected = false;\n    this._resolved = false;\n    this._numberProps = null;\n    this._styleChildren = /* @__PURE__ */ new WeakSet();\n    this._ob = null;\n    if (this.shadowRoot && _createApp !== createApp) {\n      this._root = this.shadowRoot;\n    } else {\n      if (!!(process.env.NODE_ENV !== \"production\") && this.shadowRoot) {\n        warn(\n          `Custom element has pre-rendered declarative shadow root but is not defined as hydratable. Use \\`defineSSRCustomElement\\`.`\n        );\n      }\n      if (_def.shadowRoot !== false) {\n        this.attachShadow({ mode: \"open\" });\n        this._root = this.shadowRoot;\n      } else {\n        this._root = this;\n      }\n    }\n    if (!this._def.__asyncLoader) {\n      this._resolveProps(this._def);\n    }\n  }\n  connectedCallback() {\n    if (!this.isConnected) return;\n    if (!this.shadowRoot) {\n      this._parseSlots();\n    }\n    this._connected = true;\n    let parent = this;\n    while (parent = parent && (parent.parentNode || parent.host)) {\n      if (parent instanceof VueElement) {\n        this._parent = parent;\n        break;\n      }\n    }\n    if (!this._instance) {\n      if (this._resolved) {\n        this._setParent();\n        this._update();\n      } else {\n        if (parent && parent._pendingResolve) {\n          this._pendingResolve = parent._pendingResolve.then(() => {\n            this._pendingResolve = void 0;\n            this._resolveDef();\n          });\n        } else {\n          this._resolveDef();\n        }\n      }\n    }\n  }\n  _setParent(parent = this._parent) {\n    if (parent) {\n      this._instance.parent = parent._instance;\n      this._instance.provides = parent._instance.provides;\n    }\n  }\n  disconnectedCallback() {\n    this._connected = false;\n    nextTick(() => {\n      if (!this._connected) {\n        if (this._ob) {\n          this._ob.disconnect();\n          this._ob = null;\n        }\n        this._app && this._app.unmount();\n        if (this._instance) this._instance.ce = void 0;\n        this._app = this._instance = null;\n      }\n    });\n  }\n  /**\n   * resolve inner component definition (handle possible async component)\n   */\n  _resolveDef() {\n    if (this._pendingResolve) {\n      return;\n    }\n    for (let i = 0; i < this.attributes.length; i++) {\n      this._setAttr(this.attributes[i].name);\n    }\n    this._ob = new MutationObserver((mutations) => {\n      for (const m of mutations) {\n        this._setAttr(m.attributeName);\n      }\n    });\n    this._ob.observe(this, { attributes: true });\n    const resolve = (def, isAsync = false) => {\n      this._resolved = true;\n      this._pendingResolve = void 0;\n      const { props, styles } = def;\n      let numberProps;\n      if (props && !isArray(props)) {\n        for (const key in props) {\n          const opt = props[key];\n          if (opt === Number || opt && opt.type === Number) {\n            if (key in this._props) {\n              this._props[key] = toNumber(this._props[key]);\n            }\n            (numberProps || (numberProps = /* @__PURE__ */ Object.create(null)))[camelize$1(key)] = true;\n          }\n        }\n      }\n      this._numberProps = numberProps;\n      if (isAsync) {\n        this._resolveProps(def);\n      }\n      if (this.shadowRoot) {\n        this._applyStyles(styles);\n      } else if (!!(process.env.NODE_ENV !== \"production\") && styles) {\n        warn(\n          \"Custom element style injection is not supported when using shadowRoot: false\"\n        );\n      }\n      this._mount(def);\n    };\n    const asyncDef = this._def.__asyncLoader;\n    if (asyncDef) {\n      this._pendingResolve = asyncDef().then(\n        (def) => resolve(this._def = def, true)\n      );\n    } else {\n      resolve(this._def);\n    }\n  }\n  _mount(def) {\n    if ((!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) && !def.name) {\n      def.name = \"VueElement\";\n    }\n    this._app = this._createApp(def);\n    if (def.configureApp) {\n      def.configureApp(this._app);\n    }\n    this._app._ceVNode = this._createVNode();\n    this._app.mount(this._root);\n    const exposed = this._instance && this._instance.exposed;\n    if (!exposed) return;\n    for (const key in exposed) {\n      if (!hasOwn(this, key)) {\n        Object.defineProperty(this, key, {\n          // unwrap ref to be consistent with public instance behavior\n          get: () => unref(exposed[key])\n        });\n      } else if (!!(process.env.NODE_ENV !== \"production\")) {\n        warn(`Exposed property \"${key}\" already exists on custom element.`);\n      }\n    }\n  }\n  _resolveProps(def) {\n    const { props } = def;\n    const declaredPropKeys = isArray(props) ? props : Object.keys(props || {});\n    for (const key of Object.keys(this)) {\n      if (key[0] !== \"_\" && declaredPropKeys.includes(key)) {\n        this._setProp(key, this[key]);\n      }\n    }\n    for (const key of declaredPropKeys.map(camelize$1)) {\n      Object.defineProperty(this, key, {\n        get() {\n          return this._getProp(key);\n        },\n        set(val) {\n          this._setProp(key, val, true, true);\n        }\n      });\n    }\n  }\n  _setAttr(key) {\n    if (key.startsWith(\"data-v-\")) return;\n    const has = this.hasAttribute(key);\n    let value = has ? this.getAttribute(key) : REMOVAL;\n    const camelKey = camelize$1(key);\n    if (has && this._numberProps && this._numberProps[camelKey]) {\n      value = toNumber(value);\n    }\n    this._setProp(camelKey, value, false, true);\n  }\n  /**\n   * @internal\n   */\n  _getProp(key) {\n    return this._props[key];\n  }\n  /**\n   * @internal\n   */\n  _setProp(key, val, shouldReflect = true, shouldUpdate = false) {\n    if (val !== this._props[key]) {\n      if (val === REMOVAL) {\n        delete this._props[key];\n      } else {\n        this._props[key] = val;\n        if (key === \"key\" && this._app) {\n          this._app._ceVNode.key = val;\n        }\n      }\n      if (shouldUpdate && this._instance) {\n        this._update();\n      }\n      if (shouldReflect) {\n        const ob = this._ob;\n        ob && ob.disconnect();\n        if (val === true) {\n          this.setAttribute(hyphenate(key), \"\");\n        } else if (typeof val === \"string\" || typeof val === \"number\") {\n          this.setAttribute(hyphenate(key), val + \"\");\n        } else if (!val) {\n          this.removeAttribute(hyphenate(key));\n        }\n        ob && ob.observe(this, { attributes: true });\n      }\n    }\n  }\n  _update() {\n    render(this._createVNode(), this._root);\n  }\n  _createVNode() {\n    const baseProps = {};\n    if (!this.shadowRoot) {\n      baseProps.onVnodeMounted = baseProps.onVnodeUpdated = this._renderSlots.bind(this);\n    }\n    const vnode = createVNode(this._def, extend(baseProps, this._props));\n    if (!this._instance) {\n      vnode.ce = (instance) => {\n        this._instance = instance;\n        instance.ce = this;\n        instance.isCE = true;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          instance.ceReload = (newStyles) => {\n            if (this._styles) {\n              this._styles.forEach((s) => this._root.removeChild(s));\n              this._styles.length = 0;\n            }\n            this._applyStyles(newStyles);\n            this._instance = null;\n            this._update();\n          };\n        }\n        const dispatch = (event, args) => {\n          this.dispatchEvent(\n            new CustomEvent(\n              event,\n              isPlainObject(args[0]) ? extend({ detail: args }, args[0]) : { detail: args }\n            )\n          );\n        };\n        instance.emit = (event, ...args) => {\n          dispatch(event, args);\n          if (hyphenate(event) !== event) {\n            dispatch(hyphenate(event), args);\n          }\n        };\n        this._setParent();\n      };\n    }\n    return vnode;\n  }\n  _applyStyles(styles, owner) {\n    if (!styles) return;\n    if (owner) {\n      if (owner === this._def || this._styleChildren.has(owner)) {\n        return;\n      }\n      this._styleChildren.add(owner);\n    }\n    const nonce = this._nonce;\n    for (let i = styles.length - 1; i >= 0; i--) {\n      const s = document.createElement(\"style\");\n      if (nonce) s.setAttribute(\"nonce\", nonce);\n      s.textContent = styles[i];\n      this.shadowRoot.prepend(s);\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        if (owner) {\n          if (owner.__hmrId) {\n            if (!this._childStyles) this._childStyles = /* @__PURE__ */ new Map();\n            let entry = this._childStyles.get(owner.__hmrId);\n            if (!entry) {\n              this._childStyles.set(owner.__hmrId, entry = []);\n            }\n            entry.push(s);\n          }\n        } else {\n          (this._styles || (this._styles = [])).push(s);\n        }\n      }\n    }\n  }\n  /**\n   * Only called when shadowRoot is false\n   */\n  _parseSlots() {\n    const slots = this._slots = {};\n    let n;\n    while (n = this.firstChild) {\n      const slotName = n.nodeType === 1 && n.getAttribute(\"slot\") || \"default\";\n      (slots[slotName] || (slots[slotName] = [])).push(n);\n      this.removeChild(n);\n    }\n  }\n  /**\n   * Only called when shadowRoot is false\n   */\n  _renderSlots() {\n    const outlets = (this._teleportTarget || this).querySelectorAll(\"slot\");\n    const scopeId = this._instance.type.__scopeId;\n    for (let i = 0; i < outlets.length; i++) {\n      const o = outlets[i];\n      const slotName = o.getAttribute(\"name\") || \"default\";\n      const content = this._slots[slotName];\n      const parent = o.parentNode;\n      if (content) {\n        for (const n of content) {\n          if (scopeId && n.nodeType === 1) {\n            const id = scopeId + \"-s\";\n            const walker = document.createTreeWalker(n, 1);\n            n.setAttribute(id, \"\");\n            let child;\n            while (child = walker.nextNode()) {\n              child.setAttribute(id, \"\");\n            }\n          }\n          parent.insertBefore(n, o);\n        }\n      } else {\n        while (o.firstChild) parent.insertBefore(o.firstChild, o);\n      }\n      parent.removeChild(o);\n    }\n  }\n  /**\n   * @internal\n   */\n  _injectChildStyle(comp) {\n    this._applyStyles(comp.styles, comp);\n  }\n  /**\n   * @internal\n   */\n  _removeChildStyle(comp) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      this._styleChildren.delete(comp);\n      if (this._childStyles && comp.__hmrId) {\n        const oldStyles = this._childStyles.get(comp.__hmrId);\n        if (oldStyles) {\n          oldStyles.forEach((s) => this._root.removeChild(s));\n          oldStyles.length = 0;\n        }\n      }\n    }\n  }\n}\nfunction useHost(caller) {\n  const instance = getCurrentInstance();\n  const el = instance && instance.ce;\n  if (el) {\n    return el;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    if (!instance) {\n      warn(\n        `${caller || \"useHost\"} called without an active component instance.`\n      );\n    } else {\n      warn(\n        `${caller || \"useHost\"} can only be used in components defined via defineCustomElement.`\n      );\n    }\n  }\n  return null;\n}\nfunction useShadowRoot() {\n  const el = !!(process.env.NODE_ENV !== \"production\") ? useHost(\"useShadowRoot\") : useHost();\n  return el && el.shadowRoot;\n}\n\nfunction useCssModule(name = \"$style\") {\n  {\n    const instance = getCurrentInstance();\n    if (!instance) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`useCssModule must be called inside setup()`);\n      return EMPTY_OBJ;\n    }\n    const modules = instance.type.__cssModules;\n    if (!modules) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`Current instance does not have CSS modules injected.`);\n      return EMPTY_OBJ;\n    }\n    const mod = modules[name];\n    if (!mod) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`Current instance does not have CSS module named \"${name}\".`);\n      return EMPTY_OBJ;\n    }\n    return mod;\n  }\n}\n\nconst positionMap = /* @__PURE__ */ new WeakMap();\nconst newPositionMap = /* @__PURE__ */ new WeakMap();\nconst moveCbKey = Symbol(\"_moveCb\");\nconst enterCbKey = Symbol(\"_enterCb\");\nconst decorate = (t) => {\n  delete t.props.mode;\n  return t;\n};\nconst TransitionGroupImpl = /* @__PURE__ */ decorate({\n  name: \"TransitionGroup\",\n  props: /* @__PURE__ */ extend({}, TransitionPropsValidators, {\n    tag: String,\n    moveClass: String\n  }),\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const state = useTransitionState();\n    let prevChildren;\n    let children;\n    onUpdated(() => {\n      if (!prevChildren.length) {\n        return;\n      }\n      const moveClass = props.moveClass || `${props.name || \"v\"}-move`;\n      if (!hasCSSTransform(\n        prevChildren[0].el,\n        instance.vnode.el,\n        moveClass\n      )) {\n        return;\n      }\n      prevChildren.forEach(callPendingCbs);\n      prevChildren.forEach(recordPosition);\n      const movedChildren = prevChildren.filter(applyTranslation);\n      forceReflow();\n      movedChildren.forEach((c) => {\n        const el = c.el;\n        const style = el.style;\n        addTransitionClass(el, moveClass);\n        style.transform = style.webkitTransform = style.transitionDuration = \"\";\n        const cb = el[moveCbKey] = (e) => {\n          if (e && e.target !== el) {\n            return;\n          }\n          if (!e || /transform$/.test(e.propertyName)) {\n            el.removeEventListener(\"transitionend\", cb);\n            el[moveCbKey] = null;\n            removeTransitionClass(el, moveClass);\n          }\n        };\n        el.addEventListener(\"transitionend\", cb);\n      });\n    });\n    return () => {\n      const rawProps = toRaw(props);\n      const cssTransitionProps = resolveTransitionProps(rawProps);\n      let tag = rawProps.tag || Fragment;\n      prevChildren = [];\n      if (children) {\n        for (let i = 0; i < children.length; i++) {\n          const child = children[i];\n          if (child.el && child.el instanceof Element) {\n            prevChildren.push(child);\n            setTransitionHooks(\n              child,\n              resolveTransitionHooks(\n                child,\n                cssTransitionProps,\n                state,\n                instance\n              )\n            );\n            positionMap.set(\n              child,\n              child.el.getBoundingClientRect()\n            );\n          }\n        }\n      }\n      children = slots.default ? getTransitionRawChildren(slots.default()) : [];\n      for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        if (child.key != null) {\n          setTransitionHooks(\n            child,\n            resolveTransitionHooks(child, cssTransitionProps, state, instance)\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\") && child.type !== Text) {\n          warn(`<TransitionGroup> children must be keyed.`);\n        }\n      }\n      return createVNode(tag, null, children);\n    };\n  }\n});\nconst TransitionGroup = TransitionGroupImpl;\nfunction callPendingCbs(c) {\n  const el = c.el;\n  if (el[moveCbKey]) {\n    el[moveCbKey]();\n  }\n  if (el[enterCbKey]) {\n    el[enterCbKey]();\n  }\n}\nfunction recordPosition(c) {\n  newPositionMap.set(c, c.el.getBoundingClientRect());\n}\nfunction applyTranslation(c) {\n  const oldPos = positionMap.get(c);\n  const newPos = newPositionMap.get(c);\n  const dx = oldPos.left - newPos.left;\n  const dy = oldPos.top - newPos.top;\n  if (dx || dy) {\n    const s = c.el.style;\n    s.transform = s.webkitTransform = `translate(${dx}px,${dy}px)`;\n    s.transitionDuration = \"0s\";\n    return c;\n  }\n}\nfunction hasCSSTransform(el, root, moveClass) {\n  const clone = el.cloneNode();\n  const _vtc = el[vtcKey];\n  if (_vtc) {\n    _vtc.forEach((cls) => {\n      cls.split(/\\s+/).forEach((c) => c && clone.classList.remove(c));\n    });\n  }\n  moveClass.split(/\\s+/).forEach((c) => c && clone.classList.add(c));\n  clone.style.display = \"none\";\n  const container = root.nodeType === 1 ? root : root.parentNode;\n  container.appendChild(clone);\n  const { hasTransform } = getTransitionInfo(clone);\n  container.removeChild(clone);\n  return hasTransform;\n}\n\nconst getModelAssigner = (vnode) => {\n  const fn = vnode.props[\"onUpdate:modelValue\"] || false;\n  return isArray(fn) ? (value) => invokeArrayFns(fn, value) : fn;\n};\nfunction onCompositionStart(e) {\n  e.target.composing = true;\n}\nfunction onCompositionEnd(e) {\n  const target = e.target;\n  if (target.composing) {\n    target.composing = false;\n    target.dispatchEvent(new Event(\"input\"));\n  }\n}\nconst assignKey = Symbol(\"_assign\");\nconst vModelText = {\n  created(el, { modifiers: { lazy, trim, number } }, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    const castToNumber = number || vnode.props && vnode.props.type === \"number\";\n    addEventListener(el, lazy ? \"change\" : \"input\", (e) => {\n      if (e.target.composing) return;\n      let domValue = el.value;\n      if (trim) {\n        domValue = domValue.trim();\n      }\n      if (castToNumber) {\n        domValue = looseToNumber(domValue);\n      }\n      el[assignKey](domValue);\n    });\n    if (trim) {\n      addEventListener(el, \"change\", () => {\n        el.value = el.value.trim();\n      });\n    }\n    if (!lazy) {\n      addEventListener(el, \"compositionstart\", onCompositionStart);\n      addEventListener(el, \"compositionend\", onCompositionEnd);\n      addEventListener(el, \"change\", onCompositionEnd);\n    }\n  },\n  // set value on mounted so it's after min/max for type=\"range\"\n  mounted(el, { value }) {\n    el.value = value == null ? \"\" : value;\n  },\n  beforeUpdate(el, { value, oldValue, modifiers: { lazy, trim, number } }, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    if (el.composing) return;\n    const elValue = (number || el.type === \"number\") && !/^0\\d/.test(el.value) ? looseToNumber(el.value) : el.value;\n    const newValue = value == null ? \"\" : value;\n    if (elValue === newValue) {\n      return;\n    }\n    if (document.activeElement === el && el.type !== \"range\") {\n      if (lazy && value === oldValue) {\n        return;\n      }\n      if (trim && el.value.trim() === newValue) {\n        return;\n      }\n    }\n    el.value = newValue;\n  }\n};\nconst vModelCheckbox = {\n  // #4096 array checkboxes need to be deep traversed\n  deep: true,\n  created(el, _, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    addEventListener(el, \"change\", () => {\n      const modelValue = el._modelValue;\n      const elementValue = getValue(el);\n      const checked = el.checked;\n      const assign = el[assignKey];\n      if (isArray(modelValue)) {\n        const index = looseIndexOf(modelValue, elementValue);\n        const found = index !== -1;\n        if (checked && !found) {\n          assign(modelValue.concat(elementValue));\n        } else if (!checked && found) {\n          const filtered = [...modelValue];\n          filtered.splice(index, 1);\n          assign(filtered);\n        }\n      } else if (isSet(modelValue)) {\n        const cloned = new Set(modelValue);\n        if (checked) {\n          cloned.add(elementValue);\n        } else {\n          cloned.delete(elementValue);\n        }\n        assign(cloned);\n      } else {\n        assign(getCheckboxValue(el, checked));\n      }\n    });\n  },\n  // set initial checked on mount to wait for true-value/false-value\n  mounted: setChecked,\n  beforeUpdate(el, binding, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    setChecked(el, binding, vnode);\n  }\n};\nfunction setChecked(el, { value, oldValue }, vnode) {\n  el._modelValue = value;\n  let checked;\n  if (isArray(value)) {\n    checked = looseIndexOf(value, vnode.props.value) > -1;\n  } else if (isSet(value)) {\n    checked = value.has(vnode.props.value);\n  } else {\n    if (value === oldValue) return;\n    checked = looseEqual(value, getCheckboxValue(el, true));\n  }\n  if (el.checked !== checked) {\n    el.checked = checked;\n  }\n}\nconst vModelRadio = {\n  created(el, { value }, vnode) {\n    el.checked = looseEqual(value, vnode.props.value);\n    el[assignKey] = getModelAssigner(vnode);\n    addEventListener(el, \"change\", () => {\n      el[assignKey](getValue(el));\n    });\n  },\n  beforeUpdate(el, { value, oldValue }, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    if (value !== oldValue) {\n      el.checked = looseEqual(value, vnode.props.value);\n    }\n  }\n};\nconst vModelSelect = {\n  // <select multiple> value need to be deep traversed\n  deep: true,\n  created(el, { value, modifiers: { number } }, vnode) {\n    const isSetModel = isSet(value);\n    addEventListener(el, \"change\", () => {\n      const selectedVal = Array.prototype.filter.call(el.options, (o) => o.selected).map(\n        (o) => number ? looseToNumber(getValue(o)) : getValue(o)\n      );\n      el[assignKey](\n        el.multiple ? isSetModel ? new Set(selectedVal) : selectedVal : selectedVal[0]\n      );\n      el._assigning = true;\n      nextTick(() => {\n        el._assigning = false;\n      });\n    });\n    el[assignKey] = getModelAssigner(vnode);\n  },\n  // set value in mounted & updated because <select> relies on its children\n  // <option>s.\n  mounted(el, { value }) {\n    setSelected(el, value);\n  },\n  beforeUpdate(el, _binding, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n  },\n  updated(el, { value }) {\n    if (!el._assigning) {\n      setSelected(el, value);\n    }\n  }\n};\nfunction setSelected(el, value) {\n  const isMultiple = el.multiple;\n  const isArrayValue = isArray(value);\n  if (isMultiple && !isArrayValue && !isSet(value)) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(\n      `<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(value).slice(8, -1)}.`\n    );\n    return;\n  }\n  for (let i = 0, l = el.options.length; i < l; i++) {\n    const option = el.options[i];\n    const optionValue = getValue(option);\n    if (isMultiple) {\n      if (isArrayValue) {\n        const optionType = typeof optionValue;\n        if (optionType === \"string\" || optionType === \"number\") {\n          option.selected = value.some((v) => String(v) === String(optionValue));\n        } else {\n          option.selected = looseIndexOf(value, optionValue) > -1;\n        }\n      } else {\n        option.selected = value.has(optionValue);\n      }\n    } else if (looseEqual(getValue(option), value)) {\n      if (el.selectedIndex !== i) el.selectedIndex = i;\n      return;\n    }\n  }\n  if (!isMultiple && el.selectedIndex !== -1) {\n    el.selectedIndex = -1;\n  }\n}\nfunction getValue(el) {\n  return \"_value\" in el ? el._value : el.value;\n}\nfunction getCheckboxValue(el, checked) {\n  const key = checked ? \"_trueValue\" : \"_falseValue\";\n  return key in el ? el[key] : checked;\n}\nconst vModelDynamic = {\n  created(el, binding, vnode) {\n    callModelHook(el, binding, vnode, null, \"created\");\n  },\n  mounted(el, binding, vnode) {\n    callModelHook(el, binding, vnode, null, \"mounted\");\n  },\n  beforeUpdate(el, binding, vnode, prevVNode) {\n    callModelHook(el, binding, vnode, prevVNode, \"beforeUpdate\");\n  },\n  updated(el, binding, vnode, prevVNode) {\n    callModelHook(el, binding, vnode, prevVNode, \"updated\");\n  }\n};\nfunction resolveDynamicModel(tagName, type) {\n  switch (tagName) {\n    case \"SELECT\":\n      return vModelSelect;\n    case \"TEXTAREA\":\n      return vModelText;\n    default:\n      switch (type) {\n        case \"checkbox\":\n          return vModelCheckbox;\n        case \"radio\":\n          return vModelRadio;\n        default:\n          return vModelText;\n      }\n  }\n}\nfunction callModelHook(el, binding, vnode, prevVNode, hook) {\n  const modelToUse = resolveDynamicModel(\n    el.tagName,\n    vnode.props && vnode.props.type\n  );\n  const fn = modelToUse[hook];\n  fn && fn(el, binding, vnode, prevVNode);\n}\nfunction initVModelForSSR() {\n  vModelText.getSSRProps = ({ value }) => ({ value });\n  vModelRadio.getSSRProps = ({ value }, vnode) => {\n    if (vnode.props && looseEqual(vnode.props.value, value)) {\n      return { checked: true };\n    }\n  };\n  vModelCheckbox.getSSRProps = ({ value }, vnode) => {\n    if (isArray(value)) {\n      if (vnode.props && looseIndexOf(value, vnode.props.value) > -1) {\n        return { checked: true };\n      }\n    } else if (isSet(value)) {\n      if (vnode.props && value.has(vnode.props.value)) {\n        return { checked: true };\n      }\n    } else if (value) {\n      return { checked: true };\n    }\n  };\n  vModelDynamic.getSSRProps = (binding, vnode) => {\n    if (typeof vnode.type !== \"string\") {\n      return;\n    }\n    const modelToUse = resolveDynamicModel(\n      // resolveDynamicModel expects an uppercase tag name, but vnode.type is lowercase\n      vnode.type.toUpperCase(),\n      vnode.props && vnode.props.type\n    );\n    if (modelToUse.getSSRProps) {\n      return modelToUse.getSSRProps(binding, vnode);\n    }\n  };\n}\n\nconst systemModifiers = [\"ctrl\", \"shift\", \"alt\", \"meta\"];\nconst modifierGuards = {\n  stop: (e) => e.stopPropagation(),\n  prevent: (e) => e.preventDefault(),\n  self: (e) => e.target !== e.currentTarget,\n  ctrl: (e) => !e.ctrlKey,\n  shift: (e) => !e.shiftKey,\n  alt: (e) => !e.altKey,\n  meta: (e) => !e.metaKey,\n  left: (e) => \"button\" in e && e.button !== 0,\n  middle: (e) => \"button\" in e && e.button !== 1,\n  right: (e) => \"button\" in e && e.button !== 2,\n  exact: (e, modifiers) => systemModifiers.some((m) => e[`${m}Key`] && !modifiers.includes(m))\n};\nconst withModifiers = (fn, modifiers) => {\n  const cache = fn._withMods || (fn._withMods = {});\n  const cacheKey = modifiers.join(\".\");\n  return cache[cacheKey] || (cache[cacheKey] = (event, ...args) => {\n    for (let i = 0; i < modifiers.length; i++) {\n      const guard = modifierGuards[modifiers[i]];\n      if (guard && guard(event, modifiers)) return;\n    }\n    return fn(event, ...args);\n  });\n};\nconst keyNames = {\n  esc: \"escape\",\n  space: \" \",\n  up: \"arrow-up\",\n  left: \"arrow-left\",\n  right: \"arrow-right\",\n  down: \"arrow-down\",\n  delete: \"backspace\"\n};\nconst withKeys = (fn, modifiers) => {\n  const cache = fn._withKeys || (fn._withKeys = {});\n  const cacheKey = modifiers.join(\".\");\n  return cache[cacheKey] || (cache[cacheKey] = (event) => {\n    if (!(\"key\" in event)) {\n      return;\n    }\n    const eventKey = hyphenate(event.key);\n    if (modifiers.some(\n      (k) => k === eventKey || keyNames[k] === eventKey\n    )) {\n      return fn(event);\n    }\n  });\n};\n\nconst rendererOptions = /* @__PURE__ */ extend({ patchProp }, nodeOps);\nlet renderer;\nlet enabledHydration = false;\nfunction ensureRenderer() {\n  return renderer || (renderer = createRenderer(rendererOptions));\n}\nfunction ensureHydrationRenderer() {\n  renderer = enabledHydration ? renderer : createHydrationRenderer(rendererOptions);\n  enabledHydration = true;\n  return renderer;\n}\nconst render = (...args) => {\n  ensureRenderer().render(...args);\n};\nconst hydrate = (...args) => {\n  ensureHydrationRenderer().hydrate(...args);\n};\nconst createApp = (...args) => {\n  const app = ensureRenderer().createApp(...args);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    injectNativeTagCheck(app);\n    injectCompilerOptionsCheck(app);\n  }\n  const { mount } = app;\n  app.mount = (containerOrSelector) => {\n    const container = normalizeContainer(containerOrSelector);\n    if (!container) return;\n    const component = app._component;\n    if (!isFunction(component) && !component.render && !component.template) {\n      component.template = container.innerHTML;\n    }\n    if (container.nodeType === 1) {\n      container.textContent = \"\";\n    }\n    const proxy = mount(container, false, resolveRootNamespace(container));\n    if (container instanceof Element) {\n      container.removeAttribute(\"v-cloak\");\n      container.setAttribute(\"data-v-app\", \"\");\n    }\n    return proxy;\n  };\n  return app;\n};\nconst createSSRApp = (...args) => {\n  const app = ensureHydrationRenderer().createApp(...args);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    injectNativeTagCheck(app);\n    injectCompilerOptionsCheck(app);\n  }\n  const { mount } = app;\n  app.mount = (containerOrSelector) => {\n    const container = normalizeContainer(containerOrSelector);\n    if (container) {\n      return mount(container, true, resolveRootNamespace(container));\n    }\n  };\n  return app;\n};\nfunction resolveRootNamespace(container) {\n  if (container instanceof SVGElement) {\n    return \"svg\";\n  }\n  if (typeof MathMLElement === \"function\" && container instanceof MathMLElement) {\n    return \"mathml\";\n  }\n}\nfunction injectNativeTagCheck(app) {\n  Object.defineProperty(app.config, \"isNativeTag\", {\n    value: (tag) => isHTMLTag(tag) || isSVGTag(tag) || isMathMLTag(tag),\n    writable: false\n  });\n}\nfunction injectCompilerOptionsCheck(app) {\n  if (isRuntimeOnly()) {\n    const isCustomElement = app.config.isCustomElement;\n    Object.defineProperty(app.config, \"isCustomElement\", {\n      get() {\n        return isCustomElement;\n      },\n      set() {\n        warn(\n          `The \\`isCustomElement\\` config option is deprecated. Use \\`compilerOptions.isCustomElement\\` instead.`\n        );\n      }\n    });\n    const compilerOptions = app.config.compilerOptions;\n    const msg = `The \\`compilerOptions\\` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka \"full build\"). Since you are using the runtime-only build, \\`compilerOptions\\` must be passed to \\`@vue/compiler-dom\\` in the build setup instead.\n- For vue-loader: pass it via vue-loader's \\`compilerOptions\\` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc`;\n    Object.defineProperty(app.config, \"compilerOptions\", {\n      get() {\n        warn(msg);\n        return compilerOptions;\n      },\n      set() {\n        warn(msg);\n      }\n    });\n  }\n}\nfunction normalizeContainer(container) {\n  if (isString(container)) {\n    const res = document.querySelector(container);\n    if (!!(process.env.NODE_ENV !== \"production\") && !res) {\n      warn(\n        `Failed to mount app: mount target selector \"${container}\" returned null.`\n      );\n    }\n    return res;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && window.ShadowRoot && container instanceof window.ShadowRoot && container.mode === \"closed\") {\n    warn(\n      `mounting on a ShadowRoot with \\`{mode: \"closed\"}\\` may lead to unpredictable bugs`\n    );\n  }\n  return container;\n}\nlet ssrDirectiveInitialized = false;\nconst initDirectivesForSSR = () => {\n  if (!ssrDirectiveInitialized) {\n    ssrDirectiveInitialized = true;\n    initVModelForSSR();\n    initVShowForSSR();\n  }\n} ;\n\nexport { Transition, TransitionGroup, VueElement, createApp, createSSRApp, defineCustomElement, defineSSRCustomElement, hydrate, initDirectivesForSSR, render, useCssModule, useCssVars, useHost, useShadowRoot, vModelCheckbox, vModelDynamic, vModelRadio, vModelSelect, vModelText, vShow, withKeys, withModifiers };\n","// Types\n// eslint-disable-line vue/prefer-import-from-vue\n\n/**\n * Creates a factory function for props definitions.\n * This is used to define props in a composable then override\n * default values in an implementing component.\n *\n * @example Simplified signature\n * (props: Props) => (defaults?: Record<keyof props, any>) => Props\n *\n * @example Usage\n * const makeProps = propsFactory({\n *   foo: String,\n * })\n *\n * defineComponent({\n *   props: {\n *     ...makeProps({\n *       foo: 'a',\n *     }),\n *   },\n *   setup (props) {\n *     // would be \"string | undefined\", now \"string\" because a default has been provided\n *     props.foo\n *   },\n * }\n */\n\nexport function propsFactory(props, source) {\n  return defaults => {\n    return Object.keys(props).reduce((obj, prop) => {\n      const isObjectDefinition = typeof props[prop] === 'object' && props[prop] != null && !Array.isArray(props[prop]);\n      const definition = isObjectDefinition ? props[prop] : {\n        type: props[prop]\n      };\n      if (defaults && prop in defaults) {\n        obj[prop] = {\n          ...definition,\n          default: defaults[prop]\n        };\n      } else {\n        obj[prop] = definition;\n      }\n      if (source && !obj[prop].source) {\n        obj[prop].source = source;\n      }\n      return obj;\n    }, {});\n  };\n}\n\n/**\n * Like `Partial<T>` but doesn't care what the value is\n */\n\n// Copied from Vue\n//# sourceMappingURL=propsFactory.mjs.map","// Utilities\nimport { propsFactory } from \"../util/propsFactory.mjs\"; // Types\n// Composables\nexport const makeComponentProps = propsFactory({\n  class: [String, Array, Object],\n  style: {\n    type: [String, Array, Object],\n    default: null\n  }\n}, 'component');\n//# sourceMappingURL=component.mjs.map","export const IN_BROWSER = typeof window !== 'undefined';\nexport const SUPPORTS_INTERSECTION = IN_BROWSER && 'IntersectionObserver' in window;\nexport const SUPPORTS_TOUCH = IN_BROWSER && ('ontouchstart' in window || window.navigator.maxTouchPoints > 0);\nexport const SUPPORTS_EYE_DROPPER = IN_BROWSER && 'EyeDropper' in window;\n//# sourceMappingURL=globals.mjs.map","function _classPrivateFieldInitSpec(e, t, a) { _checkPrivateRedeclaration(e, t), t.set(e, a); }\nfunction _checkPrivateRedeclaration(e, t) { if (t.has(e)) throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); }\nfunction _classPrivateFieldSet(s, a, r) { return s.set(_assertClassBrand(s, a), r), r; }\nfunction _classPrivateFieldGet(s, a) { return s.get(_assertClassBrand(s, a)); }\nfunction _assertClassBrand(e, t, n) { if (\"function\" == typeof e ? e === t : e.has(t)) return arguments.length < 3 ? t : n; throw new TypeError(\"Private element is not present on this object\"); }\n// Utilities\nimport { capitalize, Comment, computed, Fragment, isVNode, reactive, readonly, shallowRef, toRefs, unref, watchEffect } from 'vue';\nimport { IN_BROWSER } from \"./globals.mjs\"; // Types\nexport function getNestedValue(obj, path, fallback) {\n  const last = path.length - 1;\n  if (last < 0) return obj === undefined ? fallback : obj;\n  for (let i = 0; i < last; i++) {\n    if (obj == null) {\n      return fallback;\n    }\n    obj = obj[path[i]];\n  }\n  if (obj == null) return fallback;\n  return obj[path[last]] === undefined ? fallback : obj[path[last]];\n}\nexport function deepEqual(a, b) {\n  if (a === b) return true;\n  if (a instanceof Date && b instanceof Date && a.getTime() !== b.getTime()) {\n    // If the values are Date, compare them as timestamps\n    return false;\n  }\n  if (a !== Object(a) || b !== Object(b)) {\n    // If the values aren't objects, they were already checked for equality\n    return false;\n  }\n  const props = Object.keys(a);\n  if (props.length !== Object.keys(b).length) {\n    // Different number of props, don't bother to check\n    return false;\n  }\n  return props.every(p => deepEqual(a[p], b[p]));\n}\nexport function getObjectValueByPath(obj, path, fallback) {\n  // credit: http://stackoverflow.com/questions/6491463/accessing-nested-javascript-objects-with-string-key#comment55278413_6491621\n  if (obj == null || !path || typeof path !== 'string') return fallback;\n  if (obj[path] !== undefined) return obj[path];\n  path = path.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties\n  path = path.replace(/^\\./, ''); // strip a leading dot\n  return getNestedValue(obj, path.split('.'), fallback);\n}\nexport function getPropertyFromItem(item, property, fallback) {\n  if (property === true) return item === undefined ? fallback : item;\n  if (property == null || typeof property === 'boolean') return fallback;\n  if (item !== Object(item)) {\n    if (typeof property !== 'function') return fallback;\n    const value = property(item, fallback);\n    return typeof value === 'undefined' ? fallback : value;\n  }\n  if (typeof property === 'string') return getObjectValueByPath(item, property, fallback);\n  if (Array.isArray(property)) return getNestedValue(item, property, fallback);\n  if (typeof property !== 'function') return fallback;\n  const value = property(item, fallback);\n  return typeof value === 'undefined' ? fallback : value;\n}\nexport function createRange(length) {\n  let start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  return Array.from({\n    length\n  }, (v, k) => start + k);\n}\nexport function getZIndex(el) {\n  if (!el || el.nodeType !== Node.ELEMENT_NODE) return 0;\n  const index = +window.getComputedStyle(el).getPropertyValue('z-index');\n  if (!index) return getZIndex(el.parentNode);\n  return index;\n}\nexport function convertToUnit(str) {\n  let unit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'px';\n  if (str == null || str === '') {\n    return undefined;\n  } else if (isNaN(+str)) {\n    return String(str);\n  } else if (!isFinite(+str)) {\n    return undefined;\n  } else {\n    return `${Number(str)}${unit}`;\n  }\n}\nexport function isObject(obj) {\n  return obj !== null && typeof obj === 'object' && !Array.isArray(obj);\n}\nexport function isPlainObject(obj) {\n  let proto;\n  return obj !== null && typeof obj === 'object' && ((proto = Object.getPrototypeOf(obj)) === Object.prototype || proto === null);\n}\nexport function refElement(obj) {\n  if (obj && '$el' in obj) {\n    const el = obj.$el;\n    if (el?.nodeType === Node.TEXT_NODE) {\n      // Multi-root component, use the first element\n      return el.nextElementSibling;\n    }\n    return el;\n  }\n  return obj;\n}\n\n// KeyboardEvent.keyCode aliases\nexport const keyCodes = Object.freeze({\n  enter: 13,\n  tab: 9,\n  delete: 46,\n  esc: 27,\n  space: 32,\n  up: 38,\n  down: 40,\n  left: 37,\n  right: 39,\n  end: 35,\n  home: 36,\n  del: 46,\n  backspace: 8,\n  insert: 45,\n  pageup: 33,\n  pagedown: 34,\n  shift: 16\n});\nexport const keyValues = Object.freeze({\n  enter: 'Enter',\n  tab: 'Tab',\n  delete: 'Delete',\n  esc: 'Escape',\n  space: 'Space',\n  up: 'ArrowUp',\n  down: 'ArrowDown',\n  left: 'ArrowLeft',\n  right: 'ArrowRight',\n  end: 'End',\n  home: 'Home',\n  del: 'Delete',\n  backspace: 'Backspace',\n  insert: 'Insert',\n  pageup: 'PageUp',\n  pagedown: 'PageDown',\n  shift: 'Shift'\n});\nexport function keys(o) {\n  return Object.keys(o);\n}\nexport function has(obj, key) {\n  return key.every(k => obj.hasOwnProperty(k));\n}\n// Array of keys\nexport function pick(obj, paths) {\n  const found = {};\n  const keys = new Set(Object.keys(obj));\n  for (const path of paths) {\n    if (keys.has(path)) {\n      found[path] = obj[path];\n    }\n  }\n  return found;\n}\n\n// Array of keys\n\n// Array of keys or RegExp to test keys against\n\nexport function pickWithRest(obj, paths, exclude) {\n  const found = Object.create(null);\n  const rest = Object.create(null);\n  for (const key in obj) {\n    if (paths.some(path => path instanceof RegExp ? path.test(key) : path === key) && !exclude?.some(path => path === key)) {\n      found[key] = obj[key];\n    } else {\n      rest[key] = obj[key];\n    }\n  }\n  return [found, rest];\n}\nexport function omit(obj, exclude) {\n  const clone = {\n    ...obj\n  };\n  exclude.forEach(prop => delete clone[prop]);\n  return clone;\n}\nexport function only(obj, include) {\n  const clone = {};\n  include.forEach(prop => clone[prop] = obj[prop]);\n  return clone;\n}\nconst onRE = /^on[^a-z]/;\nexport const isOn = key => onRE.test(key);\nconst bubblingEvents = ['onAfterscriptexecute', 'onAnimationcancel', 'onAnimationend', 'onAnimationiteration', 'onAnimationstart', 'onAuxclick', 'onBeforeinput', 'onBeforescriptexecute', 'onChange', 'onClick', 'onCompositionend', 'onCompositionstart', 'onCompositionupdate', 'onContextmenu', 'onCopy', 'onCut', 'onDblclick', 'onFocusin', 'onFocusout', 'onFullscreenchange', 'onFullscreenerror', 'onGesturechange', 'onGestureend', 'onGesturestart', 'onGotpointercapture', 'onInput', 'onKeydown', 'onKeypress', 'onKeyup', 'onLostpointercapture', 'onMousedown', 'onMousemove', 'onMouseout', 'onMouseover', 'onMouseup', 'onMousewheel', 'onPaste', 'onPointercancel', 'onPointerdown', 'onPointerenter', 'onPointerleave', 'onPointermove', 'onPointerout', 'onPointerover', 'onPointerup', 'onReset', 'onSelect', 'onSubmit', 'onTouchcancel', 'onTouchend', 'onTouchmove', 'onTouchstart', 'onTransitioncancel', 'onTransitionend', 'onTransitionrun', 'onTransitionstart', 'onWheel'];\nconst compositionIgnoreKeys = ['ArrowUp', 'ArrowDown', 'ArrowRight', 'ArrowLeft', 'Enter', 'Escape', 'Tab', ' '];\nexport function isComposingIgnoreKey(e) {\n  return e.isComposing && compositionIgnoreKeys.includes(e.key);\n}\n\n/**\n * Filter attributes that should be applied to\n * the root element of an input component. Remaining\n * attributes should be passed to the <input> element inside.\n */\nexport function filterInputAttrs(attrs) {\n  const [events, props] = pickWithRest(attrs, [onRE]);\n  const inputEvents = omit(events, bubblingEvents);\n  const [rootAttrs, inputAttrs] = pickWithRest(props, ['class', 'style', 'id', /^data-/]);\n  Object.assign(rootAttrs, events);\n  Object.assign(inputAttrs, inputEvents);\n  return [rootAttrs, inputAttrs];\n}\n\n/**\n * Returns the set difference of B and A, i.e. the set of elements in B but not in A\n */\nexport function arrayDiff(a, b) {\n  const diff = [];\n  for (let i = 0; i < b.length; i++) {\n    if (!a.includes(b[i])) diff.push(b[i]);\n  }\n  return diff;\n}\nexport function wrapInArray(v) {\n  return v == null ? [] : Array.isArray(v) ? v : [v];\n}\nexport function defaultFilter(value, search, item) {\n  return value != null && search != null && typeof value !== 'boolean' && value.toString().toLocaleLowerCase().indexOf(search.toLocaleLowerCase()) !== -1;\n}\nexport function debounce(fn, delay) {\n  let timeoutId = 0;\n  const wrap = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => fn(...args), unref(delay));\n  };\n  wrap.clear = () => {\n    clearTimeout(timeoutId);\n  };\n  wrap.immediate = fn;\n  return wrap;\n}\nexport function throttle(fn, limit) {\n  let throttling = false;\n  return function () {\n    if (!throttling) {\n      throttling = true;\n      setTimeout(() => throttling = false, limit);\n      return fn(...arguments);\n    }\n  };\n}\nexport function clamp(value) {\n  let min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  let max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  return Math.max(min, Math.min(max, value));\n}\nexport function getDecimals(value) {\n  const trimmedStr = value.toString().trim();\n  return trimmedStr.includes('.') ? trimmedStr.length - trimmedStr.indexOf('.') - 1 : 0;\n}\nexport function padEnd(str, length) {\n  let char = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '0';\n  return str + char.repeat(Math.max(0, length - str.length));\n}\nexport function padStart(str, length) {\n  let char = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '0';\n  return char.repeat(Math.max(0, length - str.length)) + str;\n}\nexport function chunk(str) {\n  let size = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  const chunked = [];\n  let index = 0;\n  while (index < str.length) {\n    chunked.push(str.substr(index, size));\n    index += size;\n  }\n  return chunked;\n}\nexport function chunkArray(array) {\n  let size = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  return Array.from({\n    length: Math.ceil(array.length / size)\n  }, (v, i) => array.slice(i * size, i * size + size));\n}\nexport function humanReadableFileSize(bytes) {\n  let base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n  if (bytes < base) {\n    return `${bytes} B`;\n  }\n  const prefix = base === 1024 ? ['Ki', 'Mi', 'Gi'] : ['k', 'M', 'G'];\n  let unit = -1;\n  while (Math.abs(bytes) >= base && unit < prefix.length - 1) {\n    bytes /= base;\n    ++unit;\n  }\n  return `${bytes.toFixed(1)} ${prefix[unit]}B`;\n}\nexport function mergeDeep() {\n  let source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let arrayFn = arguments.length > 2 ? arguments[2] : undefined;\n  const out = {};\n  for (const key in source) {\n    out[key] = source[key];\n  }\n  for (const key in target) {\n    const sourceProperty = source[key];\n    const targetProperty = target[key];\n\n    // Only continue deep merging if\n    // both properties are plain objects\n    if (isPlainObject(sourceProperty) && isPlainObject(targetProperty)) {\n      out[key] = mergeDeep(sourceProperty, targetProperty, arrayFn);\n      continue;\n    }\n    if (arrayFn && Array.isArray(sourceProperty) && Array.isArray(targetProperty)) {\n      out[key] = arrayFn(sourceProperty, targetProperty);\n      continue;\n    }\n    out[key] = targetProperty;\n  }\n  return out;\n}\nexport function flattenFragments(nodes) {\n  return nodes.map(node => {\n    if (node.type === Fragment) {\n      return flattenFragments(node.children);\n    } else {\n      return node;\n    }\n  }).flat();\n}\nexport function toKebabCase() {\n  let str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  if (toKebabCase.cache.has(str)) return toKebabCase.cache.get(str);\n  const kebab = str.replace(/[^a-z]/gi, '-').replace(/\\B([A-Z])/g, '-$1').toLowerCase();\n  toKebabCase.cache.set(str, kebab);\n  return kebab;\n}\ntoKebabCase.cache = new Map();\nexport function findChildrenWithProvide(key, vnode) {\n  if (!vnode || typeof vnode !== 'object') return [];\n  if (Array.isArray(vnode)) {\n    return vnode.map(child => findChildrenWithProvide(key, child)).flat(1);\n  } else if (vnode.suspense) {\n    return findChildrenWithProvide(key, vnode.ssContent);\n  } else if (Array.isArray(vnode.children)) {\n    return vnode.children.map(child => findChildrenWithProvide(key, child)).flat(1);\n  } else if (vnode.component) {\n    if (Object.getOwnPropertySymbols(vnode.component.provides).includes(key)) {\n      return [vnode.component];\n    } else if (vnode.component.subTree) {\n      return findChildrenWithProvide(key, vnode.component.subTree).flat(1);\n    }\n  }\n  return [];\n}\nvar _arr = /*#__PURE__*/new WeakMap();\nvar _pointer = /*#__PURE__*/new WeakMap();\nexport class CircularBuffer {\n  constructor(size) {\n    _classPrivateFieldInitSpec(this, _arr, []);\n    _classPrivateFieldInitSpec(this, _pointer, 0);\n    this.size = size;\n  }\n  push(val) {\n    _classPrivateFieldGet(_arr, this)[_classPrivateFieldGet(_pointer, this)] = val;\n    _classPrivateFieldSet(_pointer, this, (_classPrivateFieldGet(_pointer, this) + 1) % this.size);\n  }\n  values() {\n    return _classPrivateFieldGet(_arr, this).slice(_classPrivateFieldGet(_pointer, this)).concat(_classPrivateFieldGet(_arr, this).slice(0, _classPrivateFieldGet(_pointer, this)));\n  }\n}\nexport function getEventCoordinates(e) {\n  if ('touches' in e) {\n    return {\n      clientX: e.touches[0].clientX,\n      clientY: e.touches[0].clientY\n    };\n  }\n  return {\n    clientX: e.clientX,\n    clientY: e.clientY\n  };\n}\n\n// Only allow a single return type\n\n/**\n * Convert a computed ref to a record of refs.\n * The getter function must always return an object with the same keys.\n */\n\nexport function destructComputed(getter) {\n  const refs = reactive({});\n  const base = computed(getter);\n  watchEffect(() => {\n    for (const key in base.value) {\n      refs[key] = base.value[key];\n    }\n  }, {\n    flush: 'sync'\n  });\n  return toRefs(refs);\n}\n\n/** Array.includes but value can be any type */\nexport function includes(arr, val) {\n  return arr.includes(val);\n}\nexport function eventName(propName) {\n  return propName[2].toLowerCase() + propName.slice(3);\n}\nexport const EventProp = () => [Function, Array];\nexport function hasEvent(props, name) {\n  name = 'on' + capitalize(name);\n  return !!(props[name] || props[`${name}Once`] || props[`${name}Capture`] || props[`${name}OnceCapture`] || props[`${name}CaptureOnce`]);\n}\nexport function callEvent(handler) {\n  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n  if (Array.isArray(handler)) {\n    for (const h of handler) {\n      h(...args);\n    }\n  } else if (typeof handler === 'function') {\n    handler(...args);\n  }\n}\nexport function focusableChildren(el) {\n  let filterByTabIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  const targets = ['button', '[href]', 'input:not([type=\"hidden\"])', 'select', 'textarea', '[tabindex]'].map(s => `${s}${filterByTabIndex ? ':not([tabindex=\"-1\"])' : ''}:not([disabled])`).join(', ');\n  return [...el.querySelectorAll(targets)];\n}\nexport function getNextElement(elements, location, condition) {\n  let _el;\n  let idx = elements.indexOf(document.activeElement);\n  const inc = location === 'next' ? 1 : -1;\n  do {\n    idx += inc;\n    _el = elements[idx];\n  } while ((!_el || _el.offsetParent == null || !(condition?.(_el) ?? true)) && idx < elements.length && idx >= 0);\n  return _el;\n}\nexport function focusChild(el, location) {\n  const focusable = focusableChildren(el);\n  if (!location) {\n    if (el === document.activeElement || !el.contains(document.activeElement)) {\n      focusable[0]?.focus();\n    }\n  } else if (location === 'first') {\n    focusable[0]?.focus();\n  } else if (location === 'last') {\n    focusable.at(-1)?.focus();\n  } else if (typeof location === 'number') {\n    focusable[location]?.focus();\n  } else {\n    const _el = getNextElement(focusable, location);\n    if (_el) _el.focus();else focusChild(el, location === 'next' ? 'first' : 'last');\n  }\n}\nexport function isEmpty(val) {\n  return val === null || val === undefined || typeof val === 'string' && val.trim() === '';\n}\nexport function noop() {}\n\n/** Returns null if the selector is not supported or we can't check */\nexport function matchesSelector(el, selector) {\n  const supportsSelector = IN_BROWSER && typeof CSS !== 'undefined' && typeof CSS.supports !== 'undefined' && CSS.supports(`selector(${selector})`);\n  if (!supportsSelector) return null;\n  try {\n    return !!el && el.matches(selector);\n  } catch (err) {\n    return null;\n  }\n}\nexport function ensureValidVNode(vnodes) {\n  return vnodes.some(child => {\n    if (!isVNode(child)) return true;\n    if (child.type === Comment) return false;\n    return child.type !== Fragment || ensureValidVNode(child.children);\n  }) ? vnodes : null;\n}\nexport function defer(timeout, cb) {\n  if (!IN_BROWSER || timeout === 0) {\n    cb();\n    return () => {};\n  }\n  const timeoutId = window.setTimeout(cb, timeout);\n  return () => window.clearTimeout(timeoutId);\n}\nexport function eagerComputed(fn, options) {\n  const result = shallowRef();\n  watchEffect(() => {\n    result.value = fn();\n  }, {\n    flush: 'sync',\n    ...options\n  });\n  return readonly(result);\n}\nexport function isClickInsideElement(event, targetDiv) {\n  const mouseX = event.clientX;\n  const mouseY = event.clientY;\n  const divRect = targetDiv.getBoundingClientRect();\n  const divLeft = divRect.left;\n  const divTop = divRect.top;\n  const divRight = divRect.right;\n  const divBottom = divRect.bottom;\n  return mouseX >= divLeft && mouseX <= divRight && mouseY >= divTop && mouseY <= divBottom;\n}\nexport function templateRef() {\n  const el = shallowRef();\n  const fn = target => {\n    el.value = target;\n  };\n  Object.defineProperty(fn, 'value', {\n    enumerable: true,\n    get: () => el.value,\n    set: val => el.value = val\n  });\n  Object.defineProperty(fn, 'el', {\n    enumerable: true,\n    get: () => refElement(el.value)\n  });\n  return fn;\n}\nexport function checkPrintable(e) {\n  const isPrintableChar = e.key.length === 1;\n  const noModifier = !e.ctrlKey && !e.metaKey && !e.altKey;\n  return isPrintableChar && noModifier;\n}\n//# sourceMappingURL=helpers.mjs.map","// Utilities\nimport { includes } from \"./helpers.mjs\";\nconst block = ['top', 'bottom'];\nconst inline = ['start', 'end', 'left', 'right'];\n/** Parse a raw anchor string into an object */\nexport function parseAnchor(anchor, isRtl) {\n  let [side, align] = anchor.split(' ');\n  if (!align) {\n    align = includes(block, side) ? 'start' : includes(inline, side) ? 'top' : 'center';\n  }\n  return {\n    side: toPhysical(side, isRtl),\n    align: toPhysical(align, isRtl)\n  };\n}\nexport function toPhysical(str, isRtl) {\n  if (str === 'start') return isRtl ? 'right' : 'left';\n  if (str === 'end') return isRtl ? 'left' : 'right';\n  return str;\n}\nexport function flipSide(anchor) {\n  return {\n    side: {\n      center: 'center',\n      top: 'bottom',\n      bottom: 'top',\n      left: 'right',\n      right: 'left'\n    }[anchor.side],\n    align: anchor.align\n  };\n}\nexport function flipAlign(anchor) {\n  return {\n    side: anchor.side,\n    align: {\n      center: 'center',\n      top: 'bottom',\n      bottom: 'top',\n      left: 'right',\n      right: 'left'\n    }[anchor.align]\n  };\n}\nexport function flipCorner(anchor) {\n  return {\n    side: anchor.align,\n    align: anchor.side\n  };\n}\nexport function getAxis(anchor) {\n  return includes(block, anchor.side) ? 'y' : 'x';\n}\n//# sourceMappingURL=anchor.mjs.map","export class Box {\n  constructor(_ref) {\n    let {\n      x,\n      y,\n      width,\n      height\n    } = _ref;\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n  get top() {\n    return this.y;\n  }\n  get bottom() {\n    return this.y + this.height;\n  }\n  get left() {\n    return this.x;\n  }\n  get right() {\n    return this.x + this.width;\n  }\n}\nexport function getOverflow(a, b) {\n  return {\n    x: {\n      before: Math.max(0, b.left - a.left),\n      after: Math.max(0, a.right - b.right)\n    },\n    y: {\n      before: Math.max(0, b.top - a.top),\n      after: Math.max(0, a.bottom - b.bottom)\n    }\n  };\n}\nexport function getTargetBox(target) {\n  if (Array.isArray(target)) {\n    return new Box({\n      x: target[0],\n      y: target[1],\n      width: 0,\n      height: 0\n    });\n  } else {\n    return target.getBoundingClientRect();\n  }\n}\n//# sourceMappingURL=box.mjs.map","// Utilities\nimport { Box } from \"./box.mjs\";\n/** @see https://stackoverflow.com/a/57876601/2074736 */\nexport function nullifyTransforms(el) {\n  const rect = el.getBoundingClientRect();\n  const style = getComputedStyle(el);\n  const tx = style.transform;\n  if (tx) {\n    let ta, sx, sy, dx, dy;\n    if (tx.startsWith('matrix3d(')) {\n      ta = tx.slice(9, -1).split(/, /);\n      sx = +ta[0];\n      sy = +ta[5];\n      dx = +ta[12];\n      dy = +ta[13];\n    } else if (tx.startsWith('matrix(')) {\n      ta = tx.slice(7, -1).split(/, /);\n      sx = +ta[0];\n      sy = +ta[3];\n      dx = +ta[4];\n      dy = +ta[5];\n    } else {\n      return new Box(rect);\n    }\n    const to = style.transformOrigin;\n    const x = rect.x - dx - (1 - sx) * parseFloat(to);\n    const y = rect.y - dy - (1 - sy) * parseFloat(to.slice(to.indexOf(' ') + 1));\n    const w = sx ? rect.width / sx : el.offsetWidth + 1;\n    const h = sy ? rect.height / sy : el.offsetHeight + 1;\n    return new Box({\n      x,\n      y,\n      width: w,\n      height: h\n    });\n  } else {\n    return new Box(rect);\n  }\n}\nexport function animate(el, keyframes, options) {\n  if (typeof el.animate === 'undefined') return {\n    finished: Promise.resolve()\n  };\n  let animation;\n  try {\n    animation = el.animate(keyframes, options);\n  } catch (err) {\n    return {\n      finished: Promise.resolve()\n    };\n  }\n  if (typeof animation.finished === 'undefined') {\n    animation.finished = new Promise(resolve => {\n      animation.onfinish = () => {\n        resolve(animation);\n      };\n    });\n  }\n  return animation;\n}\n//# sourceMappingURL=animation.mjs.map","// Utilities\nimport { eventName, isOn } from \"./helpers.mjs\";\nconst handlers = new WeakMap();\nexport function bindProps(el, props) {\n  Object.keys(props).forEach(k => {\n    if (isOn(k)) {\n      const name = eventName(k);\n      const handler = handlers.get(el);\n      if (props[k] == null) {\n        handler?.forEach(v => {\n          const [n, fn] = v;\n          if (n === name) {\n            el.removeEventListener(name, fn);\n            handler.delete(v);\n          }\n        });\n      } else if (!handler || ![...handler]?.some(v => v[0] === name && v[1] === props[k])) {\n        el.addEventListener(name, props[k]);\n        const _handler = handler || new Set();\n        _handler.add([name, props[k]]);\n        if (!handlers.has(el)) handlers.set(el, _handler);\n      }\n    } else {\n      if (props[k] == null) {\n        el.removeAttribute(k);\n      } else {\n        el.setAttribute(k, props[k]);\n      }\n    }\n  });\n}\nexport function unbindProps(el, props) {\n  Object.keys(props).forEach(k => {\n    if (isOn(k)) {\n      const name = eventName(k);\n      const handler = handlers.get(el);\n      handler?.forEach(v => {\n        const [n, fn] = v;\n        if (n === name) {\n          el.removeEventListener(name, fn);\n          handler.delete(v);\n        }\n      });\n    } else {\n      el.removeAttribute(k);\n    }\n  });\n}\n//# sourceMappingURL=bindProps.mjs.map","/**\n * WCAG 3.0 APCA perceptual contrast algorithm from https://github.com/Myndex/SAPC-APCA\n * @licence https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @see https://www.w3.org/WAI/GL/task-forces/silver/wiki/Visual_Contrast_of_Text_Subgroup\n */\n// Types\n\n// MAGICAL NUMBERS\n\n// sRGB Conversion to Relative Luminance (Y)\n\n// Transfer Curve (aka \"Gamma\") for sRGB linearization\n// Simple power curve vs piecewise described in docs\n// Essentially, 2.4 best models actual display\n// characteristics in combination with the total method\nconst mainTRC = 2.4;\nconst Rco = 0.2126729; // sRGB Red Coefficient (from matrix)\nconst Gco = 0.7151522; // sRGB Green Coefficient (from matrix)\nconst Bco = 0.0721750; // sRGB Blue Coefficient (from matrix)\n\n// For Finding Raw SAPC Contrast from Relative Luminance (Y)\n\n// Constants for SAPC Power Curve Exponents\n// One pair for normal text, and one for reverse\n// These are the \"beating heart\" of SAPC\nconst normBG = 0.55;\nconst normTXT = 0.58;\nconst revTXT = 0.57;\nconst revBG = 0.62;\n\n// For Clamping and Scaling Values\n\nconst blkThrs = 0.03; // Level that triggers the soft black clamp\nconst blkClmp = 1.45; // Exponent for the soft black clamp curve\nconst deltaYmin = 0.0005; // Lint trap\nconst scaleBoW = 1.25; // Scaling for dark text on light\nconst scaleWoB = 1.25; // Scaling for light text on dark\nconst loConThresh = 0.078; // Threshold for new simple offset scale\nconst loConFactor = 12.82051282051282; // = 1/0.078,\nconst loConOffset = 0.06; // The simple offset\nconst loClip = 0.001; // Output clip (lint trap #2)\n\nexport function APCAcontrast(text, background) {\n  // Linearize sRGB\n  const Rtxt = (text.r / 255) ** mainTRC;\n  const Gtxt = (text.g / 255) ** mainTRC;\n  const Btxt = (text.b / 255) ** mainTRC;\n  const Rbg = (background.r / 255) ** mainTRC;\n  const Gbg = (background.g / 255) ** mainTRC;\n  const Bbg = (background.b / 255) ** mainTRC;\n\n  // Apply the standard coefficients and sum to Y\n  let Ytxt = Rtxt * Rco + Gtxt * Gco + Btxt * Bco;\n  let Ybg = Rbg * Rco + Gbg * Gco + Bbg * Bco;\n\n  // Soft clamp Y when near black.\n  // Now clamping all colors to prevent crossover errors\n  if (Ytxt <= blkThrs) Ytxt += (blkThrs - Ytxt) ** blkClmp;\n  if (Ybg <= blkThrs) Ybg += (blkThrs - Ybg) ** blkClmp;\n\n  // Return 0 Early for extremely low ∆Y (lint trap #1)\n  if (Math.abs(Ybg - Ytxt) < deltaYmin) return 0.0;\n\n  // SAPC CONTRAST\n\n  let outputContrast; // For weighted final values\n  if (Ybg > Ytxt) {\n    // For normal polarity, black text on white\n    // Calculate the SAPC contrast value and scale\n\n    const SAPC = (Ybg ** normBG - Ytxt ** normTXT) * scaleBoW;\n\n    // NEW! SAPC SmoothScale™\n    // Low Contrast Smooth Scale Rollout to prevent polarity reversal\n    // and also a low clip for very low contrasts (lint trap #2)\n    // much of this is for very low contrasts, less than 10\n    // therefore for most reversing needs, only loConOffset is important\n    outputContrast = SAPC < loClip ? 0.0 : SAPC < loConThresh ? SAPC - SAPC * loConFactor * loConOffset : SAPC - loConOffset;\n  } else {\n    // For reverse polarity, light text on dark\n    // WoB should always return negative value.\n\n    const SAPC = (Ybg ** revBG - Ytxt ** revTXT) * scaleWoB;\n    outputContrast = SAPC > -loClip ? 0.0 : SAPC > -loConThresh ? SAPC - SAPC * loConFactor * loConOffset : SAPC + loConOffset;\n  }\n  return outputContrast * 100;\n}\n//# sourceMappingURL=APCA.mjs.map","/* eslint-disable no-console */\n\n// Utilities\nimport { warn } from 'vue';\nexport function consoleWarn(message) {\n  warn(`Vuetify: ${message}`);\n}\nexport function consoleError(message) {\n  warn(`Vuetify error: ${message}`);\n}\nexport function deprecate(original, replacement) {\n  replacement = Array.isArray(replacement) ? replacement.slice(0, -1).map(s => `'${s}'`).join(', ') + ` or '${replacement.at(-1)}'` : `'${replacement}'`;\n  warn(`[Vuetify UPGRADE] '${original}' is deprecated, use ${replacement} instead.`);\n}\nexport function breaking(original, replacement) {\n  // warn(`[Vuetify BREAKING] '${original}' has been removed, use '${replacement}' instead. For more information, see the upgrade guide https://github.com/vuetifyjs/vuetify/releases/tag/v2.0.0#user-content-upgrade-guide`)\n}\nexport function removed(original) {\n  // warn(`[Vuetify REMOVED] '${original}' has been removed. You can safely omit it.`)\n}\n//# sourceMappingURL=console.mjs.map","// Types\n\nconst delta = 0.20689655172413793; // 6÷29\n\nconst cielabForwardTransform = t => t > delta ** 3 ? Math.cbrt(t) : t / (3 * delta ** 2) + 4 / 29;\nconst cielabReverseTransform = t => t > delta ? t ** 3 : 3 * delta ** 2 * (t - 4 / 29);\nexport function fromXYZ(xyz) {\n  const transform = cielabForwardTransform;\n  const transformedY = transform(xyz[1]);\n  return [116 * transformedY - 16, 500 * (transform(xyz[0] / 0.95047) - transformedY), 200 * (transformedY - transform(xyz[2] / 1.08883))];\n}\nexport function toXYZ(lab) {\n  const transform = cielabReverseTransform;\n  const Ln = (lab[0] + 16) / 116;\n  return [transform(Ln + lab[1] / 500) * 0.95047, transform(Ln), transform(Ln - lab[2] / 200) * 1.08883];\n}\n//# sourceMappingURL=transformCIELAB.mjs.map","// Utilities\nimport { clamp } from \"../helpers.mjs\"; // Types\n// For converting XYZ to sRGB\nconst srgbForwardMatrix = [[3.2406, -1.5372, -0.4986], [-0.9689, 1.8758, 0.0415], [0.0557, -0.2040, 1.0570]];\n\n// Forward gamma adjust\nconst srgbForwardTransform = C => C <= 0.0031308 ? C * 12.92 : 1.055 * C ** (1 / 2.4) - 0.055;\n\n// For converting sRGB to XYZ\nconst srgbReverseMatrix = [[0.4124, 0.3576, 0.1805], [0.2126, 0.7152, 0.0722], [0.0193, 0.1192, 0.9505]];\n\n// Reverse gamma adjust\nconst srgbReverseTransform = C => C <= 0.04045 ? C / 12.92 : ((C + 0.055) / 1.055) ** 2.4;\nexport function fromXYZ(xyz) {\n  const rgb = Array(3);\n  const transform = srgbForwardTransform;\n  const matrix = srgbForwardMatrix;\n\n  // Matrix transform, then gamma adjustment\n  for (let i = 0; i < 3; ++i) {\n    // Rescale back to [0, 255]\n    rgb[i] = Math.round(clamp(transform(matrix[i][0] * xyz[0] + matrix[i][1] * xyz[1] + matrix[i][2] * xyz[2])) * 255);\n  }\n  return {\n    r: rgb[0],\n    g: rgb[1],\n    b: rgb[2]\n  };\n}\nexport function toXYZ(_ref) {\n  let {\n    r,\n    g,\n    b\n  } = _ref;\n  const xyz = [0, 0, 0];\n  const transform = srgbReverseTransform;\n  const matrix = srgbReverseMatrix;\n\n  // Rescale from [0, 255] to [0, 1] then adjust sRGB gamma to linear RGB\n  r = transform(r / 255);\n  g = transform(g / 255);\n  b = transform(b / 255);\n\n  // Matrix color space transform\n  for (let i = 0; i < 3; ++i) {\n    xyz[i] = matrix[i][0] * r + matrix[i][1] * g + matrix[i][2] * b;\n  }\n  return xyz;\n}\n//# sourceMappingURL=transformSRGB.mjs.map","// Utilities\nimport { APCAcontrast } from \"./color/APCA.mjs\";\nimport { consoleWarn } from \"./console.mjs\";\nimport { chunk, has, padEnd } from \"./helpers.mjs\";\nimport * as CIELAB from \"./color/transformCIELAB.mjs\";\nimport * as sRGB from \"./color/transformSRGB.mjs\"; // Types\nexport function isCssColor(color) {\n  return !!color && /^(#|var\\(--|(rgb|hsl)a?\\()/.test(color);\n}\nexport function isParsableColor(color) {\n  return isCssColor(color) && !/^((rgb|hsl)a?\\()?var\\(--/.test(color);\n}\nconst cssColorRe = /^(?<fn>(?:rgb|hsl)a?)\\((?<values>.+)\\)/;\nconst mappers = {\n  rgb: (r, g, b, a) => ({\n    r,\n    g,\n    b,\n    a\n  }),\n  rgba: (r, g, b, a) => ({\n    r,\n    g,\n    b,\n    a\n  }),\n  hsl: (h, s, l, a) => HSLtoRGB({\n    h,\n    s,\n    l,\n    a\n  }),\n  hsla: (h, s, l, a) => HSLtoRGB({\n    h,\n    s,\n    l,\n    a\n  }),\n  hsv: (h, s, v, a) => HSVtoRGB({\n    h,\n    s,\n    v,\n    a\n  }),\n  hsva: (h, s, v, a) => HSVtoRGB({\n    h,\n    s,\n    v,\n    a\n  })\n};\nexport function parseColor(color) {\n  if (typeof color === 'number') {\n    if (isNaN(color) || color < 0 || color > 0xFFFFFF) {\n      // int can't have opacity\n      consoleWarn(`'${color}' is not a valid hex color`);\n    }\n    return {\n      r: (color & 0xFF0000) >> 16,\n      g: (color & 0xFF00) >> 8,\n      b: color & 0xFF\n    };\n  } else if (typeof color === 'string' && cssColorRe.test(color)) {\n    const {\n      groups\n    } = color.match(cssColorRe);\n    const {\n      fn,\n      values\n    } = groups;\n    const realValues = values.split(/,\\s*/).map(v => {\n      if (v.endsWith('%') && ['hsl', 'hsla', 'hsv', 'hsva'].includes(fn)) {\n        return parseFloat(v) / 100;\n      } else {\n        return parseFloat(v);\n      }\n    });\n    return mappers[fn](...realValues);\n  } else if (typeof color === 'string') {\n    let hex = color.startsWith('#') ? color.slice(1) : color;\n    if ([3, 4].includes(hex.length)) {\n      hex = hex.split('').map(char => char + char).join('');\n    } else if (![6, 8].includes(hex.length)) {\n      consoleWarn(`'${color}' is not a valid hex(a) color`);\n    }\n    const int = parseInt(hex, 16);\n    if (isNaN(int) || int < 0 || int > 0xFFFFFFFF) {\n      consoleWarn(`'${color}' is not a valid hex(a) color`);\n    }\n    return HexToRGB(hex);\n  } else if (typeof color === 'object') {\n    if (has(color, ['r', 'g', 'b'])) {\n      return color;\n    } else if (has(color, ['h', 's', 'l'])) {\n      return HSVtoRGB(HSLtoHSV(color));\n    } else if (has(color, ['h', 's', 'v'])) {\n      return HSVtoRGB(color);\n    }\n  }\n  throw new TypeError(`Invalid color: ${color == null ? color : String(color) || color.constructor.name}\\nExpected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`);\n}\nexport function RGBToInt(color) {\n  return (color.r << 16) + (color.g << 8) + color.b;\n}\nexport function classToHex(color, colors, currentTheme) {\n  const [colorName, colorModifier] = color.toString().trim().replace('-', '').split(' ', 2);\n  let hexColor = '';\n  if (colorName && colorName in colors) {\n    if (colorModifier && colorModifier in colors[colorName]) {\n      hexColor = colors[colorName][colorModifier];\n    } else if ('base' in colors[colorName]) {\n      hexColor = colors[colorName].base;\n    }\n  } else if (colorName && colorName in currentTheme) {\n    hexColor = currentTheme[colorName];\n  }\n  return hexColor;\n}\n\n/** Converts HSVA to RGBA. Based on formula from https://en.wikipedia.org/wiki/HSL_and_HSV */\nexport function HSVtoRGB(hsva) {\n  const {\n    h,\n    s,\n    v,\n    a\n  } = hsva;\n  const f = n => {\n    const k = (n + h / 60) % 6;\n    return v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n  };\n  const rgb = [f(5), f(3), f(1)].map(v => Math.round(v * 255));\n  return {\n    r: rgb[0],\n    g: rgb[1],\n    b: rgb[2],\n    a\n  };\n}\nexport function HSLtoRGB(hsla) {\n  return HSVtoRGB(HSLtoHSV(hsla));\n}\n\n/** Converts RGBA to HSVA. Based on formula from https://en.wikipedia.org/wiki/HSL_and_HSV */\nexport function RGBtoHSV(rgba) {\n  if (!rgba) return {\n    h: 0,\n    s: 1,\n    v: 1,\n    a: 1\n  };\n  const r = rgba.r / 255;\n  const g = rgba.g / 255;\n  const b = rgba.b / 255;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  let h = 0;\n  if (max !== min) {\n    if (max === r) {\n      h = 60 * (0 + (g - b) / (max - min));\n    } else if (max === g) {\n      h = 60 * (2 + (b - r) / (max - min));\n    } else if (max === b) {\n      h = 60 * (4 + (r - g) / (max - min));\n    }\n  }\n  if (h < 0) h = h + 360;\n  const s = max === 0 ? 0 : (max - min) / max;\n  const hsv = [h, s, max];\n  return {\n    h: hsv[0],\n    s: hsv[1],\n    v: hsv[2],\n    a: rgba.a\n  };\n}\nexport function HSVtoHSL(hsva) {\n  const {\n    h,\n    s,\n    v,\n    a\n  } = hsva;\n  const l = v - v * s / 2;\n  const sprime = l === 1 || l === 0 ? 0 : (v - l) / Math.min(l, 1 - l);\n  return {\n    h,\n    s: sprime,\n    l,\n    a\n  };\n}\nexport function HSLtoHSV(hsl) {\n  const {\n    h,\n    s,\n    l,\n    a\n  } = hsl;\n  const v = l + s * Math.min(l, 1 - l);\n  const sprime = v === 0 ? 0 : 2 - 2 * l / v;\n  return {\n    h,\n    s: sprime,\n    v,\n    a\n  };\n}\nexport function RGBtoCSS(_ref) {\n  let {\n    r,\n    g,\n    b,\n    a\n  } = _ref;\n  return a === undefined ? `rgb(${r}, ${g}, ${b})` : `rgba(${r}, ${g}, ${b}, ${a})`;\n}\nexport function HSVtoCSS(hsva) {\n  return RGBtoCSS(HSVtoRGB(hsva));\n}\nfunction toHex(v) {\n  const h = Math.round(v).toString(16);\n  return ('00'.substr(0, 2 - h.length) + h).toUpperCase();\n}\nexport function RGBtoHex(_ref2) {\n  let {\n    r,\n    g,\n    b,\n    a\n  } = _ref2;\n  return `#${[toHex(r), toHex(g), toHex(b), a !== undefined ? toHex(Math.round(a * 255)) : ''].join('')}`;\n}\nexport function HexToRGB(hex) {\n  hex = parseHex(hex);\n  let [r, g, b, a] = chunk(hex, 2).map(c => parseInt(c, 16));\n  a = a === undefined ? a : a / 255;\n  return {\n    r,\n    g,\n    b,\n    a\n  };\n}\nexport function HexToHSV(hex) {\n  const rgb = HexToRGB(hex);\n  return RGBtoHSV(rgb);\n}\nexport function HSVtoHex(hsva) {\n  return RGBtoHex(HSVtoRGB(hsva));\n}\nexport function parseHex(hex) {\n  if (hex.startsWith('#')) {\n    hex = hex.slice(1);\n  }\n  hex = hex.replace(/([^0-9a-f])/gi, 'F');\n  if (hex.length === 3 || hex.length === 4) {\n    hex = hex.split('').map(x => x + x).join('');\n  }\n  if (hex.length !== 6) {\n    hex = padEnd(padEnd(hex, 6), 8, 'F');\n  }\n  return hex;\n}\nexport function parseGradient(gradient, colors, currentTheme) {\n  return gradient.replace(/([a-z]+(\\s[a-z]+-[1-5])?)(?=$|,)/gi, x => {\n    return classToHex(x, colors, currentTheme) || x;\n  }).replace(/(rgba\\()#[0-9a-f]+(?=,)/gi, x => {\n    return 'rgba(' + Object.values(HexToRGB(parseHex(x.replace(/rgba\\(/, '')))).slice(0, 3).join(',');\n  });\n}\nexport function lighten(value, amount) {\n  const lab = CIELAB.fromXYZ(sRGB.toXYZ(value));\n  lab[0] = lab[0] + amount * 10;\n  return sRGB.fromXYZ(CIELAB.toXYZ(lab));\n}\nexport function darken(value, amount) {\n  const lab = CIELAB.fromXYZ(sRGB.toXYZ(value));\n  lab[0] = lab[0] - amount * 10;\n  return sRGB.fromXYZ(CIELAB.toXYZ(lab));\n}\n\n/**\n * Calculate the relative luminance of a given color\n * @see https://www.w3.org/TR/WCAG20/#relativeluminancedef\n */\nexport function getLuma(color) {\n  const rgb = parseColor(color);\n  return sRGB.toXYZ(rgb)[1];\n}\n\n/**\n * Returns the contrast ratio (1-21) between two colors.\n * @see https://www.w3.org/TR/WCAG20/#contrast-ratiodef\n */\nexport function getContrast(first, second) {\n  const l1 = getLuma(first);\n  const l2 = getLuma(second);\n  const light = Math.max(l1, l2);\n  const dark = Math.min(l1, l2);\n  return (light + 0.05) / (dark + 0.05);\n}\nexport function getForeground(color) {\n  const blackContrast = Math.abs(APCAcontrast(parseColor(0), parseColor(color)));\n  const whiteContrast = Math.abs(APCAcontrast(parseColor(0xffffff), parseColor(color)));\n\n  // TODO: warn about poor color selections\n  // const contrastAsText = Math.abs(APCAcontrast(colorVal, colorToInt(theme.colors.background)))\n  // const minContrast = Math.max(blackContrast, whiteContrast)\n  // if (minContrast < 60) {\n  //   consoleInfo(`${key} theme color ${color} has poor contrast (${minContrast.toFixed()}%)`)\n  // } else if (contrastAsText < 60 && !['background', 'surface'].includes(color)) {\n  //   consoleInfo(`${key} theme color ${color} has poor contrast as text (${contrastAsText.toFixed()}%)`)\n  // }\n\n  // Prefer white text if both have an acceptable contrast ratio\n  return whiteContrast > Math.min(blackContrast, 50) ? '#fff' : '#000';\n}\n//# sourceMappingURL=colorUtils.mjs.map","// Utilities\nimport { getCurrentInstance as _getCurrentInstance } from 'vue';\nimport { toKebabCase } from \"./helpers.mjs\"; // Types\nexport function getCurrentInstance(name, message) {\n  const vm = _getCurrentInstance();\n  if (!vm) {\n    throw new Error(`[Vuetify] ${name} ${message || 'must be called from inside a setup function'}`);\n  }\n  return vm;\n}\nexport function getCurrentInstanceName() {\n  let name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'composables';\n  const vm = getCurrentInstance(name).type;\n  return toKebabCase(vm?.aliasName || vm?.name);\n}\nlet _uid = 0;\nlet _map = new WeakMap();\nexport function getUid() {\n  const vm = getCurrentInstance('getUid');\n  if (_map.has(vm)) return _map.get(vm);else {\n    const uid = _uid++;\n    _map.set(vm, uid);\n    return uid;\n  }\n}\ngetUid.reset = () => {\n  _uid = 0;\n  _map = new WeakMap();\n};\n//# sourceMappingURL=getCurrentInstance.mjs.map","// Utilities\nimport { getCurrentInstance } from \"./getCurrentInstance.mjs\"; // Types\nexport function injectSelf(key) {\n  let vm = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getCurrentInstance('injectSelf');\n  const {\n    provides\n  } = vm;\n  if (provides && key in provides) {\n    // TS doesn't allow symbol as index type\n    return provides[key];\n  }\n  return undefined;\n}\n//# sourceMappingURL=injectSelf.mjs.map","// Utilities\nimport { computed, inject, provide, ref, shallowRef, unref, watchEffect } from 'vue';\nimport { getCurrentInstance } from \"../util/getCurrentInstance.mjs\";\nimport { mergeDeep, toKebabCase } from \"../util/helpers.mjs\";\nimport { injectSelf } from \"../util/injectSelf.mjs\"; // Types\nexport const DefaultsSymbol = Symbol.for('vuetify:defaults');\nexport function createDefaults(options) {\n  return ref(options);\n}\nexport function injectDefaults() {\n  const defaults = inject(DefaultsSymbol);\n  if (!defaults) throw new Error('[Vuetify] Could not find defaults instance');\n  return defaults;\n}\nexport function provideDefaults(defaults, options) {\n  const injectedDefaults = injectDefaults();\n  const providedDefaults = ref(defaults);\n  const newDefaults = computed(() => {\n    const disabled = unref(options?.disabled);\n    if (disabled) return injectedDefaults.value;\n    const scoped = unref(options?.scoped);\n    const reset = unref(options?.reset);\n    const root = unref(options?.root);\n    if (providedDefaults.value == null && !(scoped || reset || root)) return injectedDefaults.value;\n    let properties = mergeDeep(providedDefaults.value, {\n      prev: injectedDefaults.value\n    });\n    if (scoped) return properties;\n    if (reset || root) {\n      const len = Number(reset || Infinity);\n      for (let i = 0; i <= len; i++) {\n        if (!properties || !('prev' in properties)) {\n          break;\n        }\n        properties = properties.prev;\n      }\n      if (properties && typeof root === 'string' && root in properties) {\n        properties = mergeDeep(mergeDeep(properties, {\n          prev: properties\n        }), properties[root]);\n      }\n      return properties;\n    }\n    return properties.prev ? mergeDeep(properties.prev, properties) : properties;\n  });\n  provide(DefaultsSymbol, newDefaults);\n  return newDefaults;\n}\nfunction propIsDefined(vnode, prop) {\n  return typeof vnode.props?.[prop] !== 'undefined' || typeof vnode.props?.[toKebabCase(prop)] !== 'undefined';\n}\nexport function internalUseDefaults() {\n  let props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let name = arguments.length > 1 ? arguments[1] : undefined;\n  let defaults = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : injectDefaults();\n  const vm = getCurrentInstance('useDefaults');\n  name = name ?? vm.type.name ?? vm.type.__name;\n  if (!name) {\n    throw new Error('[Vuetify] Could not determine component name');\n  }\n  const componentDefaults = computed(() => defaults.value?.[props._as ?? name]);\n  const _props = new Proxy(props, {\n    get(target, prop) {\n      const propValue = Reflect.get(target, prop);\n      if (prop === 'class' || prop === 'style') {\n        return [componentDefaults.value?.[prop], propValue].filter(v => v != null);\n      } else if (typeof prop === 'string' && !propIsDefined(vm.vnode, prop)) {\n        return componentDefaults.value?.[prop] !== undefined ? componentDefaults.value?.[prop] : defaults.value?.global?.[prop] !== undefined ? defaults.value?.global?.[prop] : propValue;\n      }\n      return propValue;\n    }\n  });\n  const _subcomponentDefaults = shallowRef();\n  watchEffect(() => {\n    if (componentDefaults.value) {\n      const subComponents = Object.entries(componentDefaults.value).filter(_ref => {\n        let [key] = _ref;\n        return key.startsWith(key[0].toUpperCase());\n      });\n      _subcomponentDefaults.value = subComponents.length ? Object.fromEntries(subComponents) : undefined;\n    } else {\n      _subcomponentDefaults.value = undefined;\n    }\n  });\n  function provideSubDefaults() {\n    const injected = injectSelf(DefaultsSymbol, vm);\n    provide(DefaultsSymbol, computed(() => {\n      return _subcomponentDefaults.value ? mergeDeep(injected?.value ?? {}, _subcomponentDefaults.value) : injected?.value;\n    }));\n  }\n  return {\n    props: _props,\n    provideSubDefaults\n  };\n}\nexport function useDefaults() {\n  let props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let name = arguments.length > 1 ? arguments[1] : undefined;\n  const {\n    props: _props,\n    provideSubDefaults\n  } = internalUseDefaults(props, name);\n  provideSubDefaults();\n  return _props;\n}\n//# sourceMappingURL=defaults.mjs.map","// Composables\nimport { injectDefaults, internalUseDefaults } from \"../composables/defaults.mjs\"; // Utilities\nimport { defineComponent as _defineComponent // eslint-disable-line no-restricted-imports\n} from 'vue';\nimport { consoleWarn } from \"./console.mjs\";\nimport { pick } from \"./helpers.mjs\";\nimport { propsFactory } from \"./propsFactory.mjs\"; // Types\n// No props\n// Object Props\n// Implementation\nexport function defineComponent(options) {\n  options._setup = options._setup ?? options.setup;\n  if (!options.name) {\n    consoleWarn('The component is missing an explicit name, unable to generate default prop value');\n    return options;\n  }\n  if (options._setup) {\n    options.props = propsFactory(options.props ?? {}, options.name)();\n    const propKeys = Object.keys(options.props).filter(key => key !== 'class' && key !== 'style');\n    options.filterProps = function filterProps(props) {\n      return pick(props, propKeys);\n    };\n    options.props._as = String;\n    options.setup = function setup(props, ctx) {\n      const defaults = injectDefaults();\n\n      // Skip props proxy if defaults are not provided\n      if (!defaults.value) return options._setup(props, ctx);\n      const {\n        props: _props,\n        provideSubDefaults\n      } = internalUseDefaults(props, props._as ?? options.name, defaults);\n      const setupBindings = options._setup(_props, ctx);\n      provideSubDefaults();\n      return setupBindings;\n    };\n  }\n  return options;\n}\n\n// No argument - simple default slot\n\n// Generic constructor argument - generic props and slots\n\n// Slots argument - simple slots\n\n// Implementation\nexport function genericComponent() {\n  let exposeDefaults = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  return options => (exposeDefaults ? defineComponent : _defineComponent)(options);\n}\nexport function defineFunctionalComponent(props, render) {\n  render.props = props;\n  return render;\n}\n\n// Adds a filterProps method to the component options\n\n// https://github.com/vuejs/core/pull/10557\n\n// not a vue Component\n//# sourceMappingURL=defineComponent.mjs.map","// Composables\nimport { makeComponentProps } from \"../composables/component.mjs\"; // Utilities\nimport { camelize, capitalize, h } from 'vue';\nimport { genericComponent } from \"./defineComponent.mjs\";\nexport function createSimpleFunctional(klass) {\n  let tag = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'div';\n  let name = arguments.length > 2 ? arguments[2] : undefined;\n  return genericComponent()({\n    name: name ?? capitalize(camelize(klass.replace(/__/g, '-'))),\n    props: {\n      tag: {\n        type: String,\n        default: tag\n      },\n      ...makeComponentProps()\n    },\n    setup(props, _ref) {\n      let {\n        slots\n      } = _ref;\n      return () => {\n        return h(props.tag, {\n          class: [klass, props.class],\n          style: props.style\n        }, slots.default?.());\n      };\n    }\n  });\n}\n//# sourceMappingURL=createSimpleFunctional.mjs.map","/**\n * Returns:\n *  - 'null' if the node is not attached to the DOM\n *  - the root node (HTMLDocument | ShadowRoot) otherwise\n */\nexport function attachedRoot(node) {\n  /* istanbul ignore next */\n  if (typeof node.getRootNode !== 'function') {\n    // Shadow DOM not supported (IE11), lets find the root of this node\n    while (node.parentNode) node = node.parentNode;\n\n    // The root parent is the document if the node is attached to the DOM\n    if (node !== document) return null;\n    return document;\n  }\n  const root = node.getRootNode();\n\n  // The composed root node is the document if the node is attached to the DOM\n  if (root !== document && root.getRootNode({\n    composed: true\n  }) !== document) return null;\n  return root;\n}\n//# sourceMappingURL=dom.mjs.map","export const standardEasing = 'cubic-bezier(0.4, 0, 0.2, 1)';\nexport const deceleratedEasing = 'cubic-bezier(0.0, 0, 0.2, 1)'; // Entering\nexport const acceleratedEasing = 'cubic-bezier(0.4, 0, 1, 1)'; // Leaving\n//# sourceMappingURL=easing.mjs.map","export function getScrollParent(el) {\n  let includeHidden = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  while (el) {\n    if (includeHidden ? isPotentiallyScrollable(el) : hasScrollbar(el)) return el;\n    el = el.parentElement;\n  }\n  return document.scrollingElement;\n}\nexport function getScrollParents(el, stopAt) {\n  const elements = [];\n  if (stopAt && el && !stopAt.contains(el)) return elements;\n  while (el) {\n    if (hasScrollbar(el)) elements.push(el);\n    if (el === stopAt) break;\n    el = el.parentElement;\n  }\n  return elements;\n}\nexport function hasScrollbar(el) {\n  if (!el || el.nodeType !== Node.ELEMENT_NODE) return false;\n  const style = window.getComputedStyle(el);\n  return style.overflowY === 'scroll' || style.overflowY === 'auto' && el.scrollHeight > el.clientHeight;\n}\nfunction isPotentiallyScrollable(el) {\n  if (!el || el.nodeType !== Node.ELEMENT_NODE) return false;\n  const style = window.getComputedStyle(el);\n  return ['scroll', 'auto'].includes(style.overflowY);\n}\n//# sourceMappingURL=getScrollParent.mjs.map","export function isFixedPosition(el) {\n  while (el) {\n    if (window.getComputedStyle(el).position === 'fixed') {\n      return true;\n    }\n    el = el.offsetParent;\n  }\n  return false;\n}\n//# sourceMappingURL=isFixedPosition.mjs.map","// Utilities\nimport { getCurrentInstance } from \"./getCurrentInstance.mjs\"; // Types\nexport function useRender(render) {\n  const vm = getCurrentInstance('useRender');\n  vm.render = render;\n}\n//# sourceMappingURL=useRender.mjs.map","// Utilities\nimport { propsFactory } from \"../util/index.mjs\"; // Types\n// Composables\nexport const makeTagProps = propsFactory({\n  tag: {\n    type: String,\n    default: 'div'\n  }\n}, 'tag');\n//# sourceMappingURL=tag.mjs.map","import { createVNode as _createVNode } from \"vue\";\n// Composables\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\"; // Utilities\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.mjs\";\nexport const makeVToolbarTitleProps = propsFactory({\n  text: String,\n  ...makeComponentProps(),\n  ...makeTagProps()\n}, 'VToolbarTitle');\nexport const VToolbarTitle = genericComponent()({\n  name: 'VToolbarTitle',\n  props: makeVToolbarTitleProps(),\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    useRender(() => {\n      const hasText = !!(slots.default || slots.text || props.text);\n      return _createVNode(props.tag, {\n        \"class\": ['v-toolbar-title', props.class],\n        \"style\": props.style\n      }, {\n        default: () => [hasText && _createVNode(\"div\", {\n          \"class\": \"v-toolbar-title__placeholder\"\n        }, [slots.text ? slots.text() : props.text, slots.default?.()])]\n      });\n    });\n    return {};\n  }\n});\n//# sourceMappingURL=VToolbarTitle.mjs.map","// Utilities\nimport { h, Transition, TransitionGroup } from 'vue';\nimport { genericComponent, propsFactory } from \"../../util/index.mjs\"; // Types\nexport const makeTransitionProps = propsFactory({\n  disabled: Boolean,\n  group: Boolean,\n  hideOnLeave: Boolean,\n  leaveAbsolute: Boolean,\n  mode: String,\n  origin: String\n}, 'transition');\nexport function createCssTransition(name, origin, mode) {\n  return genericComponent()({\n    name,\n    props: makeTransitionProps({\n      mode,\n      origin\n    }),\n    setup(props, _ref) {\n      let {\n        slots\n      } = _ref;\n      const functions = {\n        onBeforeEnter(el) {\n          if (props.origin) {\n            el.style.transformOrigin = props.origin;\n          }\n        },\n        onLeave(el) {\n          if (props.leaveAbsolute) {\n            const {\n              offsetTop,\n              offsetLeft,\n              offsetWidth,\n              offsetHeight\n            } = el;\n            el._transitionInitialStyles = {\n              position: el.style.position,\n              top: el.style.top,\n              left: el.style.left,\n              width: el.style.width,\n              height: el.style.height\n            };\n            el.style.position = 'absolute';\n            el.style.top = `${offsetTop}px`;\n            el.style.left = `${offsetLeft}px`;\n            el.style.width = `${offsetWidth}px`;\n            el.style.height = `${offsetHeight}px`;\n          }\n          if (props.hideOnLeave) {\n            el.style.setProperty('display', 'none', 'important');\n          }\n        },\n        onAfterLeave(el) {\n          if (props.leaveAbsolute && el?._transitionInitialStyles) {\n            const {\n              position,\n              top,\n              left,\n              width,\n              height\n            } = el._transitionInitialStyles;\n            delete el._transitionInitialStyles;\n            el.style.position = position || '';\n            el.style.top = top || '';\n            el.style.left = left || '';\n            el.style.width = width || '';\n            el.style.height = height || '';\n          }\n        }\n      };\n      return () => {\n        const tag = props.group ? TransitionGroup : Transition;\n        return h(tag, {\n          name: props.disabled ? '' : name,\n          css: !props.disabled,\n          ...(props.group ? undefined : {\n            mode: props.mode\n          }),\n          ...(props.disabled ? {} : functions)\n        }, slots.default);\n      };\n    }\n  });\n}\nexport function createJavascriptTransition(name, functions) {\n  let mode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'in-out';\n  return genericComponent()({\n    name,\n    props: {\n      mode: {\n        type: String,\n        default: mode\n      },\n      disabled: Boolean,\n      group: Boolean\n    },\n    setup(props, _ref2) {\n      let {\n        slots\n      } = _ref2;\n      const tag = props.group ? TransitionGroup : Transition;\n      return () => {\n        return h(tag, {\n          name: props.disabled ? '' : name,\n          css: !props.disabled,\n          // mode: props.mode, // TODO: vuejs/vue-next#3104\n          ...(props.disabled ? {} : functions)\n        }, slots.default);\n      };\n    }\n  });\n}\n//# sourceMappingURL=createTransition.mjs.map","// Utilities\nimport { camelize } from 'vue';\nexport default function () {\n  let expandedParentClass = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  let x = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  const sizeProperty = x ? 'width' : 'height';\n  const offsetProperty = camelize(`offset-${sizeProperty}`);\n  return {\n    onBeforeEnter(el) {\n      el._parent = el.parentNode;\n      el._initialStyle = {\n        transition: el.style.transition,\n        overflow: el.style.overflow,\n        [sizeProperty]: el.style[sizeProperty]\n      };\n    },\n    onEnter(el) {\n      const initialStyle = el._initialStyle;\n      el.style.setProperty('transition', 'none', 'important');\n      // Hide overflow to account for collapsed margins in the calculated height\n      el.style.overflow = 'hidden';\n      const offset = `${el[offsetProperty]}px`;\n      el.style[sizeProperty] = '0';\n      void el.offsetHeight; // force reflow\n\n      el.style.transition = initialStyle.transition;\n      if (expandedParentClass && el._parent) {\n        el._parent.classList.add(expandedParentClass);\n      }\n      requestAnimationFrame(() => {\n        el.style[sizeProperty] = offset;\n      });\n    },\n    onAfterEnter: resetStyles,\n    onEnterCancelled: resetStyles,\n    onLeave(el) {\n      el._initialStyle = {\n        transition: '',\n        overflow: el.style.overflow,\n        [sizeProperty]: el.style[sizeProperty]\n      };\n      el.style.overflow = 'hidden';\n      el.style[sizeProperty] = `${el[offsetProperty]}px`;\n      void el.offsetHeight; // force reflow\n\n      requestAnimationFrame(() => el.style[sizeProperty] = '0');\n    },\n    onAfterLeave,\n    onLeaveCancelled: onAfterLeave\n  };\n  function onAfterLeave(el) {\n    if (expandedParentClass && el._parent) {\n      el._parent.classList.remove(expandedParentClass);\n    }\n    resetStyles(el);\n  }\n  function resetStyles(el) {\n    const size = el._initialStyle[sizeProperty];\n    el.style.overflow = el._initialStyle.overflow;\n    if (size != null) el.style[sizeProperty] = size;\n    delete el._initialStyle;\n  }\n}\n//# sourceMappingURL=expand-transition.mjs.map","import { createVNode as _createVNode, mergeProps as _mergeProps, resolveDirective as _resolveDirective } from \"vue\";\n// Utilities\nimport { Transition } from 'vue';\nimport { acceleratedEasing, animate, deceleratedEasing, genericComponent, nullifyTransforms, propsFactory, standardEasing } from \"../../util/index.mjs\";\nimport { getTargetBox } from \"../../util/box.mjs\"; // Types\nexport const makeVDialogTransitionProps = propsFactory({\n  target: [Object, Array]\n}, 'v-dialog-transition');\nexport const VDialogTransition = genericComponent()({\n  name: 'VDialogTransition',\n  props: makeVDialogTransitionProps(),\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const functions = {\n      onBeforeEnter(el) {\n        el.style.pointerEvents = 'none';\n        el.style.visibility = 'hidden';\n      },\n      async onEnter(el, done) {\n        await new Promise(resolve => requestAnimationFrame(resolve));\n        await new Promise(resolve => requestAnimationFrame(resolve));\n        el.style.visibility = '';\n        const {\n          x,\n          y,\n          sx,\n          sy,\n          speed\n        } = getDimensions(props.target, el);\n        const animation = animate(el, [{\n          transform: `translate(${x}px, ${y}px) scale(${sx}, ${sy})`,\n          opacity: 0\n        }, {}], {\n          duration: 225 * speed,\n          easing: deceleratedEasing\n        });\n        getChildren(el)?.forEach(el => {\n          animate(el, [{\n            opacity: 0\n          }, {\n            opacity: 0,\n            offset: 0.33\n          }, {}], {\n            duration: 225 * 2 * speed,\n            easing: standardEasing\n          });\n        });\n        animation.finished.then(() => done());\n      },\n      onAfterEnter(el) {\n        el.style.removeProperty('pointer-events');\n      },\n      onBeforeLeave(el) {\n        el.style.pointerEvents = 'none';\n      },\n      async onLeave(el, done) {\n        await new Promise(resolve => requestAnimationFrame(resolve));\n        const {\n          x,\n          y,\n          sx,\n          sy,\n          speed\n        } = getDimensions(props.target, el);\n        const animation = animate(el, [{}, {\n          transform: `translate(${x}px, ${y}px) scale(${sx}, ${sy})`,\n          opacity: 0\n        }], {\n          duration: 125 * speed,\n          easing: acceleratedEasing\n        });\n        animation.finished.then(() => done());\n        getChildren(el)?.forEach(el => {\n          animate(el, [{}, {\n            opacity: 0,\n            offset: 0.2\n          }, {\n            opacity: 0\n          }], {\n            duration: 125 * 2 * speed,\n            easing: standardEasing\n          });\n        });\n      },\n      onAfterLeave(el) {\n        el.style.removeProperty('pointer-events');\n      }\n    };\n    return () => {\n      return props.target ? _createVNode(Transition, _mergeProps({\n        \"name\": \"dialog-transition\"\n      }, functions, {\n        \"css\": false\n      }), slots) : _createVNode(Transition, {\n        \"name\": \"dialog-transition\"\n      }, slots);\n    };\n  }\n});\n\n/** Animatable children (card, sheet, list) */\nfunction getChildren(el) {\n  const els = el.querySelector(':scope > .v-card, :scope > .v-sheet, :scope > .v-list')?.children;\n  return els && [...els];\n}\nfunction getDimensions(target, el) {\n  const targetBox = getTargetBox(target);\n  const elBox = nullifyTransforms(el);\n  const [originX, originY] = getComputedStyle(el).transformOrigin.split(' ').map(v => parseFloat(v));\n  const [anchorSide, anchorOffset] = getComputedStyle(el).getPropertyValue('--v-overlay-anchor-origin').split(' ');\n  let offsetX = targetBox.left + targetBox.width / 2;\n  if (anchorSide === 'left' || anchorOffset === 'left') {\n    offsetX -= targetBox.width / 2;\n  } else if (anchorSide === 'right' || anchorOffset === 'right') {\n    offsetX += targetBox.width / 2;\n  }\n  let offsetY = targetBox.top + targetBox.height / 2;\n  if (anchorSide === 'top' || anchorOffset === 'top') {\n    offsetY -= targetBox.height / 2;\n  } else if (anchorSide === 'bottom' || anchorOffset === 'bottom') {\n    offsetY += targetBox.height / 2;\n  }\n  const tsx = targetBox.width / elBox.width;\n  const tsy = targetBox.height / elBox.height;\n  const maxs = Math.max(1, tsx, tsy);\n  const sx = tsx / maxs || 0;\n  const sy = tsy / maxs || 0;\n\n  // Animate elements larger than 12% of the screen area up to 1.5x slower\n  const asa = elBox.width * elBox.height / (window.innerWidth * window.innerHeight);\n  const speed = asa > 0.12 ? Math.min(1.5, (asa - 0.12) * 10 + 1) : 1;\n  return {\n    x: offsetX - (originX + elBox.left),\n    y: offsetY - (originY + elBox.top),\n    sx,\n    sy,\n    speed\n  };\n}\n//# sourceMappingURL=dialog-transition.mjs.map","import { createCssTransition, createJavascriptTransition } from \"./createTransition.mjs\";\nimport ExpandTransitionGenerator from \"./expand-transition.mjs\"; // Component specific transitions\nexport const VFabTransition = createCssTransition('fab-transition', 'center center', 'out-in');\n\n// Generic transitions\nexport const VDialogBottomTransition = createCssTransition('dialog-bottom-transition');\nexport const VDialogTopTransition = createCssTransition('dialog-top-transition');\nexport const VFadeTransition = createCssTransition('fade-transition');\nexport const VScaleTransition = createCssTransition('scale-transition');\nexport const VScrollXTransition = createCssTransition('scroll-x-transition');\nexport const VScrollXReverseTransition = createCssTransition('scroll-x-reverse-transition');\nexport const VScrollYTransition = createCssTransition('scroll-y-transition');\nexport const VScrollYReverseTransition = createCssTransition('scroll-y-reverse-transition');\nexport const VSlideXTransition = createCssTransition('slide-x-transition');\nexport const VSlideXReverseTransition = createCssTransition('slide-x-reverse-transition');\nexport const VSlideYTransition = createCssTransition('slide-y-transition');\nexport const VSlideYReverseTransition = createCssTransition('slide-y-reverse-transition');\n\n// Javascript transitions\nexport const VExpandTransition = createJavascriptTransition('expand-transition', ExpandTransitionGenerator());\nexport const VExpandXTransition = createJavascriptTransition('expand-x-transition', ExpandTransitionGenerator('', true));\nexport { VDialogTransition } from \"./dialog-transition.mjs\";\n//# sourceMappingURL=index.mjs.map","// Composables\nimport { provideDefaults } from \"../../composables/defaults.mjs\"; // Utilities\nimport { toRefs } from 'vue';\nimport { genericComponent, propsFactory } from \"../../util/index.mjs\"; // Types\nexport const makeVDefaultsProviderProps = propsFactory({\n  defaults: Object,\n  disabled: Boolean,\n  reset: [Number, String],\n  root: [Boolean, String],\n  scoped: Boolean\n}, 'VDefaultsProvider');\nexport const VDefaultsProvider = genericComponent(false)({\n  name: 'VDefaultsProvider',\n  props: makeVDefaultsProviderProps(),\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const {\n      defaults,\n      disabled,\n      reset,\n      root,\n      scoped\n    } = toRefs(props);\n    provideDefaults(defaults, {\n      reset,\n      root,\n      scoped,\n      disabled\n    });\n    return () => slots.default?.();\n  }\n});\n//# sourceMappingURL=VDefaultsProvider.mjs.map","// Utilities\nimport { computed } from 'vue';\nimport { convertToUnit, propsFactory } from \"../util/index.mjs\"; // Types\n// Composables\nexport const makeDimensionProps = propsFactory({\n  height: [Number, String],\n  maxHeight: [Number, String],\n  maxWidth: [Number, String],\n  minHeight: [Number, String],\n  minWidth: [Number, String],\n  width: [Number, String]\n}, 'dimension');\nexport function useDimension(props) {\n  const dimensionStyles = computed(() => {\n    const styles = {};\n    const height = convertToUnit(props.height);\n    const maxHeight = convertToUnit(props.maxHeight);\n    const maxWidth = convertToUnit(props.maxWidth);\n    const minHeight = convertToUnit(props.minHeight);\n    const minWidth = convertToUnit(props.minWidth);\n    const width = convertToUnit(props.width);\n    if (height != null) styles.height = height;\n    if (maxHeight != null) styles.maxHeight = maxHeight;\n    if (maxWidth != null) styles.maxWidth = maxWidth;\n    if (minHeight != null) styles.minHeight = minHeight;\n    if (minWidth != null) styles.minWidth = minWidth;\n    if (width != null) styles.width = width;\n    return styles;\n  });\n  return {\n    dimensionStyles\n  };\n}\n//# sourceMappingURL=dimensions.mjs.map","import { createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VResponsive.css\";\n\n// Composables\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { makeDimensionProps, useDimension } from \"../../composables/dimensions.mjs\"; // Utilities\nimport { computed } from 'vue';\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.mjs\";\nexport function useAspectStyles(props) {\n  return {\n    aspectStyles: computed(() => {\n      const ratio = Number(props.aspectRatio);\n      return ratio ? {\n        paddingBottom: String(1 / ratio * 100) + '%'\n      } : undefined;\n    })\n  };\n}\nexport const makeVResponsiveProps = propsFactory({\n  aspectRatio: [String, Number],\n  contentClass: null,\n  inline: Boolean,\n  ...makeComponentProps(),\n  ...makeDimensionProps()\n}, 'VResponsive');\nexport const VResponsive = genericComponent()({\n  name: 'VResponsive',\n  props: makeVResponsiveProps(),\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const {\n      aspectStyles\n    } = useAspectStyles(props);\n    const {\n      dimensionStyles\n    } = useDimension(props);\n    useRender(() => _createVNode(\"div\", {\n      \"class\": ['v-responsive', {\n        'v-responsive--inline': props.inline\n      }, props.class],\n      \"style\": [dimensionStyles.value, props.style]\n    }, [_createVNode(\"div\", {\n      \"class\": \"v-responsive__sizer\",\n      \"style\": aspectStyles.value\n    }, null), slots.additional?.(), slots.default && _createVNode(\"div\", {\n      \"class\": ['v-responsive__content', props.contentClass]\n    }, [slots.default()])]));\n    return {};\n  }\n});\n//# sourceMappingURL=VResponsive.mjs.map","// Utilities\nimport { computed, isRef } from 'vue';\nimport { destructComputed, getForeground, isCssColor, isParsableColor, parseColor } from \"../util/index.mjs\"; // Types\n// Composables\nexport function useColor(colors) {\n  return destructComputed(() => {\n    const classes = [];\n    const styles = {};\n    if (colors.value.background) {\n      if (isCssColor(colors.value.background)) {\n        styles.backgroundColor = colors.value.background;\n        if (!colors.value.text && isParsableColor(colors.value.background)) {\n          const backgroundColor = parseColor(colors.value.background);\n          if (backgroundColor.a == null || backgroundColor.a === 1) {\n            const textColor = getForeground(backgroundColor);\n            styles.color = textColor;\n            styles.caretColor = textColor;\n          }\n        }\n      } else {\n        classes.push(`bg-${colors.value.background}`);\n      }\n    }\n    if (colors.value.text) {\n      if (isCssColor(colors.value.text)) {\n        styles.color = colors.value.text;\n        styles.caretColor = colors.value.text;\n      } else {\n        classes.push(`text-${colors.value.text}`);\n      }\n    }\n    return {\n      colorClasses: classes,\n      colorStyles: styles\n    };\n  });\n}\nexport function useTextColor(props, name) {\n  const colors = computed(() => ({\n    text: isRef(props) ? props.value : name ? props[name] : null\n  }));\n  const {\n    colorClasses: textColorClasses,\n    colorStyles: textColorStyles\n  } = useColor(colors);\n  return {\n    textColorClasses,\n    textColorStyles\n  };\n}\nexport function useBackgroundColor(props, name) {\n  const colors = computed(() => ({\n    background: isRef(props) ? props.value : name ? props[name] : null\n  }));\n  const {\n    colorClasses: backgroundColorClasses,\n    colorStyles: backgroundColorStyles\n  } = useColor(colors);\n  return {\n    backgroundColorClasses,\n    backgroundColorStyles\n  };\n}\n//# sourceMappingURL=color.mjs.map","// Utilities\nimport { computed, isRef } from 'vue';\nimport { getCurrentInstanceName, propsFactory } from \"../util/index.mjs\"; // Types\n// Composables\nexport const makeRoundedProps = propsFactory({\n  rounded: {\n    type: [Boolean, Number, String],\n    default: undefined\n  },\n  tile: Boolean\n}, 'rounded');\nexport function useRounded(props) {\n  let name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getCurrentInstanceName();\n  const roundedClasses = computed(() => {\n    const rounded = isRef(props) ? props.value : props.rounded;\n    const tile = isRef(props) ? props.value : props.tile;\n    const classes = [];\n    if (rounded === true || rounded === '') {\n      classes.push(`${name}--rounded`);\n    } else if (typeof rounded === 'string' || rounded === 0) {\n      for (const value of String(rounded).split(' ')) {\n        classes.push(`rounded-${value}`);\n      }\n    } else if (tile || rounded === false) {\n      classes.push('rounded-0');\n    }\n    return classes;\n  });\n  return {\n    roundedClasses\n  };\n}\n//# sourceMappingURL=rounded.mjs.map","// Utilities\nimport { h, mergeProps, Transition, TransitionGroup } from 'vue';\nimport { propsFactory } from \"../util/index.mjs\"; // Types\nexport const makeTransitionProps = propsFactory({\n  transition: {\n    type: [Boolean, String, Object],\n    default: 'fade-transition',\n    validator: val => val !== true\n  }\n}, 'transition');\nexport const MaybeTransition = (props, _ref) => {\n  let {\n    slots\n  } = _ref;\n  const {\n    transition,\n    disabled,\n    group,\n    ...rest\n  } = props;\n  const {\n    component = group ? TransitionGroup : Transition,\n    ...customProps\n  } = typeof transition === 'object' ? transition : {};\n  return h(component, mergeProps(typeof transition === 'string' ? {\n    name: disabled ? '' : transition\n  } : customProps, typeof transition === 'string' ? {} : Object.fromEntries(Object.entries({\n    disabled,\n    group\n  }).filter(_ref2 => {\n    let [_, v] = _ref2;\n    return v !== undefined;\n  })), rest), slots);\n};\n//# sourceMappingURL=transition.mjs.map","// Utilities\nimport { SUPPORTS_INTERSECTION } from \"../../util/index.mjs\"; // Types\nfunction mounted(el, binding) {\n  if (!SUPPORTS_INTERSECTION) return;\n  const modifiers = binding.modifiers || {};\n  const value = binding.value;\n  const {\n    handler,\n    options\n  } = typeof value === 'object' ? value : {\n    handler: value,\n    options: {}\n  };\n  const observer = new IntersectionObserver(function () {\n    let entries = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    let observer = arguments.length > 1 ? arguments[1] : undefined;\n    const _observe = el._observe?.[binding.instance.$.uid];\n    if (!_observe) return; // Just in case, should never fire\n\n    const isIntersecting = entries.some(entry => entry.isIntersecting);\n\n    // If is not quiet or has already been\n    // initted, invoke the user callback\n    if (handler && (!modifiers.quiet || _observe.init) && (!modifiers.once || isIntersecting || _observe.init)) {\n      handler(isIntersecting, entries, observer);\n    }\n    if (isIntersecting && modifiers.once) unmounted(el, binding);else _observe.init = true;\n  }, options);\n  el._observe = Object(el._observe);\n  el._observe[binding.instance.$.uid] = {\n    init: false,\n    observer\n  };\n  observer.observe(el);\n}\nfunction unmounted(el, binding) {\n  const observe = el._observe?.[binding.instance.$.uid];\n  if (!observe) return;\n  observe.observer.unobserve(el);\n  delete el._observe[binding.instance.$.uid];\n}\nexport const Intersect = {\n  mounted,\n  unmounted\n};\nexport default Intersect;\n//# sourceMappingURL=index.mjs.map","import { withDirectives as _withDirectives, mergeProps as _mergeProps, resolveDirective as _resolveDirective, Fragment as _Fragment, createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VImg.css\";\n\n// Components\nimport { makeVResponsiveProps, VResponsive } from \"../VResponsive/VResponsive.mjs\"; // Composables\nimport { useBackgroundColor } from \"../../composables/color.mjs\";\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { makeRoundedProps, useRounded } from \"../../composables/rounded.mjs\";\nimport { makeTransitionProps, MaybeTransition } from \"../../composables/transition.mjs\"; // Directives\nimport intersect from \"../../directives/intersect/index.mjs\"; // Utilities\nimport { computed, nextTick, onBeforeMount, onBeforeUnmount, ref, shallowRef, toRef, vShow, watch, withDirectives } from 'vue';\nimport { convertToUnit, genericComponent, getCurrentInstance, propsFactory, SUPPORTS_INTERSECTION, useRender } from \"../../util/index.mjs\"; // Types\n// not intended for public use, this is passed in by vuetify-loader\nexport const makeVImgProps = propsFactory({\n  absolute: Boolean,\n  alt: String,\n  cover: Boolean,\n  color: String,\n  draggable: {\n    type: [Boolean, String],\n    default: undefined\n  },\n  eager: Boolean,\n  gradient: String,\n  lazySrc: String,\n  options: {\n    type: Object,\n    // For more information on types, navigate to:\n    // https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API\n    default: () => ({\n      root: undefined,\n      rootMargin: undefined,\n      threshold: undefined\n    })\n  },\n  sizes: String,\n  src: {\n    type: [String, Object],\n    default: ''\n  },\n  crossorigin: String,\n  referrerpolicy: String,\n  srcset: String,\n  position: String,\n  ...makeVResponsiveProps(),\n  ...makeComponentProps(),\n  ...makeRoundedProps(),\n  ...makeTransitionProps()\n}, 'VImg');\nexport const VImg = genericComponent()({\n  name: 'VImg',\n  directives: {\n    intersect\n  },\n  props: makeVImgProps(),\n  emits: {\n    loadstart: value => true,\n    load: value => true,\n    error: value => true\n  },\n  setup(props, _ref) {\n    let {\n      emit,\n      slots\n    } = _ref;\n    const {\n      backgroundColorClasses,\n      backgroundColorStyles\n    } = useBackgroundColor(toRef(props, 'color'));\n    const {\n      roundedClasses\n    } = useRounded(props);\n    const vm = getCurrentInstance('VImg');\n    const currentSrc = shallowRef(''); // Set from srcset\n    const image = ref();\n    const state = shallowRef(props.eager ? 'loading' : 'idle');\n    const naturalWidth = shallowRef();\n    const naturalHeight = shallowRef();\n    const normalisedSrc = computed(() => {\n      return props.src && typeof props.src === 'object' ? {\n        src: props.src.src,\n        srcset: props.srcset || props.src.srcset,\n        lazySrc: props.lazySrc || props.src.lazySrc,\n        aspect: Number(props.aspectRatio || props.src.aspect || 0)\n      } : {\n        src: props.src,\n        srcset: props.srcset,\n        lazySrc: props.lazySrc,\n        aspect: Number(props.aspectRatio || 0)\n      };\n    });\n    const aspectRatio = computed(() => {\n      return normalisedSrc.value.aspect || naturalWidth.value / naturalHeight.value || 0;\n    });\n    watch(() => props.src, () => {\n      init(state.value !== 'idle');\n    });\n    watch(aspectRatio, (val, oldVal) => {\n      if (!val && oldVal && image.value) {\n        pollForSize(image.value);\n      }\n    });\n\n    // TODO: getSrc when window width changes\n\n    onBeforeMount(() => init());\n    function init(isIntersecting) {\n      if (props.eager && isIntersecting) return;\n      if (SUPPORTS_INTERSECTION && !isIntersecting && !props.eager) return;\n      state.value = 'loading';\n      if (normalisedSrc.value.lazySrc) {\n        const lazyImg = new Image();\n        lazyImg.src = normalisedSrc.value.lazySrc;\n        pollForSize(lazyImg, null);\n      }\n      if (!normalisedSrc.value.src) return;\n      nextTick(() => {\n        emit('loadstart', image.value?.currentSrc || normalisedSrc.value.src);\n        setTimeout(() => {\n          if (vm.isUnmounted) return;\n          if (image.value?.complete) {\n            if (!image.value.naturalWidth) {\n              onError();\n            }\n            if (state.value === 'error') return;\n            if (!aspectRatio.value) pollForSize(image.value, null);\n            if (state.value === 'loading') onLoad();\n          } else {\n            if (!aspectRatio.value) pollForSize(image.value);\n            getSrc();\n          }\n        });\n      });\n    }\n    function onLoad() {\n      if (vm.isUnmounted) return;\n      getSrc();\n      pollForSize(image.value);\n      state.value = 'loaded';\n      emit('load', image.value?.currentSrc || normalisedSrc.value.src);\n    }\n    function onError() {\n      if (vm.isUnmounted) return;\n      state.value = 'error';\n      emit('error', image.value?.currentSrc || normalisedSrc.value.src);\n    }\n    function getSrc() {\n      const img = image.value;\n      if (img) currentSrc.value = img.currentSrc || img.src;\n    }\n    let timer = -1;\n    onBeforeUnmount(() => {\n      clearTimeout(timer);\n    });\n    function pollForSize(img) {\n      let timeout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;\n      const poll = () => {\n        clearTimeout(timer);\n        if (vm.isUnmounted) return;\n        const {\n          naturalHeight: imgHeight,\n          naturalWidth: imgWidth\n        } = img;\n        if (imgHeight || imgWidth) {\n          naturalWidth.value = imgWidth;\n          naturalHeight.value = imgHeight;\n        } else if (!img.complete && state.value === 'loading' && timeout != null) {\n          timer = window.setTimeout(poll, timeout);\n        } else if (img.currentSrc.endsWith('.svg') || img.currentSrc.startsWith('data:image/svg+xml')) {\n          naturalWidth.value = 1;\n          naturalHeight.value = 1;\n        }\n      };\n      poll();\n    }\n    const containClasses = computed(() => ({\n      'v-img__img--cover': props.cover,\n      'v-img__img--contain': !props.cover\n    }));\n    const __image = () => {\n      if (!normalisedSrc.value.src || state.value === 'idle') return null;\n      const img = _createVNode(\"img\", {\n        \"class\": ['v-img__img', containClasses.value],\n        \"style\": {\n          objectPosition: props.position\n        },\n        \"src\": normalisedSrc.value.src,\n        \"srcset\": normalisedSrc.value.srcset,\n        \"alt\": props.alt,\n        \"crossorigin\": props.crossorigin,\n        \"referrerpolicy\": props.referrerpolicy,\n        \"draggable\": props.draggable,\n        \"sizes\": props.sizes,\n        \"ref\": image,\n        \"onLoad\": onLoad,\n        \"onError\": onError\n      }, null);\n      const sources = slots.sources?.();\n      return _createVNode(MaybeTransition, {\n        \"transition\": props.transition,\n        \"appear\": true\n      }, {\n        default: () => [withDirectives(sources ? _createVNode(\"picture\", {\n          \"class\": \"v-img__picture\"\n        }, [sources, img]) : img, [[vShow, state.value === 'loaded']])]\n      });\n    };\n    const __preloadImage = () => _createVNode(MaybeTransition, {\n      \"transition\": props.transition\n    }, {\n      default: () => [normalisedSrc.value.lazySrc && state.value !== 'loaded' && _createVNode(\"img\", {\n        \"class\": ['v-img__img', 'v-img__img--preload', containClasses.value],\n        \"style\": {\n          objectPosition: props.position\n        },\n        \"src\": normalisedSrc.value.lazySrc,\n        \"alt\": props.alt,\n        \"crossorigin\": props.crossorigin,\n        \"referrerpolicy\": props.referrerpolicy,\n        \"draggable\": props.draggable\n      }, null)]\n    });\n    const __placeholder = () => {\n      if (!slots.placeholder) return null;\n      return _createVNode(MaybeTransition, {\n        \"transition\": props.transition,\n        \"appear\": true\n      }, {\n        default: () => [(state.value === 'loading' || state.value === 'error' && !slots.error) && _createVNode(\"div\", {\n          \"class\": \"v-img__placeholder\"\n        }, [slots.placeholder()])]\n      });\n    };\n    const __error = () => {\n      if (!slots.error) return null;\n      return _createVNode(MaybeTransition, {\n        \"transition\": props.transition,\n        \"appear\": true\n      }, {\n        default: () => [state.value === 'error' && _createVNode(\"div\", {\n          \"class\": \"v-img__error\"\n        }, [slots.error()])]\n      });\n    };\n    const __gradient = () => {\n      if (!props.gradient) return null;\n      return _createVNode(\"div\", {\n        \"class\": \"v-img__gradient\",\n        \"style\": {\n          backgroundImage: `linear-gradient(${props.gradient})`\n        }\n      }, null);\n    };\n    const isBooted = shallowRef(false);\n    {\n      const stop = watch(aspectRatio, val => {\n        if (val) {\n          // Doesn't work with nextTick, idk why\n          requestAnimationFrame(() => {\n            requestAnimationFrame(() => {\n              isBooted.value = true;\n            });\n          });\n          stop();\n        }\n      });\n    }\n    useRender(() => {\n      const responsiveProps = VResponsive.filterProps(props);\n      return _withDirectives(_createVNode(VResponsive, _mergeProps({\n        \"class\": ['v-img', {\n          'v-img--absolute': props.absolute,\n          'v-img--booting': !isBooted.value\n        }, backgroundColorClasses.value, roundedClasses.value, props.class],\n        \"style\": [{\n          width: convertToUnit(props.width === 'auto' ? naturalWidth.value : props.width)\n        }, backgroundColorStyles.value, props.style]\n      }, responsiveProps, {\n        \"aspectRatio\": aspectRatio.value,\n        \"aria-label\": props.alt,\n        \"role\": props.alt ? 'img' : undefined\n      }), {\n        additional: () => _createVNode(_Fragment, null, [_createVNode(__image, null, null), _createVNode(__preloadImage, null, null), _createVNode(__gradient, null, null), _createVNode(__placeholder, null, null), _createVNode(__error, null, null)]),\n        default: slots.default\n      }), [[_resolveDirective(\"intersect\"), {\n        handler: init,\n        options: props.options\n      }, null, {\n        once: true\n      }]]);\n    });\n    return {\n      currentSrc,\n      image,\n      state,\n      naturalWidth,\n      naturalHeight\n    };\n  }\n});\n//# sourceMappingURL=VImg.mjs.map","// Utilities\nimport { computed, isRef } from 'vue';\nimport { getCurrentInstanceName, propsFactory } from \"../util/index.mjs\"; // Types\n// Composables\nexport const makeBorderProps = propsFactory({\n  border: [Boolean, Number, String]\n}, 'border');\nexport function useBorder(props) {\n  let name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getCurrentInstanceName();\n  const borderClasses = computed(() => {\n    const border = isRef(props) ? props.value : props.border;\n    const classes = [];\n    if (border === true || border === '') {\n      classes.push(`${name}--border`);\n    } else if (typeof border === 'string' || border === 0) {\n      for (const value of String(border).split(' ')) {\n        classes.push(`border-${value}`);\n      }\n    }\n    return classes;\n  });\n  return {\n    borderClasses\n  };\n}\n//# sourceMappingURL=border.mjs.map","// Utilities\nimport { computed, isRef } from 'vue';\nimport { propsFactory } from \"../util/index.mjs\"; // Types\n// Composables\nexport const makeElevationProps = propsFactory({\n  elevation: {\n    type: [Number, String],\n    validator(v) {\n      const value = parseInt(v);\n      return !isNaN(value) && value >= 0 &&\n      // Material Design has a maximum elevation of 24\n      // https://material.io/design/environment/elevation.html#default-elevations\n      value <= 24;\n    }\n  }\n}, 'elevation');\nexport function useElevation(props) {\n  const elevationClasses = computed(() => {\n    const elevation = isRef(props) ? props.value : props.elevation;\n    const classes = [];\n    if (elevation == null) return classes;\n    classes.push(`elevation-${elevation}`);\n    return classes;\n  });\n  return {\n    elevationClasses\n  };\n}\n//# sourceMappingURL=elevation.mjs.map","// Utilities\nimport { effectScope, onScopeDispose, watch } from 'vue';\n\n// Types\n\nexport function useToggleScope(source, fn) {\n  let scope;\n  function start() {\n    scope = effectScope();\n    scope.run(() => fn.length ? fn(() => {\n      scope?.stop();\n      start();\n    }) : fn());\n  }\n  watch(source, active => {\n    if (active && !scope) {\n      start();\n    } else if (!active) {\n      scope?.stop();\n      scope = undefined;\n    }\n  }, {\n    immediate: true\n  });\n  onScopeDispose(() => {\n    scope?.stop();\n  });\n}\n//# sourceMappingURL=toggleScope.mjs.map","// Composables\nimport { useToggleScope } from \"./toggleScope.mjs\"; // Utilities\nimport { computed, ref, toRaw, watch } from 'vue';\nimport { getCurrentInstance, toKebabCase } from \"../util/index.mjs\"; // Types\n// Composables\nexport function useProxiedModel(props, prop, defaultValue) {\n  let transformIn = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : v => v;\n  let transformOut = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : v => v;\n  const vm = getCurrentInstance('useProxiedModel');\n  const internal = ref(props[prop] !== undefined ? props[prop] : defaultValue);\n  const kebabProp = toKebabCase(prop);\n  const checkKebab = kebabProp !== prop;\n  const isControlled = checkKebab ? computed(() => {\n    void props[prop];\n    return !!((vm.vnode.props?.hasOwnProperty(prop) || vm.vnode.props?.hasOwnProperty(kebabProp)) && (vm.vnode.props?.hasOwnProperty(`onUpdate:${prop}`) || vm.vnode.props?.hasOwnProperty(`onUpdate:${kebabProp}`)));\n  }) : computed(() => {\n    void props[prop];\n    return !!(vm.vnode.props?.hasOwnProperty(prop) && vm.vnode.props?.hasOwnProperty(`onUpdate:${prop}`));\n  });\n  useToggleScope(() => !isControlled.value, () => {\n    watch(() => props[prop], val => {\n      internal.value = val;\n    });\n  });\n  const model = computed({\n    get() {\n      const externalValue = props[prop];\n      return transformIn(isControlled.value ? externalValue : internal.value);\n    },\n    set(internalValue) {\n      const newValue = transformOut(internalValue);\n      const value = toRaw(isControlled.value ? props[prop] : internal.value);\n      if (value === newValue || transformIn(value) === internalValue) {\n        return;\n      }\n      internal.value = newValue;\n      vm?.emit(`update:${prop}`, newValue);\n    }\n  });\n  Object.defineProperty(model, 'externalValue', {\n    get: () => isControlled.value ? props[prop] : internal.value\n  });\n  return model;\n}\n//# sourceMappingURL=proxiedModel.mjs.map","export default {\n  badge: 'Badge',\n  open: 'Open',\n  close: 'Close',\n  dismiss: 'Dismiss',\n  confirmEdit: {\n    ok: 'OK',\n    cancel: 'Cancel'\n  },\n  dataIterator: {\n    noResultsText: 'No matching records found',\n    loadingText: 'Loading items...'\n  },\n  dataTable: {\n    itemsPerPageText: 'Rows per page:',\n    ariaLabel: {\n      sortDescending: 'Sorted descending.',\n      sortAscending: 'Sorted ascending.',\n      sortNone: 'Not sorted.',\n      activateNone: 'Activate to remove sorting.',\n      activateDescending: 'Activate to sort descending.',\n      activateAscending: 'Activate to sort ascending.'\n    },\n    sortBy: 'Sort by'\n  },\n  dataFooter: {\n    itemsPerPageText: 'Items per page:',\n    itemsPerPageAll: 'All',\n    nextPage: 'Next page',\n    prevPage: 'Previous page',\n    firstPage: 'First page',\n    lastPage: 'Last page',\n    pageText: '{0}-{1} of {2}'\n  },\n  dateRangeInput: {\n    divider: 'to'\n  },\n  datePicker: {\n    itemsSelected: '{0} selected',\n    range: {\n      title: 'Select dates',\n      header: 'Enter dates'\n    },\n    title: 'Select date',\n    header: 'Enter date',\n    input: {\n      placeholder: 'Enter date'\n    }\n  },\n  noDataText: 'No data available',\n  carousel: {\n    prev: 'Previous visual',\n    next: 'Next visual',\n    ariaLabel: {\n      delimiter: 'Carousel slide {0} of {1}'\n    }\n  },\n  calendar: {\n    moreEvents: '{0} more',\n    today: 'Today'\n  },\n  input: {\n    clear: 'Clear {0}',\n    prependAction: '{0} prepended action',\n    appendAction: '{0} appended action',\n    otp: 'Please enter OTP character {0}'\n  },\n  fileInput: {\n    counter: '{0} files',\n    counterSize: '{0} files ({1} in total)'\n  },\n  fileUpload: {\n    title: 'Drag and drop files here',\n    divider: 'or',\n    browse: 'Browse Files'\n  },\n  timePicker: {\n    am: 'AM',\n    pm: 'PM',\n    title: 'Select Time'\n  },\n  pagination: {\n    ariaLabel: {\n      root: 'Pagination Navigation',\n      next: 'Next page',\n      previous: 'Previous page',\n      page: 'Go to page {0}',\n      currentPage: 'Page {0}, Current page',\n      first: 'First page',\n      last: 'Last page'\n    }\n  },\n  stepper: {\n    next: 'Next',\n    prev: 'Previous'\n  },\n  rating: {\n    ariaLabel: {\n      item: 'Rating {0} of {1}'\n    }\n  },\n  loading: 'Loading...',\n  infiniteScroll: {\n    loadMore: 'Load more',\n    empty: 'No more'\n  }\n};\n//# sourceMappingURL=en.mjs.map","// Composables\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\"; // Utilities\nimport { ref, shallowRef, watch } from 'vue';\nimport { consoleError, consoleWarn, getObjectValueByPath } from \"../../util/index.mjs\"; // Locales\nimport en from \"../en.mjs\"; // Types\nconst LANG_PREFIX = '$vuetify.';\nconst replace = (str, params) => {\n  return str.replace(/\\{(\\d+)\\}/g, (match, index) => {\n    return String(params[+index]);\n  });\n};\nconst createTranslateFunction = (current, fallback, messages) => {\n  return function (key) {\n    for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      params[_key - 1] = arguments[_key];\n    }\n    if (!key.startsWith(LANG_PREFIX)) {\n      return replace(key, params);\n    }\n    const shortKey = key.replace(LANG_PREFIX, '');\n    const currentLocale = current.value && messages.value[current.value];\n    const fallbackLocale = fallback.value && messages.value[fallback.value];\n    let str = getObjectValueByPath(currentLocale, shortKey, null);\n    if (!str) {\n      consoleWarn(`Translation key \"${key}\" not found in \"${current.value}\", trying fallback locale`);\n      str = getObjectValueByPath(fallbackLocale, shortKey, null);\n    }\n    if (!str) {\n      consoleError(`Translation key \"${key}\" not found in fallback`);\n      str = key;\n    }\n    if (typeof str !== 'string') {\n      consoleError(`Translation key \"${key}\" has a non-string value`);\n      str = key;\n    }\n    return replace(str, params);\n  };\n};\nfunction createNumberFunction(current, fallback) {\n  return (value, options) => {\n    const numberFormat = new Intl.NumberFormat([current.value, fallback.value], options);\n    return numberFormat.format(value);\n  };\n}\nfunction useProvided(props, prop, provided) {\n  const internal = useProxiedModel(props, prop, props[prop] ?? provided.value);\n\n  // TODO: Remove when defaultValue works\n  internal.value = props[prop] ?? provided.value;\n  watch(provided, v => {\n    if (props[prop] == null) {\n      internal.value = provided.value;\n    }\n  });\n  return internal;\n}\nfunction createProvideFunction(state) {\n  return props => {\n    const current = useProvided(props, 'locale', state.current);\n    const fallback = useProvided(props, 'fallback', state.fallback);\n    const messages = useProvided(props, 'messages', state.messages);\n    return {\n      name: 'vuetify',\n      current,\n      fallback,\n      messages,\n      t: createTranslateFunction(current, fallback, messages),\n      n: createNumberFunction(current, fallback),\n      provide: createProvideFunction({\n        current,\n        fallback,\n        messages\n      })\n    };\n  };\n}\nexport function createVuetifyAdapter(options) {\n  const current = shallowRef(options?.locale ?? 'en');\n  const fallback = shallowRef(options?.fallback ?? 'en');\n  const messages = ref({\n    en,\n    ...options?.messages\n  });\n  return {\n    name: 'vuetify',\n    current,\n    fallback,\n    messages,\n    t: createTranslateFunction(current, fallback, messages),\n    n: createNumberFunction(current, fallback),\n    provide: createProvideFunction({\n      current,\n      fallback,\n      messages\n    })\n  };\n}\n//# sourceMappingURL=vuetify.mjs.map","// Utilities\nimport { computed, inject, provide, ref } from 'vue';\nimport { createVuetifyAdapter } from \"../locale/adapters/vuetify.mjs\"; // Types\nexport const LocaleSymbol = Symbol.for('vuetify:locale');\nfunction isLocaleInstance(obj) {\n  return obj.name != null;\n}\nexport function createLocale(options) {\n  const i18n = options?.adapter && isLocaleInstance(options?.adapter) ? options?.adapter : createVuetifyAdapter(options);\n  const rtl = createRtl(i18n, options);\n  return {\n    ...i18n,\n    ...rtl\n  };\n}\nexport function useLocale() {\n  const locale = inject(LocaleSymbol);\n  if (!locale) throw new Error('[Vuetify] Could not find injected locale instance');\n  return locale;\n}\nexport function provideLocale(props) {\n  const locale = inject(LocaleSymbol);\n  if (!locale) throw new Error('[Vuetify] Could not find injected locale instance');\n  const i18n = locale.provide(props);\n  const rtl = provideRtl(i18n, locale.rtl, props);\n  const data = {\n    ...i18n,\n    ...rtl\n  };\n  provide(LocaleSymbol, data);\n  return data;\n}\n\n// RTL\n\nexport const RtlSymbol = Symbol.for('vuetify:rtl');\nfunction genDefaults() {\n  return {\n    af: false,\n    ar: true,\n    bg: false,\n    ca: false,\n    ckb: false,\n    cs: false,\n    de: false,\n    el: false,\n    en: false,\n    es: false,\n    et: false,\n    fa: true,\n    fi: false,\n    fr: false,\n    hr: false,\n    hu: false,\n    he: true,\n    id: false,\n    it: false,\n    ja: false,\n    km: false,\n    ko: false,\n    lv: false,\n    lt: false,\n    nl: false,\n    no: false,\n    pl: false,\n    pt: false,\n    ro: false,\n    ru: false,\n    sk: false,\n    sl: false,\n    srCyrl: false,\n    srLatn: false,\n    sv: false,\n    th: false,\n    tr: false,\n    az: false,\n    uk: false,\n    vi: false,\n    zhHans: false,\n    zhHant: false\n  };\n}\nexport function createRtl(i18n, options) {\n  const rtl = ref(options?.rtl ?? genDefaults());\n  const isRtl = computed(() => rtl.value[i18n.current.value] ?? false);\n  return {\n    isRtl,\n    rtl,\n    rtlClasses: computed(() => `v-locale--is-${isRtl.value ? 'rtl' : 'ltr'}`)\n  };\n}\nexport function provideRtl(locale, rtl, props) {\n  const isRtl = computed(() => props.rtl ?? rtl.value[locale.current.value] ?? false);\n  return {\n    isRtl,\n    rtl,\n    rtlClasses: computed(() => `v-locale--is-${isRtl.value ? 'rtl' : 'ltr'}`)\n  };\n}\nexport function useRtl() {\n  const locale = inject(LocaleSymbol);\n  if (!locale) throw new Error('[Vuetify] Could not find injected rtl instance');\n  return {\n    isRtl: locale.isRtl,\n    rtlClasses: locale.rtlClasses\n  };\n}\n//# sourceMappingURL=locale.mjs.map","// Utilities\nimport { computed, inject, provide, ref, watch, watchEffect } from 'vue';\nimport { createRange, darken, getCurrentInstance, getForeground, getLuma, IN_BROWSER, lighten, mergeDeep, parseColor, propsFactory, RGBtoHex } from \"../util/index.mjs\"; // Types\nexport const ThemeSymbol = Symbol.for('vuetify:theme');\nexport const makeThemeProps = propsFactory({\n  theme: String\n}, 'theme');\nfunction genDefaults() {\n  return {\n    defaultTheme: 'light',\n    variations: {\n      colors: [],\n      lighten: 0,\n      darken: 0\n    },\n    themes: {\n      light: {\n        dark: false,\n        colors: {\n          background: '#FFFFFF',\n          surface: '#FFFFFF',\n          'surface-bright': '#FFFFFF',\n          'surface-light': '#EEEEEE',\n          'surface-variant': '#424242',\n          'on-surface-variant': '#EEEEEE',\n          primary: '#1867C0',\n          'primary-darken-1': '#1F5592',\n          secondary: '#48A9A6',\n          'secondary-darken-1': '#018786',\n          error: '#B00020',\n          info: '#2196F3',\n          success: '#4CAF50',\n          warning: '#FB8C00'\n        },\n        variables: {\n          'border-color': '#000000',\n          'border-opacity': 0.12,\n          'high-emphasis-opacity': 0.87,\n          'medium-emphasis-opacity': 0.60,\n          'disabled-opacity': 0.38,\n          'idle-opacity': 0.04,\n          'hover-opacity': 0.04,\n          'focus-opacity': 0.12,\n          'selected-opacity': 0.08,\n          'activated-opacity': 0.12,\n          'pressed-opacity': 0.12,\n          'dragged-opacity': 0.08,\n          'theme-kbd': '#212529',\n          'theme-on-kbd': '#FFFFFF',\n          'theme-code': '#F5F5F5',\n          'theme-on-code': '#000000'\n        }\n      },\n      dark: {\n        dark: true,\n        colors: {\n          background: '#121212',\n          surface: '#212121',\n          'surface-bright': '#ccbfd6',\n          'surface-light': '#424242',\n          'surface-variant': '#a3a3a3',\n          'on-surface-variant': '#424242',\n          primary: '#2196F3',\n          'primary-darken-1': '#277CC1',\n          secondary: '#54B6B2',\n          'secondary-darken-1': '#48A9A6',\n          error: '#CF6679',\n          info: '#2196F3',\n          success: '#4CAF50',\n          warning: '#FB8C00'\n        },\n        variables: {\n          'border-color': '#FFFFFF',\n          'border-opacity': 0.12,\n          'high-emphasis-opacity': 1,\n          'medium-emphasis-opacity': 0.70,\n          'disabled-opacity': 0.50,\n          'idle-opacity': 0.10,\n          'hover-opacity': 0.04,\n          'focus-opacity': 0.12,\n          'selected-opacity': 0.08,\n          'activated-opacity': 0.12,\n          'pressed-opacity': 0.16,\n          'dragged-opacity': 0.08,\n          'theme-kbd': '#212529',\n          'theme-on-kbd': '#FFFFFF',\n          'theme-code': '#343434',\n          'theme-on-code': '#CCCCCC'\n        }\n      }\n    }\n  };\n}\nfunction parseThemeOptions() {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : genDefaults();\n  const defaults = genDefaults();\n  if (!options) return {\n    ...defaults,\n    isDisabled: true\n  };\n  const themes = {};\n  for (const [key, theme] of Object.entries(options.themes ?? {})) {\n    const defaultTheme = theme.dark || key === 'dark' ? defaults.themes?.dark : defaults.themes?.light;\n    themes[key] = mergeDeep(defaultTheme, theme);\n  }\n  return mergeDeep(defaults, {\n    ...options,\n    themes\n  });\n}\n\n// Composables\nexport function createTheme(options) {\n  const parsedOptions = parseThemeOptions(options);\n  const name = ref(parsedOptions.defaultTheme);\n  const themes = ref(parsedOptions.themes);\n  const computedThemes = computed(() => {\n    const acc = {};\n    for (const [name, original] of Object.entries(themes.value)) {\n      const theme = acc[name] = {\n        ...original,\n        colors: {\n          ...original.colors\n        }\n      };\n      if (parsedOptions.variations) {\n        for (const name of parsedOptions.variations.colors) {\n          const color = theme.colors[name];\n          if (!color) continue;\n          for (const variation of ['lighten', 'darken']) {\n            const fn = variation === 'lighten' ? lighten : darken;\n            for (const amount of createRange(parsedOptions.variations[variation], 1)) {\n              theme.colors[`${name}-${variation}-${amount}`] = RGBtoHex(fn(parseColor(color), amount));\n            }\n          }\n        }\n      }\n      for (const color of Object.keys(theme.colors)) {\n        if (/^on-[a-z]/.test(color) || theme.colors[`on-${color}`]) continue;\n        const onColor = `on-${color}`;\n        const colorVal = parseColor(theme.colors[color]);\n        theme.colors[onColor] = getForeground(colorVal);\n      }\n    }\n    return acc;\n  });\n  const current = computed(() => computedThemes.value[name.value]);\n  const styles = computed(() => {\n    const lines = [];\n    if (current.value?.dark) {\n      createCssClass(lines, ':root', ['color-scheme: dark']);\n    }\n    createCssClass(lines, ':root', genCssVariables(current.value));\n    for (const [themeName, theme] of Object.entries(computedThemes.value)) {\n      createCssClass(lines, `.v-theme--${themeName}`, [`color-scheme: ${theme.dark ? 'dark' : 'normal'}`, ...genCssVariables(theme)]);\n    }\n    const bgLines = [];\n    const fgLines = [];\n    const colors = new Set(Object.values(computedThemes.value).flatMap(theme => Object.keys(theme.colors)));\n    for (const key of colors) {\n      if (/^on-[a-z]/.test(key)) {\n        createCssClass(fgLines, `.${key}`, [`color: rgb(var(--v-theme-${key})) !important`]);\n      } else {\n        createCssClass(bgLines, `.bg-${key}`, [`--v-theme-overlay-multiplier: var(--v-theme-${key}-overlay-multiplier)`, `background-color: rgb(var(--v-theme-${key})) !important`, `color: rgb(var(--v-theme-on-${key})) !important`]);\n        createCssClass(fgLines, `.text-${key}`, [`color: rgb(var(--v-theme-${key})) !important`]);\n        createCssClass(fgLines, `.border-${key}`, [`--v-border-color: var(--v-theme-${key})`]);\n      }\n    }\n    lines.push(...bgLines, ...fgLines);\n    return lines.map((str, i) => i === 0 ? str : `    ${str}`).join('');\n  });\n  function getHead() {\n    return {\n      style: [{\n        children: styles.value,\n        id: 'vuetify-theme-stylesheet',\n        nonce: parsedOptions.cspNonce || false\n      }]\n    };\n  }\n  function install(app) {\n    if (parsedOptions.isDisabled) return;\n    const head = app._context.provides.usehead;\n    if (head) {\n      if (head.push) {\n        const entry = head.push(getHead);\n        if (IN_BROWSER) {\n          watch(styles, () => {\n            entry.patch(getHead);\n          });\n        }\n      } else {\n        if (IN_BROWSER) {\n          head.addHeadObjs(computed(getHead));\n          watchEffect(() => head.updateDOM());\n        } else {\n          head.addHeadObjs(getHead());\n        }\n      }\n    } else {\n      let styleEl = IN_BROWSER ? document.getElementById('vuetify-theme-stylesheet') : null;\n      if (IN_BROWSER) {\n        watch(styles, updateStyles, {\n          immediate: true\n        });\n      } else {\n        updateStyles();\n      }\n      function updateStyles() {\n        if (typeof document !== 'undefined' && !styleEl) {\n          const el = document.createElement('style');\n          el.type = 'text/css';\n          el.id = 'vuetify-theme-stylesheet';\n          if (parsedOptions.cspNonce) el.setAttribute('nonce', parsedOptions.cspNonce);\n          styleEl = el;\n          document.head.appendChild(styleEl);\n        }\n        if (styleEl) styleEl.innerHTML = styles.value;\n      }\n    }\n  }\n  const themeClasses = computed(() => parsedOptions.isDisabled ? undefined : `v-theme--${name.value}`);\n  return {\n    install,\n    isDisabled: parsedOptions.isDisabled,\n    name,\n    themes,\n    current,\n    computedThemes,\n    themeClasses,\n    styles,\n    global: {\n      name,\n      current\n    }\n  };\n}\nexport function provideTheme(props) {\n  getCurrentInstance('provideTheme');\n  const theme = inject(ThemeSymbol, null);\n  if (!theme) throw new Error('Could not find Vuetify theme injection');\n  const name = computed(() => {\n    return props.theme ?? theme.name.value;\n  });\n  const current = computed(() => theme.themes.value[name.value]);\n  const themeClasses = computed(() => theme.isDisabled ? undefined : `v-theme--${name.value}`);\n  const newTheme = {\n    ...theme,\n    name,\n    current,\n    themeClasses\n  };\n  provide(ThemeSymbol, newTheme);\n  return newTheme;\n}\nexport function useTheme() {\n  getCurrentInstance('useTheme');\n  const theme = inject(ThemeSymbol, null);\n  if (!theme) throw new Error('Could not find Vuetify theme injection');\n  return theme;\n}\nfunction createCssClass(lines, selector, content) {\n  lines.push(`${selector} {\\n`, ...content.map(line => `  ${line};\\n`), '}\\n');\n}\nfunction genCssVariables(theme) {\n  const lightOverlay = theme.dark ? 2 : 1;\n  const darkOverlay = theme.dark ? 1 : 2;\n  const variables = [];\n  for (const [key, value] of Object.entries(theme.colors)) {\n    const rgb = parseColor(value);\n    variables.push(`--v-theme-${key}: ${rgb.r},${rgb.g},${rgb.b}`);\n    if (!key.startsWith('on-')) {\n      variables.push(`--v-theme-${key}-overlay-multiplier: ${getLuma(value) > 0.18 ? lightOverlay : darkOverlay}`);\n    }\n  }\n  for (const [key, value] of Object.entries(theme.variables)) {\n    const color = typeof value === 'string' && value.startsWith('#') ? parseColor(value) : undefined;\n    const rgb = color ? `${color.r}, ${color.g}, ${color.b}` : undefined;\n    variables.push(`--v-${key}: ${rgb ?? value}`);\n  }\n  return variables;\n}\n//# sourceMappingURL=theme.mjs.map","import { resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VToolbar.css\";\n\n// Components\nimport { VToolbarTitle } from \"./VToolbarTitle.mjs\";\nimport { VExpandTransition } from \"../transitions/index.mjs\";\nimport { VDefaultsProvider } from \"../VDefaultsProvider/index.mjs\";\nimport { VImg } from \"../VImg/index.mjs\"; // Composables\nimport { makeBorderProps, useBorder } from \"../../composables/border.mjs\";\nimport { useBackgroundColor } from \"../../composables/color.mjs\";\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { provideDefaults } from \"../../composables/defaults.mjs\";\nimport { makeElevationProps, useElevation } from \"../../composables/elevation.mjs\";\nimport { useRtl } from \"../../composables/locale.mjs\";\nimport { makeRoundedProps, useRounded } from \"../../composables/rounded.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.mjs\"; // Utilities\nimport { computed, shallowRef, toRef } from 'vue';\nimport { convertToUnit, genericComponent, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nconst allowedDensities = [null, 'prominent', 'default', 'comfortable', 'compact'];\nexport const makeVToolbarProps = propsFactory({\n  absolute: Boolean,\n  collapse: Boolean,\n  color: String,\n  density: {\n    type: String,\n    default: 'default',\n    validator: v => allowedDensities.includes(v)\n  },\n  extended: Boolean,\n  extensionHeight: {\n    type: [Number, String],\n    default: 48\n  },\n  flat: Boolean,\n  floating: Boolean,\n  height: {\n    type: [Number, String],\n    default: 64\n  },\n  image: String,\n  title: String,\n  ...makeBorderProps(),\n  ...makeComponentProps(),\n  ...makeElevationProps(),\n  ...makeRoundedProps(),\n  ...makeTagProps({\n    tag: 'header'\n  }),\n  ...makeThemeProps()\n}, 'VToolbar');\nexport const VToolbar = genericComponent()({\n  name: 'VToolbar',\n  props: makeVToolbarProps(),\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const {\n      backgroundColorClasses,\n      backgroundColorStyles\n    } = useBackgroundColor(toRef(props, 'color'));\n    const {\n      borderClasses\n    } = useBorder(props);\n    const {\n      elevationClasses\n    } = useElevation(props);\n    const {\n      roundedClasses\n    } = useRounded(props);\n    const {\n      themeClasses\n    } = provideTheme(props);\n    const {\n      rtlClasses\n    } = useRtl();\n    const isExtended = shallowRef(!!(props.extended || slots.extension?.()));\n    const contentHeight = computed(() => parseInt(Number(props.height) + (props.density === 'prominent' ? Number(props.height) : 0) - (props.density === 'comfortable' ? 8 : 0) - (props.density === 'compact' ? 16 : 0), 10));\n    const extensionHeight = computed(() => isExtended.value ? parseInt(Number(props.extensionHeight) + (props.density === 'prominent' ? Number(props.extensionHeight) : 0) - (props.density === 'comfortable' ? 4 : 0) - (props.density === 'compact' ? 8 : 0), 10) : 0);\n    provideDefaults({\n      VBtn: {\n        variant: 'text'\n      }\n    });\n    useRender(() => {\n      const hasTitle = !!(props.title || slots.title);\n      const hasImage = !!(slots.image || props.image);\n      const extension = slots.extension?.();\n      isExtended.value = !!(props.extended || extension);\n      return _createVNode(props.tag, {\n        \"class\": ['v-toolbar', {\n          'v-toolbar--absolute': props.absolute,\n          'v-toolbar--collapse': props.collapse,\n          'v-toolbar--flat': props.flat,\n          'v-toolbar--floating': props.floating,\n          [`v-toolbar--density-${props.density}`]: true\n        }, backgroundColorClasses.value, borderClasses.value, elevationClasses.value, roundedClasses.value, themeClasses.value, rtlClasses.value, props.class],\n        \"style\": [backgroundColorStyles.value, props.style]\n      }, {\n        default: () => [hasImage && _createVNode(\"div\", {\n          \"key\": \"image\",\n          \"class\": \"v-toolbar__image\"\n        }, [!slots.image ? _createVNode(VImg, {\n          \"key\": \"image-img\",\n          \"cover\": true,\n          \"src\": props.image\n        }, null) : _createVNode(VDefaultsProvider, {\n          \"key\": \"image-defaults\",\n          \"disabled\": !props.image,\n          \"defaults\": {\n            VImg: {\n              cover: true,\n              src: props.image\n            }\n          }\n        }, slots.image)]), _createVNode(VDefaultsProvider, {\n          \"defaults\": {\n            VTabs: {\n              height: convertToUnit(contentHeight.value)\n            }\n          }\n        }, {\n          default: () => [_createVNode(\"div\", {\n            \"class\": \"v-toolbar__content\",\n            \"style\": {\n              height: convertToUnit(contentHeight.value)\n            }\n          }, [slots.prepend && _createVNode(\"div\", {\n            \"class\": \"v-toolbar__prepend\"\n          }, [slots.prepend?.()]), hasTitle && _createVNode(VToolbarTitle, {\n            \"key\": \"title\",\n            \"text\": props.title\n          }, {\n            text: slots.title\n          }), slots.default?.(), slots.append && _createVNode(\"div\", {\n            \"class\": \"v-toolbar__append\"\n          }, [slots.append?.()])])]\n        }), _createVNode(VDefaultsProvider, {\n          \"defaults\": {\n            VTabs: {\n              height: convertToUnit(extensionHeight.value)\n            }\n          }\n        }, {\n          default: () => [_createVNode(VExpandTransition, null, {\n            default: () => [isExtended.value && _createVNode(\"div\", {\n              \"class\": \"v-toolbar__extension\",\n              \"style\": {\n                height: convertToUnit(extensionHeight.value)\n              }\n            }, [extension])]\n          })]\n        })]\n      });\n    });\n    return {\n      contentHeight,\n      extensionHeight\n    };\n  }\n});\n//# sourceMappingURL=VToolbar.mjs.map","// Utilities\nimport { onBeforeUnmount, readonly, ref, watch } from 'vue';\nimport { templateRef } from \"../util/index.mjs\";\nimport { IN_BROWSER } from \"../util/globals.mjs\"; // Types\nexport function useResizeObserver(callback) {\n  let box = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'content';\n  const resizeRef = templateRef();\n  const contentRect = ref();\n  if (IN_BROWSER) {\n    const observer = new ResizeObserver(entries => {\n      callback?.(entries, observer);\n      if (!entries.length) return;\n      if (box === 'content') {\n        contentRect.value = entries[0].contentRect;\n      } else {\n        contentRect.value = entries[0].target.getBoundingClientRect();\n      }\n    });\n    onBeforeUnmount(() => {\n      observer.disconnect();\n    });\n    watch(() => resizeRef.el, (newValue, oldValue) => {\n      if (oldValue) {\n        observer.unobserve(oldValue);\n        contentRect.value = undefined;\n      }\n      if (newValue) observer.observe(newValue);\n    }, {\n      flush: 'post'\n    });\n  }\n  return {\n    resizeRef,\n    contentRect: readonly(contentRect)\n  };\n}\n//# sourceMappingURL=resizeObserver.mjs.map","// Composables\nimport { useResizeObserver } from \"./resizeObserver.mjs\"; // Utilities\nimport { computed, inject, onActivated, onBeforeUnmount, onDeactivated, onMounted, provide, reactive, ref, shallowRef } from 'vue';\nimport { convertToUnit, findChildrenWithProvide, getCurrentInstance, getUid, propsFactory } from \"../util/index.mjs\"; // Types\nexport const VuetifyLayoutKey = Symbol.for('vuetify:layout');\nexport const VuetifyLayoutItemKey = Symbol.for('vuetify:layout-item');\nconst ROOT_ZINDEX = 1000;\nexport const makeLayoutProps = propsFactory({\n  overlaps: {\n    type: Array,\n    default: () => []\n  },\n  fullHeight: Boolean\n}, 'layout');\n\n// Composables\nexport const makeLayoutItemProps = propsFactory({\n  name: {\n    type: String\n  },\n  order: {\n    type: [Number, String],\n    default: 0\n  },\n  absolute: Boolean\n}, 'layout-item');\nexport function useLayout() {\n  const layout = inject(VuetifyLayoutKey);\n  if (!layout) throw new Error('[Vuetify] Could not find injected layout');\n  return {\n    getLayoutItem: layout.getLayoutItem,\n    mainRect: layout.mainRect,\n    mainStyles: layout.mainStyles\n  };\n}\nexport function useLayoutItem(options) {\n  const layout = inject(VuetifyLayoutKey);\n  if (!layout) throw new Error('[Vuetify] Could not find injected layout');\n  const id = options.id ?? `layout-item-${getUid()}`;\n  const vm = getCurrentInstance('useLayoutItem');\n  provide(VuetifyLayoutItemKey, {\n    id\n  });\n  const isKeptAlive = shallowRef(false);\n  onDeactivated(() => isKeptAlive.value = true);\n  onActivated(() => isKeptAlive.value = false);\n  const {\n    layoutItemStyles,\n    layoutItemScrimStyles\n  } = layout.register(vm, {\n    ...options,\n    active: computed(() => isKeptAlive.value ? false : options.active.value),\n    id\n  });\n  onBeforeUnmount(() => layout.unregister(id));\n  return {\n    layoutItemStyles,\n    layoutRect: layout.layoutRect,\n    layoutItemScrimStyles\n  };\n}\nconst generateLayers = (layout, positions, layoutSizes, activeItems) => {\n  let previousLayer = {\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0\n  };\n  const layers = [{\n    id: '',\n    layer: {\n      ...previousLayer\n    }\n  }];\n  for (const id of layout) {\n    const position = positions.get(id);\n    const amount = layoutSizes.get(id);\n    const active = activeItems.get(id);\n    if (!position || !amount || !active) continue;\n    const layer = {\n      ...previousLayer,\n      [position.value]: parseInt(previousLayer[position.value], 10) + (active.value ? parseInt(amount.value, 10) : 0)\n    };\n    layers.push({\n      id,\n      layer\n    });\n    previousLayer = layer;\n  }\n  return layers;\n};\nexport function createLayout(props) {\n  const parentLayout = inject(VuetifyLayoutKey, null);\n  const rootZIndex = computed(() => parentLayout ? parentLayout.rootZIndex.value - 100 : ROOT_ZINDEX);\n  const registered = ref([]);\n  const positions = reactive(new Map());\n  const layoutSizes = reactive(new Map());\n  const priorities = reactive(new Map());\n  const activeItems = reactive(new Map());\n  const disabledTransitions = reactive(new Map());\n  const {\n    resizeRef,\n    contentRect: layoutRect\n  } = useResizeObserver();\n  const computedOverlaps = computed(() => {\n    const map = new Map();\n    const overlaps = props.overlaps ?? [];\n    for (const overlap of overlaps.filter(item => item.includes(':'))) {\n      const [top, bottom] = overlap.split(':');\n      if (!registered.value.includes(top) || !registered.value.includes(bottom)) continue;\n      const topPosition = positions.get(top);\n      const bottomPosition = positions.get(bottom);\n      const topAmount = layoutSizes.get(top);\n      const bottomAmount = layoutSizes.get(bottom);\n      if (!topPosition || !bottomPosition || !topAmount || !bottomAmount) continue;\n      map.set(bottom, {\n        position: topPosition.value,\n        amount: parseInt(topAmount.value, 10)\n      });\n      map.set(top, {\n        position: bottomPosition.value,\n        amount: -parseInt(bottomAmount.value, 10)\n      });\n    }\n    return map;\n  });\n  const layers = computed(() => {\n    const uniquePriorities = [...new Set([...priorities.values()].map(p => p.value))].sort((a, b) => a - b);\n    const layout = [];\n    for (const p of uniquePriorities) {\n      const items = registered.value.filter(id => priorities.get(id)?.value === p);\n      layout.push(...items);\n    }\n    return generateLayers(layout, positions, layoutSizes, activeItems);\n  });\n  const transitionsEnabled = computed(() => {\n    return !Array.from(disabledTransitions.values()).some(ref => ref.value);\n  });\n  const mainRect = computed(() => {\n    return layers.value[layers.value.length - 1].layer;\n  });\n  const mainStyles = computed(() => {\n    return {\n      '--v-layout-left': convertToUnit(mainRect.value.left),\n      '--v-layout-right': convertToUnit(mainRect.value.right),\n      '--v-layout-top': convertToUnit(mainRect.value.top),\n      '--v-layout-bottom': convertToUnit(mainRect.value.bottom),\n      ...(transitionsEnabled.value ? undefined : {\n        transition: 'none'\n      })\n    };\n  });\n  const items = computed(() => {\n    return layers.value.slice(1).map((_ref, index) => {\n      let {\n        id\n      } = _ref;\n      const {\n        layer\n      } = layers.value[index];\n      const size = layoutSizes.get(id);\n      const position = positions.get(id);\n      return {\n        id,\n        ...layer,\n        size: Number(size.value),\n        position: position.value\n      };\n    });\n  });\n  const getLayoutItem = id => {\n    return items.value.find(item => item.id === id);\n  };\n  const rootVm = getCurrentInstance('createLayout');\n  const isMounted = shallowRef(false);\n  onMounted(() => {\n    isMounted.value = true;\n  });\n  provide(VuetifyLayoutKey, {\n    register: (vm, _ref2) => {\n      let {\n        id,\n        order,\n        position,\n        layoutSize,\n        elementSize,\n        active,\n        disableTransitions,\n        absolute\n      } = _ref2;\n      priorities.set(id, order);\n      positions.set(id, position);\n      layoutSizes.set(id, layoutSize);\n      activeItems.set(id, active);\n      disableTransitions && disabledTransitions.set(id, disableTransitions);\n      const instances = findChildrenWithProvide(VuetifyLayoutItemKey, rootVm?.vnode);\n      const instanceIndex = instances.indexOf(vm);\n      if (instanceIndex > -1) registered.value.splice(instanceIndex, 0, id);else registered.value.push(id);\n      const index = computed(() => items.value.findIndex(i => i.id === id));\n      const zIndex = computed(() => rootZIndex.value + layers.value.length * 2 - index.value * 2);\n      const layoutItemStyles = computed(() => {\n        const isHorizontal = position.value === 'left' || position.value === 'right';\n        const isOppositeHorizontal = position.value === 'right';\n        const isOppositeVertical = position.value === 'bottom';\n        const size = elementSize.value ?? layoutSize.value;\n        const unit = size === 0 ? '%' : 'px';\n        const styles = {\n          [position.value]: 0,\n          zIndex: zIndex.value,\n          transform: `translate${isHorizontal ? 'X' : 'Y'}(${(active.value ? 0 : -(size === 0 ? 100 : size)) * (isOppositeHorizontal || isOppositeVertical ? -1 : 1)}${unit})`,\n          position: absolute.value || rootZIndex.value !== ROOT_ZINDEX ? 'absolute' : 'fixed',\n          ...(transitionsEnabled.value ? undefined : {\n            transition: 'none'\n          })\n        };\n        if (!isMounted.value) return styles;\n        const item = items.value[index.value];\n        if (!item) throw new Error(`[Vuetify] Could not find layout item \"${id}\"`);\n        const overlap = computedOverlaps.value.get(id);\n        if (overlap) {\n          item[overlap.position] += overlap.amount;\n        }\n        return {\n          ...styles,\n          height: isHorizontal ? `calc(100% - ${item.top}px - ${item.bottom}px)` : elementSize.value ? `${elementSize.value}px` : undefined,\n          left: isOppositeHorizontal ? undefined : `${item.left}px`,\n          right: isOppositeHorizontal ? `${item.right}px` : undefined,\n          top: position.value !== 'bottom' ? `${item.top}px` : undefined,\n          bottom: position.value !== 'top' ? `${item.bottom}px` : undefined,\n          width: !isHorizontal ? `calc(100% - ${item.left}px - ${item.right}px)` : elementSize.value ? `${elementSize.value}px` : undefined\n        };\n      });\n      const layoutItemScrimStyles = computed(() => ({\n        zIndex: zIndex.value - 1\n      }));\n      return {\n        layoutItemStyles,\n        layoutItemScrimStyles,\n        zIndex\n      };\n    },\n    unregister: id => {\n      priorities.delete(id);\n      positions.delete(id);\n      layoutSizes.delete(id);\n      activeItems.delete(id);\n      disabledTransitions.delete(id);\n      registered.value = registered.value.filter(v => v !== id);\n    },\n    mainRect,\n    mainStyles,\n    getLayoutItem,\n    items,\n    layoutRect,\n    rootZIndex\n  });\n  const layoutClasses = computed(() => ['v-layout', {\n    'v-layout--full-height': props.fullHeight\n  }]);\n  const layoutStyles = computed(() => ({\n    zIndex: parentLayout ? rootZIndex.value : undefined,\n    position: parentLayout ? 'relative' : undefined,\n    overflow: parentLayout ? 'hidden' : undefined\n  }));\n  return {\n    layoutClasses,\n    layoutStyles,\n    getLayoutItem,\n    items,\n    layoutRect,\n    layoutRef: resizeRef\n  };\n}\n//# sourceMappingURL=layout.mjs.map","// Utilities\nimport { computed, onBeforeUnmount, onMounted, ref, shallowRef, watch } from 'vue';\nimport { clamp, consoleWarn, propsFactory } from \"../util/index.mjs\"; // Types\n// Composables\nexport const makeScrollProps = propsFactory({\n  scrollTarget: {\n    type: String\n  },\n  scrollThreshold: {\n    type: [String, Number],\n    default: 300\n  }\n}, 'scroll');\nexport function useScroll(props) {\n  let args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n    canScroll\n  } = args;\n  let previousScroll = 0;\n  let previousScrollHeight = 0;\n  const target = ref(null);\n  const currentScroll = shallowRef(0);\n  const savedScroll = shallowRef(0);\n  const currentThreshold = shallowRef(0);\n  const isScrollActive = shallowRef(false);\n  const isScrollingUp = shallowRef(false);\n  const scrollThreshold = computed(() => {\n    return Number(props.scrollThreshold);\n  });\n\n  /**\n   * 1: at top\n   * 0: at threshold\n   */\n  const scrollRatio = computed(() => {\n    return clamp((scrollThreshold.value - currentScroll.value) / scrollThreshold.value || 0);\n  });\n  const onScroll = () => {\n    const targetEl = target.value;\n    if (!targetEl || canScroll && !canScroll.value) return;\n    previousScroll = currentScroll.value;\n    currentScroll.value = 'window' in targetEl ? targetEl.pageYOffset : targetEl.scrollTop;\n    const currentScrollHeight = targetEl instanceof Window ? document.documentElement.scrollHeight : targetEl.scrollHeight;\n    if (previousScrollHeight !== currentScrollHeight) {\n      previousScrollHeight = currentScrollHeight;\n      return;\n    }\n    isScrollingUp.value = currentScroll.value < previousScroll;\n    currentThreshold.value = Math.abs(currentScroll.value - scrollThreshold.value);\n  };\n  watch(isScrollingUp, () => {\n    savedScroll.value = savedScroll.value || currentScroll.value;\n  });\n  watch(isScrollActive, () => {\n    savedScroll.value = 0;\n  });\n  onMounted(() => {\n    watch(() => props.scrollTarget, scrollTarget => {\n      const newTarget = scrollTarget ? document.querySelector(scrollTarget) : window;\n      if (!newTarget) {\n        consoleWarn(`Unable to locate element with identifier ${scrollTarget}`);\n        return;\n      }\n      if (newTarget === target.value) return;\n      target.value?.removeEventListener('scroll', onScroll);\n      target.value = newTarget;\n      target.value.addEventListener('scroll', onScroll, {\n        passive: true\n      });\n    }, {\n      immediate: true\n    });\n  });\n  onBeforeUnmount(() => {\n    target.value?.removeEventListener('scroll', onScroll);\n  });\n\n  // Do we need this? If yes - seems that\n  // there's no need to expose onScroll\n  canScroll && watch(canScroll, onScroll, {\n    immediate: true\n  });\n  return {\n    scrollThreshold,\n    currentScroll,\n    currentThreshold,\n    isScrollActive,\n    scrollRatio,\n    // required only for testing\n    // probably can be removed\n    // later (2 chars chlng)\n    isScrollingUp,\n    savedScroll\n  };\n}\n//# sourceMappingURL=scroll.mjs.map","// Utilities\nimport { computed, onMounted, readonly, shallowRef } from 'vue';\n\n// Composables\nexport function useSsrBoot() {\n  const isBooted = shallowRef(false);\n  onMounted(() => {\n    window.requestAnimationFrame(() => {\n      isBooted.value = true;\n    });\n  });\n  const ssrBootStyles = computed(() => !isBooted.value ? {\n    transition: 'none !important'\n  } : undefined);\n  return {\n    ssrBootStyles,\n    isBooted: readonly(isBooted)\n  };\n}\n//# sourceMappingURL=ssrBoot.mjs.map","import { createVNode as _createVNode, mergeProps as _mergeProps, resolveDirective as _resolveDirective } from \"vue\";\n// Styles\nimport \"./VAppBar.css\";\n\n// Components\nimport { makeVToolbarProps, VToolbar } from \"../VToolbar/VToolbar.mjs\"; // Composables\nimport { makeLayoutItemProps, useLayoutItem } from \"../../composables/layout.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\";\nimport { makeScrollProps, useScroll } from \"../../composables/scroll.mjs\";\nimport { useSsrBoot } from \"../../composables/ssrBoot.mjs\";\nimport { useToggleScope } from \"../../composables/toggleScope.mjs\"; // Utilities\nimport { computed, ref, shallowRef, toRef, watchEffect } from 'vue';\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nexport const makeVAppBarProps = propsFactory({\n  scrollBehavior: String,\n  modelValue: {\n    type: Boolean,\n    default: true\n  },\n  location: {\n    type: String,\n    default: 'top',\n    validator: value => ['top', 'bottom'].includes(value)\n  },\n  ...makeVToolbarProps(),\n  ...makeLayoutItemProps(),\n  ...makeScrollProps(),\n  height: {\n    type: [Number, String],\n    default: 64\n  }\n}, 'VAppBar');\nexport const VAppBar = genericComponent()({\n  name: 'VAppBar',\n  props: makeVAppBarProps(),\n  emits: {\n    'update:modelValue': value => true\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const vToolbarRef = ref();\n    const isActive = useProxiedModel(props, 'modelValue');\n    const scrollBehavior = computed(() => {\n      const behavior = new Set(props.scrollBehavior?.split(' ') ?? []);\n      return {\n        hide: behavior.has('hide'),\n        fullyHide: behavior.has('fully-hide'),\n        inverted: behavior.has('inverted'),\n        collapse: behavior.has('collapse'),\n        elevate: behavior.has('elevate'),\n        fadeImage: behavior.has('fade-image')\n        // shrink: behavior.has('shrink'),\n      };\n    });\n    const canScroll = computed(() => {\n      const behavior = scrollBehavior.value;\n      return behavior.hide || behavior.fullyHide || behavior.inverted || behavior.collapse || behavior.elevate || behavior.fadeImage ||\n      // behavior.shrink ||\n      !isActive.value;\n    });\n    const {\n      currentScroll,\n      scrollThreshold,\n      isScrollingUp,\n      scrollRatio\n    } = useScroll(props, {\n      canScroll\n    });\n    const canHide = computed(() => scrollBehavior.value.hide || scrollBehavior.value.fullyHide);\n    const isCollapsed = computed(() => props.collapse || scrollBehavior.value.collapse && (scrollBehavior.value.inverted ? scrollRatio.value > 0 : scrollRatio.value === 0));\n    const isFlat = computed(() => props.flat || scrollBehavior.value.fullyHide && !isActive.value || scrollBehavior.value.elevate && (scrollBehavior.value.inverted ? currentScroll.value > 0 : currentScroll.value === 0));\n    const opacity = computed(() => scrollBehavior.value.fadeImage ? scrollBehavior.value.inverted ? 1 - scrollRatio.value : scrollRatio.value : undefined);\n    const height = computed(() => {\n      if (scrollBehavior.value.hide && scrollBehavior.value.inverted) return 0;\n      const height = vToolbarRef.value?.contentHeight ?? 0;\n      const extensionHeight = vToolbarRef.value?.extensionHeight ?? 0;\n      if (!canHide.value) return height + extensionHeight;\n      return currentScroll.value < scrollThreshold.value || scrollBehavior.value.fullyHide ? height + extensionHeight : height;\n    });\n    useToggleScope(computed(() => !!props.scrollBehavior), () => {\n      watchEffect(() => {\n        if (canHide.value) {\n          if (scrollBehavior.value.inverted) {\n            isActive.value = currentScroll.value > scrollThreshold.value;\n          } else {\n            isActive.value = isScrollingUp.value || currentScroll.value < scrollThreshold.value;\n          }\n        } else {\n          isActive.value = true;\n        }\n      });\n    });\n    const {\n      ssrBootStyles\n    } = useSsrBoot();\n    const {\n      layoutItemStyles\n    } = useLayoutItem({\n      id: props.name,\n      order: computed(() => parseInt(props.order, 10)),\n      position: toRef(props, 'location'),\n      layoutSize: height,\n      elementSize: shallowRef(undefined),\n      active: isActive,\n      absolute: toRef(props, 'absolute')\n    });\n    useRender(() => {\n      const toolbarProps = VToolbar.filterProps(props);\n      return _createVNode(VToolbar, _mergeProps({\n        \"ref\": vToolbarRef,\n        \"class\": ['v-app-bar', {\n          'v-app-bar--bottom': props.location === 'bottom'\n        }, props.class],\n        \"style\": [{\n          ...layoutItemStyles.value,\n          '--v-toolbar-image-opacity': opacity.value,\n          height: undefined,\n          ...ssrBootStyles.value\n        }, props.style]\n      }, toolbarProps, {\n        \"collapse\": isCollapsed.value,\n        \"flat\": isFlat.value\n      }), slots);\n    });\n    return {};\n  }\n});\n//# sourceMappingURL=VAppBar.mjs.map","// Utilities\nimport { computed } from 'vue';\nimport { getCurrentInstanceName, propsFactory } from \"../util/index.mjs\"; // Types\nconst allowedDensities = [null, 'default', 'comfortable', 'compact'];\n\n// typeof allowedDensities[number] evalutes to any\n// when generating api types for whatever reason.\n\n// Composables\nexport const makeDensityProps = propsFactory({\n  density: {\n    type: String,\n    default: 'default',\n    validator: v => allowedDensities.includes(v)\n  }\n}, 'density');\nexport function useDensity(props) {\n  let name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getCurrentInstanceName();\n  const densityClasses = computed(() => {\n    return `${name}--density-${props.density}`;\n  });\n  return {\n    densityClasses\n  };\n}\n//# sourceMappingURL=density.mjs.map","import { createVNode as _createVNode, Fragment as _Fragment } from \"vue\";\n// Composables\nimport { useColor } from \"./color.mjs\"; // Utilities\nimport { computed, unref } from 'vue';\nimport { getCurrentInstanceName, propsFactory } from \"../util/index.mjs\"; // Types\nexport const allowedVariants = ['elevated', 'flat', 'tonal', 'outlined', 'text', 'plain'];\nexport function genOverlays(isClickable, name) {\n  return _createVNode(_Fragment, null, [isClickable && _createVNode(\"span\", {\n    \"key\": \"overlay\",\n    \"class\": `${name}__overlay`\n  }, null), _createVNode(\"span\", {\n    \"key\": \"underlay\",\n    \"class\": `${name}__underlay`\n  }, null)]);\n}\nexport const makeVariantProps = propsFactory({\n  color: String,\n  variant: {\n    type: String,\n    default: 'elevated',\n    validator: v => allowedVariants.includes(v)\n  }\n}, 'variant');\nexport function useVariant(props) {\n  let name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getCurrentInstanceName();\n  const variantClasses = computed(() => {\n    const {\n      variant\n    } = unref(props);\n    return `${name}--variant-${variant}`;\n  });\n  const {\n    colorClasses,\n    colorStyles\n  } = useColor(computed(() => {\n    const {\n      variant,\n      color\n    } = unref(props);\n    return {\n      [['elevated', 'flat'].includes(variant) ? 'background' : 'text']: color\n    };\n  }));\n  return {\n    colorClasses,\n    colorStyles,\n    variantClasses\n  };\n}\n//# sourceMappingURL=variant.mjs.map","import { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\n// Styles\nimport \"./VBtnGroup.css\";\n\n// Composables\nimport { makeBorderProps, useBorder } from \"../../composables/border.mjs\";\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { provideDefaults } from \"../../composables/defaults.mjs\";\nimport { makeDensityProps, useDensity } from \"../../composables/density.mjs\";\nimport { makeElevationProps, useElevation } from \"../../composables/elevation.mjs\";\nimport { makeRoundedProps, useRounded } from \"../../composables/rounded.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.mjs\";\nimport { makeVariantProps } from \"../../composables/variant.mjs\"; // Utilities\nimport { toRef } from 'vue';\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.mjs\";\nexport const makeVBtnGroupProps = propsFactory({\n  baseColor: String,\n  divided: Boolean,\n  ...makeBorderProps(),\n  ...makeComponentProps(),\n  ...makeDensityProps(),\n  ...makeElevationProps(),\n  ...makeRoundedProps(),\n  ...makeTagProps(),\n  ...makeThemeProps(),\n  ...makeVariantProps()\n}, 'VBtnGroup');\nexport const VBtnGroup = genericComponent()({\n  name: 'VBtnGroup',\n  props: makeVBtnGroupProps(),\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const {\n      themeClasses\n    } = provideTheme(props);\n    const {\n      densityClasses\n    } = useDensity(props);\n    const {\n      borderClasses\n    } = useBorder(props);\n    const {\n      elevationClasses\n    } = useElevation(props);\n    const {\n      roundedClasses\n    } = useRounded(props);\n    provideDefaults({\n      VBtn: {\n        height: 'auto',\n        baseColor: toRef(props, 'baseColor'),\n        color: toRef(props, 'color'),\n        density: toRef(props, 'density'),\n        flat: true,\n        variant: toRef(props, 'variant')\n      }\n    });\n    useRender(() => {\n      return _createVNode(props.tag, {\n        \"class\": ['v-btn-group', {\n          'v-btn-group--divided': props.divided\n        }, themeClasses.value, borderClasses.value, densityClasses.value, elevationClasses.value, roundedClasses.value, props.class],\n        \"style\": props.style\n      }, slots);\n    });\n  }\n});\n//# sourceMappingURL=VBtnGroup.mjs.map","// Composables\nimport { useProxiedModel } from \"./proxiedModel.mjs\"; // Utilities\nimport { computed, inject, onBeforeUnmount, onMounted, onUpdated, provide, reactive, toRef, unref, watch } from 'vue';\nimport { consoleWarn, deepEqual, findChildrenWithProvide, getCurrentInstance, getUid, propsFactory, wrapInArray } from \"../util/index.mjs\"; // Types\nexport const makeGroupProps = propsFactory({\n  modelValue: {\n    type: null,\n    default: undefined\n  },\n  multiple: Boolean,\n  mandatory: [Boolean, String],\n  max: Number,\n  selectedClass: String,\n  disabled: Boolean\n}, 'group');\nexport const makeGroupItemProps = propsFactory({\n  value: null,\n  disabled: Boolean,\n  selectedClass: String\n}, 'group-item');\n\n// Composables\n\nexport function useGroupItem(props, injectKey) {\n  let required = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  const vm = getCurrentInstance('useGroupItem');\n  if (!vm) {\n    throw new Error('[Vuetify] useGroupItem composable must be used inside a component setup function');\n  }\n  const id = getUid();\n  provide(Symbol.for(`${injectKey.description}:id`), id);\n  const group = inject(injectKey, null);\n  if (!group) {\n    if (!required) return group;\n    throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${injectKey.description}`);\n  }\n  const value = toRef(props, 'value');\n  const disabled = computed(() => !!(group.disabled.value || props.disabled));\n  group.register({\n    id,\n    value,\n    disabled\n  }, vm);\n  onBeforeUnmount(() => {\n    group.unregister(id);\n  });\n  const isSelected = computed(() => {\n    return group.isSelected(id);\n  });\n  const isFirst = computed(() => {\n    return group.items.value[0].id === id;\n  });\n  const isLast = computed(() => {\n    return group.items.value[group.items.value.length - 1].id === id;\n  });\n  const selectedClass = computed(() => isSelected.value && [group.selectedClass.value, props.selectedClass]);\n  watch(isSelected, value => {\n    vm.emit('group:selected', {\n      value\n    });\n  }, {\n    flush: 'sync'\n  });\n  return {\n    id,\n    isSelected,\n    isFirst,\n    isLast,\n    toggle: () => group.select(id, !isSelected.value),\n    select: value => group.select(id, value),\n    selectedClass,\n    value,\n    disabled,\n    group\n  };\n}\nexport function useGroup(props, injectKey) {\n  let isUnmounted = false;\n  const items = reactive([]);\n  const selected = useProxiedModel(props, 'modelValue', [], v => {\n    if (v == null) return [];\n    return getIds(items, wrapInArray(v));\n  }, v => {\n    const arr = getValues(items, v);\n    return props.multiple ? arr : arr[0];\n  });\n  const groupVm = getCurrentInstance('useGroup');\n  function register(item, vm) {\n    // Is there a better way to fix this typing?\n    const unwrapped = item;\n    const key = Symbol.for(`${injectKey.description}:id`);\n    const children = findChildrenWithProvide(key, groupVm?.vnode);\n    const index = children.indexOf(vm);\n    if (unref(unwrapped.value) == null) {\n      unwrapped.value = index;\n      unwrapped.useIndexAsValue = true;\n    }\n    if (index > -1) {\n      items.splice(index, 0, unwrapped);\n    } else {\n      items.push(unwrapped);\n    }\n  }\n  function unregister(id) {\n    if (isUnmounted) return;\n\n    // TODO: re-evaluate this line's importance in the future\n    // should we only modify the model if mandatory is set.\n    // selected.value = selected.value.filter(v => v !== id)\n\n    forceMandatoryValue();\n    const index = items.findIndex(item => item.id === id);\n    items.splice(index, 1);\n  }\n\n  // If mandatory and nothing is selected, then select first non-disabled item\n  function forceMandatoryValue() {\n    const item = items.find(item => !item.disabled);\n    if (item && props.mandatory === 'force' && !selected.value.length) {\n      selected.value = [item.id];\n    }\n  }\n  onMounted(() => {\n    forceMandatoryValue();\n  });\n  onBeforeUnmount(() => {\n    isUnmounted = true;\n  });\n  onUpdated(() => {\n    // #19655 update the items that use the index as the value.\n    for (let i = 0; i < items.length; i++) {\n      if (items[i].useIndexAsValue) {\n        items[i].value = i;\n      }\n    }\n  });\n  function select(id, value) {\n    const item = items.find(item => item.id === id);\n    if (value && item?.disabled) return;\n    if (props.multiple) {\n      const internalValue = selected.value.slice();\n      const index = internalValue.findIndex(v => v === id);\n      const isSelected = ~index;\n      value = value ?? !isSelected;\n\n      // We can't remove value if group is\n      // mandatory, value already exists,\n      // and it is the only value\n      if (isSelected && props.mandatory && internalValue.length <= 1) return;\n\n      // We can't add value if it would\n      // cause max limit to be exceeded\n      if (!isSelected && props.max != null && internalValue.length + 1 > props.max) return;\n      if (index < 0 && value) internalValue.push(id);else if (index >= 0 && !value) internalValue.splice(index, 1);\n      selected.value = internalValue;\n    } else {\n      const isSelected = selected.value.includes(id);\n      if (props.mandatory && isSelected) return;\n      selected.value = value ?? !isSelected ? [id] : [];\n    }\n  }\n  function step(offset) {\n    // getting an offset from selected value obviously won't work with multiple values\n    if (props.multiple) consoleWarn('This method is not supported when using \"multiple\" prop');\n    if (!selected.value.length) {\n      const item = items.find(item => !item.disabled);\n      item && (selected.value = [item.id]);\n    } else {\n      const currentId = selected.value[0];\n      const currentIndex = items.findIndex(i => i.id === currentId);\n      let newIndex = (currentIndex + offset) % items.length;\n      let newItem = items[newIndex];\n      while (newItem.disabled && newIndex !== currentIndex) {\n        newIndex = (newIndex + offset) % items.length;\n        newItem = items[newIndex];\n      }\n      if (newItem.disabled) return;\n      selected.value = [items[newIndex].id];\n    }\n  }\n  const state = {\n    register,\n    unregister,\n    selected,\n    select,\n    disabled: toRef(props, 'disabled'),\n    prev: () => step(items.length - 1),\n    next: () => step(1),\n    isSelected: id => selected.value.includes(id),\n    selectedClass: computed(() => props.selectedClass),\n    items: computed(() => items),\n    getItemIndex: value => getItemIndex(items, value)\n  };\n  provide(injectKey, state);\n  return state;\n}\nfunction getItemIndex(items, value) {\n  const ids = getIds(items, [value]);\n  if (!ids.length) return -1;\n  return items.findIndex(item => item.id === ids[0]);\n}\nfunction getIds(items, modelValue) {\n  const ids = [];\n  modelValue.forEach(value => {\n    const item = items.find(item => deepEqual(value, item.value));\n    const itemByIndex = items[value];\n    if (item?.value != null) {\n      ids.push(item.id);\n    } else if (itemByIndex != null) {\n      ids.push(itemByIndex.id);\n    }\n  });\n  return ids;\n}\nfunction getValues(items, ids) {\n  const values = [];\n  ids.forEach(id => {\n    const itemIndex = items.findIndex(item => item.id === id);\n    if (~itemIndex) {\n      const item = items[itemIndex];\n      values.push(item.value != null ? item.value : itemIndex);\n    }\n  });\n  return values;\n}\n//# sourceMappingURL=group.mjs.map","import { createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\n// Styles\nimport \"./VBtnToggle.css\";\n\n// Components\nimport { makeVBtnGroupProps, VBtnGroup } from \"../VBtnGroup/VBtnGroup.mjs\"; // Composables\nimport { makeGroupProps, useGroup } from \"../../composables/group.mjs\"; // Utilities\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nexport const VBtnToggleSymbol = Symbol.for('vuetify:v-btn-toggle');\nexport const makeVBtnToggleProps = propsFactory({\n  ...makeVBtnGroupProps(),\n  ...makeGroupProps()\n}, 'VBtnToggle');\nexport const VBtnToggle = genericComponent()({\n  name: 'VBtnToggle',\n  props: makeVBtnToggleProps(),\n  emits: {\n    'update:modelValue': value => true\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const {\n      isSelected,\n      next,\n      prev,\n      select,\n      selected\n    } = useGroup(props, VBtnToggleSymbol);\n    useRender(() => {\n      const btnGroupProps = VBtnGroup.filterProps(props);\n      return _createVNode(VBtnGroup, _mergeProps({\n        \"class\": ['v-btn-toggle', props.class]\n      }, btnGroupProps, {\n        \"style\": props.style\n      }), {\n        default: () => [slots.default?.({\n          isSelected,\n          next,\n          prev,\n          select,\n          selected\n        })]\n      });\n    });\n    return {\n      next,\n      prev,\n      select\n    };\n  }\n});\n//# sourceMappingURL=VBtnToggle.mjs.map","// Composables\nimport { VClassIcon } from \"../composables/icons.mjs\"; // Utilities\nimport { h } from 'vue';\n\n// Types\n\nconst aliases = {\n  collapse: 'mdi-chevron-up',\n  complete: 'mdi-check',\n  cancel: 'mdi-close-circle',\n  close: 'mdi-close',\n  delete: 'mdi-close-circle',\n  // delete (e.g. v-chip close)\n  clear: 'mdi-close-circle',\n  success: 'mdi-check-circle',\n  info: 'mdi-information',\n  warning: 'mdi-alert-circle',\n  error: 'mdi-close-circle',\n  prev: 'mdi-chevron-left',\n  next: 'mdi-chevron-right',\n  checkboxOn: 'mdi-checkbox-marked',\n  checkboxOff: 'mdi-checkbox-blank-outline',\n  checkboxIndeterminate: 'mdi-minus-box',\n  delimiter: 'mdi-circle',\n  // for carousel\n  sortAsc: 'mdi-arrow-up',\n  sortDesc: 'mdi-arrow-down',\n  expand: 'mdi-chevron-down',\n  menu: 'mdi-menu',\n  subgroup: 'mdi-menu-down',\n  dropdown: 'mdi-menu-down',\n  radioOn: 'mdi-radiobox-marked',\n  radioOff: 'mdi-radiobox-blank',\n  edit: 'mdi-pencil',\n  ratingEmpty: 'mdi-star-outline',\n  ratingFull: 'mdi-star',\n  ratingHalf: 'mdi-star-half-full',\n  loading: 'mdi-cached',\n  first: 'mdi-page-first',\n  last: 'mdi-page-last',\n  unfold: 'mdi-unfold-more-horizontal',\n  file: 'mdi-paperclip',\n  plus: 'mdi-plus',\n  minus: 'mdi-minus',\n  calendar: 'mdi-calendar',\n  treeviewCollapse: 'mdi-menu-down',\n  treeviewExpand: 'mdi-menu-right',\n  eyeDropper: 'mdi-eyedropper',\n  upload: 'mdi-cloud-upload'\n};\nconst mdi = {\n  // Not using mergeProps here, functional components merge props by default (?)\n  component: props => h(VClassIcon, {\n    ...props,\n    class: 'mdi'\n  })\n};\nexport { aliases, mdi };\n//# sourceMappingURL=mdi.mjs.map","import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\n// Icons\nimport { aliases, mdi } from \"../iconsets/mdi.mjs\"; // Utilities\nimport { computed, inject, unref } from 'vue';\nimport { consoleWarn, defineComponent, genericComponent, mergeDeep, propsFactory } from \"../util/index.mjs\"; // Types\nexport const IconValue = [String, Function, Object, Array];\nexport const IconSymbol = Symbol.for('vuetify:icons');\nexport const makeIconProps = propsFactory({\n  icon: {\n    type: IconValue\n  },\n  // Could not remove this and use makeTagProps, types complained because it is not required\n  tag: {\n    type: String,\n    required: true\n  }\n}, 'icon');\nexport const VComponentIcon = genericComponent()({\n  name: 'VComponentIcon',\n  props: makeIconProps(),\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    return () => {\n      const Icon = props.icon;\n      return _createVNode(props.tag, null, {\n        default: () => [props.icon ? _createVNode(Icon, null, null) : slots.default?.()]\n      });\n    };\n  }\n});\nexport const VSvgIcon = defineComponent({\n  name: 'VSvgIcon',\n  inheritAttrs: false,\n  props: makeIconProps(),\n  setup(props, _ref2) {\n    let {\n      attrs\n    } = _ref2;\n    return () => {\n      return _createVNode(props.tag, _mergeProps(attrs, {\n        \"style\": null\n      }), {\n        default: () => [_createVNode(\"svg\", {\n          \"class\": \"v-icon__svg\",\n          \"xmlns\": \"http://www.w3.org/2000/svg\",\n          \"viewBox\": \"0 0 24 24\",\n          \"role\": \"img\",\n          \"aria-hidden\": \"true\"\n        }, [Array.isArray(props.icon) ? props.icon.map(path => Array.isArray(path) ? _createVNode(\"path\", {\n          \"d\": path[0],\n          \"fill-opacity\": path[1]\n        }, null) : _createVNode(\"path\", {\n          \"d\": path\n        }, null)) : _createVNode(\"path\", {\n          \"d\": props.icon\n        }, null)])]\n      });\n    };\n  }\n});\nexport const VLigatureIcon = defineComponent({\n  name: 'VLigatureIcon',\n  props: makeIconProps(),\n  setup(props) {\n    return () => {\n      return _createVNode(props.tag, null, {\n        default: () => [props.icon]\n      });\n    };\n  }\n});\nexport const VClassIcon = defineComponent({\n  name: 'VClassIcon',\n  props: makeIconProps(),\n  setup(props) {\n    return () => {\n      return _createVNode(props.tag, {\n        \"class\": props.icon\n      }, null);\n    };\n  }\n});\nfunction genDefaults() {\n  return {\n    svg: {\n      component: VSvgIcon\n    },\n    class: {\n      component: VClassIcon\n    }\n  };\n}\n\n// Composables\nexport function createIcons(options) {\n  const sets = genDefaults();\n  const defaultSet = options?.defaultSet ?? 'mdi';\n  if (defaultSet === 'mdi' && !sets.mdi) {\n    sets.mdi = mdi;\n  }\n  return mergeDeep({\n    defaultSet,\n    sets,\n    aliases: {\n      ...aliases,\n      /* eslint-disable max-len */\n      vuetify: ['M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z', ['M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z', 0.6]],\n      'vuetify-outline': 'svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z',\n      'vuetify-play': ['m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z', ['M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z', 0.6]]\n      /* eslint-enable max-len */\n    }\n  }, options);\n}\nexport const useIcon = props => {\n  const icons = inject(IconSymbol);\n  if (!icons) throw new Error('Missing Vuetify Icons provide!');\n  const iconData = computed(() => {\n    const iconAlias = unref(props);\n    if (!iconAlias) return {\n      component: VComponentIcon\n    };\n    let icon = iconAlias;\n    if (typeof icon === 'string') {\n      icon = icon.trim();\n      if (icon.startsWith('$')) {\n        icon = icons.aliases?.[icon.slice(1)];\n      }\n    }\n    if (!icon) consoleWarn(`Could not find aliased icon \"${iconAlias}\"`);\n    if (Array.isArray(icon)) {\n      return {\n        component: VSvgIcon,\n        icon\n      };\n    } else if (typeof icon !== 'string') {\n      return {\n        component: VComponentIcon,\n        icon\n      };\n    }\n    const iconSetName = Object.keys(icons.sets).find(setName => typeof icon === 'string' && icon.startsWith(`${setName}:`));\n    const iconName = iconSetName ? icon.slice(iconSetName.length + 1) : icon;\n    const iconSet = icons.sets[iconSetName ?? icons.defaultSet];\n    return {\n      component: iconSet.component,\n      icon: iconName\n    };\n  });\n  return {\n    iconData\n  };\n};\n//# sourceMappingURL=icons.mjs.map","// Utilities\nimport { convertToUnit, destructComputed, getCurrentInstanceName, includes, propsFactory } from \"../util/index.mjs\"; // Types\nconst predefinedSizes = ['x-small', 'small', 'default', 'large', 'x-large'];\n// Composables\nexport const makeSizeProps = propsFactory({\n  size: {\n    type: [String, Number],\n    default: 'default'\n  }\n}, 'size');\nexport function useSize(props) {\n  let name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getCurrentInstanceName();\n  return destructComputed(() => {\n    let sizeClasses;\n    let sizeStyles;\n    if (includes(predefinedSizes, props.size)) {\n      sizeClasses = `${name}--size-${props.size}`;\n    } else if (props.size) {\n      sizeStyles = {\n        width: convertToUnit(props.size),\n        height: convertToUnit(props.size)\n      };\n    }\n    return {\n      sizeClasses,\n      sizeStyles\n    };\n  });\n}\n//# sourceMappingURL=size.mjs.map","import { createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VIcon.css\";\n\n// Composables\nimport { useTextColor } from \"../../composables/color.mjs\";\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { IconValue, useIcon } from \"../../composables/icons.mjs\";\nimport { makeSizeProps, useSize } from \"../../composables/size.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.mjs\"; // Utilities\nimport { computed, ref, Text, toRef } from 'vue';\nimport { convertToUnit, flattenFragments, genericComponent, propsFactory, useRender } from \"../../util/index.mjs\";\nexport const makeVIconProps = propsFactory({\n  color: String,\n  disabled: Boolean,\n  start: Boolean,\n  end: Boolean,\n  icon: IconValue,\n  ...makeComponentProps(),\n  ...makeSizeProps(),\n  ...makeTagProps({\n    tag: 'i'\n  }),\n  ...makeThemeProps()\n}, 'VIcon');\nexport const VIcon = genericComponent()({\n  name: 'VIcon',\n  props: makeVIconProps(),\n  setup(props, _ref) {\n    let {\n      attrs,\n      slots\n    } = _ref;\n    const slotIcon = ref();\n    const {\n      themeClasses\n    } = provideTheme(props);\n    const {\n      iconData\n    } = useIcon(computed(() => slotIcon.value || props.icon));\n    const {\n      sizeClasses\n    } = useSize(props);\n    const {\n      textColorClasses,\n      textColorStyles\n    } = useTextColor(toRef(props, 'color'));\n    useRender(() => {\n      const slotValue = slots.default?.();\n      if (slotValue) {\n        slotIcon.value = flattenFragments(slotValue).filter(node => node.type === Text && node.children && typeof node.children === 'string')[0]?.children;\n      }\n      const hasClick = !!(attrs.onClick || attrs.onClickOnce);\n      return _createVNode(iconData.value.component, {\n        \"tag\": props.tag,\n        \"icon\": iconData.value.icon,\n        \"class\": ['v-icon', 'notranslate', themeClasses.value, sizeClasses.value, textColorClasses.value, {\n          'v-icon--clickable': hasClick,\n          'v-icon--disabled': props.disabled,\n          'v-icon--start': props.start,\n          'v-icon--end': props.end\n        }, props.class],\n        \"style\": [!sizeClasses.value ? {\n          fontSize: convertToUnit(props.size),\n          height: convertToUnit(props.size),\n          width: convertToUnit(props.size)\n        } : undefined, textColorStyles.value, props.style],\n        \"role\": hasClick ? 'button' : undefined,\n        \"aria-hidden\": !hasClick,\n        \"tabindex\": hasClick ? props.disabled ? -1 : 0 : undefined\n      }, {\n        default: () => [slotValue]\n      });\n    });\n    return {};\n  }\n});\n//# sourceMappingURL=VIcon.mjs.map","// Utilities\nimport { onBeforeUnmount, ref, shallowRef, watch } from 'vue';\nimport { SUPPORTS_INTERSECTION } from \"../util/index.mjs\";\nexport function useIntersectionObserver(callback, options) {\n  const intersectionRef = ref();\n  const isIntersecting = shallowRef(false);\n  if (SUPPORTS_INTERSECTION) {\n    const observer = new IntersectionObserver(entries => {\n      callback?.(entries, observer);\n      isIntersecting.value = !!entries.find(entry => entry.isIntersecting);\n    }, options);\n    onBeforeUnmount(() => {\n      observer.disconnect();\n    });\n    watch(intersectionRef, (newValue, oldValue) => {\n      if (oldValue) {\n        observer.unobserve(oldValue);\n        isIntersecting.value = false;\n      }\n      if (newValue) observer.observe(newValue);\n    }, {\n      flush: 'post'\n    });\n  }\n  return {\n    intersectionRef,\n    isIntersecting\n  };\n}\n//# sourceMappingURL=intersectionObserver.mjs.map","import { createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VProgressCircular.css\";\n\n// Composables\nimport { useTextColor } from \"../../composables/color.mjs\";\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { useIntersectionObserver } from \"../../composables/intersectionObserver.mjs\";\nimport { useResizeObserver } from \"../../composables/resizeObserver.mjs\";\nimport { makeSizeProps, useSize } from \"../../composables/size.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.mjs\"; // Utilities\nimport { computed, ref, toRef, watchEffect } from 'vue';\nimport { convertToUnit, genericComponent, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nexport const makeVProgressCircularProps = propsFactory({\n  bgColor: String,\n  color: String,\n  indeterminate: [Boolean, String],\n  modelValue: {\n    type: [Number, String],\n    default: 0\n  },\n  rotate: {\n    type: [Number, String],\n    default: 0\n  },\n  width: {\n    type: [Number, String],\n    default: 4\n  },\n  ...makeComponentProps(),\n  ...makeSizeProps(),\n  ...makeTagProps({\n    tag: 'div'\n  }),\n  ...makeThemeProps()\n}, 'VProgressCircular');\nexport const VProgressCircular = genericComponent()({\n  name: 'VProgressCircular',\n  props: makeVProgressCircularProps(),\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const MAGIC_RADIUS_CONSTANT = 20;\n    const CIRCUMFERENCE = 2 * Math.PI * MAGIC_RADIUS_CONSTANT;\n    const root = ref();\n    const {\n      themeClasses\n    } = provideTheme(props);\n    const {\n      sizeClasses,\n      sizeStyles\n    } = useSize(props);\n    const {\n      textColorClasses,\n      textColorStyles\n    } = useTextColor(toRef(props, 'color'));\n    const {\n      textColorClasses: underlayColorClasses,\n      textColorStyles: underlayColorStyles\n    } = useTextColor(toRef(props, 'bgColor'));\n    const {\n      intersectionRef,\n      isIntersecting\n    } = useIntersectionObserver();\n    const {\n      resizeRef,\n      contentRect\n    } = useResizeObserver();\n    const normalizedValue = computed(() => Math.max(0, Math.min(100, parseFloat(props.modelValue))));\n    const width = computed(() => Number(props.width));\n    const size = computed(() => {\n      // Get size from element if size prop value is small, large etc\n      return sizeStyles.value ? Number(props.size) : contentRect.value ? contentRect.value.width : Math.max(width.value, 32);\n    });\n    const diameter = computed(() => MAGIC_RADIUS_CONSTANT / (1 - width.value / size.value) * 2);\n    const strokeWidth = computed(() => width.value / size.value * diameter.value);\n    const strokeDashOffset = computed(() => convertToUnit((100 - normalizedValue.value) / 100 * CIRCUMFERENCE));\n    watchEffect(() => {\n      intersectionRef.value = root.value;\n      resizeRef.value = root.value;\n    });\n    useRender(() => _createVNode(props.tag, {\n      \"ref\": root,\n      \"class\": ['v-progress-circular', {\n        'v-progress-circular--indeterminate': !!props.indeterminate,\n        'v-progress-circular--visible': isIntersecting.value,\n        'v-progress-circular--disable-shrink': props.indeterminate === 'disable-shrink'\n      }, themeClasses.value, sizeClasses.value, textColorClasses.value, props.class],\n      \"style\": [sizeStyles.value, textColorStyles.value, props.style],\n      \"role\": \"progressbar\",\n      \"aria-valuemin\": \"0\",\n      \"aria-valuemax\": \"100\",\n      \"aria-valuenow\": props.indeterminate ? undefined : normalizedValue.value\n    }, {\n      default: () => [_createVNode(\"svg\", {\n        \"style\": {\n          transform: `rotate(calc(-90deg + ${Number(props.rotate)}deg))`\n        },\n        \"xmlns\": \"http://www.w3.org/2000/svg\",\n        \"viewBox\": `0 0 ${diameter.value} ${diameter.value}`\n      }, [_createVNode(\"circle\", {\n        \"class\": ['v-progress-circular__underlay', underlayColorClasses.value],\n        \"style\": underlayColorStyles.value,\n        \"fill\": \"transparent\",\n        \"cx\": \"50%\",\n        \"cy\": \"50%\",\n        \"r\": MAGIC_RADIUS_CONSTANT,\n        \"stroke-width\": strokeWidth.value,\n        \"stroke-dasharray\": CIRCUMFERENCE,\n        \"stroke-dashoffset\": 0\n      }, null), _createVNode(\"circle\", {\n        \"class\": \"v-progress-circular__overlay\",\n        \"fill\": \"transparent\",\n        \"cx\": \"50%\",\n        \"cy\": \"50%\",\n        \"r\": MAGIC_RADIUS_CONSTANT,\n        \"stroke-width\": strokeWidth.value,\n        \"stroke-dasharray\": CIRCUMFERENCE,\n        \"stroke-dashoffset\": strokeDashOffset.value\n      }, null)]), slots.default && _createVNode(\"div\", {\n        \"class\": \"v-progress-circular__content\"\n      }, [slots.default({\n        value: normalizedValue.value\n      })])]\n    }));\n    return {};\n  }\n});\n//# sourceMappingURL=VProgressCircular.mjs.map","// Composables\nimport { useRtl } from \"./locale.mjs\"; // Utilities\nimport { computed } from 'vue';\nimport { parseAnchor, propsFactory } from \"../util/index.mjs\"; // Types\nconst oppositeMap = {\n  center: 'center',\n  top: 'bottom',\n  bottom: 'top',\n  left: 'right',\n  right: 'left'\n};\nexport const makeLocationProps = propsFactory({\n  location: String\n}, 'location');\nexport function useLocation(props) {\n  let opposite = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  let offset = arguments.length > 2 ? arguments[2] : undefined;\n  const {\n    isRtl\n  } = useRtl();\n  const locationStyles = computed(() => {\n    if (!props.location) return {};\n    const {\n      side,\n      align\n    } = parseAnchor(props.location.split(' ').length > 1 ? props.location : `${props.location} center`, isRtl.value);\n    function getOffset(side) {\n      return offset ? offset(side) : 0;\n    }\n    const styles = {};\n    if (side !== 'center') {\n      if (opposite) styles[oppositeMap[side]] = `calc(100% - ${getOffset(side)}px)`;else styles[side] = 0;\n    }\n    if (align !== 'center') {\n      if (opposite) styles[oppositeMap[align]] = `calc(100% - ${getOffset(align)}px)`;else styles[align] = 0;\n    } else {\n      if (side === 'center') styles.top = styles.left = '50%';else {\n        styles[{\n          top: 'left',\n          bottom: 'left',\n          left: 'top',\n          right: 'top'\n        }[side]] = '50%';\n      }\n      styles.transform = {\n        top: 'translateX(-50%)',\n        bottom: 'translateX(-50%)',\n        left: 'translateY(-50%)',\n        right: 'translateY(-50%)',\n        center: 'translate(-50%, -50%)'\n      }[side];\n    }\n    return styles;\n  });\n  return {\n    locationStyles\n  };\n}\n//# sourceMappingURL=location.mjs.map","import { createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VProgressLinear.css\";\n\n// Composables\nimport { useBackgroundColor, useTextColor } from \"../../composables/color.mjs\";\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { useIntersectionObserver } from \"../../composables/intersectionObserver.mjs\";\nimport { useRtl } from \"../../composables/locale.mjs\";\nimport { makeLocationProps, useLocation } from \"../../composables/location.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\";\nimport { makeRoundedProps, useRounded } from \"../../composables/rounded.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.mjs\"; // Utilities\nimport { computed, Transition } from 'vue';\nimport { clamp, convertToUnit, genericComponent, IN_BROWSER, propsFactory, useRender } from \"../../util/index.mjs\";\nexport const makeVProgressLinearProps = propsFactory({\n  absolute: Boolean,\n  active: {\n    type: Boolean,\n    default: true\n  },\n  bgColor: String,\n  bgOpacity: [Number, String],\n  bufferValue: {\n    type: [Number, String],\n    default: 0\n  },\n  bufferColor: String,\n  bufferOpacity: [Number, String],\n  clickable: Boolean,\n  color: String,\n  height: {\n    type: [Number, String],\n    default: 4\n  },\n  indeterminate: Boolean,\n  max: {\n    type: [Number, String],\n    default: 100\n  },\n  modelValue: {\n    type: [Number, String],\n    default: 0\n  },\n  opacity: [Number, String],\n  reverse: Boolean,\n  stream: Boolean,\n  striped: Boolean,\n  roundedBar: Boolean,\n  ...makeComponentProps(),\n  ...makeLocationProps({\n    location: 'top'\n  }),\n  ...makeRoundedProps(),\n  ...makeTagProps(),\n  ...makeThemeProps()\n}, 'VProgressLinear');\nexport const VProgressLinear = genericComponent()({\n  name: 'VProgressLinear',\n  props: makeVProgressLinearProps(),\n  emits: {\n    'update:modelValue': value => true\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const progress = useProxiedModel(props, 'modelValue');\n    const {\n      isRtl,\n      rtlClasses\n    } = useRtl();\n    const {\n      themeClasses\n    } = provideTheme(props);\n    const {\n      locationStyles\n    } = useLocation(props);\n    const {\n      textColorClasses,\n      textColorStyles\n    } = useTextColor(props, 'color');\n    const {\n      backgroundColorClasses,\n      backgroundColorStyles\n    } = useBackgroundColor(computed(() => props.bgColor || props.color));\n    const {\n      backgroundColorClasses: bufferColorClasses,\n      backgroundColorStyles: bufferColorStyles\n    } = useBackgroundColor(computed(() => props.bufferColor || props.bgColor || props.color));\n    const {\n      backgroundColorClasses: barColorClasses,\n      backgroundColorStyles: barColorStyles\n    } = useBackgroundColor(props, 'color');\n    const {\n      roundedClasses\n    } = useRounded(props);\n    const {\n      intersectionRef,\n      isIntersecting\n    } = useIntersectionObserver();\n    const max = computed(() => parseFloat(props.max));\n    const height = computed(() => parseFloat(props.height));\n    const normalizedBuffer = computed(() => clamp(parseFloat(props.bufferValue) / max.value * 100, 0, 100));\n    const normalizedValue = computed(() => clamp(parseFloat(progress.value) / max.value * 100, 0, 100));\n    const isReversed = computed(() => isRtl.value !== props.reverse);\n    const transition = computed(() => props.indeterminate ? 'fade-transition' : 'slide-x-transition');\n    const isForcedColorsModeActive = IN_BROWSER && window.matchMedia?.('(forced-colors: active)').matches;\n    function handleClick(e) {\n      if (!intersectionRef.value) return;\n      const {\n        left,\n        right,\n        width\n      } = intersectionRef.value.getBoundingClientRect();\n      const value = isReversed.value ? width - e.clientX + (right - width) : e.clientX - left;\n      progress.value = Math.round(value / width * max.value);\n    }\n    useRender(() => _createVNode(props.tag, {\n      \"ref\": intersectionRef,\n      \"class\": ['v-progress-linear', {\n        'v-progress-linear--absolute': props.absolute,\n        'v-progress-linear--active': props.active && isIntersecting.value,\n        'v-progress-linear--reverse': isReversed.value,\n        'v-progress-linear--rounded': props.rounded,\n        'v-progress-linear--rounded-bar': props.roundedBar,\n        'v-progress-linear--striped': props.striped\n      }, roundedClasses.value, themeClasses.value, rtlClasses.value, props.class],\n      \"style\": [{\n        bottom: props.location === 'bottom' ? 0 : undefined,\n        top: props.location === 'top' ? 0 : undefined,\n        height: props.active ? convertToUnit(height.value) : 0,\n        '--v-progress-linear-height': convertToUnit(height.value),\n        ...(props.absolute ? locationStyles.value : {})\n      }, props.style],\n      \"role\": \"progressbar\",\n      \"aria-hidden\": props.active ? 'false' : 'true',\n      \"aria-valuemin\": \"0\",\n      \"aria-valuemax\": props.max,\n      \"aria-valuenow\": props.indeterminate ? undefined : Math.min(parseFloat(progress.value), max.value),\n      \"onClick\": props.clickable && handleClick\n    }, {\n      default: () => [props.stream && _createVNode(\"div\", {\n        \"key\": \"stream\",\n        \"class\": ['v-progress-linear__stream', textColorClasses.value],\n        \"style\": {\n          ...textColorStyles.value,\n          [isReversed.value ? 'left' : 'right']: convertToUnit(-height.value),\n          borderTop: `${convertToUnit(height.value / 2)} dotted`,\n          opacity: parseFloat(props.bufferOpacity),\n          top: `calc(50% - ${convertToUnit(height.value / 4)})`,\n          width: convertToUnit(100 - normalizedBuffer.value, '%'),\n          '--v-progress-linear-stream-to': convertToUnit(height.value * (isReversed.value ? 1 : -1))\n        }\n      }, null), _createVNode(\"div\", {\n        \"class\": ['v-progress-linear__background', !isForcedColorsModeActive ? backgroundColorClasses.value : undefined],\n        \"style\": [backgroundColorStyles.value, {\n          opacity: parseFloat(props.bgOpacity),\n          width: props.stream ? 0 : undefined\n        }]\n      }, null), _createVNode(\"div\", {\n        \"class\": ['v-progress-linear__buffer', !isForcedColorsModeActive ? bufferColorClasses.value : undefined],\n        \"style\": [bufferColorStyles.value, {\n          opacity: parseFloat(props.bufferOpacity),\n          width: convertToUnit(normalizedBuffer.value, '%')\n        }]\n      }, null), _createVNode(Transition, {\n        \"name\": transition.value\n      }, {\n        default: () => [!props.indeterminate ? _createVNode(\"div\", {\n          \"class\": ['v-progress-linear__determinate', !isForcedColorsModeActive ? barColorClasses.value : undefined],\n          \"style\": [barColorStyles.value, {\n            width: convertToUnit(normalizedValue.value, '%')\n          }]\n        }, null) : _createVNode(\"div\", {\n          \"class\": \"v-progress-linear__indeterminate\"\n        }, [['long', 'short'].map(bar => _createVNode(\"div\", {\n          \"key\": bar,\n          \"class\": ['v-progress-linear__indeterminate', bar, !isForcedColorsModeActive ? barColorClasses.value : undefined],\n          \"style\": barColorStyles.value\n        }, null))])]\n      }), slots.default && _createVNode(\"div\", {\n        \"class\": \"v-progress-linear__content\"\n      }, [slots.default({\n        value: normalizedValue.value,\n        buffer: normalizedBuffer.value\n      })])]\n    }));\n    return {};\n  }\n});\n//# sourceMappingURL=VProgressLinear.mjs.map","import { createVNode as _createVNode } from \"vue\";\n// Components\nimport { VProgressLinear } from \"../components/VProgressLinear/index.mjs\"; // Utilities\nimport { computed } from 'vue';\nimport { getCurrentInstanceName, propsFactory } from \"../util/index.mjs\"; // Types\n// Composables\nexport const makeLoaderProps = propsFactory({\n  loading: [Boolean, String]\n}, 'loader');\nexport function useLoader(props) {\n  let name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getCurrentInstanceName();\n  const loaderClasses = computed(() => ({\n    [`${name}--loading`]: props.loading\n  }));\n  return {\n    loaderClasses\n  };\n}\nexport function LoaderSlot(props, _ref) {\n  let {\n    slots\n  } = _ref;\n  return _createVNode(\"div\", {\n    \"class\": `${props.name}__loader`\n  }, [slots.default?.({\n    color: props.color,\n    isActive: props.active\n  }) || _createVNode(VProgressLinear, {\n    \"absolute\": props.absolute,\n    \"active\": props.active,\n    \"color\": props.color,\n    \"height\": \"2\",\n    \"indeterminate\": true\n  }, null)]);\n}\n//# sourceMappingURL=loader.mjs.map","// Utilities\nimport { computed } from 'vue';\nimport { getCurrentInstanceName, propsFactory } from \"../util/index.mjs\"; // Types\nconst positionValues = ['static', 'relative', 'fixed', 'absolute', 'sticky'];\n// Composables\nexport const makePositionProps = propsFactory({\n  position: {\n    type: String,\n    validator: /* istanbul ignore next */v => positionValues.includes(v)\n  }\n}, 'position');\nexport function usePosition(props) {\n  let name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getCurrentInstanceName();\n  const positionClasses = computed(() => {\n    return props.position ? `${name}--${props.position}` : undefined;\n  });\n  return {\n    positionClasses\n  };\n}\n//# sourceMappingURL=position.mjs.map","// Utilities\nimport { computed, nextTick, onScopeDispose, reactive, resolveDynamicComponent, toRef } from 'vue';\nimport { deepEqual, getCurrentInstance, hasEvent, IN_BROWSER, propsFactory } from \"../util/index.mjs\"; // Types\nexport function useRoute() {\n  const vm = getCurrentInstance('useRoute');\n  return computed(() => vm?.proxy?.$route);\n}\nexport function useRouter() {\n  return getCurrentInstance('useRouter')?.proxy?.$router;\n}\nexport function useLink(props, attrs) {\n  const RouterLink = resolveDynamicComponent('RouterLink');\n  const isLink = computed(() => !!(props.href || props.to));\n  const isClickable = computed(() => {\n    return isLink?.value || hasEvent(attrs, 'click') || hasEvent(props, 'click');\n  });\n  if (typeof RouterLink === 'string' || !('useLink' in RouterLink)) {\n    const href = toRef(props, 'href');\n    return {\n      isLink,\n      isClickable,\n      href,\n      linkProps: reactive({\n        href\n      })\n    };\n  }\n  // vue-router useLink `to` prop needs to be reactive and useLink will crash if undefined\n  const linkProps = computed(() => ({\n    ...props,\n    to: toRef(() => props.to || '')\n  }));\n  const routerLink = RouterLink.useLink(linkProps.value);\n  // Actual link needs to be undefined when to prop is not used\n  const link = computed(() => props.to ? routerLink : undefined);\n  const route = useRoute();\n  const isActive = computed(() => {\n    if (!link.value) return false;\n    if (!props.exact) return link.value.isActive?.value ?? false;\n    if (!route.value) return link.value.isExactActive?.value ?? false;\n    return link.value.isExactActive?.value && deepEqual(link.value.route.value.query, route.value.query);\n  });\n  const href = computed(() => props.to ? link.value?.route.value.href : props.href);\n  return {\n    isLink,\n    isClickable,\n    isActive,\n    route: link.value?.route,\n    navigate: link.value?.navigate,\n    href,\n    linkProps: reactive({\n      href,\n      'aria-current': computed(() => isActive.value ? 'page' : undefined)\n    })\n  };\n}\nexport const makeRouterProps = propsFactory({\n  href: String,\n  replace: Boolean,\n  to: [String, Object],\n  exact: Boolean\n}, 'router');\nlet inTransition = false;\nexport function useBackButton(router, cb) {\n  let popped = false;\n  let removeBefore;\n  let removeAfter;\n  if (IN_BROWSER) {\n    nextTick(() => {\n      window.addEventListener('popstate', onPopstate);\n      removeBefore = router?.beforeEach((to, from, next) => {\n        if (!inTransition) {\n          setTimeout(() => popped ? cb(next) : next());\n        } else {\n          popped ? cb(next) : next();\n        }\n        inTransition = true;\n      });\n      removeAfter = router?.afterEach(() => {\n        inTransition = false;\n      });\n    });\n    onScopeDispose(() => {\n      window.removeEventListener('popstate', onPopstate);\n      removeBefore?.();\n      removeAfter?.();\n    });\n  }\n  function onPopstate(e) {\n    if (e.state?.replaced) return;\n    popped = true;\n    setTimeout(() => popped = false);\n  }\n}\n//# sourceMappingURL=router.mjs.map","// Utilities\nimport { nextTick, watch } from 'vue';\n\n// Types\n\nexport function useSelectLink(link, select) {\n  watch(() => link.isActive?.value, isActive => {\n    if (link.isLink.value && isActive && select) {\n      nextTick(() => {\n        select(true);\n      });\n    }\n  }, {\n    immediate: true\n  });\n}\n//# sourceMappingURL=selectLink.mjs.map","// Styles\nimport \"./VRipple.css\";\n\n// Utilities\nimport { isObject, keyCodes } from \"../../util/index.mjs\"; // Types\nconst stopSymbol = Symbol('rippleStop');\nconst DELAY_RIPPLE = 80;\nfunction transform(el, value) {\n  el.style.transform = value;\n  el.style.webkitTransform = value;\n}\nfunction isTouchEvent(e) {\n  return e.constructor.name === 'TouchEvent';\n}\nfunction isKeyboardEvent(e) {\n  return e.constructor.name === 'KeyboardEvent';\n}\nconst calculate = function (e, el) {\n  let value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let localX = 0;\n  let localY = 0;\n  if (!isKeyboardEvent(e)) {\n    const offset = el.getBoundingClientRect();\n    const target = isTouchEvent(e) ? e.touches[e.touches.length - 1] : e;\n    localX = target.clientX - offset.left;\n    localY = target.clientY - offset.top;\n  }\n  let radius = 0;\n  let scale = 0.3;\n  if (el._ripple?.circle) {\n    scale = 0.15;\n    radius = el.clientWidth / 2;\n    radius = value.center ? radius : radius + Math.sqrt((localX - radius) ** 2 + (localY - radius) ** 2) / 4;\n  } else {\n    radius = Math.sqrt(el.clientWidth ** 2 + el.clientHeight ** 2) / 2;\n  }\n  const centerX = `${(el.clientWidth - radius * 2) / 2}px`;\n  const centerY = `${(el.clientHeight - radius * 2) / 2}px`;\n  const x = value.center ? centerX : `${localX - radius}px`;\n  const y = value.center ? centerY : `${localY - radius}px`;\n  return {\n    radius,\n    scale,\n    x,\n    y,\n    centerX,\n    centerY\n  };\n};\nconst ripples = {\n  /* eslint-disable max-statements */\n  show(e, el) {\n    let value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    if (!el?._ripple?.enabled) {\n      return;\n    }\n    const container = document.createElement('span');\n    const animation = document.createElement('span');\n    container.appendChild(animation);\n    container.className = 'v-ripple__container';\n    if (value.class) {\n      container.className += ` ${value.class}`;\n    }\n    const {\n      radius,\n      scale,\n      x,\n      y,\n      centerX,\n      centerY\n    } = calculate(e, el, value);\n    const size = `${radius * 2}px`;\n    animation.className = 'v-ripple__animation';\n    animation.style.width = size;\n    animation.style.height = size;\n    el.appendChild(container);\n    const computed = window.getComputedStyle(el);\n    if (computed && computed.position === 'static') {\n      el.style.position = 'relative';\n      el.dataset.previousPosition = 'static';\n    }\n    animation.classList.add('v-ripple__animation--enter');\n    animation.classList.add('v-ripple__animation--visible');\n    transform(animation, `translate(${x}, ${y}) scale3d(${scale},${scale},${scale})`);\n    animation.dataset.activated = String(performance.now());\n    setTimeout(() => {\n      animation.classList.remove('v-ripple__animation--enter');\n      animation.classList.add('v-ripple__animation--in');\n      transform(animation, `translate(${centerX}, ${centerY}) scale3d(1,1,1)`);\n    }, 0);\n  },\n  hide(el) {\n    if (!el?._ripple?.enabled) return;\n    const ripples = el.getElementsByClassName('v-ripple__animation');\n    if (ripples.length === 0) return;\n    const animation = ripples[ripples.length - 1];\n    if (animation.dataset.isHiding) return;else animation.dataset.isHiding = 'true';\n    const diff = performance.now() - Number(animation.dataset.activated);\n    const delay = Math.max(250 - diff, 0);\n    setTimeout(() => {\n      animation.classList.remove('v-ripple__animation--in');\n      animation.classList.add('v-ripple__animation--out');\n      setTimeout(() => {\n        const ripples = el.getElementsByClassName('v-ripple__animation');\n        if (ripples.length === 1 && el.dataset.previousPosition) {\n          el.style.position = el.dataset.previousPosition;\n          delete el.dataset.previousPosition;\n        }\n        if (animation.parentNode?.parentNode === el) el.removeChild(animation.parentNode);\n      }, 300);\n    }, delay);\n  }\n};\nfunction isRippleEnabled(value) {\n  return typeof value === 'undefined' || !!value;\n}\nfunction rippleShow(e) {\n  const value = {};\n  const element = e.currentTarget;\n  if (!element?._ripple || element._ripple.touched || e[stopSymbol]) return;\n\n  // Don't allow the event to trigger ripples on any other elements\n  e[stopSymbol] = true;\n  if (isTouchEvent(e)) {\n    element._ripple.touched = true;\n    element._ripple.isTouch = true;\n  } else {\n    // It's possible for touch events to fire\n    // as mouse events on Android/iOS, this\n    // will skip the event call if it has\n    // already been registered as touch\n    if (element._ripple.isTouch) return;\n  }\n  value.center = element._ripple.centered || isKeyboardEvent(e);\n  if (element._ripple.class) {\n    value.class = element._ripple.class;\n  }\n  if (isTouchEvent(e)) {\n    // already queued that shows or hides the ripple\n    if (element._ripple.showTimerCommit) return;\n    element._ripple.showTimerCommit = () => {\n      ripples.show(e, element, value);\n    };\n    element._ripple.showTimer = window.setTimeout(() => {\n      if (element?._ripple?.showTimerCommit) {\n        element._ripple.showTimerCommit();\n        element._ripple.showTimerCommit = null;\n      }\n    }, DELAY_RIPPLE);\n  } else {\n    ripples.show(e, element, value);\n  }\n}\nfunction rippleStop(e) {\n  e[stopSymbol] = true;\n}\nfunction rippleHide(e) {\n  const element = e.currentTarget;\n  if (!element?._ripple) return;\n  window.clearTimeout(element._ripple.showTimer);\n\n  // The touch interaction occurs before the show timer is triggered.\n  // We still want to show ripple effect.\n  if (e.type === 'touchend' && element._ripple.showTimerCommit) {\n    element._ripple.showTimerCommit();\n    element._ripple.showTimerCommit = null;\n\n    // re-queue ripple hiding\n    element._ripple.showTimer = window.setTimeout(() => {\n      rippleHide(e);\n    });\n    return;\n  }\n  window.setTimeout(() => {\n    if (element._ripple) {\n      element._ripple.touched = false;\n    }\n  });\n  ripples.hide(element);\n}\nfunction rippleCancelShow(e) {\n  const element = e.currentTarget;\n  if (!element?._ripple) return;\n  if (element._ripple.showTimerCommit) {\n    element._ripple.showTimerCommit = null;\n  }\n  window.clearTimeout(element._ripple.showTimer);\n}\nlet keyboardRipple = false;\nfunction keyboardRippleShow(e) {\n  if (!keyboardRipple && (e.keyCode === keyCodes.enter || e.keyCode === keyCodes.space)) {\n    keyboardRipple = true;\n    rippleShow(e);\n  }\n}\nfunction keyboardRippleHide(e) {\n  keyboardRipple = false;\n  rippleHide(e);\n}\nfunction focusRippleHide(e) {\n  if (keyboardRipple) {\n    keyboardRipple = false;\n    rippleHide(e);\n  }\n}\nfunction updateRipple(el, binding, wasEnabled) {\n  const {\n    value,\n    modifiers\n  } = binding;\n  const enabled = isRippleEnabled(value);\n  if (!enabled) {\n    ripples.hide(el);\n  }\n  el._ripple = el._ripple ?? {};\n  el._ripple.enabled = enabled;\n  el._ripple.centered = modifiers.center;\n  el._ripple.circle = modifiers.circle;\n  if (isObject(value) && value.class) {\n    el._ripple.class = value.class;\n  }\n  if (enabled && !wasEnabled) {\n    if (modifiers.stop) {\n      el.addEventListener('touchstart', rippleStop, {\n        passive: true\n      });\n      el.addEventListener('mousedown', rippleStop);\n      return;\n    }\n    el.addEventListener('touchstart', rippleShow, {\n      passive: true\n    });\n    el.addEventListener('touchend', rippleHide, {\n      passive: true\n    });\n    el.addEventListener('touchmove', rippleCancelShow, {\n      passive: true\n    });\n    el.addEventListener('touchcancel', rippleHide);\n    el.addEventListener('mousedown', rippleShow);\n    el.addEventListener('mouseup', rippleHide);\n    el.addEventListener('mouseleave', rippleHide);\n    el.addEventListener('keydown', keyboardRippleShow);\n    el.addEventListener('keyup', keyboardRippleHide);\n    el.addEventListener('blur', focusRippleHide);\n\n    // Anchor tags can be dragged, causes other hides to fail - #1537\n    el.addEventListener('dragstart', rippleHide, {\n      passive: true\n    });\n  } else if (!enabled && wasEnabled) {\n    removeListeners(el);\n  }\n}\nfunction removeListeners(el) {\n  el.removeEventListener('mousedown', rippleShow);\n  el.removeEventListener('touchstart', rippleShow);\n  el.removeEventListener('touchend', rippleHide);\n  el.removeEventListener('touchmove', rippleCancelShow);\n  el.removeEventListener('touchcancel', rippleHide);\n  el.removeEventListener('mouseup', rippleHide);\n  el.removeEventListener('mouseleave', rippleHide);\n  el.removeEventListener('keydown', keyboardRippleShow);\n  el.removeEventListener('keyup', keyboardRippleHide);\n  el.removeEventListener('dragstart', rippleHide);\n  el.removeEventListener('blur', focusRippleHide);\n}\nfunction mounted(el, binding) {\n  updateRipple(el, binding, false);\n}\nfunction unmounted(el) {\n  delete el._ripple;\n  removeListeners(el);\n}\nfunction updated(el, binding) {\n  if (binding.value === binding.oldValue) {\n    return;\n  }\n  const wasEnabled = isRippleEnabled(binding.oldValue);\n  updateRipple(el, binding, wasEnabled);\n}\nexport const Ripple = {\n  mounted,\n  unmounted,\n  updated\n};\nexport default Ripple;\n//# sourceMappingURL=index.mjs.map","import { mergeProps as _mergeProps, resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VBtn.css\";\n\n// Components\nimport { VBtnToggleSymbol } from \"../VBtnToggle/VBtnToggle.mjs\";\nimport { VDefaultsProvider } from \"../VDefaultsProvider/index.mjs\";\nimport { VIcon } from \"../VIcon/index.mjs\";\nimport { VProgressCircular } from \"../VProgressCircular/index.mjs\"; // Composables\nimport { makeBorderProps, useBorder } from \"../../composables/border.mjs\";\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { makeDensityProps, useDensity } from \"../../composables/density.mjs\";\nimport { makeDimensionProps, useDimension } from \"../../composables/dimensions.mjs\";\nimport { makeElevationProps, useElevation } from \"../../composables/elevation.mjs\";\nimport { makeGroupItemProps, useGroupItem } from \"../../composables/group.mjs\";\nimport { IconValue } from \"../../composables/icons.mjs\";\nimport { makeLoaderProps, useLoader } from \"../../composables/loader.mjs\";\nimport { makeLocationProps, useLocation } from \"../../composables/location.mjs\";\nimport { makePositionProps, usePosition } from \"../../composables/position.mjs\";\nimport { makeRoundedProps, useRounded } from \"../../composables/rounded.mjs\";\nimport { makeRouterProps, useLink } from \"../../composables/router.mjs\";\nimport { useSelectLink } from \"../../composables/selectLink.mjs\";\nimport { makeSizeProps, useSize } from \"../../composables/size.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.mjs\";\nimport { genOverlays, makeVariantProps, useVariant } from \"../../composables/variant.mjs\"; // Directives\nimport { Ripple } from \"../../directives/ripple/index.mjs\"; // Utilities\nimport { computed, withDirectives } from 'vue';\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nexport const makeVBtnProps = propsFactory({\n  active: {\n    type: Boolean,\n    default: undefined\n  },\n  activeColor: String,\n  baseColor: String,\n  symbol: {\n    type: null,\n    default: VBtnToggleSymbol\n  },\n  flat: Boolean,\n  icon: [Boolean, String, Function, Object],\n  prependIcon: IconValue,\n  appendIcon: IconValue,\n  block: Boolean,\n  readonly: Boolean,\n  slim: Boolean,\n  stacked: Boolean,\n  ripple: {\n    type: [Boolean, Object],\n    default: true\n  },\n  text: String,\n  ...makeBorderProps(),\n  ...makeComponentProps(),\n  ...makeDensityProps(),\n  ...makeDimensionProps(),\n  ...makeElevationProps(),\n  ...makeGroupItemProps(),\n  ...makeLoaderProps(),\n  ...makeLocationProps(),\n  ...makePositionProps(),\n  ...makeRoundedProps(),\n  ...makeRouterProps(),\n  ...makeSizeProps(),\n  ...makeTagProps({\n    tag: 'button'\n  }),\n  ...makeThemeProps(),\n  ...makeVariantProps({\n    variant: 'elevated'\n  })\n}, 'VBtn');\nexport const VBtn = genericComponent()({\n  name: 'VBtn',\n  props: makeVBtnProps(),\n  emits: {\n    'group:selected': val => true\n  },\n  setup(props, _ref) {\n    let {\n      attrs,\n      slots\n    } = _ref;\n    const {\n      themeClasses\n    } = provideTheme(props);\n    const {\n      borderClasses\n    } = useBorder(props);\n    const {\n      densityClasses\n    } = useDensity(props);\n    const {\n      dimensionStyles\n    } = useDimension(props);\n    const {\n      elevationClasses\n    } = useElevation(props);\n    const {\n      loaderClasses\n    } = useLoader(props);\n    const {\n      locationStyles\n    } = useLocation(props);\n    const {\n      positionClasses\n    } = usePosition(props);\n    const {\n      roundedClasses\n    } = useRounded(props);\n    const {\n      sizeClasses,\n      sizeStyles\n    } = useSize(props);\n    const group = useGroupItem(props, props.symbol, false);\n    const link = useLink(props, attrs);\n    const isActive = computed(() => {\n      if (props.active !== undefined) {\n        return props.active;\n      }\n      if (link.isLink.value) {\n        return link.isActive?.value;\n      }\n      return group?.isSelected.value;\n    });\n    const color = computed(() => isActive.value ? props.activeColor ?? props.color : props.color);\n    const variantProps = computed(() => {\n      const showColor = group?.isSelected.value && (!link.isLink.value || link.isActive?.value) || !group || link.isActive?.value;\n      return {\n        color: showColor ? color.value ?? props.baseColor : props.baseColor,\n        variant: props.variant\n      };\n    });\n    const {\n      colorClasses,\n      colorStyles,\n      variantClasses\n    } = useVariant(variantProps);\n    const isDisabled = computed(() => group?.disabled.value || props.disabled);\n    const isElevated = computed(() => {\n      return props.variant === 'elevated' && !(props.disabled || props.flat || props.border);\n    });\n    const valueAttr = computed(() => {\n      if (props.value === undefined || typeof props.value === 'symbol') return undefined;\n      return Object(props.value) === props.value ? JSON.stringify(props.value, null, 0) : props.value;\n    });\n    function onClick(e) {\n      if (isDisabled.value || link.isLink.value && (e.metaKey || e.ctrlKey || e.shiftKey || e.button !== 0 || attrs.target === '_blank')) return;\n      link.navigate?.(e);\n      group?.toggle();\n    }\n    useSelectLink(link, group?.select);\n    useRender(() => {\n      const Tag = link.isLink.value ? 'a' : props.tag;\n      const hasPrepend = !!(props.prependIcon || slots.prepend);\n      const hasAppend = !!(props.appendIcon || slots.append);\n      const hasIcon = !!(props.icon && props.icon !== true);\n      return withDirectives(_createVNode(Tag, _mergeProps({\n        \"type\": Tag === 'a' ? undefined : 'button',\n        \"class\": ['v-btn', group?.selectedClass.value, {\n          'v-btn--active': isActive.value,\n          'v-btn--block': props.block,\n          'v-btn--disabled': isDisabled.value,\n          'v-btn--elevated': isElevated.value,\n          'v-btn--flat': props.flat,\n          'v-btn--icon': !!props.icon,\n          'v-btn--loading': props.loading,\n          'v-btn--readonly': props.readonly,\n          'v-btn--slim': props.slim,\n          'v-btn--stacked': props.stacked\n        }, themeClasses.value, borderClasses.value, colorClasses.value, densityClasses.value, elevationClasses.value, loaderClasses.value, positionClasses.value, roundedClasses.value, sizeClasses.value, variantClasses.value, props.class],\n        \"style\": [colorStyles.value, dimensionStyles.value, locationStyles.value, sizeStyles.value, props.style],\n        \"aria-busy\": props.loading ? true : undefined,\n        \"disabled\": isDisabled.value || undefined,\n        \"tabindex\": props.loading || props.readonly ? -1 : undefined,\n        \"onClick\": onClick,\n        \"value\": valueAttr.value\n      }, link.linkProps), {\n        default: () => [genOverlays(true, 'v-btn'), !props.icon && hasPrepend && _createVNode(\"span\", {\n          \"key\": \"prepend\",\n          \"class\": \"v-btn__prepend\"\n        }, [!slots.prepend ? _createVNode(VIcon, {\n          \"key\": \"prepend-icon\",\n          \"icon\": props.prependIcon\n        }, null) : _createVNode(VDefaultsProvider, {\n          \"key\": \"prepend-defaults\",\n          \"disabled\": !props.prependIcon,\n          \"defaults\": {\n            VIcon: {\n              icon: props.prependIcon\n            }\n          }\n        }, slots.prepend)]), _createVNode(\"span\", {\n          \"class\": \"v-btn__content\",\n          \"data-no-activator\": \"\"\n        }, [!slots.default && hasIcon ? _createVNode(VIcon, {\n          \"key\": \"content-icon\",\n          \"icon\": props.icon\n        }, null) : _createVNode(VDefaultsProvider, {\n          \"key\": \"content-defaults\",\n          \"disabled\": !hasIcon,\n          \"defaults\": {\n            VIcon: {\n              icon: props.icon\n            }\n          }\n        }, {\n          default: () => [slots.default?.() ?? props.text]\n        })]), !props.icon && hasAppend && _createVNode(\"span\", {\n          \"key\": \"append\",\n          \"class\": \"v-btn__append\"\n        }, [!slots.append ? _createVNode(VIcon, {\n          \"key\": \"append-icon\",\n          \"icon\": props.appendIcon\n        }, null) : _createVNode(VDefaultsProvider, {\n          \"key\": \"append-defaults\",\n          \"disabled\": !props.appendIcon,\n          \"defaults\": {\n            VIcon: {\n              icon: props.appendIcon\n            }\n          }\n        }, slots.append)]), !!props.loading && _createVNode(\"span\", {\n          \"key\": \"loader\",\n          \"class\": \"v-btn__loader\"\n        }, [slots.loader?.() ?? _createVNode(VProgressCircular, {\n          \"color\": typeof props.loading === 'boolean' ? undefined : props.loading,\n          \"indeterminate\": true,\n          \"width\": \"2\"\n        }, null)])]\n      }), [[Ripple, !isDisabled.value && props.ripple, '', {\n        center: !!props.icon\n      }]]);\n    });\n    return {\n      group\n    };\n  }\n});\n//# sourceMappingURL=VBtn.mjs.map","// Utilities\nimport { computed, inject, provide, shallowRef } from 'vue';\n\n// Types\n\n// Depth\nexport const DepthKey = Symbol.for('vuetify:depth');\nexport function useDepth(hasPrepend) {\n  const parent = inject(DepthKey, shallowRef(-1));\n  const depth = computed(() => parent.value + 1 + (hasPrepend?.value ? 1 : 0));\n  provide(DepthKey, depth);\n  return depth;\n}\n\n// List\nexport const ListKey = Symbol.for('vuetify:list');\nexport function createList() {\n  const parent = inject(ListKey, {\n    hasPrepend: shallowRef(false),\n    updateHasPrepend: () => null\n  });\n  const data = {\n    hasPrepend: shallowRef(false),\n    updateHasPrepend: value => {\n      if (value) data.hasPrepend.value = value;\n    }\n  };\n  provide(ListKey, data);\n  return parent;\n}\nexport function useList() {\n  return inject(ListKey, null);\n}\n//# sourceMappingURL=list.mjs.map","/* eslint-disable sonarjs/no-identical-functions */\n// Utilities\nimport { toRaw } from 'vue';\nimport { wrapInArray } from \"../../util/index.mjs\";\nexport const independentActiveStrategy = mandatory => {\n  const strategy = {\n    activate: _ref => {\n      let {\n        id,\n        value,\n        activated\n      } = _ref;\n      id = toRaw(id);\n\n      // When mandatory and we're trying to deselect when id\n      // is the only currently selected item then do nothing\n      if (mandatory && !value && activated.size === 1 && activated.has(id)) return activated;\n      if (value) {\n        activated.add(id);\n      } else {\n        activated.delete(id);\n      }\n      return activated;\n    },\n    in: (v, children, parents) => {\n      let set = new Set();\n      if (v != null) {\n        for (const id of wrapInArray(v)) {\n          set = strategy.activate({\n            id,\n            value: true,\n            activated: new Set(set),\n            children,\n            parents\n          });\n        }\n      }\n      return set;\n    },\n    out: v => {\n      return Array.from(v);\n    }\n  };\n  return strategy;\n};\nexport const independentSingleActiveStrategy = mandatory => {\n  const parentStrategy = independentActiveStrategy(mandatory);\n  const strategy = {\n    activate: _ref2 => {\n      let {\n        activated,\n        id,\n        ...rest\n      } = _ref2;\n      id = toRaw(id);\n      const singleSelected = activated.has(id) ? new Set([id]) : new Set();\n      return parentStrategy.activate({\n        ...rest,\n        id,\n        activated: singleSelected\n      });\n    },\n    in: (v, children, parents) => {\n      let set = new Set();\n      if (v != null) {\n        const arr = wrapInArray(v);\n        if (arr.length) {\n          set = parentStrategy.in(arr.slice(0, 1), children, parents);\n        }\n      }\n      return set;\n    },\n    out: (v, children, parents) => {\n      return parentStrategy.out(v, children, parents);\n    }\n  };\n  return strategy;\n};\nexport const leafActiveStrategy = mandatory => {\n  const parentStrategy = independentActiveStrategy(mandatory);\n  const strategy = {\n    activate: _ref3 => {\n      let {\n        id,\n        activated,\n        children,\n        ...rest\n      } = _ref3;\n      id = toRaw(id);\n      if (children.has(id)) return activated;\n      return parentStrategy.activate({\n        id,\n        activated,\n        children,\n        ...rest\n      });\n    },\n    in: parentStrategy.in,\n    out: parentStrategy.out\n  };\n  return strategy;\n};\nexport const leafSingleActiveStrategy = mandatory => {\n  const parentStrategy = independentSingleActiveStrategy(mandatory);\n  const strategy = {\n    activate: _ref4 => {\n      let {\n        id,\n        activated,\n        children,\n        ...rest\n      } = _ref4;\n      id = toRaw(id);\n      if (children.has(id)) return activated;\n      return parentStrategy.activate({\n        id,\n        activated,\n        children,\n        ...rest\n      });\n    },\n    in: parentStrategy.in,\n    out: parentStrategy.out\n  };\n  return strategy;\n};\n//# sourceMappingURL=activeStrategies.mjs.map","export const singleOpenStrategy = {\n  open: _ref => {\n    let {\n      id,\n      value,\n      opened,\n      parents\n    } = _ref;\n    if (value) {\n      const newOpened = new Set();\n      newOpened.add(id);\n      let parent = parents.get(id);\n      while (parent != null) {\n        newOpened.add(parent);\n        parent = parents.get(parent);\n      }\n      return newOpened;\n    } else {\n      opened.delete(id);\n      return opened;\n    }\n  },\n  select: () => null\n};\nexport const multipleOpenStrategy = {\n  open: _ref2 => {\n    let {\n      id,\n      value,\n      opened,\n      parents\n    } = _ref2;\n    if (value) {\n      let parent = parents.get(id);\n      opened.add(id);\n      while (parent != null && parent !== id) {\n        opened.add(parent);\n        parent = parents.get(parent);\n      }\n      return opened;\n    } else {\n      opened.delete(id);\n    }\n    return opened;\n  },\n  select: () => null\n};\nexport const listOpenStrategy = {\n  open: multipleOpenStrategy.open,\n  select: _ref3 => {\n    let {\n      id,\n      value,\n      opened,\n      parents\n    } = _ref3;\n    if (!value) return opened;\n    const path = [];\n    let parent = parents.get(id);\n    while (parent != null) {\n      path.push(parent);\n      parent = parents.get(parent);\n    }\n    return new Set(path);\n  }\n};\n//# sourceMappingURL=openStrategies.mjs.map","/* eslint-disable sonarjs/no-identical-functions */\n// Utilities\nimport { toRaw } from 'vue';\nexport const independentSelectStrategy = mandatory => {\n  const strategy = {\n    select: _ref => {\n      let {\n        id,\n        value,\n        selected\n      } = _ref;\n      id = toRaw(id);\n\n      // When mandatory and we're trying to deselect when id\n      // is the only currently selected item then do nothing\n      if (mandatory && !value) {\n        const on = Array.from(selected.entries()).reduce((arr, _ref2) => {\n          let [key, value] = _ref2;\n          if (value === 'on') arr.push(key);\n          return arr;\n        }, []);\n        if (on.length === 1 && on[0] === id) return selected;\n      }\n      selected.set(id, value ? 'on' : 'off');\n      return selected;\n    },\n    in: (v, children, parents) => {\n      let map = new Map();\n      for (const id of v || []) {\n        map = strategy.select({\n          id,\n          value: true,\n          selected: new Map(map),\n          children,\n          parents\n        });\n      }\n      return map;\n    },\n    out: v => {\n      const arr = [];\n      for (const [key, value] of v.entries()) {\n        if (value === 'on') arr.push(key);\n      }\n      return arr;\n    }\n  };\n  return strategy;\n};\nexport const independentSingleSelectStrategy = mandatory => {\n  const parentStrategy = independentSelectStrategy(mandatory);\n  const strategy = {\n    select: _ref3 => {\n      let {\n        selected,\n        id,\n        ...rest\n      } = _ref3;\n      id = toRaw(id);\n      const singleSelected = selected.has(id) ? new Map([[id, selected.get(id)]]) : new Map();\n      return parentStrategy.select({\n        ...rest,\n        id,\n        selected: singleSelected\n      });\n    },\n    in: (v, children, parents) => {\n      let map = new Map();\n      if (v?.length) {\n        map = parentStrategy.in(v.slice(0, 1), children, parents);\n      }\n      return map;\n    },\n    out: (v, children, parents) => {\n      return parentStrategy.out(v, children, parents);\n    }\n  };\n  return strategy;\n};\nexport const leafSelectStrategy = mandatory => {\n  const parentStrategy = independentSelectStrategy(mandatory);\n  const strategy = {\n    select: _ref4 => {\n      let {\n        id,\n        selected,\n        children,\n        ...rest\n      } = _ref4;\n      id = toRaw(id);\n      if (children.has(id)) return selected;\n      return parentStrategy.select({\n        id,\n        selected,\n        children,\n        ...rest\n      });\n    },\n    in: parentStrategy.in,\n    out: parentStrategy.out\n  };\n  return strategy;\n};\nexport const leafSingleSelectStrategy = mandatory => {\n  const parentStrategy = independentSingleSelectStrategy(mandatory);\n  const strategy = {\n    select: _ref5 => {\n      let {\n        id,\n        selected,\n        children,\n        ...rest\n      } = _ref5;\n      id = toRaw(id);\n      if (children.has(id)) return selected;\n      return parentStrategy.select({\n        id,\n        selected,\n        children,\n        ...rest\n      });\n    },\n    in: parentStrategy.in,\n    out: parentStrategy.out\n  };\n  return strategy;\n};\nexport const classicSelectStrategy = mandatory => {\n  const strategy = {\n    select: _ref6 => {\n      let {\n        id,\n        value,\n        selected,\n        children,\n        parents\n      } = _ref6;\n      id = toRaw(id);\n      const original = new Map(selected);\n      const items = [id];\n      while (items.length) {\n        const item = items.shift();\n        selected.set(toRaw(item), value ? 'on' : 'off');\n        if (children.has(item)) {\n          items.push(...children.get(item));\n        }\n      }\n      let parent = toRaw(parents.get(id));\n      while (parent) {\n        const childrenIds = children.get(parent);\n        const everySelected = childrenIds.every(cid => selected.get(toRaw(cid)) === 'on');\n        const noneSelected = childrenIds.every(cid => !selected.has(toRaw(cid)) || selected.get(toRaw(cid)) === 'off');\n        selected.set(parent, everySelected ? 'on' : noneSelected ? 'off' : 'indeterminate');\n        parent = toRaw(parents.get(parent));\n      }\n\n      // If mandatory and planned deselect results in no selected\n      // items then we can't do it, so return original state\n      if (mandatory && !value) {\n        const on = Array.from(selected.entries()).reduce((arr, _ref7) => {\n          let [key, value] = _ref7;\n          if (value === 'on') arr.push(key);\n          return arr;\n        }, []);\n        if (on.length === 0) return original;\n      }\n      return selected;\n    },\n    in: (v, children, parents) => {\n      let map = new Map();\n      for (const id of v || []) {\n        map = strategy.select({\n          id,\n          value: true,\n          selected: new Map(map),\n          children,\n          parents\n        });\n      }\n      return map;\n    },\n    out: (v, children) => {\n      const arr = [];\n      for (const [key, value] of v.entries()) {\n        if (value === 'on' && !children.has(key)) arr.push(key);\n      }\n      return arr;\n    }\n  };\n  return strategy;\n};\n//# sourceMappingURL=selectStrategies.mjs.map","// Composables\nimport { useProxiedModel } from \"../proxiedModel.mjs\"; // Utilities\nimport { computed, inject, onBeforeMount, onBeforeUnmount, provide, ref, shallowRef, toRaw, toRef } from 'vue';\nimport { independentActiveStrategy, independentSingleActiveStrategy, leafActiveStrategy, leafSingleActiveStrategy } from \"./activeStrategies.mjs\";\nimport { listOpenStrategy, multipleOpenStrategy, singleOpenStrategy } from \"./openStrategies.mjs\";\nimport { classicSelectStrategy, independentSelectStrategy, independentSingleSelectStrategy, leafSelectStrategy, leafSingleSelectStrategy } from \"./selectStrategies.mjs\";\nimport { consoleError, getCurrentInstance, getUid, propsFactory } from \"../../util/index.mjs\"; // Types\nexport const VNestedSymbol = Symbol.for('vuetify:nested');\nexport const emptyNested = {\n  id: shallowRef(),\n  root: {\n    register: () => null,\n    unregister: () => null,\n    parents: ref(new Map()),\n    children: ref(new Map()),\n    open: () => null,\n    openOnSelect: () => null,\n    activate: () => null,\n    select: () => null,\n    activatable: ref(false),\n    selectable: ref(false),\n    opened: ref(new Set()),\n    activated: ref(new Set()),\n    selected: ref(new Map()),\n    selectedValues: ref([]),\n    getPath: () => []\n  }\n};\nexport const makeNestedProps = propsFactory({\n  activatable: Boolean,\n  selectable: Boolean,\n  activeStrategy: [String, Function, Object],\n  selectStrategy: [String, Function, Object],\n  openStrategy: [String, Object],\n  opened: null,\n  activated: null,\n  selected: null,\n  mandatory: Boolean\n}, 'nested');\nexport const useNested = props => {\n  let isUnmounted = false;\n  const children = ref(new Map());\n  const parents = ref(new Map());\n  const opened = useProxiedModel(props, 'opened', props.opened, v => new Set(v), v => [...v.values()]);\n  const activeStrategy = computed(() => {\n    if (typeof props.activeStrategy === 'object') return props.activeStrategy;\n    if (typeof props.activeStrategy === 'function') return props.activeStrategy(props.mandatory);\n    switch (props.activeStrategy) {\n      case 'leaf':\n        return leafActiveStrategy(props.mandatory);\n      case 'single-leaf':\n        return leafSingleActiveStrategy(props.mandatory);\n      case 'independent':\n        return independentActiveStrategy(props.mandatory);\n      case 'single-independent':\n      default:\n        return independentSingleActiveStrategy(props.mandatory);\n    }\n  });\n  const selectStrategy = computed(() => {\n    if (typeof props.selectStrategy === 'object') return props.selectStrategy;\n    if (typeof props.selectStrategy === 'function') return props.selectStrategy(props.mandatory);\n    switch (props.selectStrategy) {\n      case 'single-leaf':\n        return leafSingleSelectStrategy(props.mandatory);\n      case 'leaf':\n        return leafSelectStrategy(props.mandatory);\n      case 'independent':\n        return independentSelectStrategy(props.mandatory);\n      case 'single-independent':\n        return independentSingleSelectStrategy(props.mandatory);\n      case 'classic':\n      default:\n        return classicSelectStrategy(props.mandatory);\n    }\n  });\n  const openStrategy = computed(() => {\n    if (typeof props.openStrategy === 'object') return props.openStrategy;\n    switch (props.openStrategy) {\n      case 'list':\n        return listOpenStrategy;\n      case 'single':\n        return singleOpenStrategy;\n      case 'multiple':\n      default:\n        return multipleOpenStrategy;\n    }\n  });\n  const activated = useProxiedModel(props, 'activated', props.activated, v => activeStrategy.value.in(v, children.value, parents.value), v => activeStrategy.value.out(v, children.value, parents.value));\n  const selected = useProxiedModel(props, 'selected', props.selected, v => selectStrategy.value.in(v, children.value, parents.value), v => selectStrategy.value.out(v, children.value, parents.value));\n  onBeforeUnmount(() => {\n    isUnmounted = true;\n  });\n  function getPath(id) {\n    const path = [];\n    let parent = id;\n    while (parent != null) {\n      path.unshift(parent);\n      parent = parents.value.get(parent);\n    }\n    return path;\n  }\n  const vm = getCurrentInstance('nested');\n  const nodeIds = new Set();\n  const nested = {\n    id: shallowRef(),\n    root: {\n      opened,\n      activatable: toRef(props, 'activatable'),\n      selectable: toRef(props, 'selectable'),\n      activated,\n      selected,\n      selectedValues: computed(() => {\n        const arr = [];\n        for (const [key, value] of selected.value.entries()) {\n          if (value === 'on') arr.push(key);\n        }\n        return arr;\n      }),\n      register: (id, parentId, isGroup) => {\n        if (nodeIds.has(id)) {\n          const path = getPath(id).map(String).join(' -> ');\n          const newPath = getPath(parentId).concat(id).map(String).join(' -> ');\n          consoleError(`Multiple nodes with the same ID\\n\\t${path}\\n\\t${newPath}`);\n          return;\n        } else {\n          nodeIds.add(id);\n        }\n        parentId && id !== parentId && parents.value.set(id, parentId);\n        isGroup && children.value.set(id, []);\n        if (parentId != null) {\n          children.value.set(parentId, [...(children.value.get(parentId) || []), id]);\n        }\n      },\n      unregister: id => {\n        if (isUnmounted) return;\n        nodeIds.delete(id);\n        children.value.delete(id);\n        const parent = parents.value.get(id);\n        if (parent) {\n          const list = children.value.get(parent) ?? [];\n          children.value.set(parent, list.filter(child => child !== id));\n        }\n        parents.value.delete(id);\n      },\n      open: (id, value, event) => {\n        vm.emit('click:open', {\n          id,\n          value,\n          path: getPath(id),\n          event\n        });\n        const newOpened = openStrategy.value.open({\n          id,\n          value,\n          opened: new Set(opened.value),\n          children: children.value,\n          parents: parents.value,\n          event\n        });\n        newOpened && (opened.value = newOpened);\n      },\n      openOnSelect: (id, value, event) => {\n        const newOpened = openStrategy.value.select({\n          id,\n          value,\n          selected: new Map(selected.value),\n          opened: new Set(opened.value),\n          children: children.value,\n          parents: parents.value,\n          event\n        });\n        newOpened && (opened.value = newOpened);\n      },\n      select: (id, value, event) => {\n        vm.emit('click:select', {\n          id,\n          value,\n          path: getPath(id),\n          event\n        });\n        const newSelected = selectStrategy.value.select({\n          id,\n          value,\n          selected: new Map(selected.value),\n          children: children.value,\n          parents: parents.value,\n          event\n        });\n        newSelected && (selected.value = newSelected);\n        nested.root.openOnSelect(id, value, event);\n      },\n      activate: (id, value, event) => {\n        if (!props.activatable) {\n          return nested.root.select(id, true, event);\n        }\n        vm.emit('click:activate', {\n          id,\n          value,\n          path: getPath(id),\n          event\n        });\n        const newActivated = activeStrategy.value.activate({\n          id,\n          value,\n          activated: new Set(activated.value),\n          children: children.value,\n          parents: parents.value,\n          event\n        });\n        newActivated && (activated.value = newActivated);\n      },\n      children,\n      parents,\n      getPath\n    }\n  };\n  provide(VNestedSymbol, nested);\n  return nested.root;\n};\nexport const useNestedItem = (id, isGroup) => {\n  const parent = inject(VNestedSymbol, emptyNested);\n  const uidSymbol = Symbol(getUid());\n  const computedId = computed(() => id.value !== undefined ? id.value : uidSymbol);\n  const item = {\n    ...parent,\n    id: computedId,\n    open: (open, e) => parent.root.open(computedId.value, open, e),\n    openOnSelect: (open, e) => parent.root.openOnSelect(computedId.value, open, e),\n    isOpen: computed(() => parent.root.opened.value.has(computedId.value)),\n    parent: computed(() => parent.root.parents.value.get(computedId.value)),\n    activate: (activated, e) => parent.root.activate(computedId.value, activated, e),\n    isActivated: computed(() => parent.root.activated.value.has(toRaw(computedId.value))),\n    select: (selected, e) => parent.root.select(computedId.value, selected, e),\n    isSelected: computed(() => parent.root.selected.value.get(toRaw(computedId.value)) === 'on'),\n    isIndeterminate: computed(() => parent.root.selected.value.get(toRaw(computedId.value)) === 'indeterminate'),\n    isLeaf: computed(() => !parent.root.children.value.get(computedId.value)),\n    isGroupActivator: parent.isGroupActivator\n  };\n  onBeforeMount(() => {\n    !parent.isGroupActivator && parent.root.register(computedId.value, parent.id.value, isGroup);\n  });\n  onBeforeUnmount(() => {\n    !parent.isGroupActivator && parent.root.unregister(computedId.value);\n  });\n  isGroup && provide(VNestedSymbol, item);\n  return item;\n};\nexport const useNestedGroupActivator = () => {\n  const parent = inject(VNestedSymbol, emptyNested);\n  provide(VNestedSymbol, {\n    ...parent,\n    isGroupActivator: true\n  });\n};\n//# sourceMappingURL=nested.mjs.map","import { withDirectives as _withDirectives, vShow as _vShow, createVNode as _createVNode } from \"vue\";\n// Components\nimport { VExpandTransition } from \"../transitions/index.mjs\";\nimport { VDefaultsProvider } from \"../VDefaultsProvider/index.mjs\"; // Composables\nimport { useList } from \"./list.mjs\";\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { IconValue } from \"../../composables/icons.mjs\";\nimport { useNestedGroupActivator, useNestedItem } from \"../../composables/nested/nested.mjs\";\nimport { useSsrBoot } from \"../../composables/ssrBoot.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\";\nimport { MaybeTransition } from \"../../composables/transition.mjs\"; // Utilities\nimport { computed, toRef } from 'vue';\nimport { defineComponent, genericComponent, propsFactory, useRender } from \"../../util/index.mjs\";\nconst VListGroupActivator = defineComponent({\n  name: 'VListGroupActivator',\n  setup(_, _ref) {\n    let {\n      slots\n    } = _ref;\n    useNestedGroupActivator();\n    return () => slots.default?.();\n  }\n});\nexport const makeVListGroupProps = propsFactory({\n  /* @deprecated */\n  activeColor: String,\n  baseColor: String,\n  color: String,\n  collapseIcon: {\n    type: IconValue,\n    default: '$collapse'\n  },\n  expandIcon: {\n    type: IconValue,\n    default: '$expand'\n  },\n  prependIcon: IconValue,\n  appendIcon: IconValue,\n  fluid: Boolean,\n  subgroup: Boolean,\n  title: String,\n  value: null,\n  ...makeComponentProps(),\n  ...makeTagProps()\n}, 'VListGroup');\nexport const VListGroup = genericComponent()({\n  name: 'VListGroup',\n  props: makeVListGroupProps(),\n  setup(props, _ref2) {\n    let {\n      slots\n    } = _ref2;\n    const {\n      isOpen,\n      open,\n      id: _id\n    } = useNestedItem(toRef(props, 'value'), true);\n    const id = computed(() => `v-list-group--id-${String(_id.value)}`);\n    const list = useList();\n    const {\n      isBooted\n    } = useSsrBoot();\n    function onClick(e) {\n      e.stopPropagation();\n      open(!isOpen.value, e);\n    }\n    const activatorProps = computed(() => ({\n      onClick,\n      class: 'v-list-group__header',\n      id: id.value\n    }));\n    const toggleIcon = computed(() => isOpen.value ? props.collapseIcon : props.expandIcon);\n    const activatorDefaults = computed(() => ({\n      VListItem: {\n        active: isOpen.value,\n        activeColor: props.activeColor,\n        baseColor: props.baseColor,\n        color: props.color,\n        prependIcon: props.prependIcon || props.subgroup && toggleIcon.value,\n        appendIcon: props.appendIcon || !props.subgroup && toggleIcon.value,\n        title: props.title,\n        value: props.value\n      }\n    }));\n    useRender(() => _createVNode(props.tag, {\n      \"class\": ['v-list-group', {\n        'v-list-group--prepend': list?.hasPrepend.value,\n        'v-list-group--fluid': props.fluid,\n        'v-list-group--subgroup': props.subgroup,\n        'v-list-group--open': isOpen.value\n      }, props.class],\n      \"style\": props.style\n    }, {\n      default: () => [slots.activator && _createVNode(VDefaultsProvider, {\n        \"defaults\": activatorDefaults.value\n      }, {\n        default: () => [_createVNode(VListGroupActivator, null, {\n          default: () => [slots.activator({\n            props: activatorProps.value,\n            isOpen: isOpen.value\n          })]\n        })]\n      }), _createVNode(MaybeTransition, {\n        \"transition\": {\n          component: VExpandTransition\n        },\n        \"disabled\": !isBooted.value\n      }, {\n        default: () => [_withDirectives(_createVNode(\"div\", {\n          \"class\": \"v-list-group__items\",\n          \"role\": \"group\",\n          \"aria-labelledby\": id.value\n        }, [slots.default?.()]), [[_vShow, isOpen.value]])]\n      })]\n    }));\n    return {\n      isOpen\n    };\n  }\n});\n//# sourceMappingURL=VListGroup.mjs.map","import { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\n// Composables\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\"; // Utilities\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.mjs\";\nexport const makeVListItemSubtitleProps = propsFactory({\n  opacity: [Number, String],\n  ...makeComponentProps(),\n  ...makeTagProps()\n}, 'VListItemSubtitle');\nexport const VListItemSubtitle = genericComponent()({\n  name: 'VListItemSubtitle',\n  props: makeVListItemSubtitleProps(),\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    useRender(() => _createVNode(props.tag, {\n      \"class\": ['v-list-item-subtitle', props.class],\n      \"style\": [{\n        '--v-list-item-subtitle-opacity': props.opacity\n      }, props.style]\n    }, slots));\n    return {};\n  }\n});\n//# sourceMappingURL=VListItemSubtitle.mjs.map","// Utilities\nimport { createSimpleFunctional } from \"../../util/index.mjs\";\nexport const VListItemTitle = createSimpleFunctional('v-list-item-title');\n//# sourceMappingURL=VListItemTitle.mjs.map","import { createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VAvatar.css\";\n\n// Components\nimport { VDefaultsProvider } from \"../VDefaultsProvider/index.mjs\";\nimport { VIcon } from \"../VIcon/index.mjs\";\nimport { VImg } from \"../VImg/index.mjs\"; // Composables\nimport { makeBorderProps, useBorder } from \"../../composables/border.mjs\";\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { makeDensityProps, useDensity } from \"../../composables/density.mjs\";\nimport { IconValue } from \"../../composables/icons.mjs\";\nimport { makeRoundedProps, useRounded } from \"../../composables/rounded.mjs\";\nimport { makeSizeProps, useSize } from \"../../composables/size.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.mjs\";\nimport { genOverlays, makeVariantProps, useVariant } from \"../../composables/variant.mjs\"; // Utilities\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.mjs\";\nexport const makeVAvatarProps = propsFactory({\n  start: Boolean,\n  end: Boolean,\n  icon: IconValue,\n  image: String,\n  text: String,\n  ...makeBorderProps(),\n  ...makeComponentProps(),\n  ...makeDensityProps(),\n  ...makeRoundedProps(),\n  ...makeSizeProps(),\n  ...makeTagProps(),\n  ...makeThemeProps(),\n  ...makeVariantProps({\n    variant: 'flat'\n  })\n}, 'VAvatar');\nexport const VAvatar = genericComponent()({\n  name: 'VAvatar',\n  props: makeVAvatarProps(),\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const {\n      themeClasses\n    } = provideTheme(props);\n    const {\n      borderClasses\n    } = useBorder(props);\n    const {\n      colorClasses,\n      colorStyles,\n      variantClasses\n    } = useVariant(props);\n    const {\n      densityClasses\n    } = useDensity(props);\n    const {\n      roundedClasses\n    } = useRounded(props);\n    const {\n      sizeClasses,\n      sizeStyles\n    } = useSize(props);\n    useRender(() => _createVNode(props.tag, {\n      \"class\": ['v-avatar', {\n        'v-avatar--start': props.start,\n        'v-avatar--end': props.end\n      }, themeClasses.value, borderClasses.value, colorClasses.value, densityClasses.value, roundedClasses.value, sizeClasses.value, variantClasses.value, props.class],\n      \"style\": [colorStyles.value, sizeStyles.value, props.style]\n    }, {\n      default: () => [!slots.default ? props.image ? _createVNode(VImg, {\n        \"key\": \"image\",\n        \"src\": props.image,\n        \"alt\": \"\",\n        \"cover\": true\n      }, null) : props.icon ? _createVNode(VIcon, {\n        \"key\": \"icon\",\n        \"icon\": props.icon\n      }, null) : props.text : _createVNode(VDefaultsProvider, {\n        \"key\": \"content-defaults\",\n        \"defaults\": {\n          VImg: {\n            cover: true,\n            src: props.image\n          },\n          VIcon: {\n            icon: props.icon\n          }\n        }\n      }, {\n        default: () => [slots.default()]\n      }), genOverlays(false, 'v-avatar')]\n    }));\n    return {};\n  }\n});\n//# sourceMappingURL=VAvatar.mjs.map","import { withDirectives as _withDirectives, mergeProps as _mergeProps, resolveDirective as _resolveDirective, createVNode as _createVNode, Fragment as _Fragment } from \"vue\";\n// Styles\nimport \"./VListItem.css\";\n\n// Components\nimport { VListItemSubtitle } from \"./VListItemSubtitle.mjs\";\nimport { VListItemTitle } from \"./VListItemTitle.mjs\";\nimport { VAvatar } from \"../VAvatar/index.mjs\";\nimport { VDefaultsProvider } from \"../VDefaultsProvider/index.mjs\";\nimport { VIcon } from \"../VIcon/index.mjs\"; // Composables\nimport { useList } from \"./list.mjs\";\nimport { makeBorderProps, useBorder } from \"../../composables/border.mjs\";\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { makeDensityProps, useDensity } from \"../../composables/density.mjs\";\nimport { makeDimensionProps, useDimension } from \"../../composables/dimensions.mjs\";\nimport { makeElevationProps, useElevation } from \"../../composables/elevation.mjs\";\nimport { IconValue } from \"../../composables/icons.mjs\";\nimport { useNestedItem } from \"../../composables/nested/nested.mjs\";\nimport { makeRoundedProps, useRounded } from \"../../composables/rounded.mjs\";\nimport { makeRouterProps, useLink } from \"../../composables/router.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.mjs\";\nimport { genOverlays, makeVariantProps, useVariant } from \"../../composables/variant.mjs\"; // Directives\nimport { Ripple } from \"../../directives/ripple/index.mjs\"; // Utilities\nimport { computed, onBeforeMount, watch } from 'vue';\nimport { deprecate, EventProp, genericComponent, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nexport const makeVListItemProps = propsFactory({\n  active: {\n    type: Boolean,\n    default: undefined\n  },\n  activeClass: String,\n  /* @deprecated */\n  activeColor: String,\n  appendAvatar: String,\n  appendIcon: IconValue,\n  baseColor: String,\n  disabled: Boolean,\n  lines: [Boolean, String],\n  link: {\n    type: Boolean,\n    default: undefined\n  },\n  nav: Boolean,\n  prependAvatar: String,\n  prependIcon: IconValue,\n  ripple: {\n    type: [Boolean, Object],\n    default: true\n  },\n  slim: Boolean,\n  subtitle: [String, Number],\n  title: [String, Number],\n  value: null,\n  onClick: EventProp(),\n  onClickOnce: EventProp(),\n  ...makeBorderProps(),\n  ...makeComponentProps(),\n  ...makeDensityProps(),\n  ...makeDimensionProps(),\n  ...makeElevationProps(),\n  ...makeRoundedProps(),\n  ...makeRouterProps(),\n  ...makeTagProps(),\n  ...makeThemeProps(),\n  ...makeVariantProps({\n    variant: 'text'\n  })\n}, 'VListItem');\nexport const VListItem = genericComponent()({\n  name: 'VListItem',\n  directives: {\n    Ripple\n  },\n  props: makeVListItemProps(),\n  emits: {\n    click: e => true\n  },\n  setup(props, _ref) {\n    let {\n      attrs,\n      slots,\n      emit\n    } = _ref;\n    const link = useLink(props, attrs);\n    const id = computed(() => props.value === undefined ? link.href.value : props.value);\n    const {\n      activate,\n      isActivated,\n      select,\n      isOpen,\n      isSelected,\n      isIndeterminate,\n      isGroupActivator,\n      root,\n      parent,\n      openOnSelect,\n      id: uid\n    } = useNestedItem(id, false);\n    const list = useList();\n    const isActive = computed(() => props.active !== false && (props.active || link.isActive?.value || (root.activatable.value ? isActivated.value : isSelected.value)));\n    const isLink = computed(() => props.link !== false && link.isLink.value);\n    const isSelectable = computed(() => !!list && (root.selectable.value || root.activatable.value || props.value != null));\n    const isClickable = computed(() => !props.disabled && props.link !== false && (props.link || link.isClickable.value || isSelectable.value));\n    const roundedProps = computed(() => props.rounded || props.nav);\n    const color = computed(() => props.color ?? props.activeColor);\n    const variantProps = computed(() => ({\n      color: isActive.value ? color.value ?? props.baseColor : props.baseColor,\n      variant: props.variant\n    }));\n\n    // useNestedItem doesn't call register until beforeMount,\n    // so this can't be an immediate watcher as we don't know parent yet\n    watch(() => link.isActive?.value, val => {\n      if (!val) return;\n      handleActiveLink();\n    });\n    onBeforeMount(() => {\n      if (link.isActive?.value) handleActiveLink();\n    });\n    function handleActiveLink() {\n      if (parent.value != null) {\n        root.open(parent.value, true);\n      }\n      openOnSelect(true);\n    }\n    const {\n      themeClasses\n    } = provideTheme(props);\n    const {\n      borderClasses\n    } = useBorder(props);\n    const {\n      colorClasses,\n      colorStyles,\n      variantClasses\n    } = useVariant(variantProps);\n    const {\n      densityClasses\n    } = useDensity(props);\n    const {\n      dimensionStyles\n    } = useDimension(props);\n    const {\n      elevationClasses\n    } = useElevation(props);\n    const {\n      roundedClasses\n    } = useRounded(roundedProps);\n    const lineClasses = computed(() => props.lines ? `v-list-item--${props.lines}-line` : undefined);\n    const slotProps = computed(() => ({\n      isActive: isActive.value,\n      select,\n      isOpen: isOpen.value,\n      isSelected: isSelected.value,\n      isIndeterminate: isIndeterminate.value\n    }));\n    function onClick(e) {\n      emit('click', e);\n      if (!isClickable.value) return;\n      link.navigate?.(e);\n      if (isGroupActivator) return;\n      if (root.activatable.value) {\n        activate(!isActivated.value, e);\n      } else if (root.selectable.value) {\n        select(!isSelected.value, e);\n      } else if (props.value != null) {\n        select(!isSelected.value, e);\n      }\n    }\n    function onKeyDown(e) {\n      if (e.key === 'Enter' || e.key === ' ') {\n        e.preventDefault();\n        e.target.dispatchEvent(new MouseEvent('click', e));\n      }\n    }\n    useRender(() => {\n      const Tag = isLink.value ? 'a' : props.tag;\n      const hasTitle = slots.title || props.title != null;\n      const hasSubtitle = slots.subtitle || props.subtitle != null;\n      const hasAppendMedia = !!(props.appendAvatar || props.appendIcon);\n      const hasAppend = !!(hasAppendMedia || slots.append);\n      const hasPrependMedia = !!(props.prependAvatar || props.prependIcon);\n      const hasPrepend = !!(hasPrependMedia || slots.prepend);\n      list?.updateHasPrepend(hasPrepend);\n      if (props.activeColor) {\n        deprecate('active-color', ['color', 'base-color']);\n      }\n      return _withDirectives(_createVNode(Tag, _mergeProps({\n        \"class\": ['v-list-item', {\n          'v-list-item--active': isActive.value,\n          'v-list-item--disabled': props.disabled,\n          'v-list-item--link': isClickable.value,\n          'v-list-item--nav': props.nav,\n          'v-list-item--prepend': !hasPrepend && list?.hasPrepend.value,\n          'v-list-item--slim': props.slim,\n          [`${props.activeClass}`]: props.activeClass && isActive.value\n        }, themeClasses.value, borderClasses.value, colorClasses.value, densityClasses.value, elevationClasses.value, lineClasses.value, roundedClasses.value, variantClasses.value, props.class],\n        \"style\": [colorStyles.value, dimensionStyles.value, props.style],\n        \"tabindex\": isClickable.value ? list ? -2 : 0 : undefined,\n        \"aria-selected\": isSelectable.value ? root.activatable.value ? isActivated.value : root.selectable.value ? isSelected.value : isActive.value : undefined,\n        \"onClick\": onClick,\n        \"onKeydown\": isClickable.value && !isLink.value && onKeyDown\n      }, link.linkProps), {\n        default: () => [genOverlays(isClickable.value || isActive.value, 'v-list-item'), hasPrepend && _createVNode(\"div\", {\n          \"key\": \"prepend\",\n          \"class\": \"v-list-item__prepend\"\n        }, [!slots.prepend ? _createVNode(_Fragment, null, [props.prependAvatar && _createVNode(VAvatar, {\n          \"key\": \"prepend-avatar\",\n          \"density\": props.density,\n          \"image\": props.prependAvatar\n        }, null), props.prependIcon && _createVNode(VIcon, {\n          \"key\": \"prepend-icon\",\n          \"density\": props.density,\n          \"icon\": props.prependIcon\n        }, null)]) : _createVNode(VDefaultsProvider, {\n          \"key\": \"prepend-defaults\",\n          \"disabled\": !hasPrependMedia,\n          \"defaults\": {\n            VAvatar: {\n              density: props.density,\n              image: props.prependAvatar\n            },\n            VIcon: {\n              density: props.density,\n              icon: props.prependIcon\n            },\n            VListItemAction: {\n              start: true\n            }\n          }\n        }, {\n          default: () => [slots.prepend?.(slotProps.value)]\n        }), _createVNode(\"div\", {\n          \"class\": \"v-list-item__spacer\"\n        }, null)]), _createVNode(\"div\", {\n          \"class\": \"v-list-item__content\",\n          \"data-no-activator\": \"\"\n        }, [hasTitle && _createVNode(VListItemTitle, {\n          \"key\": \"title\"\n        }, {\n          default: () => [slots.title?.({\n            title: props.title\n          }) ?? props.title]\n        }), hasSubtitle && _createVNode(VListItemSubtitle, {\n          \"key\": \"subtitle\"\n        }, {\n          default: () => [slots.subtitle?.({\n            subtitle: props.subtitle\n          }) ?? props.subtitle]\n        }), slots.default?.(slotProps.value)]), hasAppend && _createVNode(\"div\", {\n          \"key\": \"append\",\n          \"class\": \"v-list-item__append\"\n        }, [!slots.append ? _createVNode(_Fragment, null, [props.appendIcon && _createVNode(VIcon, {\n          \"key\": \"append-icon\",\n          \"density\": props.density,\n          \"icon\": props.appendIcon\n        }, null), props.appendAvatar && _createVNode(VAvatar, {\n          \"key\": \"append-avatar\",\n          \"density\": props.density,\n          \"image\": props.appendAvatar\n        }, null)]) : _createVNode(VDefaultsProvider, {\n          \"key\": \"append-defaults\",\n          \"disabled\": !hasAppendMedia,\n          \"defaults\": {\n            VAvatar: {\n              density: props.density,\n              image: props.appendAvatar\n            },\n            VIcon: {\n              density: props.density,\n              icon: props.appendIcon\n            },\n            VListItemAction: {\n              end: true\n            }\n          }\n        }, {\n          default: () => [slots.append?.(slotProps.value)]\n        }), _createVNode(\"div\", {\n          \"class\": \"v-list-item__spacer\"\n        }, null)])]\n      }), [[_resolveDirective(\"ripple\"), isClickable.value && props.ripple]]);\n    });\n    return {\n      activate,\n      isActivated,\n      isGroupActivator,\n      isSelected,\n      list,\n      select,\n      root,\n      id: uid\n    };\n  }\n});\n//# sourceMappingURL=VListItem.mjs.map","import { createVNode as _createVNode } from \"vue\";\n// Composables\nimport { useTextColor } from \"../../composables/color.mjs\";\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\"; // Utilities\nimport { toRef } from 'vue';\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.mjs\";\nexport const makeVListSubheaderProps = propsFactory({\n  color: String,\n  inset: Boolean,\n  sticky: Boolean,\n  title: String,\n  ...makeComponentProps(),\n  ...makeTagProps()\n}, 'VListSubheader');\nexport const VListSubheader = genericComponent()({\n  name: 'VListSubheader',\n  props: makeVListSubheaderProps(),\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const {\n      textColorClasses,\n      textColorStyles\n    } = useTextColor(toRef(props, 'color'));\n    useRender(() => {\n      const hasText = !!(slots.default || props.title);\n      return _createVNode(props.tag, {\n        \"class\": ['v-list-subheader', {\n          'v-list-subheader--inset': props.inset,\n          'v-list-subheader--sticky': props.sticky\n        }, textColorClasses.value, props.class],\n        \"style\": [{\n          textColorStyles\n        }, props.style]\n      }, {\n        default: () => [hasText && _createVNode(\"div\", {\n          \"class\": \"v-list-subheader__text\"\n        }, [slots.default?.() ?? props.title])]\n      });\n    });\n    return {};\n  }\n});\n//# sourceMappingURL=VListSubheader.mjs.map","import { createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VDivider.css\";\n\n// Composables\nimport { useTextColor } from \"../../composables/color.mjs\";\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.mjs\"; // Utilities\nimport { computed, toRef } from 'vue';\nimport { convertToUnit, genericComponent, propsFactory, useRender } from \"../../util/index.mjs\";\nexport const makeVDividerProps = propsFactory({\n  color: String,\n  inset: Boolean,\n  length: [Number, String],\n  opacity: [Number, String],\n  thickness: [Number, String],\n  vertical: Boolean,\n  ...makeComponentProps(),\n  ...makeThemeProps()\n}, 'VDivider');\nexport const VDivider = genericComponent()({\n  name: 'VDivider',\n  props: makeVDividerProps(),\n  setup(props, _ref) {\n    let {\n      attrs,\n      slots\n    } = _ref;\n    const {\n      themeClasses\n    } = provideTheme(props);\n    const {\n      textColorClasses,\n      textColorStyles\n    } = useTextColor(toRef(props, 'color'));\n    const dividerStyles = computed(() => {\n      const styles = {};\n      if (props.length) {\n        styles[props.vertical ? 'height' : 'width'] = convertToUnit(props.length);\n      }\n      if (props.thickness) {\n        styles[props.vertical ? 'borderRightWidth' : 'borderTopWidth'] = convertToUnit(props.thickness);\n      }\n      return styles;\n    });\n    useRender(() => {\n      const divider = _createVNode(\"hr\", {\n        \"class\": [{\n          'v-divider': true,\n          'v-divider--inset': props.inset,\n          'v-divider--vertical': props.vertical\n        }, themeClasses.value, textColorClasses.value, props.class],\n        \"style\": [dividerStyles.value, textColorStyles.value, {\n          '--v-border-opacity': props.opacity\n        }, props.style],\n        \"aria-orientation\": !attrs.role || attrs.role === 'separator' ? props.vertical ? 'vertical' : 'horizontal' : undefined,\n        \"role\": `${attrs.role || 'separator'}`\n      }, null);\n      if (!slots.default) return divider;\n      return _createVNode(\"div\", {\n        \"class\": ['v-divider__wrapper', {\n          'v-divider__wrapper--vertical': props.vertical,\n          'v-divider__wrapper--inset': props.inset\n        }]\n      }, [divider, _createVNode(\"div\", {\n        \"class\": \"v-divider__content\"\n      }, [slots.default()]), divider]);\n    });\n    return {};\n  }\n});\n//# sourceMappingURL=VDivider.mjs.map","import { mergeProps as _mergeProps, resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\n// Components\nimport { VListGroup } from \"./VListGroup.mjs\";\nimport { VListItem } from \"./VListItem.mjs\";\nimport { VListSubheader } from \"./VListSubheader.mjs\";\nimport { VDivider } from \"../VDivider/index.mjs\"; // Utilities\nimport { createList } from \"./list.mjs\";\nimport { genericComponent, propsFactory } from \"../../util/index.mjs\"; // Types\nexport const makeVListChildrenProps = propsFactory({\n  items: Array,\n  returnObject: Boolean\n}, 'VListChildren');\nexport const VListChildren = genericComponent()({\n  name: 'VListChildren',\n  props: makeVListChildrenProps(),\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    createList();\n    return () => slots.default?.() ?? props.items?.map(_ref2 => {\n      let {\n        children,\n        props: itemProps,\n        type,\n        raw: item\n      } = _ref2;\n      if (type === 'divider') {\n        return slots.divider?.({\n          props: itemProps\n        }) ?? _createVNode(VDivider, itemProps, null);\n      }\n      if (type === 'subheader') {\n        return slots.subheader?.({\n          props: itemProps\n        }) ?? _createVNode(VListSubheader, itemProps, null);\n      }\n      const slotsWithItem = {\n        subtitle: slots.subtitle ? slotProps => slots.subtitle?.({\n          ...slotProps,\n          item\n        }) : undefined,\n        prepend: slots.prepend ? slotProps => slots.prepend?.({\n          ...slotProps,\n          item\n        }) : undefined,\n        append: slots.append ? slotProps => slots.append?.({\n          ...slotProps,\n          item\n        }) : undefined,\n        title: slots.title ? slotProps => slots.title?.({\n          ...slotProps,\n          item\n        }) : undefined\n      };\n      const listGroupProps = VListGroup.filterProps(itemProps);\n      return children ? _createVNode(VListGroup, _mergeProps({\n        \"value\": itemProps?.value\n      }, listGroupProps), {\n        activator: _ref3 => {\n          let {\n            props: activatorProps\n          } = _ref3;\n          const listItemProps = {\n            ...itemProps,\n            ...activatorProps,\n            value: props.returnObject ? item : itemProps.value\n          };\n          return slots.header ? slots.header({\n            props: listItemProps\n          }) : _createVNode(VListItem, listItemProps, slotsWithItem);\n        },\n        default: () => _createVNode(VListChildren, {\n          \"items\": children,\n          \"returnObject\": props.returnObject\n        }, slots)\n      }) : slots.item ? slots.item({\n        props: itemProps\n      }) : _createVNode(VListItem, _mergeProps(itemProps, {\n        \"value\": props.returnObject ? item : itemProps.value\n      }), slotsWithItem);\n    });\n  }\n});\n//# sourceMappingURL=VListChildren.mjs.map","// Utilities\nimport { computed } from 'vue';\nimport { deepEqual, getPropertyFromItem, omit, propsFactory } from \"../util/index.mjs\"; // Types\n// Composables\nexport const makeItemsProps = propsFactory({\n  items: {\n    type: Array,\n    default: () => []\n  },\n  itemTitle: {\n    type: [String, Array, Function],\n    default: 'title'\n  },\n  itemValue: {\n    type: [String, Array, Function],\n    default: 'value'\n  },\n  itemChildren: {\n    type: [Boolean, String, Array, Function],\n    default: 'children'\n  },\n  itemProps: {\n    type: [Boolean, String, Array, Function],\n    default: 'props'\n  },\n  returnObject: Boolean,\n  valueComparator: {\n    type: Function,\n    default: deepEqual\n  }\n}, 'list-items');\nexport function transformItem(props, item) {\n  const title = getPropertyFromItem(item, props.itemTitle, item);\n  const value = getPropertyFromItem(item, props.itemValue, title);\n  const children = getPropertyFromItem(item, props.itemChildren);\n  const itemProps = props.itemProps === true ? typeof item === 'object' && item != null && !Array.isArray(item) ? 'children' in item ? omit(item, ['children']) : item : undefined : getPropertyFromItem(item, props.itemProps);\n  const _props = {\n    title,\n    value,\n    ...itemProps\n  };\n  return {\n    title: String(_props.title ?? ''),\n    value: _props.value,\n    props: _props,\n    children: Array.isArray(children) ? transformItems(props, children) : undefined,\n    raw: item\n  };\n}\nexport function transformItems(props, items) {\n  const array = [];\n  for (const item of items) {\n    array.push(transformItem(props, item));\n  }\n  return array;\n}\nexport function useItems(props) {\n  const items = computed(() => transformItems(props, props.items));\n  const hasNullItem = computed(() => items.value.some(item => item.value === null));\n  function transformIn(value) {\n    if (!hasNullItem.value) {\n      // When the model value is null, return an InternalItem\n      // based on null only if null is one of the items\n      value = value.filter(v => v !== null);\n    }\n    return value.map(v => {\n      if (props.returnObject && typeof v === 'string') {\n        // String model value means value is a custom input value from combobox\n        // Don't look up existing items if the model value is a string\n        return transformItem(props, v);\n      }\n      return items.value.find(item => props.valueComparator(v, item.value)) || transformItem(props, v);\n    });\n  }\n  function transformOut(value) {\n    return props.returnObject ? value.map(_ref => {\n      let {\n        raw\n      } = _ref;\n      return raw;\n    }) : value.map(_ref2 => {\n      let {\n        value\n      } = _ref2;\n      return value;\n    });\n  }\n  return {\n    items,\n    transformIn,\n    transformOut\n  };\n}\n//# sourceMappingURL=list-items.mjs.map","import { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\n// Styles\nimport \"./VList.css\";\n\n// Components\nimport { VListChildren } from \"./VListChildren.mjs\"; // Composables\nimport { createList } from \"./list.mjs\";\nimport { makeBorderProps, useBorder } from \"../../composables/border.mjs\";\nimport { useBackgroundColor } from \"../../composables/color.mjs\";\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { provideDefaults } from \"../../composables/defaults.mjs\";\nimport { makeDensityProps, useDensity } from \"../../composables/density.mjs\";\nimport { makeDimensionProps, useDimension } from \"../../composables/dimensions.mjs\";\nimport { makeElevationProps, useElevation } from \"../../composables/elevation.mjs\";\nimport { IconValue } from \"../../composables/icons.mjs\";\nimport { makeItemsProps } from \"../../composables/list-items.mjs\";\nimport { makeNestedProps, useNested } from \"../../composables/nested/nested.mjs\";\nimport { makeRoundedProps, useRounded } from \"../../composables/rounded.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.mjs\";\nimport { makeVariantProps } from \"../../composables/variant.mjs\"; // Utilities\nimport { computed, ref, shallowRef, toRef } from 'vue';\nimport { EventProp, focusChild, genericComponent, getPropertyFromItem, omit, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nfunction isPrimitive(value) {\n  return typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean';\n}\nfunction transformItem(props, item) {\n  const type = getPropertyFromItem(item, props.itemType, 'item');\n  const title = isPrimitive(item) ? item : getPropertyFromItem(item, props.itemTitle);\n  const value = getPropertyFromItem(item, props.itemValue, undefined);\n  const children = getPropertyFromItem(item, props.itemChildren);\n  const itemProps = props.itemProps === true ? omit(item, ['children']) : getPropertyFromItem(item, props.itemProps);\n  const _props = {\n    title,\n    value,\n    ...itemProps\n  };\n  return {\n    type,\n    title: _props.title,\n    value: _props.value,\n    props: _props,\n    children: type === 'item' && children ? transformItems(props, children) : undefined,\n    raw: item\n  };\n}\nfunction transformItems(props, items) {\n  const array = [];\n  for (const item of items) {\n    array.push(transformItem(props, item));\n  }\n  return array;\n}\nexport function useListItems(props) {\n  const items = computed(() => transformItems(props, props.items));\n  return {\n    items\n  };\n}\nexport const makeVListProps = propsFactory({\n  baseColor: String,\n  /* @deprecated */\n  activeColor: String,\n  activeClass: String,\n  bgColor: String,\n  disabled: Boolean,\n  expandIcon: IconValue,\n  collapseIcon: IconValue,\n  lines: {\n    type: [Boolean, String],\n    default: 'one'\n  },\n  slim: Boolean,\n  nav: Boolean,\n  'onClick:open': EventProp(),\n  'onClick:select': EventProp(),\n  'onUpdate:opened': EventProp(),\n  ...makeNestedProps({\n    selectStrategy: 'single-leaf',\n    openStrategy: 'list'\n  }),\n  ...makeBorderProps(),\n  ...makeComponentProps(),\n  ...makeDensityProps(),\n  ...makeDimensionProps(),\n  ...makeElevationProps(),\n  itemType: {\n    type: String,\n    default: 'type'\n  },\n  ...makeItemsProps(),\n  ...makeRoundedProps(),\n  ...makeTagProps(),\n  ...makeThemeProps(),\n  ...makeVariantProps({\n    variant: 'text'\n  })\n}, 'VList');\nexport const VList = genericComponent()({\n  name: 'VList',\n  props: makeVListProps(),\n  emits: {\n    'update:selected': value => true,\n    'update:activated': value => true,\n    'update:opened': value => true,\n    'click:open': value => true,\n    'click:activate': value => true,\n    'click:select': value => true\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const {\n      items\n    } = useListItems(props);\n    const {\n      themeClasses\n    } = provideTheme(props);\n    const {\n      backgroundColorClasses,\n      backgroundColorStyles\n    } = useBackgroundColor(toRef(props, 'bgColor'));\n    const {\n      borderClasses\n    } = useBorder(props);\n    const {\n      densityClasses\n    } = useDensity(props);\n    const {\n      dimensionStyles\n    } = useDimension(props);\n    const {\n      elevationClasses\n    } = useElevation(props);\n    const {\n      roundedClasses\n    } = useRounded(props);\n    const {\n      children,\n      open,\n      parents,\n      select,\n      getPath\n    } = useNested(props);\n    const lineClasses = computed(() => props.lines ? `v-list--${props.lines}-line` : undefined);\n    const activeColor = toRef(props, 'activeColor');\n    const baseColor = toRef(props, 'baseColor');\n    const color = toRef(props, 'color');\n    createList();\n    provideDefaults({\n      VListGroup: {\n        activeColor,\n        baseColor,\n        color,\n        expandIcon: toRef(props, 'expandIcon'),\n        collapseIcon: toRef(props, 'collapseIcon')\n      },\n      VListItem: {\n        activeClass: toRef(props, 'activeClass'),\n        activeColor,\n        baseColor,\n        color,\n        density: toRef(props, 'density'),\n        disabled: toRef(props, 'disabled'),\n        lines: toRef(props, 'lines'),\n        nav: toRef(props, 'nav'),\n        slim: toRef(props, 'slim'),\n        variant: toRef(props, 'variant')\n      }\n    });\n    const isFocused = shallowRef(false);\n    const contentRef = ref();\n    function onFocusin(e) {\n      isFocused.value = true;\n    }\n    function onFocusout(e) {\n      isFocused.value = false;\n    }\n    function onFocus(e) {\n      if (!isFocused.value && !(e.relatedTarget && contentRef.value?.contains(e.relatedTarget))) focus();\n    }\n    function onKeydown(e) {\n      const target = e.target;\n      if (!contentRef.value || ['INPUT', 'TEXTAREA'].includes(target.tagName)) return;\n      if (e.key === 'ArrowDown') {\n        focus('next');\n      } else if (e.key === 'ArrowUp') {\n        focus('prev');\n      } else if (e.key === 'Home') {\n        focus('first');\n      } else if (e.key === 'End') {\n        focus('last');\n      } else {\n        return;\n      }\n      e.preventDefault();\n    }\n    function onMousedown(e) {\n      isFocused.value = true;\n    }\n    function focus(location) {\n      if (contentRef.value) {\n        return focusChild(contentRef.value, location);\n      }\n    }\n    useRender(() => {\n      return _createVNode(props.tag, {\n        \"ref\": contentRef,\n        \"class\": ['v-list', {\n          'v-list--disabled': props.disabled,\n          'v-list--nav': props.nav,\n          'v-list--slim': props.slim\n        }, themeClasses.value, backgroundColorClasses.value, borderClasses.value, densityClasses.value, elevationClasses.value, lineClasses.value, roundedClasses.value, props.class],\n        \"style\": [backgroundColorStyles.value, dimensionStyles.value, props.style],\n        \"tabindex\": props.disabled || isFocused.value ? -1 : 0,\n        \"role\": \"listbox\",\n        \"aria-activedescendant\": undefined,\n        \"onFocusin\": onFocusin,\n        \"onFocusout\": onFocusout,\n        \"onFocus\": onFocus,\n        \"onKeydown\": onKeydown,\n        \"onMousedown\": onMousedown\n      }, {\n        default: () => [_createVNode(VListChildren, {\n          \"items\": items.value,\n          \"returnObject\": props.returnObject\n        }, slots)]\n      });\n    });\n    return {\n      open,\n      select,\n      focus,\n      children,\n      parents,\n      getPath\n    };\n  }\n});\n//# sourceMappingURL=VList.mjs.map","// Types\n\n/** Convert a point in local space to viewport space */\nexport function elementToViewport(point, offset) {\n  return {\n    x: point.x + offset.x,\n    y: point.y + offset.y\n  };\n}\n\n/** Convert a point in viewport space to local space */\nexport function viewportToElement(point, offset) {\n  return {\n    x: point.x - offset.x,\n    y: point.y - offset.y\n  };\n}\n\n/** Get the difference between two points */\nexport function getOffset(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n\n/** Convert an anchor object to a point in local space */\nexport function anchorToPoint(anchor, box) {\n  if (anchor.side === 'top' || anchor.side === 'bottom') {\n    const {\n      side,\n      align\n    } = anchor;\n    const x = align === 'left' ? 0 : align === 'center' ? box.width / 2 : align === 'right' ? box.width : align;\n    const y = side === 'top' ? 0 : side === 'bottom' ? box.height : side;\n    return elementToViewport({\n      x,\n      y\n    }, box);\n  } else if (anchor.side === 'left' || anchor.side === 'right') {\n    const {\n      side,\n      align\n    } = anchor;\n    const x = side === 'left' ? 0 : side === 'right' ? box.width : side;\n    const y = align === 'top' ? 0 : align === 'center' ? box.height / 2 : align === 'bottom' ? box.height : align;\n    return elementToViewport({\n      x,\n      y\n    }, box);\n  }\n  return elementToViewport({\n    x: box.width / 2,\n    y: box.height / 2\n  }, box);\n}\n//# sourceMappingURL=point.mjs.map","// Composables\nimport { useToggleScope } from \"../../composables/toggleScope.mjs\"; // Utilities\nimport { computed, nextTick, onScopeDispose, ref, watch } from 'vue';\nimport { anchorToPoint, getOffset } from \"./util/point.mjs\";\nimport { clamp, consoleError, convertToUnit, destructComputed, flipAlign, flipCorner, flipSide, getAxis, getScrollParents, IN_BROWSER, isFixedPosition, nullifyTransforms, parseAnchor, propsFactory } from \"../../util/index.mjs\";\nimport { Box, getOverflow, getTargetBox } from \"../../util/box.mjs\"; // Types\nconst locationStrategies = {\n  static: staticLocationStrategy,\n  // specific viewport position, usually centered\n  connected: connectedLocationStrategy // connected to a certain element\n};\nexport const makeLocationStrategyProps = propsFactory({\n  locationStrategy: {\n    type: [String, Function],\n    default: 'static',\n    validator: val => typeof val === 'function' || val in locationStrategies\n  },\n  location: {\n    type: String,\n    default: 'bottom'\n  },\n  origin: {\n    type: String,\n    default: 'auto'\n  },\n  offset: [Number, String, Array]\n}, 'VOverlay-location-strategies');\nexport function useLocationStrategies(props, data) {\n  const contentStyles = ref({});\n  const updateLocation = ref();\n  if (IN_BROWSER) {\n    useToggleScope(() => !!(data.isActive.value && props.locationStrategy), reset => {\n      watch(() => props.locationStrategy, reset);\n      onScopeDispose(() => {\n        window.removeEventListener('resize', onResize);\n        updateLocation.value = undefined;\n      });\n      window.addEventListener('resize', onResize, {\n        passive: true\n      });\n      if (typeof props.locationStrategy === 'function') {\n        updateLocation.value = props.locationStrategy(data, props, contentStyles)?.updateLocation;\n      } else {\n        updateLocation.value = locationStrategies[props.locationStrategy](data, props, contentStyles)?.updateLocation;\n      }\n    });\n  }\n  function onResize(e) {\n    updateLocation.value?.(e);\n  }\n  return {\n    contentStyles,\n    updateLocation\n  };\n}\nfunction staticLocationStrategy() {\n  // TODO\n}\n\n/** Get size of element ignoring max-width/max-height */\nfunction getIntrinsicSize(el, isRtl) {\n  // const scrollables = new Map<Element, [number, number]>()\n  // el.querySelectorAll('*').forEach(el => {\n  //   const x = el.scrollLeft\n  //   const y = el.scrollTop\n  //   if (x || y) {\n  //     scrollables.set(el, [x, y])\n  //   }\n  // })\n\n  // const initialMaxWidth = el.style.maxWidth\n  // const initialMaxHeight = el.style.maxHeight\n  // el.style.removeProperty('max-width')\n  // el.style.removeProperty('max-height')\n\n  /* eslint-disable-next-line sonarjs/prefer-immediate-return */\n  const contentBox = nullifyTransforms(el);\n  if (isRtl) {\n    contentBox.x += parseFloat(el.style.right || 0);\n  } else {\n    contentBox.x -= parseFloat(el.style.left || 0);\n  }\n  contentBox.y -= parseFloat(el.style.top || 0);\n\n  // el.style.maxWidth = initialMaxWidth\n  // el.style.maxHeight = initialMaxHeight\n  // scrollables.forEach((position, el) => {\n  //   el.scrollTo(...position)\n  // })\n\n  return contentBox;\n}\nfunction connectedLocationStrategy(data, props, contentStyles) {\n  const activatorFixed = Array.isArray(data.target.value) || isFixedPosition(data.target.value);\n  if (activatorFixed) {\n    Object.assign(contentStyles.value, {\n      position: 'fixed',\n      top: 0,\n      [data.isRtl.value ? 'right' : 'left']: 0\n    });\n  }\n  const {\n    preferredAnchor,\n    preferredOrigin\n  } = destructComputed(() => {\n    const parsedAnchor = parseAnchor(props.location, data.isRtl.value);\n    const parsedOrigin = props.origin === 'overlap' ? parsedAnchor : props.origin === 'auto' ? flipSide(parsedAnchor) : parseAnchor(props.origin, data.isRtl.value);\n\n    // Some combinations of props may produce an invalid origin\n    if (parsedAnchor.side === parsedOrigin.side && parsedAnchor.align === flipAlign(parsedOrigin).align) {\n      return {\n        preferredAnchor: flipCorner(parsedAnchor),\n        preferredOrigin: flipCorner(parsedOrigin)\n      };\n    } else {\n      return {\n        preferredAnchor: parsedAnchor,\n        preferredOrigin: parsedOrigin\n      };\n    }\n  });\n  const [minWidth, minHeight, maxWidth, maxHeight] = ['minWidth', 'minHeight', 'maxWidth', 'maxHeight'].map(key => {\n    return computed(() => {\n      const val = parseFloat(props[key]);\n      return isNaN(val) ? Infinity : val;\n    });\n  });\n  const offset = computed(() => {\n    if (Array.isArray(props.offset)) {\n      return props.offset;\n    }\n    if (typeof props.offset === 'string') {\n      const offset = props.offset.split(' ').map(parseFloat);\n      if (offset.length < 2) offset.push(0);\n      return offset;\n    }\n    return typeof props.offset === 'number' ? [props.offset, 0] : [0, 0];\n  });\n  let observe = false;\n  const observer = new ResizeObserver(() => {\n    if (observe) updateLocation();\n  });\n  watch([data.target, data.contentEl], (_ref, _ref2) => {\n    let [newTarget, newContentEl] = _ref;\n    let [oldTarget, oldContentEl] = _ref2;\n    if (oldTarget && !Array.isArray(oldTarget)) observer.unobserve(oldTarget);\n    if (newTarget && !Array.isArray(newTarget)) observer.observe(newTarget);\n    if (oldContentEl) observer.unobserve(oldContentEl);\n    if (newContentEl) observer.observe(newContentEl);\n  }, {\n    immediate: true\n  });\n  onScopeDispose(() => {\n    observer.disconnect();\n  });\n\n  // eslint-disable-next-line max-statements\n  function updateLocation() {\n    observe = false;\n    requestAnimationFrame(() => observe = true);\n    if (!data.target.value || !data.contentEl.value) return;\n    const targetBox = getTargetBox(data.target.value);\n    const contentBox = getIntrinsicSize(data.contentEl.value, data.isRtl.value);\n    const scrollParents = getScrollParents(data.contentEl.value);\n    const viewportMargin = 12;\n    if (!scrollParents.length) {\n      scrollParents.push(document.documentElement);\n      if (!(data.contentEl.value.style.top && data.contentEl.value.style.left)) {\n        contentBox.x -= parseFloat(document.documentElement.style.getPropertyValue('--v-body-scroll-x') || 0);\n        contentBox.y -= parseFloat(document.documentElement.style.getPropertyValue('--v-body-scroll-y') || 0);\n      }\n    }\n    const viewport = scrollParents.reduce((box, el) => {\n      const rect = el.getBoundingClientRect();\n      const scrollBox = new Box({\n        x: el === document.documentElement ? 0 : rect.x,\n        y: el === document.documentElement ? 0 : rect.y,\n        width: el.clientWidth,\n        height: el.clientHeight\n      });\n      if (box) {\n        return new Box({\n          x: Math.max(box.left, scrollBox.left),\n          y: Math.max(box.top, scrollBox.top),\n          width: Math.min(box.right, scrollBox.right) - Math.max(box.left, scrollBox.left),\n          height: Math.min(box.bottom, scrollBox.bottom) - Math.max(box.top, scrollBox.top)\n        });\n      }\n      return scrollBox;\n    }, undefined);\n    viewport.x += viewportMargin;\n    viewport.y += viewportMargin;\n    viewport.width -= viewportMargin * 2;\n    viewport.height -= viewportMargin * 2;\n    let placement = {\n      anchor: preferredAnchor.value,\n      origin: preferredOrigin.value\n    };\n    function checkOverflow(_placement) {\n      const box = new Box(contentBox);\n      const targetPoint = anchorToPoint(_placement.anchor, targetBox);\n      const contentPoint = anchorToPoint(_placement.origin, box);\n      let {\n        x,\n        y\n      } = getOffset(targetPoint, contentPoint);\n      switch (_placement.anchor.side) {\n        case 'top':\n          y -= offset.value[0];\n          break;\n        case 'bottom':\n          y += offset.value[0];\n          break;\n        case 'left':\n          x -= offset.value[0];\n          break;\n        case 'right':\n          x += offset.value[0];\n          break;\n      }\n      switch (_placement.anchor.align) {\n        case 'top':\n          y -= offset.value[1];\n          break;\n        case 'bottom':\n          y += offset.value[1];\n          break;\n        case 'left':\n          x -= offset.value[1];\n          break;\n        case 'right':\n          x += offset.value[1];\n          break;\n      }\n      box.x += x;\n      box.y += y;\n      box.width = Math.min(box.width, maxWidth.value);\n      box.height = Math.min(box.height, maxHeight.value);\n      const overflows = getOverflow(box, viewport);\n      return {\n        overflows,\n        x,\n        y\n      };\n    }\n    let x = 0;\n    let y = 0;\n    const available = {\n      x: 0,\n      y: 0\n    };\n    const flipped = {\n      x: false,\n      y: false\n    };\n    let resets = -1;\n    while (true) {\n      if (resets++ > 10) {\n        consoleError('Infinite loop detected in connectedLocationStrategy');\n        break;\n      }\n      const {\n        x: _x,\n        y: _y,\n        overflows\n      } = checkOverflow(placement);\n      x += _x;\n      y += _y;\n      contentBox.x += _x;\n      contentBox.y += _y;\n\n      // flip\n      {\n        const axis = getAxis(placement.anchor);\n        const hasOverflowX = overflows.x.before || overflows.x.after;\n        const hasOverflowY = overflows.y.before || overflows.y.after;\n        let reset = false;\n        ['x', 'y'].forEach(key => {\n          if (key === 'x' && hasOverflowX && !flipped.x || key === 'y' && hasOverflowY && !flipped.y) {\n            const newPlacement = {\n              anchor: {\n                ...placement.anchor\n              },\n              origin: {\n                ...placement.origin\n              }\n            };\n            const flip = key === 'x' ? axis === 'y' ? flipAlign : flipSide : axis === 'y' ? flipSide : flipAlign;\n            newPlacement.anchor = flip(newPlacement.anchor);\n            newPlacement.origin = flip(newPlacement.origin);\n            const {\n              overflows: newOverflows\n            } = checkOverflow(newPlacement);\n            if (newOverflows[key].before <= overflows[key].before && newOverflows[key].after <= overflows[key].after || newOverflows[key].before + newOverflows[key].after < (overflows[key].before + overflows[key].after) / 2) {\n              placement = newPlacement;\n              reset = flipped[key] = true;\n            }\n          }\n        });\n        if (reset) continue;\n      }\n\n      // shift\n      if (overflows.x.before) {\n        x += overflows.x.before;\n        contentBox.x += overflows.x.before;\n      }\n      if (overflows.x.after) {\n        x -= overflows.x.after;\n        contentBox.x -= overflows.x.after;\n      }\n      if (overflows.y.before) {\n        y += overflows.y.before;\n        contentBox.y += overflows.y.before;\n      }\n      if (overflows.y.after) {\n        y -= overflows.y.after;\n        contentBox.y -= overflows.y.after;\n      }\n\n      // size\n      {\n        const overflows = getOverflow(contentBox, viewport);\n        available.x = viewport.width - overflows.x.before - overflows.x.after;\n        available.y = viewport.height - overflows.y.before - overflows.y.after;\n        x += overflows.x.before;\n        contentBox.x += overflows.x.before;\n        y += overflows.y.before;\n        contentBox.y += overflows.y.before;\n      }\n      break;\n    }\n    const axis = getAxis(placement.anchor);\n    Object.assign(contentStyles.value, {\n      '--v-overlay-anchor-origin': `${placement.anchor.side} ${placement.anchor.align}`,\n      transformOrigin: `${placement.origin.side} ${placement.origin.align}`,\n      // transform: `translate(${pixelRound(x)}px, ${pixelRound(y)}px)`,\n      top: convertToUnit(pixelRound(y)),\n      left: data.isRtl.value ? undefined : convertToUnit(pixelRound(x)),\n      right: data.isRtl.value ? convertToUnit(pixelRound(-x)) : undefined,\n      minWidth: convertToUnit(axis === 'y' ? Math.min(minWidth.value, targetBox.width) : minWidth.value),\n      maxWidth: convertToUnit(pixelCeil(clamp(available.x, minWidth.value === Infinity ? 0 : minWidth.value, maxWidth.value))),\n      maxHeight: convertToUnit(pixelCeil(clamp(available.y, minHeight.value === Infinity ? 0 : minHeight.value, maxHeight.value)))\n    });\n    return {\n      available,\n      contentBox\n    };\n  }\n  watch(() => [preferredAnchor.value, preferredOrigin.value, props.offset, props.minWidth, props.minHeight, props.maxWidth, props.maxHeight], () => updateLocation());\n  nextTick(() => {\n    const result = updateLocation();\n\n    // TODO: overflowing content should only require a single updateLocation call\n    // Icky hack to make sure the content is positioned consistently\n    if (!result) return;\n    const {\n      available,\n      contentBox\n    } = result;\n    if (contentBox.height > available.y) {\n      requestAnimationFrame(() => {\n        updateLocation();\n        requestAnimationFrame(() => {\n          updateLocation();\n        });\n      });\n    }\n  });\n  return {\n    updateLocation\n  };\n}\nfunction pixelRound(val) {\n  return Math.round(val * devicePixelRatio) / devicePixelRatio;\n}\nfunction pixelCeil(val) {\n  return Math.ceil(val * devicePixelRatio) / devicePixelRatio;\n}\n//# sourceMappingURL=locationStrategies.mjs.map","let clean = true;\nconst frames = [];\n\n/**\n * Schedule a task to run in an animation frame on its own\n * This is useful for heavy tasks that may cause jank if all ran together\n */\nexport function requestNewFrame(cb) {\n  if (!clean || frames.length) {\n    frames.push(cb);\n    run();\n  } else {\n    clean = false;\n    cb();\n    run();\n  }\n}\nlet raf = -1;\nfunction run() {\n  cancelAnimationFrame(raf);\n  raf = requestAnimationFrame(() => {\n    const frame = frames.shift();\n    if (frame) frame();\n    if (frames.length) run();else clean = true;\n  });\n}\n//# sourceMappingURL=requestNewFrame.mjs.map","// Utilities\nimport { effectScope, onScopeDispose, watchEffect } from 'vue';\nimport { requestNewFrame } from \"./requestNewFrame.mjs\";\nimport { convertToUnit, getScrollParents, hasScrollbar, IN_BROWSER, propsFactory } from \"../../util/index.mjs\"; // Types\nconst scrollStrategies = {\n  none: null,\n  close: closeScrollStrategy,\n  block: blockScrollStrategy,\n  reposition: repositionScrollStrategy\n};\nexport const makeScrollStrategyProps = propsFactory({\n  scrollStrategy: {\n    type: [String, Function],\n    default: 'block',\n    validator: val => typeof val === 'function' || val in scrollStrategies\n  }\n}, 'VOverlay-scroll-strategies');\nexport function useScrollStrategies(props, data) {\n  if (!IN_BROWSER) return;\n  let scope;\n  watchEffect(async () => {\n    scope?.stop();\n    if (!(data.isActive.value && props.scrollStrategy)) return;\n    scope = effectScope();\n    await new Promise(resolve => setTimeout(resolve));\n    scope.active && scope.run(() => {\n      if (typeof props.scrollStrategy === 'function') {\n        props.scrollStrategy(data, props, scope);\n      } else {\n        scrollStrategies[props.scrollStrategy]?.(data, props, scope);\n      }\n    });\n  });\n  onScopeDispose(() => {\n    scope?.stop();\n  });\n}\nfunction closeScrollStrategy(data) {\n  function onScroll(e) {\n    data.isActive.value = false;\n  }\n  bindScroll(data.targetEl.value ?? data.contentEl.value, onScroll);\n}\nfunction blockScrollStrategy(data, props) {\n  const offsetParent = data.root.value?.offsetParent;\n  const scrollElements = [...new Set([...getScrollParents(data.targetEl.value, props.contained ? offsetParent : undefined), ...getScrollParents(data.contentEl.value, props.contained ? offsetParent : undefined)])].filter(el => !el.classList.contains('v-overlay-scroll-blocked'));\n  const scrollbarWidth = window.innerWidth - document.documentElement.offsetWidth;\n  const scrollableParent = (el => hasScrollbar(el) && el)(offsetParent || document.documentElement);\n  if (scrollableParent) {\n    data.root.value.classList.add('v-overlay--scroll-blocked');\n  }\n  scrollElements.forEach((el, i) => {\n    el.style.setProperty('--v-body-scroll-x', convertToUnit(-el.scrollLeft));\n    el.style.setProperty('--v-body-scroll-y', convertToUnit(-el.scrollTop));\n    if (el !== document.documentElement) {\n      el.style.setProperty('--v-scrollbar-offset', convertToUnit(scrollbarWidth));\n    }\n    el.classList.add('v-overlay-scroll-blocked');\n  });\n  onScopeDispose(() => {\n    scrollElements.forEach((el, i) => {\n      const x = parseFloat(el.style.getPropertyValue('--v-body-scroll-x'));\n      const y = parseFloat(el.style.getPropertyValue('--v-body-scroll-y'));\n      const scrollBehavior = el.style.scrollBehavior;\n      el.style.scrollBehavior = 'auto';\n      el.style.removeProperty('--v-body-scroll-x');\n      el.style.removeProperty('--v-body-scroll-y');\n      el.style.removeProperty('--v-scrollbar-offset');\n      el.classList.remove('v-overlay-scroll-blocked');\n      el.scrollLeft = -x;\n      el.scrollTop = -y;\n      el.style.scrollBehavior = scrollBehavior;\n    });\n    if (scrollableParent) {\n      data.root.value.classList.remove('v-overlay--scroll-blocked');\n    }\n  });\n}\nfunction repositionScrollStrategy(data, props, scope) {\n  let slow = false;\n  let raf = -1;\n  let ric = -1;\n  function update(e) {\n    requestNewFrame(() => {\n      const start = performance.now();\n      data.updateLocation.value?.(e);\n      const time = performance.now() - start;\n      slow = time / (1000 / 60) > 2;\n    });\n  }\n  ric = (typeof requestIdleCallback === 'undefined' ? cb => cb() : requestIdleCallback)(() => {\n    scope.run(() => {\n      bindScroll(data.targetEl.value ?? data.contentEl.value, e => {\n        if (slow) {\n          // If the position calculation is slow,\n          // defer updates until scrolling is finished.\n          // Browsers usually fire one scroll event per frame so\n          // we just wait until we've got two frames without an event\n          cancelAnimationFrame(raf);\n          raf = requestAnimationFrame(() => {\n            raf = requestAnimationFrame(() => {\n              update(e);\n            });\n          });\n        } else {\n          update(e);\n        }\n      });\n    });\n  });\n  onScopeDispose(() => {\n    typeof cancelIdleCallback !== 'undefined' && cancelIdleCallback(ric);\n    cancelAnimationFrame(raf);\n  });\n}\n\n/** @private */\nfunction bindScroll(el, onScroll) {\n  const scrollElements = [document, ...getScrollParents(el)];\n  scrollElements.forEach(el => {\n    el.addEventListener('scroll', onScroll, {\n      passive: true\n    });\n  });\n  onScopeDispose(() => {\n    scrollElements.forEach(el => {\n      el.removeEventListener('scroll', onScroll);\n    });\n  });\n}\n//# sourceMappingURL=scrollStrategies.mjs.map","// Types\n\nexport const VMenuSymbol = Symbol.for('vuetify:v-menu');\n//# sourceMappingURL=shared.mjs.map","// Utilities\nimport { defer, propsFactory } from \"../util/index.mjs\"; // Types\n// Composables\nexport const makeDelayProps = propsFactory({\n  closeDelay: [Number, String],\n  openDelay: [Number, String]\n}, 'delay');\nexport function useDelay(props, cb) {\n  let clearDelay = () => {};\n  function runDelay(isOpening) {\n    clearDelay?.();\n    const delay = Number(isOpening ? props.openDelay : props.closeDelay);\n    return new Promise(resolve => {\n      clearDelay = defer(delay, () => {\n        cb?.(isOpening);\n        resolve(isOpening);\n      });\n    });\n  }\n  function runOpenDelay() {\n    return runDelay(true);\n  }\n  function runCloseDelay() {\n    return runDelay(false);\n  }\n  return {\n    clearDelay,\n    runOpenDelay,\n    runCloseDelay\n  };\n}\n//# sourceMappingURL=delay.mjs.map","// Components\nimport { VMenuSymbol } from \"../VMenu/shared.mjs\"; // Composables\nimport { makeDelayProps, useDelay } from \"../../composables/delay.mjs\"; // Utilities\nimport { computed, effectScope, inject, mergeProps, nextTick, onScopeDispose, ref, watch, watchEffect } from 'vue';\nimport { bindProps, getCurrentInstance, IN_BROWSER, matchesSelector, propsFactory, templateRef, unbindProps } from \"../../util/index.mjs\"; // Types\nexport const makeActivatorProps = propsFactory({\n  target: [String, Object],\n  activator: [String, Object],\n  activatorProps: {\n    type: Object,\n    default: () => ({})\n  },\n  openOnClick: {\n    type: Boolean,\n    default: undefined\n  },\n  openOnHover: Boolean,\n  openOnFocus: {\n    type: Boolean,\n    default: undefined\n  },\n  closeOnContentClick: Boolean,\n  ...makeDelayProps()\n}, 'VOverlay-activator');\nexport function useActivator(props, _ref) {\n  let {\n    isActive,\n    isTop,\n    contentEl\n  } = _ref;\n  const vm = getCurrentInstance('useActivator');\n  const activatorEl = ref();\n  let isHovered = false;\n  let isFocused = false;\n  let firstEnter = true;\n  const openOnFocus = computed(() => props.openOnFocus || props.openOnFocus == null && props.openOnHover);\n  const openOnClick = computed(() => props.openOnClick || props.openOnClick == null && !props.openOnHover && !openOnFocus.value);\n  const {\n    runOpenDelay,\n    runCloseDelay\n  } = useDelay(props, value => {\n    if (value === (props.openOnHover && isHovered || openOnFocus.value && isFocused) && !(props.openOnHover && isActive.value && !isTop.value)) {\n      if (isActive.value !== value) {\n        firstEnter = true;\n      }\n      isActive.value = value;\n    }\n  });\n  const cursorTarget = ref();\n  const availableEvents = {\n    onClick: e => {\n      e.stopPropagation();\n      activatorEl.value = e.currentTarget || e.target;\n      if (!isActive.value) {\n        cursorTarget.value = [e.clientX, e.clientY];\n      }\n      isActive.value = !isActive.value;\n    },\n    onMouseenter: e => {\n      if (e.sourceCapabilities?.firesTouchEvents) return;\n      isHovered = true;\n      activatorEl.value = e.currentTarget || e.target;\n      runOpenDelay();\n    },\n    onMouseleave: e => {\n      isHovered = false;\n      runCloseDelay();\n    },\n    onFocus: e => {\n      if (matchesSelector(e.target, ':focus-visible') === false) return;\n      isFocused = true;\n      e.stopPropagation();\n      activatorEl.value = e.currentTarget || e.target;\n      runOpenDelay();\n    },\n    onBlur: e => {\n      isFocused = false;\n      e.stopPropagation();\n      runCloseDelay();\n    }\n  };\n  const activatorEvents = computed(() => {\n    const events = {};\n    if (openOnClick.value) {\n      events.onClick = availableEvents.onClick;\n    }\n    if (props.openOnHover) {\n      events.onMouseenter = availableEvents.onMouseenter;\n      events.onMouseleave = availableEvents.onMouseleave;\n    }\n    if (openOnFocus.value) {\n      events.onFocus = availableEvents.onFocus;\n      events.onBlur = availableEvents.onBlur;\n    }\n    return events;\n  });\n  const contentEvents = computed(() => {\n    const events = {};\n    if (props.openOnHover) {\n      events.onMouseenter = () => {\n        isHovered = true;\n        runOpenDelay();\n      };\n      events.onMouseleave = () => {\n        isHovered = false;\n        runCloseDelay();\n      };\n    }\n    if (openOnFocus.value) {\n      events.onFocusin = () => {\n        isFocused = true;\n        runOpenDelay();\n      };\n      events.onFocusout = () => {\n        isFocused = false;\n        runCloseDelay();\n      };\n    }\n    if (props.closeOnContentClick) {\n      const menu = inject(VMenuSymbol, null);\n      events.onClick = () => {\n        isActive.value = false;\n        menu?.closeParents();\n      };\n    }\n    return events;\n  });\n  const scrimEvents = computed(() => {\n    const events = {};\n    if (props.openOnHover) {\n      events.onMouseenter = () => {\n        if (firstEnter) {\n          isHovered = true;\n          firstEnter = false;\n          runOpenDelay();\n        }\n      };\n      events.onMouseleave = () => {\n        isHovered = false;\n        runCloseDelay();\n      };\n    }\n    return events;\n  });\n  watch(isTop, val => {\n    if (val && (props.openOnHover && !isHovered && (!openOnFocus.value || !isFocused) || openOnFocus.value && !isFocused && (!props.openOnHover || !isHovered)) && !contentEl.value?.contains(document.activeElement)) {\n      isActive.value = false;\n    }\n  });\n  watch(isActive, val => {\n    if (!val) {\n      setTimeout(() => {\n        cursorTarget.value = undefined;\n      });\n    }\n  }, {\n    flush: 'post'\n  });\n  const activatorRef = templateRef();\n  watchEffect(() => {\n    if (!activatorRef.value) return;\n    nextTick(() => {\n      activatorEl.value = activatorRef.el;\n    });\n  });\n  const targetRef = templateRef();\n  const target = computed(() => {\n    if (props.target === 'cursor' && cursorTarget.value) return cursorTarget.value;\n    if (targetRef.value) return targetRef.el;\n    return getTarget(props.target, vm) || activatorEl.value;\n  });\n  const targetEl = computed(() => {\n    return Array.isArray(target.value) ? undefined : target.value;\n  });\n  let scope;\n  watch(() => !!props.activator, val => {\n    if (val && IN_BROWSER) {\n      scope = effectScope();\n      scope.run(() => {\n        _useActivator(props, vm, {\n          activatorEl,\n          activatorEvents\n        });\n      });\n    } else if (scope) {\n      scope.stop();\n    }\n  }, {\n    flush: 'post',\n    immediate: true\n  });\n  onScopeDispose(() => {\n    scope?.stop();\n  });\n  return {\n    activatorEl,\n    activatorRef,\n    target,\n    targetEl,\n    targetRef,\n    activatorEvents,\n    contentEvents,\n    scrimEvents\n  };\n}\nfunction _useActivator(props, vm, _ref2) {\n  let {\n    activatorEl,\n    activatorEvents\n  } = _ref2;\n  watch(() => props.activator, (val, oldVal) => {\n    if (oldVal && val !== oldVal) {\n      const activator = getActivator(oldVal);\n      activator && unbindActivatorProps(activator);\n    }\n    if (val) {\n      nextTick(() => bindActivatorProps());\n    }\n  }, {\n    immediate: true\n  });\n  watch(() => props.activatorProps, () => {\n    bindActivatorProps();\n  });\n  onScopeDispose(() => {\n    unbindActivatorProps();\n  });\n  function bindActivatorProps() {\n    let el = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getActivator();\n    let _props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : props.activatorProps;\n    if (!el) return;\n    bindProps(el, mergeProps(activatorEvents.value, _props));\n  }\n  function unbindActivatorProps() {\n    let el = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getActivator();\n    let _props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : props.activatorProps;\n    if (!el) return;\n    unbindProps(el, mergeProps(activatorEvents.value, _props));\n  }\n  function getActivator() {\n    let selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : props.activator;\n    const activator = getTarget(selector, vm);\n\n    // The activator should only be a valid element (Ignore comments and text nodes)\n    activatorEl.value = activator?.nodeType === Node.ELEMENT_NODE ? activator : undefined;\n    return activatorEl.value;\n  }\n}\nfunction getTarget(selector, vm) {\n  if (!selector) return;\n  let target;\n  if (selector === 'parent') {\n    let el = vm?.proxy?.$el?.parentNode;\n    while (el?.hasAttribute('data-no-activator')) {\n      el = el.parentNode;\n    }\n    target = el;\n  } else if (typeof selector === 'string') {\n    // Selector\n    target = document.querySelector(selector);\n  } else if ('$el' in selector) {\n    // Component (ref)\n    target = selector.$el;\n  } else {\n    // HTMLElement | Element | [x, y]\n    target = selector;\n  }\n  return target;\n}\n//# sourceMappingURL=useActivator.mjs.map","// Utilities\nimport { computed, inject, reactive, shallowRef, toRefs, watchEffect } from 'vue';\nimport { getCurrentInstanceName, mergeDeep, propsFactory } from \"../util/index.mjs\";\nimport { IN_BROWSER, SUPPORTS_TOUCH } from \"../util/globals.mjs\"; // Types\nexport const breakpoints = ['sm', 'md', 'lg', 'xl', 'xxl']; // no xs\n\nexport const DisplaySymbol = Symbol.for('vuetify:display');\nconst defaultDisplayOptions = {\n  mobileBreakpoint: 'lg',\n  thresholds: {\n    xs: 0,\n    sm: 600,\n    md: 960,\n    lg: 1280,\n    xl: 1920,\n    xxl: 2560\n  }\n};\nconst parseDisplayOptions = function () {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultDisplayOptions;\n  return mergeDeep(defaultDisplayOptions, options);\n};\nfunction getClientWidth(ssr) {\n  return IN_BROWSER && !ssr ? window.innerWidth : typeof ssr === 'object' && ssr.clientWidth || 0;\n}\nfunction getClientHeight(ssr) {\n  return IN_BROWSER && !ssr ? window.innerHeight : typeof ssr === 'object' && ssr.clientHeight || 0;\n}\nfunction getPlatform(ssr) {\n  const userAgent = IN_BROWSER && !ssr ? window.navigator.userAgent : 'ssr';\n  function match(regexp) {\n    return Boolean(userAgent.match(regexp));\n  }\n  const android = match(/android/i);\n  const ios = match(/iphone|ipad|ipod/i);\n  const cordova = match(/cordova/i);\n  const electron = match(/electron/i);\n  const chrome = match(/chrome/i);\n  const edge = match(/edge/i);\n  const firefox = match(/firefox/i);\n  const opera = match(/opera/i);\n  const win = match(/win/i);\n  const mac = match(/mac/i);\n  const linux = match(/linux/i);\n  return {\n    android,\n    ios,\n    cordova,\n    electron,\n    chrome,\n    edge,\n    firefox,\n    opera,\n    win,\n    mac,\n    linux,\n    touch: SUPPORTS_TOUCH,\n    ssr: userAgent === 'ssr'\n  };\n}\nexport function createDisplay(options, ssr) {\n  const {\n    thresholds,\n    mobileBreakpoint\n  } = parseDisplayOptions(options);\n  const height = shallowRef(getClientHeight(ssr));\n  const platform = shallowRef(getPlatform(ssr));\n  const state = reactive({});\n  const width = shallowRef(getClientWidth(ssr));\n  function updateSize() {\n    height.value = getClientHeight();\n    width.value = getClientWidth();\n  }\n  function update() {\n    updateSize();\n    platform.value = getPlatform();\n  }\n\n  // eslint-disable-next-line max-statements\n  watchEffect(() => {\n    const xs = width.value < thresholds.sm;\n    const sm = width.value < thresholds.md && !xs;\n    const md = width.value < thresholds.lg && !(sm || xs);\n    const lg = width.value < thresholds.xl && !(md || sm || xs);\n    const xl = width.value < thresholds.xxl && !(lg || md || sm || xs);\n    const xxl = width.value >= thresholds.xxl;\n    const name = xs ? 'xs' : sm ? 'sm' : md ? 'md' : lg ? 'lg' : xl ? 'xl' : 'xxl';\n    const breakpointValue = typeof mobileBreakpoint === 'number' ? mobileBreakpoint : thresholds[mobileBreakpoint];\n    const mobile = width.value < breakpointValue;\n    state.xs = xs;\n    state.sm = sm;\n    state.md = md;\n    state.lg = lg;\n    state.xl = xl;\n    state.xxl = xxl;\n    state.smAndUp = !xs;\n    state.mdAndUp = !(xs || sm);\n    state.lgAndUp = !(xs || sm || md);\n    state.xlAndUp = !(xs || sm || md || lg);\n    state.smAndDown = !(md || lg || xl || xxl);\n    state.mdAndDown = !(lg || xl || xxl);\n    state.lgAndDown = !(xl || xxl);\n    state.xlAndDown = !xxl;\n    state.name = name;\n    state.height = height.value;\n    state.width = width.value;\n    state.mobile = mobile;\n    state.mobileBreakpoint = mobileBreakpoint;\n    state.platform = platform.value;\n    state.thresholds = thresholds;\n  });\n  if (IN_BROWSER) {\n    window.addEventListener('resize', updateSize, {\n      passive: true\n    });\n  }\n  return {\n    ...toRefs(state),\n    update,\n    ssr: !!ssr\n  };\n}\nexport const makeDisplayProps = propsFactory({\n  mobile: {\n    type: Boolean,\n    default: false\n  },\n  mobileBreakpoint: [Number, String]\n}, 'display');\nexport function useDisplay() {\n  let props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getCurrentInstanceName();\n  const display = inject(DisplaySymbol);\n  if (!display) throw new Error('Could not find Vuetify display injection');\n  const mobile = computed(() => {\n    if (props.mobile != null) return props.mobile;\n    if (!props.mobileBreakpoint) return display.mobile.value;\n    const breakpointValue = typeof props.mobileBreakpoint === 'number' ? props.mobileBreakpoint : display.thresholds.value[props.mobileBreakpoint];\n    return display.width.value < breakpointValue;\n  });\n  const displayClasses = computed(() => {\n    if (!name) return {};\n    return {\n      [`${name}--mobile`]: mobile.value\n    };\n  });\n  return {\n    ...display,\n    displayClasses,\n    mobile\n  };\n}\n//# sourceMappingURL=display.mjs.map","// Composables\nimport { useDisplay } from \"./display.mjs\"; // Utilities\nimport { onMounted, shallowRef } from 'vue';\nimport { IN_BROWSER } from \"../util/index.mjs\";\nexport function useHydration() {\n  if (!IN_BROWSER) return shallowRef(false);\n  const {\n    ssr\n  } = useDisplay();\n  if (ssr) {\n    const isMounted = shallowRef(false);\n    onMounted(() => {\n      isMounted.value = true;\n    });\n    return isMounted;\n  } else {\n    return shallowRef(true);\n  }\n}\n//# sourceMappingURL=hydration.mjs.map","// Utilities\nimport { computed, shallowRef, watch } from 'vue';\nimport { propsFactory } from \"../util/index.mjs\"; // Types\nexport const makeLazyProps = propsFactory({\n  eager: Boolean\n}, 'lazy');\nexport function useLazy(props, active) {\n  const isBooted = shallowRef(false);\n  const hasContent = computed(() => isBooted.value || props.eager || active.value);\n  watch(active, () => isBooted.value = true);\n  function onAfterLeave() {\n    if (!props.eager) isBooted.value = false;\n  }\n  return {\n    isBooted,\n    hasContent,\n    onAfterLeave\n  };\n}\n//# sourceMappingURL=lazy.mjs.map","// Utilities\nimport { getCurrentInstance } from \"../util/index.mjs\";\nexport function useScopeId() {\n  const vm = getCurrentInstance('useScopeId');\n  const scopeId = vm.vnode.scopeId;\n  return {\n    scopeId: scopeId ? {\n      [scopeId]: ''\n    } : undefined\n  };\n}\n//# sourceMappingURL=scopeId.mjs.map","// Composables\nimport { useToggleScope } from \"./toggleScope.mjs\"; // Utilities\nimport { computed, inject, onScopeDispose, provide, reactive, readonly, shallowRef, toRaw, watchEffect } from 'vue';\nimport { getCurrentInstance } from \"../util/index.mjs\"; // Types\nconst StackSymbol = Symbol.for('vuetify:stack');\nconst globalStack = reactive([]);\nexport function useStack(isActive, zIndex, disableGlobalStack) {\n  const vm = getCurrentInstance('useStack');\n  const createStackEntry = !disableGlobalStack;\n  const parent = inject(StackSymbol, undefined);\n  const stack = reactive({\n    activeChildren: new Set()\n  });\n  provide(StackSymbol, stack);\n  const _zIndex = shallowRef(+zIndex.value);\n  useToggleScope(isActive, () => {\n    const lastZIndex = globalStack.at(-1)?.[1];\n    _zIndex.value = lastZIndex ? lastZIndex + 10 : +zIndex.value;\n    if (createStackEntry) {\n      globalStack.push([vm.uid, _zIndex.value]);\n    }\n    parent?.activeChildren.add(vm.uid);\n    onScopeDispose(() => {\n      if (createStackEntry) {\n        const idx = toRaw(globalStack).findIndex(v => v[0] === vm.uid);\n        globalStack.splice(idx, 1);\n      }\n      parent?.activeChildren.delete(vm.uid);\n    });\n  });\n  const globalTop = shallowRef(true);\n  if (createStackEntry) {\n    watchEffect(() => {\n      const _isTop = globalStack.at(-1)?.[0] === vm.uid;\n      setTimeout(() => globalTop.value = _isTop);\n    });\n  }\n  const localTop = computed(() => !stack.activeChildren.size);\n  return {\n    globalTop: readonly(globalTop),\n    localTop,\n    stackStyles: computed(() => ({\n      zIndex: _zIndex.value\n    }))\n  };\n}\n//# sourceMappingURL=stack.mjs.map","// Utilities\nimport { computed, warn } from 'vue';\nimport { IN_BROWSER } from \"../util/index.mjs\";\nexport function useTeleport(target) {\n  const teleportTarget = computed(() => {\n    const _target = target();\n    if (_target === true || !IN_BROWSER) return undefined;\n    const targetElement = _target === false ? document.body : typeof _target === 'string' ? document.querySelector(_target) : _target;\n    if (targetElement == null) {\n      warn(`Unable to locate target ${_target}`);\n      return undefined;\n    }\n    let container = [...targetElement.children].find(el => el.matches('.v-overlay-container'));\n    if (!container) {\n      container = document.createElement('div');\n      container.className = 'v-overlay-container';\n      targetElement.appendChild(container);\n    }\n    return container;\n  });\n  return {\n    teleportTarget\n  };\n}\n//# sourceMappingURL=teleport.mjs.map","// Utilities\nimport { attachedRoot } from \"../../util/index.mjs\"; // Types\nfunction defaultConditional() {\n  return true;\n}\nfunction checkEvent(e, el, binding) {\n  // The include element callbacks below can be expensive\n  // so we should avoid calling them when we're not active.\n  // Explicitly check for false to allow fallback compatibility\n  // with non-toggleable components\n  if (!e || checkIsActive(e, binding) === false) return false;\n\n  // If we're clicking inside the shadowroot, then the app root doesn't get the same\n  // level of introspection as to _what_ we're clicking. We want to check to see if\n  // our target is the shadowroot parent container, and if it is, ignore.\n  const root = attachedRoot(el);\n  if (typeof ShadowRoot !== 'undefined' && root instanceof ShadowRoot && root.host === e.target) return false;\n\n  // Check if additional elements were passed to be included in check\n  // (click must be outside all included elements, if any)\n  const elements = (typeof binding.value === 'object' && binding.value.include || (() => []))();\n  // Add the root element for the component this directive was defined on\n  elements.push(el);\n\n  // Check if it's a click outside our elements, and then if our callback returns true.\n  // Non-toggleable components should take action in their callback and return falsy.\n  // Toggleable can return true if it wants to deactivate.\n  // Note that, because we're in the capture phase, this callback will occur before\n  // the bubbling click event on any outside elements.\n  return !elements.some(el => el?.contains(e.target));\n}\nfunction checkIsActive(e, binding) {\n  const isActive = typeof binding.value === 'object' && binding.value.closeConditional || defaultConditional;\n  return isActive(e);\n}\nfunction directive(e, el, binding) {\n  const handler = typeof binding.value === 'function' ? binding.value : binding.value.handler;\n\n  // Clicks in the Shadow DOM change their target while using setTimeout, so the original target is saved here\n  e.shadowTarget = e.target;\n  el._clickOutside.lastMousedownWasOutside && checkEvent(e, el, binding) && setTimeout(() => {\n    checkIsActive(e, binding) && handler && handler(e);\n  }, 0);\n}\nfunction handleShadow(el, callback) {\n  const root = attachedRoot(el);\n  callback(document);\n  if (typeof ShadowRoot !== 'undefined' && root instanceof ShadowRoot) {\n    callback(root);\n  }\n}\nexport const ClickOutside = {\n  // [data-app] may not be found\n  // if using bind, inserted makes\n  // sure that the root element is\n  // available, iOS does not support\n  // clicks on body\n  mounted(el, binding) {\n    const onClick = e => directive(e, el, binding);\n    const onMousedown = e => {\n      el._clickOutside.lastMousedownWasOutside = checkEvent(e, el, binding);\n    };\n    handleShadow(el, app => {\n      app.addEventListener('click', onClick, true);\n      app.addEventListener('mousedown', onMousedown, true);\n    });\n    if (!el._clickOutside) {\n      el._clickOutside = {\n        lastMousedownWasOutside: false\n      };\n    }\n    el._clickOutside[binding.instance.$.uid] = {\n      onClick,\n      onMousedown\n    };\n  },\n  beforeUnmount(el, binding) {\n    if (!el._clickOutside) return;\n    handleShadow(el, app => {\n      if (!app || !el._clickOutside?.[binding.instance.$.uid]) return;\n      const {\n        onClick,\n        onMousedown\n      } = el._clickOutside[binding.instance.$.uid];\n      app.removeEventListener('click', onClick, true);\n      app.removeEventListener('mousedown', onMousedown, true);\n    });\n    delete el._clickOutside[binding.instance.$.uid];\n  }\n};\nexport default ClickOutside;\n//# sourceMappingURL=index.mjs.map","import { withDirectives as _withDirectives, resolveDirective as _resolveDirective, vShow as _vShow, Fragment as _Fragment, createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\n// Styles\nimport \"./VOverlay.css\";\n\n// Composables\nimport { makeLocationStrategyProps, useLocationStrategies } from \"./locationStrategies.mjs\";\nimport { makeScrollStrategyProps, useScrollStrategies } from \"./scrollStrategies.mjs\";\nimport { makeActivatorProps, useActivator } from \"./useActivator.mjs\";\nimport { useBackgroundColor } from \"../../composables/color.mjs\";\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { makeDimensionProps, useDimension } from \"../../composables/dimensions.mjs\";\nimport { useHydration } from \"../../composables/hydration.mjs\";\nimport { makeLazyProps, useLazy } from \"../../composables/lazy.mjs\";\nimport { useRtl } from \"../../composables/locale.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\";\nimport { useBackButton, useRouter } from \"../../composables/router.mjs\";\nimport { useScopeId } from \"../../composables/scopeId.mjs\";\nimport { useStack } from \"../../composables/stack.mjs\";\nimport { useTeleport } from \"../../composables/teleport.mjs\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.mjs\";\nimport { useToggleScope } from \"../../composables/toggleScope.mjs\";\nimport { makeTransitionProps, MaybeTransition } from \"../../composables/transition.mjs\"; // Directives\nimport { ClickOutside } from \"../../directives/click-outside/index.mjs\"; // Utilities\nimport { computed, mergeProps, onBeforeUnmount, ref, Teleport, toRef, Transition, watch } from 'vue';\nimport { animate, convertToUnit, genericComponent, getCurrentInstance, getScrollParent, IN_BROWSER, propsFactory, standardEasing, useRender } from \"../../util/index.mjs\"; // Types\nfunction Scrim(props) {\n  const {\n    modelValue,\n    color,\n    ...rest\n  } = props;\n  return _createVNode(Transition, {\n    \"name\": \"fade-transition\",\n    \"appear\": true\n  }, {\n    default: () => [props.modelValue && _createVNode(\"div\", _mergeProps({\n      \"class\": ['v-overlay__scrim', props.color.backgroundColorClasses.value],\n      \"style\": props.color.backgroundColorStyles.value\n    }, rest), null)]\n  });\n}\nexport const makeVOverlayProps = propsFactory({\n  absolute: Boolean,\n  attach: [Boolean, String, Object],\n  closeOnBack: {\n    type: Boolean,\n    default: true\n  },\n  contained: Boolean,\n  contentClass: null,\n  contentProps: null,\n  disabled: Boolean,\n  opacity: [Number, String],\n  noClickAnimation: Boolean,\n  modelValue: Boolean,\n  persistent: Boolean,\n  scrim: {\n    type: [Boolean, String],\n    default: true\n  },\n  zIndex: {\n    type: [Number, String],\n    default: 2000\n  },\n  ...makeActivatorProps(),\n  ...makeComponentProps(),\n  ...makeDimensionProps(),\n  ...makeLazyProps(),\n  ...makeLocationStrategyProps(),\n  ...makeScrollStrategyProps(),\n  ...makeThemeProps(),\n  ...makeTransitionProps()\n}, 'VOverlay');\nexport const VOverlay = genericComponent()({\n  name: 'VOverlay',\n  directives: {\n    ClickOutside\n  },\n  inheritAttrs: false,\n  props: {\n    _disableGlobalStack: Boolean,\n    ...makeVOverlayProps()\n  },\n  emits: {\n    'click:outside': e => true,\n    'update:modelValue': value => true,\n    afterEnter: () => true,\n    afterLeave: () => true\n  },\n  setup(props, _ref) {\n    let {\n      slots,\n      attrs,\n      emit\n    } = _ref;\n    const vm = getCurrentInstance('VOverlay');\n    const root = ref();\n    const scrimEl = ref();\n    const contentEl = ref();\n    const model = useProxiedModel(props, 'modelValue');\n    const isActive = computed({\n      get: () => model.value,\n      set: v => {\n        if (!(v && props.disabled)) model.value = v;\n      }\n    });\n    const {\n      themeClasses\n    } = provideTheme(props);\n    const {\n      rtlClasses,\n      isRtl\n    } = useRtl();\n    const {\n      hasContent,\n      onAfterLeave: _onAfterLeave\n    } = useLazy(props, isActive);\n    const scrimColor = useBackgroundColor(computed(() => {\n      return typeof props.scrim === 'string' ? props.scrim : null;\n    }));\n    const {\n      globalTop,\n      localTop,\n      stackStyles\n    } = useStack(isActive, toRef(props, 'zIndex'), props._disableGlobalStack);\n    const {\n      activatorEl,\n      activatorRef,\n      target,\n      targetEl,\n      targetRef,\n      activatorEvents,\n      contentEvents,\n      scrimEvents\n    } = useActivator(props, {\n      isActive,\n      isTop: localTop,\n      contentEl\n    });\n    const {\n      teleportTarget\n    } = useTeleport(() => {\n      const target = props.attach || props.contained;\n      if (target) return target;\n      const rootNode = activatorEl?.value?.getRootNode() || vm.proxy?.$el?.getRootNode();\n      if (rootNode instanceof ShadowRoot) return rootNode;\n      return false;\n    });\n    const {\n      dimensionStyles\n    } = useDimension(props);\n    const isMounted = useHydration();\n    const {\n      scopeId\n    } = useScopeId();\n    watch(() => props.disabled, v => {\n      if (v) isActive.value = false;\n    });\n    const {\n      contentStyles,\n      updateLocation\n    } = useLocationStrategies(props, {\n      isRtl,\n      contentEl,\n      target,\n      isActive\n    });\n    useScrollStrategies(props, {\n      root,\n      contentEl,\n      targetEl,\n      isActive,\n      updateLocation\n    });\n    function onClickOutside(e) {\n      emit('click:outside', e);\n      if (!props.persistent) isActive.value = false;else animateClick();\n    }\n    function closeConditional(e) {\n      return isActive.value && globalTop.value && (\n      // If using scrim, only close if clicking on it rather than anything opened on top\n      !props.scrim || e.target === scrimEl.value || e instanceof MouseEvent && e.shadowTarget === scrimEl.value);\n    }\n    IN_BROWSER && watch(isActive, val => {\n      if (val) {\n        window.addEventListener('keydown', onKeydown);\n      } else {\n        window.removeEventListener('keydown', onKeydown);\n      }\n    }, {\n      immediate: true\n    });\n    onBeforeUnmount(() => {\n      if (!IN_BROWSER) return;\n      window.removeEventListener('keydown', onKeydown);\n    });\n    function onKeydown(e) {\n      if (e.key === 'Escape' && globalTop.value) {\n        if (!props.persistent) {\n          isActive.value = false;\n          if (contentEl.value?.contains(document.activeElement)) {\n            activatorEl.value?.focus();\n          }\n        } else animateClick();\n      }\n    }\n    const router = useRouter();\n    useToggleScope(() => props.closeOnBack, () => {\n      useBackButton(router, next => {\n        if (globalTop.value && isActive.value) {\n          next(false);\n          if (!props.persistent) isActive.value = false;else animateClick();\n        } else {\n          next();\n        }\n      });\n    });\n    const top = ref();\n    watch(() => isActive.value && (props.absolute || props.contained) && teleportTarget.value == null, val => {\n      if (val) {\n        const scrollParent = getScrollParent(root.value);\n        if (scrollParent && scrollParent !== document.scrollingElement) {\n          top.value = scrollParent.scrollTop;\n        }\n      }\n    });\n\n    // Add a quick \"bounce\" animation to the content\n    function animateClick() {\n      if (props.noClickAnimation) return;\n      contentEl.value && animate(contentEl.value, [{\n        transformOrigin: 'center'\n      }, {\n        transform: 'scale(1.03)'\n      }, {\n        transformOrigin: 'center'\n      }], {\n        duration: 150,\n        easing: standardEasing\n      });\n    }\n    function onAfterEnter() {\n      emit('afterEnter');\n    }\n    function onAfterLeave() {\n      _onAfterLeave();\n      emit('afterLeave');\n    }\n    useRender(() => _createVNode(_Fragment, null, [slots.activator?.({\n      isActive: isActive.value,\n      targetRef,\n      props: mergeProps({\n        ref: activatorRef\n      }, activatorEvents.value, props.activatorProps)\n    }), isMounted.value && hasContent.value && _createVNode(Teleport, {\n      \"disabled\": !teleportTarget.value,\n      \"to\": teleportTarget.value\n    }, {\n      default: () => [_createVNode(\"div\", _mergeProps({\n        \"class\": ['v-overlay', {\n          'v-overlay--absolute': props.absolute || props.contained,\n          'v-overlay--active': isActive.value,\n          'v-overlay--contained': props.contained\n        }, themeClasses.value, rtlClasses.value, props.class],\n        \"style\": [stackStyles.value, {\n          '--v-overlay-opacity': props.opacity,\n          top: convertToUnit(top.value)\n        }, props.style],\n        \"ref\": root\n      }, scopeId, attrs), [_createVNode(Scrim, _mergeProps({\n        \"color\": scrimColor,\n        \"modelValue\": isActive.value && !!props.scrim,\n        \"ref\": scrimEl\n      }, scrimEvents.value), null), _createVNode(MaybeTransition, {\n        \"appear\": true,\n        \"persisted\": true,\n        \"transition\": props.transition,\n        \"target\": target.value,\n        \"onAfterEnter\": onAfterEnter,\n        \"onAfterLeave\": onAfterLeave\n      }, {\n        default: () => [_withDirectives(_createVNode(\"div\", _mergeProps({\n          \"ref\": contentEl,\n          \"class\": ['v-overlay__content', props.contentClass],\n          \"style\": [dimensionStyles.value, contentStyles.value]\n        }, contentEvents.value, props.contentProps), [slots.default?.({\n          isActive\n        })]), [[_vShow, isActive.value], [_resolveDirective(\"click-outside\"), {\n          handler: onClickOutside,\n          closeConditional,\n          include: () => [activatorEl.value]\n        }]])]\n      })])]\n    })]));\n    return {\n      activatorEl,\n      scrimEl,\n      target,\n      animateClick,\n      contentEl,\n      globalTop,\n      localTop,\n      updateLocation\n    };\n  }\n});\n//# sourceMappingURL=VOverlay.mjs.map","// Types\n\nconst Refs = Symbol('Forwarded refs');\n\n/** Omit properties starting with P */\n\n/** Omit keyof $props from T */\n\nfunction getDescriptor(obj, key) {\n  let currentObj = obj;\n  while (currentObj) {\n    const descriptor = Reflect.getOwnPropertyDescriptor(currentObj, key);\n    if (descriptor) return descriptor;\n    currentObj = Object.getPrototypeOf(currentObj);\n  }\n  return undefined;\n}\nexport function forwardRefs(target) {\n  for (var _len = arguments.length, refs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    refs[_key - 1] = arguments[_key];\n  }\n  target[Refs] = refs;\n  return new Proxy(target, {\n    get(target, key) {\n      if (Reflect.has(target, key)) {\n        return Reflect.get(target, key);\n      }\n\n      // Skip internal properties\n      if (typeof key === 'symbol' || key.startsWith('$') || key.startsWith('__')) return;\n      for (const ref of refs) {\n        if (ref.value && Reflect.has(ref.value, key)) {\n          const val = Reflect.get(ref.value, key);\n          return typeof val === 'function' ? val.bind(ref.value) : val;\n        }\n      }\n    },\n    has(target, key) {\n      if (Reflect.has(target, key)) {\n        return true;\n      }\n\n      // Skip internal properties\n      if (typeof key === 'symbol' || key.startsWith('$') || key.startsWith('__')) return false;\n      for (const ref of refs) {\n        if (ref.value && Reflect.has(ref.value, key)) {\n          return true;\n        }\n      }\n      return false;\n    },\n    set(target, key, value) {\n      if (Reflect.has(target, key)) {\n        return Reflect.set(target, key, value);\n      }\n\n      // Skip internal properties\n      if (typeof key === 'symbol' || key.startsWith('$') || key.startsWith('__')) return false;\n      for (const ref of refs) {\n        if (ref.value && Reflect.has(ref.value, key)) {\n          return Reflect.set(ref.value, key, value);\n        }\n      }\n      return false;\n    },\n    getOwnPropertyDescriptor(target, key) {\n      const descriptor = Reflect.getOwnPropertyDescriptor(target, key);\n      if (descriptor) return descriptor;\n\n      // Skip internal properties\n      if (typeof key === 'symbol' || key.startsWith('$') || key.startsWith('__')) return;\n\n      // Check each ref's own properties\n      for (const ref of refs) {\n        if (!ref.value) continue;\n        const descriptor = getDescriptor(ref.value, key) ?? ('_' in ref.value ? getDescriptor(ref.value._?.setupState, key) : undefined);\n        if (descriptor) return descriptor;\n      }\n\n      // Recursive search up each ref's prototype\n      for (const ref of refs) {\n        const childRefs = ref.value && ref.value[Refs];\n        if (!childRefs) continue;\n        const queue = childRefs.slice();\n        while (queue.length) {\n          const ref = queue.shift();\n          const descriptor = getDescriptor(ref.value, key);\n          if (descriptor) return descriptor;\n          const childRefs = ref.value && ref.value[Refs];\n          if (childRefs) queue.push(...childRefs);\n        }\n      }\n      return undefined;\n    }\n  });\n}\n//# sourceMappingURL=forwardRefs.mjs.map","import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VMenu.css\";\n\n// Components\nimport { VDialogTransition } from \"../transitions/index.mjs\";\nimport { VDefaultsProvider } from \"../VDefaultsProvider/index.mjs\";\nimport { VOverlay } from \"../VOverlay/index.mjs\";\nimport { makeVOverlayProps } from \"../VOverlay/VOverlay.mjs\"; // Composables\nimport { forwardRefs } from \"../../composables/forwardRefs.mjs\";\nimport { useRtl } from \"../../composables/locale.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\";\nimport { useScopeId } from \"../../composables/scopeId.mjs\"; // Utilities\nimport { computed, inject, mergeProps, nextTick, onBeforeUnmount, onDeactivated, provide, ref, shallowRef, watch } from 'vue';\nimport { VMenuSymbol } from \"./shared.mjs\";\nimport { focusableChildren, focusChild, genericComponent, getNextElement, getUid, IN_BROWSER, isClickInsideElement, omit, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nexport const makeVMenuProps = propsFactory({\n  // TODO\n  // disableKeys: Boolean,\n  id: String,\n  submenu: Boolean,\n  ...omit(makeVOverlayProps({\n    closeDelay: 250,\n    closeOnContentClick: true,\n    locationStrategy: 'connected',\n    location: undefined,\n    openDelay: 300,\n    scrim: false,\n    scrollStrategy: 'reposition',\n    transition: {\n      component: VDialogTransition\n    }\n  }), ['absolute'])\n}, 'VMenu');\nexport const VMenu = genericComponent()({\n  name: 'VMenu',\n  props: makeVMenuProps(),\n  emits: {\n    'update:modelValue': value => true\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const isActive = useProxiedModel(props, 'modelValue');\n    const {\n      scopeId\n    } = useScopeId();\n    const {\n      isRtl\n    } = useRtl();\n    const uid = getUid();\n    const id = computed(() => props.id || `v-menu-${uid}`);\n    const overlay = ref();\n    const parent = inject(VMenuSymbol, null);\n    const openChildren = shallowRef(new Set());\n    provide(VMenuSymbol, {\n      register() {\n        openChildren.value.add(uid);\n      },\n      unregister() {\n        openChildren.value.delete(uid);\n      },\n      closeParents(e) {\n        setTimeout(() => {\n          if (!openChildren.value.size && !props.persistent && (e == null || overlay.value?.contentEl && !isClickInsideElement(e, overlay.value.contentEl))) {\n            isActive.value = false;\n            parent?.closeParents();\n          }\n        }, 40);\n      }\n    });\n    onBeforeUnmount(() => {\n      parent?.unregister();\n      document.removeEventListener('focusin', onFocusIn);\n    });\n    onDeactivated(() => isActive.value = false);\n    async function onFocusIn(e) {\n      const before = e.relatedTarget;\n      const after = e.target;\n      await nextTick();\n      if (isActive.value && before !== after && overlay.value?.contentEl &&\n      // We're the topmost menu\n      overlay.value?.globalTop &&\n      // It isn't the document or the menu body\n      ![document, overlay.value.contentEl].includes(after) &&\n      // It isn't inside the menu body\n      !overlay.value.contentEl.contains(after)) {\n        const focusable = focusableChildren(overlay.value.contentEl);\n        focusable[0]?.focus();\n      }\n    }\n    watch(isActive, val => {\n      if (val) {\n        parent?.register();\n        if (IN_BROWSER) {\n          document.addEventListener('focusin', onFocusIn, {\n            once: true\n          });\n        }\n      } else {\n        parent?.unregister();\n        if (IN_BROWSER) {\n          document.removeEventListener('focusin', onFocusIn);\n        }\n      }\n    }, {\n      immediate: true\n    });\n    function onClickOutside(e) {\n      parent?.closeParents(e);\n    }\n    function onKeydown(e) {\n      if (props.disabled) return;\n      if (e.key === 'Tab' || e.key === 'Enter' && !props.closeOnContentClick) {\n        if (e.key === 'Enter' && (e.target instanceof HTMLTextAreaElement || e.target instanceof HTMLInputElement && !!e.target.closest('form'))) return;\n        if (e.key === 'Enter') e.preventDefault();\n        const nextElement = getNextElement(focusableChildren(overlay.value?.contentEl, false), e.shiftKey ? 'prev' : 'next', el => el.tabIndex >= 0);\n        if (!nextElement) {\n          isActive.value = false;\n          overlay.value?.activatorEl?.focus();\n        }\n      } else if (props.submenu && e.key === (isRtl.value ? 'ArrowRight' : 'ArrowLeft')) {\n        isActive.value = false;\n        overlay.value?.activatorEl?.focus();\n      }\n    }\n    function onActivatorKeydown(e) {\n      if (props.disabled) return;\n      const el = overlay.value?.contentEl;\n      if (el && isActive.value) {\n        if (e.key === 'ArrowDown') {\n          e.preventDefault();\n          e.stopImmediatePropagation();\n          focusChild(el, 'next');\n        } else if (e.key === 'ArrowUp') {\n          e.preventDefault();\n          e.stopImmediatePropagation();\n          focusChild(el, 'prev');\n        } else if (props.submenu) {\n          if (e.key === (isRtl.value ? 'ArrowRight' : 'ArrowLeft')) {\n            isActive.value = false;\n          } else if (e.key === (isRtl.value ? 'ArrowLeft' : 'ArrowRight')) {\n            e.preventDefault();\n            focusChild(el, 'first');\n          }\n        }\n      } else if (props.submenu ? e.key === (isRtl.value ? 'ArrowLeft' : 'ArrowRight') : ['ArrowDown', 'ArrowUp'].includes(e.key)) {\n        isActive.value = true;\n        e.preventDefault();\n        setTimeout(() => setTimeout(() => onActivatorKeydown(e)));\n      }\n    }\n    const activatorProps = computed(() => mergeProps({\n      'aria-haspopup': 'menu',\n      'aria-expanded': String(isActive.value),\n      'aria-owns': id.value,\n      onKeydown: onActivatorKeydown\n    }, props.activatorProps));\n    useRender(() => {\n      const overlayProps = VOverlay.filterProps(props);\n      return _createVNode(VOverlay, _mergeProps({\n        \"ref\": overlay,\n        \"id\": id.value,\n        \"class\": ['v-menu', props.class],\n        \"style\": props.style\n      }, overlayProps, {\n        \"modelValue\": isActive.value,\n        \"onUpdate:modelValue\": $event => isActive.value = $event,\n        \"absolute\": true,\n        \"activatorProps\": activatorProps.value,\n        \"location\": props.location ?? (props.submenu ? 'end' : 'bottom'),\n        \"onClick:outside\": onClickOutside,\n        \"onKeydown\": onKeydown\n      }, scopeId), {\n        activator: slots.activator,\n        default: function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n          return _createVNode(VDefaultsProvider, {\n            \"root\": \"VMenu\"\n          }, {\n            default: () => [slots.default?.(...args)]\n          });\n        }\n      });\n    });\n    return forwardRefs({\n      id,\n      ΨopenChildren: openChildren\n    }, overlay);\n  }\n});\n//# sourceMappingURL=VMenu.mjs.map","<template>\n  <div class=\"toolbar\">\n    <v-app-bar :elevation=\"5\">\n      <template #prepend>\n        <v-icon\n          icon=\"mdi-graph-outline\"\n          size=\"large\" \n          style=\"margin-right: 10px\"\n        />\n        Adam P. Banham\n      </template>\n      <template #append>\n        <v-btn id=\"menu-cv\">\n          CV\n        </v-btn>\n        <v-menu activator=\"#menu-cv\">\n          <v-list>\n            <v-list-item\n              :key=\"1\"\n              :value=\"1\"\n              href=\"/docs/adam-banham-research-resume.pdf\"\n              target=\"_blank\"\n            >\n              <v-list-item-title> Research </v-list-item-title>\n            </v-list-item>\n            <v-list-item\n              :key=\"2\"\n              :value=\"2\"\n              href=\"/docs/adam-banham-tech-resume.pdf\"\n              target=\"_blank\"\n            >\n              <v-list-item-title> Tech </v-list-item-title>\n            </v-list-item>\n          </v-list>\n        </v-menu>\n        <v-btn @click=\"moveTo('home')\">\n          Home\n        </v-btn>\n        <v-btn \n          href=\"/docs/education/adam-banham-phd-thesis-2025-1.pdf\"\n          target=\"_blank\"\n        >\n          Thesis\n        </v-btn>\n        <v-btn @click=\"moveTo('blog')\">\n          Blog\n        </v-btn>\n        <v-btn @click=\"moveTo('pubs')\">\n          Publications\n        </v-btn>\n        <v-btn id=\"menu-process-mining\">\n          Process mining\n        </v-btn>\n        <v-menu activator=\"#menu-process-mining\">\n          <v-list>\n            <v-list-item\n              :key=\"1\"\n              :value=\"1\"\n              @click=\"moveTo('pm-discovery')\"\n            >\n              <v-list-item-title> Process Discovery </v-list-item-title>\n            </v-list-item>\n            <v-list-item\n              :key=\"2\"\n              :value=\"2\"\n              @click=\"moveTo('pm-conformance')\"\n            >\n              <v-list-item-title> Conformance Checking </v-list-item-title>\n            </v-list-item>\n            <v-list-item\n              :key=\"3\"\n              :value=\"3\"\n              @click=\"moveTo('pm-enhancement')\"\n            >\n              <v-list-item-title> Process Enhancement </v-list-item-title>\n            </v-list-item>\n          </v-list>\n        </v-menu>\n        <v-btn @click=\"moveTo('code')\">\n          Coding\n        </v-btn>\n        <v-btn id=\"menu-editors\">\n          Editors\n        </v-btn>\n        <v-menu activator=\"#menu-editors\">\n          <v-list>\n            <v-list-item\n              :key=\"1\"\n              :value=\"1\"\n              @click=\"moveTo('editor-orm')\"\n            >\n              <v-list-item-title> ORM </v-list-item-title>\n            </v-list-item>\n            <v-list-item\n              :key=\"2\"\n              :value=\"2\"\n              @click=\"moveTo('editor-pn')\"\n            >\n              <v-list-item-title> Petri Net </v-list-item-title>\n            </v-list-item>\n            <v-list-item\n              :key=\"3\"\n              :value=\"3\"\n              @click=\"moveTo('editor-ts')\"\n            >\n              <v-list-item-title> Transition System </v-list-item-title>\n            </v-list-item>\n            <v-list-item\n              :key=\"4\"\n              :value=\"4\"\n              @click=\"moveTo('editor-bpmn')\"\n            >\n              <v-list-item-title> BPMN </v-list-item-title>\n            </v-list-item>\n          </v-list>\n        </v-menu>\n        <v-btn @click=\"moveTo('contact')\">\n          Contact\n        </v-btn>\n      </template>\n    </v-app-bar>\n  </div>\n</template>\n\n<script>\nexport default {\nname: \"ToolBar\",\nmethods : {\n    moveTo: function(name){\n        this.$router.push({name:name})\n    }\n}\n}\n</script>\n\n<style lang=\"sass\">\n@use \"@/styles/coloursAnt.sass\" as c\n@use \"@/styles/breakpoints.sass\" as brk\n\n.toolbar\n  overflow-x: auto\n\n\n  .v-toolbar__content\n    overflow-x: auto\n\n  .v-toolbar__prepend\n    margin-left: 20px\n    @media (max-width: calc(brk.$tablet-width - 1px))\n      display: none\n\n  @media (max-width: calc(brk.$tablet-width - 1px))\n    height: 55px\n\n  &::-webkit-scrollbar\n    height: 15px\n    width: 5px \n    background-color: none\n  \n  &::-webkit-scrollbar-thumb\n    background-color: c.$green-3\n    opacity: 0.6\n    border-radius: 5px\n    \n</style>","import { createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VApp.css\";\n\n// Composables\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { createLayout, makeLayoutProps } from \"../../composables/layout.mjs\";\nimport { useRtl } from \"../../composables/locale.mjs\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.mjs\"; // Utilities\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.mjs\";\nexport const makeVAppProps = propsFactory({\n  ...makeComponentProps(),\n  ...makeLayoutProps({\n    fullHeight: true\n  }),\n  ...makeThemeProps()\n}, 'VApp');\nexport const VApp = genericComponent()({\n  name: 'VApp',\n  props: makeVAppProps(),\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const theme = provideTheme(props);\n    const {\n      layoutClasses,\n      getLayoutItem,\n      items,\n      layoutRef\n    } = createLayout(props);\n    const {\n      rtlClasses\n    } = useRtl();\n    useRender(() => _createVNode(\"div\", {\n      \"ref\": layoutRef,\n      \"class\": ['v-application', theme.themeClasses.value, layoutClasses.value, rtlClasses.value, props.class],\n      \"style\": [props.style]\n    }, [_createVNode(\"div\", {\n      \"class\": \"v-application__wrap\"\n    }, [slots.default?.()])]));\n    return {\n      getLayoutItem,\n      items,\n      theme\n    };\n  }\n});\n//# sourceMappingURL=VApp.mjs.map","<template>\r\n  <v-app>\r\n    <toolbar />\r\n    <router-view />\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport toolbar from \"@/components/toolbar/toolbar.vue\"\r\nexport default {\r\nname: \"App\",\r\ncomponents: {\r\n    toolbar\r\n},\r\nmounted() {\r\n   document.dispatchEvent(new Event('x-app-rendered'))\r\n}\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\">\r\n@use \"@/styles/coloursAnt.sass\" as c\r\n@use \"@/styles/animations.sass\"\r\n@use \"@/styles/tags.sass\"\r\n@use \"diagram-js/assets/diagram-js.css\"\r\n\r\n.v-application__wrap\r\n  background-image: url(\"@/assets/patterns/processy.png\")\r\n  background-repeat: repeat\r\n  background-color: c.$background  \r\n\r\nbody\r\n  background-image: url(\"@/assets/patterns/processy.png\")\r\n  background-repeat: repeat\r\n  background-color: c.$background\r\n</style>\r\n","export function getDevtoolsGlobalHook() {\n    return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__;\n}\nexport function getTarget() {\n    // @ts-expect-error navigator and windows are not available in all environments\n    return (typeof navigator !== 'undefined' && typeof window !== 'undefined')\n        ? window\n        : typeof globalThis !== 'undefined'\n            ? globalThis\n            : {};\n}\nexport const isProxyAvailable = typeof Proxy === 'function';\n","export const HOOK_SETUP = 'devtools-plugin:setup';\nexport const HOOK_PLUGIN_SETTINGS_SET = 'plugin:settings:set';\n","let supported;\nlet perf;\nexport function isPerformanceSupported() {\n    var _a;\n    if (supported !== undefined) {\n        return supported;\n    }\n    if (typeof window !== 'undefined' && window.performance) {\n        supported = true;\n        perf = window.performance;\n    }\n    else if (typeof globalThis !== 'undefined' && ((_a = globalThis.perf_hooks) === null || _a === void 0 ? void 0 : _a.performance)) {\n        supported = true;\n        perf = globalThis.perf_hooks.performance;\n    }\n    else {\n        supported = false;\n    }\n    return supported;\n}\nexport function now() {\n    return isPerformanceSupported() ? perf.now() : Date.now();\n}\n","import { HOOK_PLUGIN_SETTINGS_SET } from './const.js';\nimport { now } from './time.js';\nexport class ApiProxy {\n    constructor(plugin, hook) {\n        this.target = null;\n        this.targetQueue = [];\n        this.onQueue = [];\n        this.plugin = plugin;\n        this.hook = hook;\n        const defaultSettings = {};\n        if (plugin.settings) {\n            for (const id in plugin.settings) {\n                const item = plugin.settings[id];\n                defaultSettings[id] = item.defaultValue;\n            }\n        }\n        const localSettingsSaveId = `__vue-devtools-plugin-settings__${plugin.id}`;\n        let currentSettings = Object.assign({}, defaultSettings);\n        try {\n            const raw = localStorage.getItem(localSettingsSaveId);\n            const data = JSON.parse(raw);\n            Object.assign(currentSettings, data);\n        }\n        catch (e) {\n            // noop\n        }\n        this.fallbacks = {\n            getSettings() {\n                return currentSettings;\n            },\n            setSettings(value) {\n                try {\n                    localStorage.setItem(localSettingsSaveId, JSON.stringify(value));\n                }\n                catch (e) {\n                    // noop\n                }\n                currentSettings = value;\n            },\n            now() {\n                return now();\n            },\n        };\n        if (hook) {\n            hook.on(HOOK_PLUGIN_SETTINGS_SET, (pluginId, value) => {\n                if (pluginId === this.plugin.id) {\n                    this.fallbacks.setSettings(value);\n                }\n            });\n        }\n        this.proxiedOn = new Proxy({}, {\n            get: (_target, prop) => {\n                if (this.target) {\n                    return this.target.on[prop];\n                }\n                else {\n                    return (...args) => {\n                        this.onQueue.push({\n                            method: prop,\n                            args,\n                        });\n                    };\n                }\n            },\n        });\n        this.proxiedTarget = new Proxy({}, {\n            get: (_target, prop) => {\n                if (this.target) {\n                    return this.target[prop];\n                }\n                else if (prop === 'on') {\n                    return this.proxiedOn;\n                }\n                else if (Object.keys(this.fallbacks).includes(prop)) {\n                    return (...args) => {\n                        this.targetQueue.push({\n                            method: prop,\n                            args,\n                            resolve: () => { },\n                        });\n                        return this.fallbacks[prop](...args);\n                    };\n                }\n                else {\n                    return (...args) => {\n                        return new Promise((resolve) => {\n                            this.targetQueue.push({\n                                method: prop,\n                                args,\n                                resolve,\n                            });\n                        });\n                    };\n                }\n            },\n        });\n    }\n    async setRealTarget(target) {\n        this.target = target;\n        for (const item of this.onQueue) {\n            this.target.on[item.method](...item.args);\n        }\n        for (const item of this.targetQueue) {\n            item.resolve(await this.target[item.method](...item.args));\n        }\n    }\n}\n","import { getDevtoolsGlobalHook, getTarget, isProxyAvailable } from './env.js';\nimport { HOOK_SETUP } from './const.js';\nimport { ApiProxy } from './proxy.js';\nexport * from './api/index.js';\nexport * from './plugin.js';\nexport * from './time.js';\nexport function setupDevtoolsPlugin(pluginDescriptor, setupFn) {\n    const descriptor = pluginDescriptor;\n    const target = getTarget();\n    const hook = getDevtoolsGlobalHook();\n    const enableProxy = isProxyAvailable && descriptor.enableEarlyProxy;\n    if (hook && (target.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__ || !enableProxy)) {\n        hook.emit(HOOK_SETUP, pluginDescriptor, setupFn);\n    }\n    else {\n        const proxy = enableProxy ? new ApiProxy(descriptor, hook) : null;\n        const list = target.__VUE_DEVTOOLS_PLUGINS__ = target.__VUE_DEVTOOLS_PLUGINS__ || [];\n        list.push({\n            pluginDescriptor: descriptor,\n            setupFn,\n            proxy,\n        });\n        if (proxy) {\n            setupFn(proxy.proxiedTarget);\n        }\n    }\n}\n","/*!\n  * vue-router v4.5.0\n  * (c) 2024 Eduardo San Martin Morote\n  * @license MIT\n  */\nimport { getCurrentInstance, inject, onUnmounted, onDeactivated, onActivated, computed, unref, watchEffect, defineComponent, reactive, h, provide, ref, watch, shallowRef, shallowReactive, nextTick } from 'vue';\nimport { setupDevtoolsPlugin } from '@vue/devtools-api';\n\nconst isBrowser = typeof document !== 'undefined';\n\n/**\n * Allows differentiating lazy components from functional components and vue-class-component\n * @internal\n *\n * @param component\n */\nfunction isRouteComponent(component) {\n    return (typeof component === 'object' ||\n        'displayName' in component ||\n        'props' in component ||\n        '__vccOpts' in component);\n}\nfunction isESModule(obj) {\n    return (obj.__esModule ||\n        obj[Symbol.toStringTag] === 'Module' ||\n        // support CF with dynamic imports that do not\n        // add the Module string tag\n        (obj.default && isRouteComponent(obj.default)));\n}\nconst assign = Object.assign;\nfunction applyToParams(fn, params) {\n    const newParams = {};\n    for (const key in params) {\n        const value = params[key];\n        newParams[key] = isArray(value)\n            ? value.map(fn)\n            : fn(value);\n    }\n    return newParams;\n}\nconst noop = () => { };\n/**\n * Typesafe alternative to Array.isArray\n * https://github.com/microsoft/TypeScript/pull/48228\n */\nconst isArray = Array.isArray;\n\nfunction warn(msg) {\n    // avoid using ...args as it breaks in older Edge builds\n    const args = Array.from(arguments).slice(1);\n    console.warn.apply(console, ['[Vue Router warn]: ' + msg].concat(args));\n}\n\n/**\n * Encoding Rules (␣ = Space)\n * - Path: ␣ \" < > # ? { }\n * - Query: ␣ \" < > # & =\n * - Hash: ␣ \" < > `\n *\n * On top of that, the RFC3986 (https://tools.ietf.org/html/rfc3986#section-2.2)\n * defines some extra characters to be encoded. Most browsers do not encode them\n * in encodeURI https://github.com/whatwg/url/issues/369, so it may be safer to\n * also encode `!'()*`. Leaving un-encoded only ASCII alphanumeric(`a-zA-Z0-9`)\n * plus `-._~`. This extra safety should be applied to query by patching the\n * string returned by encodeURIComponent encodeURI also encodes `[\\]^`. `\\`\n * should be encoded to avoid ambiguity. Browsers (IE, FF, C) transform a `\\`\n * into a `/` if directly typed in. The _backtick_ (`````) should also be\n * encoded everywhere because some browsers like FF encode it when directly\n * written while others don't. Safari and IE don't encode ``\"<>{}``` in hash.\n */\n// const EXTRA_RESERVED_RE = /[!'()*]/g\n// const encodeReservedReplacer = (c: string) => '%' + c.charCodeAt(0).toString(16)\nconst HASH_RE = /#/g; // %23\nconst AMPERSAND_RE = /&/g; // %26\nconst SLASH_RE = /\\//g; // %2F\nconst EQUAL_RE = /=/g; // %3D\nconst IM_RE = /\\?/g; // %3F\nconst PLUS_RE = /\\+/g; // %2B\n/**\n * NOTE: It's not clear to me if we should encode the + symbol in queries, it\n * seems to be less flexible than not doing so and I can't find out the legacy\n * systems requiring this for regular requests like text/html. In the standard,\n * the encoding of the plus character is only mentioned for\n * application/x-www-form-urlencoded\n * (https://url.spec.whatwg.org/#urlencoded-parsing) and most browsers seems lo\n * leave the plus character as is in queries. To be more flexible, we allow the\n * plus character on the query, but it can also be manually encoded by the user.\n *\n * Resources:\n * - https://url.spec.whatwg.org/#urlencoded-parsing\n * - https://stackoverflow.com/questions/1634271/url-encoding-the-space-character-or-20\n */\nconst ENC_BRACKET_OPEN_RE = /%5B/g; // [\nconst ENC_BRACKET_CLOSE_RE = /%5D/g; // ]\nconst ENC_CARET_RE = /%5E/g; // ^\nconst ENC_BACKTICK_RE = /%60/g; // `\nconst ENC_CURLY_OPEN_RE = /%7B/g; // {\nconst ENC_PIPE_RE = /%7C/g; // |\nconst ENC_CURLY_CLOSE_RE = /%7D/g; // }\nconst ENC_SPACE_RE = /%20/g; // }\n/**\n * Encode characters that need to be encoded on the path, search and hash\n * sections of the URL.\n *\n * @internal\n * @param text - string to encode\n * @returns encoded string\n */\nfunction commonEncode(text) {\n    return encodeURI('' + text)\n        .replace(ENC_PIPE_RE, '|')\n        .replace(ENC_BRACKET_OPEN_RE, '[')\n        .replace(ENC_BRACKET_CLOSE_RE, ']');\n}\n/**\n * Encode characters that need to be encoded on the hash section of the URL.\n *\n * @param text - string to encode\n * @returns encoded string\n */\nfunction encodeHash(text) {\n    return commonEncode(text)\n        .replace(ENC_CURLY_OPEN_RE, '{')\n        .replace(ENC_CURLY_CLOSE_RE, '}')\n        .replace(ENC_CARET_RE, '^');\n}\n/**\n * Encode characters that need to be encoded query values on the query\n * section of the URL.\n *\n * @param text - string to encode\n * @returns encoded string\n */\nfunction encodeQueryValue(text) {\n    return (commonEncode(text)\n        // Encode the space as +, encode the + to differentiate it from the space\n        .replace(PLUS_RE, '%2B')\n        .replace(ENC_SPACE_RE, '+')\n        .replace(HASH_RE, '%23')\n        .replace(AMPERSAND_RE, '%26')\n        .replace(ENC_BACKTICK_RE, '`')\n        .replace(ENC_CURLY_OPEN_RE, '{')\n        .replace(ENC_CURLY_CLOSE_RE, '}')\n        .replace(ENC_CARET_RE, '^'));\n}\n/**\n * Like `encodeQueryValue` but also encodes the `=` character.\n *\n * @param text - string to encode\n */\nfunction encodeQueryKey(text) {\n    return encodeQueryValue(text).replace(EQUAL_RE, '%3D');\n}\n/**\n * Encode characters that need to be encoded on the path section of the URL.\n *\n * @param text - string to encode\n * @returns encoded string\n */\nfunction encodePath(text) {\n    return commonEncode(text).replace(HASH_RE, '%23').replace(IM_RE, '%3F');\n}\n/**\n * Encode characters that need to be encoded on the path section of the URL as a\n * param. This function encodes everything {@link encodePath} does plus the\n * slash (`/`) character. If `text` is `null` or `undefined`, returns an empty\n * string instead.\n *\n * @param text - string to encode\n * @returns encoded string\n */\nfunction encodeParam(text) {\n    return text == null ? '' : encodePath(text).replace(SLASH_RE, '%2F');\n}\n/**\n * Decode text using `decodeURIComponent`. Returns the original text if it\n * fails.\n *\n * @param text - string to decode\n * @returns decoded string\n */\nfunction decode(text) {\n    try {\n        return decodeURIComponent('' + text);\n    }\n    catch (err) {\n        (process.env.NODE_ENV !== 'production') && warn(`Error decoding \"${text}\". Using original value`);\n    }\n    return '' + text;\n}\n\nconst TRAILING_SLASH_RE = /\\/$/;\nconst removeTrailingSlash = (path) => path.replace(TRAILING_SLASH_RE, '');\n/**\n * Transforms a URI into a normalized history location\n *\n * @param parseQuery\n * @param location - URI to normalize\n * @param currentLocation - current absolute location. Allows resolving relative\n * paths. Must start with `/`. Defaults to `/`\n * @returns a normalized history location\n */\nfunction parseURL(parseQuery, location, currentLocation = '/') {\n    let path, query = {}, searchString = '', hash = '';\n    // Could use URL and URLSearchParams but IE 11 doesn't support it\n    // TODO: move to new URL()\n    const hashPos = location.indexOf('#');\n    let searchPos = location.indexOf('?');\n    // the hash appears before the search, so it's not part of the search string\n    if (hashPos < searchPos && hashPos >= 0) {\n        searchPos = -1;\n    }\n    if (searchPos > -1) {\n        path = location.slice(0, searchPos);\n        searchString = location.slice(searchPos + 1, hashPos > -1 ? hashPos : location.length);\n        query = parseQuery(searchString);\n    }\n    if (hashPos > -1) {\n        path = path || location.slice(0, hashPos);\n        // keep the # character\n        hash = location.slice(hashPos, location.length);\n    }\n    // no search and no query\n    path = resolveRelativePath(path != null ? path : location, currentLocation);\n    // empty path means a relative query or hash `?foo=f`, `#thing`\n    return {\n        fullPath: path + (searchString && '?') + searchString + hash,\n        path,\n        query,\n        hash: decode(hash),\n    };\n}\n/**\n * Stringifies a URL object\n *\n * @param stringifyQuery\n * @param location\n */\nfunction stringifyURL(stringifyQuery, location) {\n    const query = location.query ? stringifyQuery(location.query) : '';\n    return location.path + (query && '?') + query + (location.hash || '');\n}\n/**\n * Strips off the base from the beginning of a location.pathname in a non-case-sensitive way.\n *\n * @param pathname - location.pathname\n * @param base - base to strip off\n */\nfunction stripBase(pathname, base) {\n    // no base or base is not found at the beginning\n    if (!base || !pathname.toLowerCase().startsWith(base.toLowerCase()))\n        return pathname;\n    return pathname.slice(base.length) || '/';\n}\n/**\n * Checks if two RouteLocation are equal. This means that both locations are\n * pointing towards the same {@link RouteRecord} and that all `params`, `query`\n * parameters and `hash` are the same\n *\n * @param stringifyQuery - A function that takes a query object of type LocationQueryRaw and returns a string representation of it.\n * @param a - first {@link RouteLocation}\n * @param b - second {@link RouteLocation}\n */\nfunction isSameRouteLocation(stringifyQuery, a, b) {\n    const aLastIndex = a.matched.length - 1;\n    const bLastIndex = b.matched.length - 1;\n    return (aLastIndex > -1 &&\n        aLastIndex === bLastIndex &&\n        isSameRouteRecord(a.matched[aLastIndex], b.matched[bLastIndex]) &&\n        isSameRouteLocationParams(a.params, b.params) &&\n        stringifyQuery(a.query) === stringifyQuery(b.query) &&\n        a.hash === b.hash);\n}\n/**\n * Check if two `RouteRecords` are equal. Takes into account aliases: they are\n * considered equal to the `RouteRecord` they are aliasing.\n *\n * @param a - first {@link RouteRecord}\n * @param b - second {@link RouteRecord}\n */\nfunction isSameRouteRecord(a, b) {\n    // since the original record has an undefined value for aliasOf\n    // but all aliases point to the original record, this will always compare\n    // the original record\n    return (a.aliasOf || a) === (b.aliasOf || b);\n}\nfunction isSameRouteLocationParams(a, b) {\n    if (Object.keys(a).length !== Object.keys(b).length)\n        return false;\n    for (const key in a) {\n        if (!isSameRouteLocationParamsValue(a[key], b[key]))\n            return false;\n    }\n    return true;\n}\nfunction isSameRouteLocationParamsValue(a, b) {\n    return isArray(a)\n        ? isEquivalentArray(a, b)\n        : isArray(b)\n            ? isEquivalentArray(b, a)\n            : a === b;\n}\n/**\n * Check if two arrays are the same or if an array with one single entry is the\n * same as another primitive value. Used to check query and parameters\n *\n * @param a - array of values\n * @param b - array of values or a single value\n */\nfunction isEquivalentArray(a, b) {\n    return isArray(b)\n        ? a.length === b.length && a.every((value, i) => value === b[i])\n        : a.length === 1 && a[0] === b;\n}\n/**\n * Resolves a relative path that starts with `.`.\n *\n * @param to - path location we are resolving\n * @param from - currentLocation.path, should start with `/`\n */\nfunction resolveRelativePath(to, from) {\n    if (to.startsWith('/'))\n        return to;\n    if ((process.env.NODE_ENV !== 'production') && !from.startsWith('/')) {\n        warn(`Cannot resolve a relative location without an absolute path. Trying to resolve \"${to}\" from \"${from}\". It should look like \"/${from}\".`);\n        return to;\n    }\n    if (!to)\n        return from;\n    const fromSegments = from.split('/');\n    const toSegments = to.split('/');\n    const lastToSegment = toSegments[toSegments.length - 1];\n    // make . and ./ the same (../ === .., ../../ === ../..)\n    // this is the same behavior as new URL()\n    if (lastToSegment === '..' || lastToSegment === '.') {\n        toSegments.push('');\n    }\n    let position = fromSegments.length - 1;\n    let toPosition;\n    let segment;\n    for (toPosition = 0; toPosition < toSegments.length; toPosition++) {\n        segment = toSegments[toPosition];\n        // we stay on the same position\n        if (segment === '.')\n            continue;\n        // go up in the from array\n        if (segment === '..') {\n            // we can't go below zero, but we still need to increment toPosition\n            if (position > 1)\n                position--;\n            // continue\n        }\n        // we reached a non-relative path, we stop here\n        else\n            break;\n    }\n    return (fromSegments.slice(0, position).join('/') +\n        '/' +\n        toSegments.slice(toPosition).join('/'));\n}\n/**\n * Initial route location where the router is. Can be used in navigation guards\n * to differentiate the initial navigation.\n *\n * @example\n * ```js\n * import { START_LOCATION } from 'vue-router'\n *\n * router.beforeEach((to, from) => {\n *   if (from === START_LOCATION) {\n *     // initial navigation\n *   }\n * })\n * ```\n */\nconst START_LOCATION_NORMALIZED = {\n    path: '/',\n    // TODO: could we use a symbol in the future?\n    name: undefined,\n    params: {},\n    query: {},\n    hash: '',\n    fullPath: '/',\n    matched: [],\n    meta: {},\n    redirectedFrom: undefined,\n};\n\nvar NavigationType;\n(function (NavigationType) {\n    NavigationType[\"pop\"] = \"pop\";\n    NavigationType[\"push\"] = \"push\";\n})(NavigationType || (NavigationType = {}));\nvar NavigationDirection;\n(function (NavigationDirection) {\n    NavigationDirection[\"back\"] = \"back\";\n    NavigationDirection[\"forward\"] = \"forward\";\n    NavigationDirection[\"unknown\"] = \"\";\n})(NavigationDirection || (NavigationDirection = {}));\n/**\n * Starting location for Histories\n */\nconst START = '';\n// Generic utils\n/**\n * Normalizes a base by removing any trailing slash and reading the base tag if\n * present.\n *\n * @param base - base to normalize\n */\nfunction normalizeBase(base) {\n    if (!base) {\n        if (isBrowser) {\n            // respect <base> tag\n            const baseEl = document.querySelector('base');\n            base = (baseEl && baseEl.getAttribute('href')) || '/';\n            // strip full URL origin\n            base = base.replace(/^\\w+:\\/\\/[^\\/]+/, '');\n        }\n        else {\n            base = '/';\n        }\n    }\n    // ensure leading slash when it was removed by the regex above avoid leading\n    // slash with hash because the file could be read from the disk like file://\n    // and the leading slash would cause problems\n    if (base[0] !== '/' && base[0] !== '#')\n        base = '/' + base;\n    // remove the trailing slash so all other method can just do `base + fullPath`\n    // to build an href\n    return removeTrailingSlash(base);\n}\n// remove any character before the hash\nconst BEFORE_HASH_RE = /^[^#]+#/;\nfunction createHref(base, location) {\n    return base.replace(BEFORE_HASH_RE, '#') + location;\n}\n\nfunction getElementPosition(el, offset) {\n    const docRect = document.documentElement.getBoundingClientRect();\n    const elRect = el.getBoundingClientRect();\n    return {\n        behavior: offset.behavior,\n        left: elRect.left - docRect.left - (offset.left || 0),\n        top: elRect.top - docRect.top - (offset.top || 0),\n    };\n}\nconst computeScrollPosition = () => ({\n    left: window.scrollX,\n    top: window.scrollY,\n});\nfunction scrollToPosition(position) {\n    let scrollToOptions;\n    if ('el' in position) {\n        const positionEl = position.el;\n        const isIdSelector = typeof positionEl === 'string' && positionEl.startsWith('#');\n        /**\n         * `id`s can accept pretty much any characters, including CSS combinators\n         * like `>` or `~`. It's still possible to retrieve elements using\n         * `document.getElementById('~')` but it needs to be escaped when using\n         * `document.querySelector('#\\\\~')` for it to be valid. The only\n         * requirements for `id`s are them to be unique on the page and to not be\n         * empty (`id=\"\"`). Because of that, when passing an id selector, it should\n         * be properly escaped for it to work with `querySelector`. We could check\n         * for the id selector to be simple (no CSS combinators `+ >~`) but that\n         * would make things inconsistent since they are valid characters for an\n         * `id` but would need to be escaped when using `querySelector`, breaking\n         * their usage and ending up in no selector returned. Selectors need to be\n         * escaped:\n         *\n         * - `#1-thing` becomes `#\\31 -thing`\n         * - `#with~symbols` becomes `#with\\\\~symbols`\n         *\n         * - More information about  the topic can be found at\n         *   https://mathiasbynens.be/notes/html5-id-class.\n         * - Practical example: https://mathiasbynens.be/demo/html5-id\n         */\n        if ((process.env.NODE_ENV !== 'production') && typeof position.el === 'string') {\n            if (!isIdSelector || !document.getElementById(position.el.slice(1))) {\n                try {\n                    const foundEl = document.querySelector(position.el);\n                    if (isIdSelector && foundEl) {\n                        warn(`The selector \"${position.el}\" should be passed as \"el: document.querySelector('${position.el}')\" because it starts with \"#\".`);\n                        // return to avoid other warnings\n                        return;\n                    }\n                }\n                catch (err) {\n                    warn(`The selector \"${position.el}\" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);\n                    // return to avoid other warnings\n                    return;\n                }\n            }\n        }\n        const el = typeof positionEl === 'string'\n            ? isIdSelector\n                ? document.getElementById(positionEl.slice(1))\n                : document.querySelector(positionEl)\n            : positionEl;\n        if (!el) {\n            (process.env.NODE_ENV !== 'production') &&\n                warn(`Couldn't find element using selector \"${position.el}\" returned by scrollBehavior.`);\n            return;\n        }\n        scrollToOptions = getElementPosition(el, position);\n    }\n    else {\n        scrollToOptions = position;\n    }\n    if ('scrollBehavior' in document.documentElement.style)\n        window.scrollTo(scrollToOptions);\n    else {\n        window.scrollTo(scrollToOptions.left != null ? scrollToOptions.left : window.scrollX, scrollToOptions.top != null ? scrollToOptions.top : window.scrollY);\n    }\n}\nfunction getScrollKey(path, delta) {\n    const position = history.state ? history.state.position - delta : -1;\n    return position + path;\n}\nconst scrollPositions = new Map();\nfunction saveScrollPosition(key, scrollPosition) {\n    scrollPositions.set(key, scrollPosition);\n}\nfunction getSavedScrollPosition(key) {\n    const scroll = scrollPositions.get(key);\n    // consume it so it's not used again\n    scrollPositions.delete(key);\n    return scroll;\n}\n// TODO: RFC about how to save scroll position\n/**\n * ScrollBehavior instance used by the router to compute and restore the scroll\n * position when navigating.\n */\n// export interface ScrollHandler<ScrollPositionEntry extends HistoryStateValue, ScrollPosition extends ScrollPositionEntry> {\n//   // returns a scroll position that can be saved in history\n//   compute(): ScrollPositionEntry\n//   // can take an extended ScrollPositionEntry\n//   scroll(position: ScrollPosition): void\n// }\n// export const scrollHandler: ScrollHandler<ScrollPosition> = {\n//   compute: computeScroll,\n//   scroll: scrollToPosition,\n// }\n\nlet createBaseLocation = () => location.protocol + '//' + location.host;\n/**\n * Creates a normalized history location from a window.location object\n * @param base - The base path\n * @param location - The window.location object\n */\nfunction createCurrentLocation(base, location) {\n    const { pathname, search, hash } = location;\n    // allows hash bases like #, /#, #/, #!, #!/, /#!/, or even /folder#end\n    const hashPos = base.indexOf('#');\n    if (hashPos > -1) {\n        let slicePos = hash.includes(base.slice(hashPos))\n            ? base.slice(hashPos).length\n            : 1;\n        let pathFromHash = hash.slice(slicePos);\n        // prepend the starting slash to hash so the url starts with /#\n        if (pathFromHash[0] !== '/')\n            pathFromHash = '/' + pathFromHash;\n        return stripBase(pathFromHash, '');\n    }\n    const path = stripBase(pathname, base);\n    return path + search + hash;\n}\nfunction useHistoryListeners(base, historyState, currentLocation, replace) {\n    let listeners = [];\n    let teardowns = [];\n    // TODO: should it be a stack? a Dict. Check if the popstate listener\n    // can trigger twice\n    let pauseState = null;\n    const popStateHandler = ({ state, }) => {\n        const to = createCurrentLocation(base, location);\n        const from = currentLocation.value;\n        const fromState = historyState.value;\n        let delta = 0;\n        if (state) {\n            currentLocation.value = to;\n            historyState.value = state;\n            // ignore the popstate and reset the pauseState\n            if (pauseState && pauseState === from) {\n                pauseState = null;\n                return;\n            }\n            delta = fromState ? state.position - fromState.position : 0;\n        }\n        else {\n            replace(to);\n        }\n        // Here we could also revert the navigation by calling history.go(-delta)\n        // this listener will have to be adapted to not trigger again and to wait for the url\n        // to be updated before triggering the listeners. Some kind of validation function would also\n        // need to be passed to the listeners so the navigation can be accepted\n        // call all listeners\n        listeners.forEach(listener => {\n            listener(currentLocation.value, from, {\n                delta,\n                type: NavigationType.pop,\n                direction: delta\n                    ? delta > 0\n                        ? NavigationDirection.forward\n                        : NavigationDirection.back\n                    : NavigationDirection.unknown,\n            });\n        });\n    };\n    function pauseListeners() {\n        pauseState = currentLocation.value;\n    }\n    function listen(callback) {\n        // set up the listener and prepare teardown callbacks\n        listeners.push(callback);\n        const teardown = () => {\n            const index = listeners.indexOf(callback);\n            if (index > -1)\n                listeners.splice(index, 1);\n        };\n        teardowns.push(teardown);\n        return teardown;\n    }\n    function beforeUnloadListener() {\n        const { history } = window;\n        if (!history.state)\n            return;\n        history.replaceState(assign({}, history.state, { scroll: computeScrollPosition() }), '');\n    }\n    function destroy() {\n        for (const teardown of teardowns)\n            teardown();\n        teardowns = [];\n        window.removeEventListener('popstate', popStateHandler);\n        window.removeEventListener('beforeunload', beforeUnloadListener);\n    }\n    // set up the listeners and prepare teardown callbacks\n    window.addEventListener('popstate', popStateHandler);\n    // TODO: could we use 'pagehide' or 'visibilitychange' instead?\n    // https://developer.chrome.com/blog/page-lifecycle-api/\n    window.addEventListener('beforeunload', beforeUnloadListener, {\n        passive: true,\n    });\n    return {\n        pauseListeners,\n        listen,\n        destroy,\n    };\n}\n/**\n * Creates a state object\n */\nfunction buildState(back, current, forward, replaced = false, computeScroll = false) {\n    return {\n        back,\n        current,\n        forward,\n        replaced,\n        position: window.history.length,\n        scroll: computeScroll ? computeScrollPosition() : null,\n    };\n}\nfunction useHistoryStateNavigation(base) {\n    const { history, location } = window;\n    // private variables\n    const currentLocation = {\n        value: createCurrentLocation(base, location),\n    };\n    const historyState = { value: history.state };\n    // build current history entry as this is a fresh navigation\n    if (!historyState.value) {\n        changeLocation(currentLocation.value, {\n            back: null,\n            current: currentLocation.value,\n            forward: null,\n            // the length is off by one, we need to decrease it\n            position: history.length - 1,\n            replaced: true,\n            // don't add a scroll as the user may have an anchor, and we want\n            // scrollBehavior to be triggered without a saved position\n            scroll: null,\n        }, true);\n    }\n    function changeLocation(to, state, replace) {\n        /**\n         * if a base tag is provided, and we are on a normal domain, we have to\n         * respect the provided `base` attribute because pushState() will use it and\n         * potentially erase anything before the `#` like at\n         * https://github.com/vuejs/router/issues/685 where a base of\n         * `/folder/#` but a base of `/` would erase the `/folder/` section. If\n         * there is no host, the `<base>` tag makes no sense and if there isn't a\n         * base tag we can just use everything after the `#`.\n         */\n        const hashIndex = base.indexOf('#');\n        const url = hashIndex > -1\n            ? (location.host && document.querySelector('base')\n                ? base\n                : base.slice(hashIndex)) + to\n            : createBaseLocation() + base + to;\n        try {\n            // BROWSER QUIRK\n            // NOTE: Safari throws a SecurityError when calling this function 100 times in 30 seconds\n            history[replace ? 'replaceState' : 'pushState'](state, '', url);\n            historyState.value = state;\n        }\n        catch (err) {\n            if ((process.env.NODE_ENV !== 'production')) {\n                warn('Error with push/replace State', err);\n            }\n            else {\n                console.error(err);\n            }\n            // Force the navigation, this also resets the call count\n            location[replace ? 'replace' : 'assign'](url);\n        }\n    }\n    function replace(to, data) {\n        const state = assign({}, history.state, buildState(historyState.value.back, \n        // keep back and forward entries but override current position\n        to, historyState.value.forward, true), data, { position: historyState.value.position });\n        changeLocation(to, state, true);\n        currentLocation.value = to;\n    }\n    function push(to, data) {\n        // Add to current entry the information of where we are going\n        // as well as saving the current position\n        const currentState = assign({}, \n        // use current history state to gracefully handle a wrong call to\n        // history.replaceState\n        // https://github.com/vuejs/router/issues/366\n        historyState.value, history.state, {\n            forward: to,\n            scroll: computeScrollPosition(),\n        });\n        if ((process.env.NODE_ENV !== 'production') && !history.state) {\n            warn(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:\\n\\n` +\n                `history.replaceState(history.state, '', url)\\n\\n` +\n                `You can find more information at https://router.vuejs.org/guide/migration/#Usage-of-history-state`);\n        }\n        changeLocation(currentState.current, currentState, true);\n        const state = assign({}, buildState(currentLocation.value, to, null), { position: currentState.position + 1 }, data);\n        changeLocation(to, state, false);\n        currentLocation.value = to;\n    }\n    return {\n        location: currentLocation,\n        state: historyState,\n        push,\n        replace,\n    };\n}\n/**\n * Creates an HTML5 history. Most common history for single page applications.\n *\n * @param base -\n */\nfunction createWebHistory(base) {\n    base = normalizeBase(base);\n    const historyNavigation = useHistoryStateNavigation(base);\n    const historyListeners = useHistoryListeners(base, historyNavigation.state, historyNavigation.location, historyNavigation.replace);\n    function go(delta, triggerListeners = true) {\n        if (!triggerListeners)\n            historyListeners.pauseListeners();\n        history.go(delta);\n    }\n    const routerHistory = assign({\n        // it's overridden right after\n        location: '',\n        base,\n        go,\n        createHref: createHref.bind(null, base),\n    }, historyNavigation, historyListeners);\n    Object.defineProperty(routerHistory, 'location', {\n        enumerable: true,\n        get: () => historyNavigation.location.value,\n    });\n    Object.defineProperty(routerHistory, 'state', {\n        enumerable: true,\n        get: () => historyNavigation.state.value,\n    });\n    return routerHistory;\n}\n\n/**\n * Creates an in-memory based history. The main purpose of this history is to handle SSR. It starts in a special location that is nowhere.\n * It's up to the user to replace that location with the starter location by either calling `router.push` or `router.replace`.\n *\n * @param base - Base applied to all urls, defaults to '/'\n * @returns a history object that can be passed to the router constructor\n */\nfunction createMemoryHistory(base = '') {\n    let listeners = [];\n    let queue = [START];\n    let position = 0;\n    base = normalizeBase(base);\n    function setLocation(location) {\n        position++;\n        if (position !== queue.length) {\n            // we are in the middle, we remove everything from here in the queue\n            queue.splice(position);\n        }\n        queue.push(location);\n    }\n    function triggerListeners(to, from, { direction, delta }) {\n        const info = {\n            direction,\n            delta,\n            type: NavigationType.pop,\n        };\n        for (const callback of listeners) {\n            callback(to, from, info);\n        }\n    }\n    const routerHistory = {\n        // rewritten by Object.defineProperty\n        location: START,\n        // TODO: should be kept in queue\n        state: {},\n        base,\n        createHref: createHref.bind(null, base),\n        replace(to) {\n            // remove current entry and decrement position\n            queue.splice(position--, 1);\n            setLocation(to);\n        },\n        push(to, data) {\n            setLocation(to);\n        },\n        listen(callback) {\n            listeners.push(callback);\n            return () => {\n                const index = listeners.indexOf(callback);\n                if (index > -1)\n                    listeners.splice(index, 1);\n            };\n        },\n        destroy() {\n            listeners = [];\n            queue = [START];\n            position = 0;\n        },\n        go(delta, shouldTrigger = true) {\n            const from = this.location;\n            const direction = \n            // we are considering delta === 0 going forward, but in abstract mode\n            // using 0 for the delta doesn't make sense like it does in html5 where\n            // it reloads the page\n            delta < 0 ? NavigationDirection.back : NavigationDirection.forward;\n            position = Math.max(0, Math.min(position + delta, queue.length - 1));\n            if (shouldTrigger) {\n                triggerListeners(this.location, from, {\n                    direction,\n                    delta,\n                });\n            }\n        },\n    };\n    Object.defineProperty(routerHistory, 'location', {\n        enumerable: true,\n        get: () => queue[position],\n    });\n    return routerHistory;\n}\n\n/**\n * Creates a hash history. Useful for web applications with no host (e.g. `file://`) or when configuring a server to\n * handle any URL is not possible.\n *\n * @param base - optional base to provide. Defaults to `location.pathname + location.search` If there is a `<base>` tag\n * in the `head`, its value will be ignored in favor of this parameter **but note it affects all the history.pushState()\n * calls**, meaning that if you use a `<base>` tag, it's `href` value **has to match this parameter** (ignoring anything\n * after the `#`).\n *\n * @example\n * ```js\n * // at https://example.com/folder\n * createWebHashHistory() // gives a url of `https://example.com/folder#`\n * createWebHashHistory('/folder/') // gives a url of `https://example.com/folder/#`\n * // if the `#` is provided in the base, it won't be added by `createWebHashHistory`\n * createWebHashHistory('/folder/#/app/') // gives a url of `https://example.com/folder/#/app/`\n * // you should avoid doing this because it changes the original url and breaks copying urls\n * createWebHashHistory('/other-folder/') // gives a url of `https://example.com/other-folder/#`\n *\n * // at file:///usr/etc/folder/index.html\n * // for locations with no `host`, the base is ignored\n * createWebHashHistory('/iAmIgnored') // gives a url of `file:///usr/etc/folder/index.html#`\n * ```\n */\nfunction createWebHashHistory(base) {\n    // Make sure this implementation is fine in terms of encoding, specially for IE11\n    // for `file://`, directly use the pathname and ignore the base\n    // location.pathname contains an initial `/` even at the root: `https://example.com`\n    base = location.host ? base || location.pathname + location.search : '';\n    // allow the user to provide a `#` in the middle: `/base/#/app`\n    if (!base.includes('#'))\n        base += '#';\n    if ((process.env.NODE_ENV !== 'production') && !base.endsWith('#/') && !base.endsWith('#')) {\n        warn(`A hash base must end with a \"#\":\\n\"${base}\" should be \"${base.replace(/#.*$/, '#')}\".`);\n    }\n    return createWebHistory(base);\n}\n\nfunction isRouteLocation(route) {\n    return typeof route === 'string' || (route && typeof route === 'object');\n}\nfunction isRouteName(name) {\n    return typeof name === 'string' || typeof name === 'symbol';\n}\n\nconst NavigationFailureSymbol = Symbol((process.env.NODE_ENV !== 'production') ? 'navigation failure' : '');\n/**\n * Enumeration with all possible types for navigation failures. Can be passed to\n * {@link isNavigationFailure} to check for specific failures.\n */\nvar NavigationFailureType;\n(function (NavigationFailureType) {\n    /**\n     * An aborted navigation is a navigation that failed because a navigation\n     * guard returned `false` or called `next(false)`\n     */\n    NavigationFailureType[NavigationFailureType[\"aborted\"] = 4] = \"aborted\";\n    /**\n     * A cancelled navigation is a navigation that failed because a more recent\n     * navigation finished started (not necessarily finished).\n     */\n    NavigationFailureType[NavigationFailureType[\"cancelled\"] = 8] = \"cancelled\";\n    /**\n     * A duplicated navigation is a navigation that failed because it was\n     * initiated while already being at the exact same location.\n     */\n    NavigationFailureType[NavigationFailureType[\"duplicated\"] = 16] = \"duplicated\";\n})(NavigationFailureType || (NavigationFailureType = {}));\n// DEV only debug messages\nconst ErrorTypeMessages = {\n    [1 /* ErrorTypes.MATCHER_NOT_FOUND */]({ location, currentLocation }) {\n        return `No match for\\n ${JSON.stringify(location)}${currentLocation\n            ? '\\nwhile being at\\n' + JSON.stringify(currentLocation)\n            : ''}`;\n    },\n    [2 /* ErrorTypes.NAVIGATION_GUARD_REDIRECT */]({ from, to, }) {\n        return `Redirected from \"${from.fullPath}\" to \"${stringifyRoute(to)}\" via a navigation guard.`;\n    },\n    [4 /* ErrorTypes.NAVIGATION_ABORTED */]({ from, to }) {\n        return `Navigation aborted from \"${from.fullPath}\" to \"${to.fullPath}\" via a navigation guard.`;\n    },\n    [8 /* ErrorTypes.NAVIGATION_CANCELLED */]({ from, to }) {\n        return `Navigation cancelled from \"${from.fullPath}\" to \"${to.fullPath}\" with a new navigation.`;\n    },\n    [16 /* ErrorTypes.NAVIGATION_DUPLICATED */]({ from, to }) {\n        return `Avoided redundant navigation to current location: \"${from.fullPath}\".`;\n    },\n};\n/**\n * Creates a typed NavigationFailure object.\n * @internal\n * @param type - NavigationFailureType\n * @param params - { from, to }\n */\nfunction createRouterError(type, params) {\n    // keep full error messages in cjs versions\n    if ((process.env.NODE_ENV !== 'production') || !true) {\n        return assign(new Error(ErrorTypeMessages[type](params)), {\n            type,\n            [NavigationFailureSymbol]: true,\n        }, params);\n    }\n    else {\n        return assign(new Error(), {\n            type,\n            [NavigationFailureSymbol]: true,\n        }, params);\n    }\n}\nfunction isNavigationFailure(error, type) {\n    return (error instanceof Error &&\n        NavigationFailureSymbol in error &&\n        (type == null || !!(error.type & type)));\n}\nconst propertiesToLog = ['params', 'query', 'hash'];\nfunction stringifyRoute(to) {\n    if (typeof to === 'string')\n        return to;\n    if (to.path != null)\n        return to.path;\n    const location = {};\n    for (const key of propertiesToLog) {\n        if (key in to)\n            location[key] = to[key];\n    }\n    return JSON.stringify(location, null, 2);\n}\n\n// default pattern for a param: non-greedy everything but /\nconst BASE_PARAM_PATTERN = '[^/]+?';\nconst BASE_PATH_PARSER_OPTIONS = {\n    sensitive: false,\n    strict: false,\n    start: true,\n    end: true,\n};\n// Special Regex characters that must be escaped in static tokens\nconst REGEX_CHARS_RE = /[.+*?^${}()[\\]/\\\\]/g;\n/**\n * Creates a path parser from an array of Segments (a segment is an array of Tokens)\n *\n * @param segments - array of segments returned by tokenizePath\n * @param extraOptions - optional options for the regexp\n * @returns a PathParser\n */\nfunction tokensToParser(segments, extraOptions) {\n    const options = assign({}, BASE_PATH_PARSER_OPTIONS, extraOptions);\n    // the amount of scores is the same as the length of segments except for the root segment \"/\"\n    const score = [];\n    // the regexp as a string\n    let pattern = options.start ? '^' : '';\n    // extracted keys\n    const keys = [];\n    for (const segment of segments) {\n        // the root segment needs special treatment\n        const segmentScores = segment.length ? [] : [90 /* PathScore.Root */];\n        // allow trailing slash\n        if (options.strict && !segment.length)\n            pattern += '/';\n        for (let tokenIndex = 0; tokenIndex < segment.length; tokenIndex++) {\n            const token = segment[tokenIndex];\n            // resets the score if we are inside a sub-segment /:a-other-:b\n            let subSegmentScore = 40 /* PathScore.Segment */ +\n                (options.sensitive ? 0.25 /* PathScore.BonusCaseSensitive */ : 0);\n            if (token.type === 0 /* TokenType.Static */) {\n                // prepend the slash if we are starting a new segment\n                if (!tokenIndex)\n                    pattern += '/';\n                pattern += token.value.replace(REGEX_CHARS_RE, '\\\\$&');\n                subSegmentScore += 40 /* PathScore.Static */;\n            }\n            else if (token.type === 1 /* TokenType.Param */) {\n                const { value, repeatable, optional, regexp } = token;\n                keys.push({\n                    name: value,\n                    repeatable,\n                    optional,\n                });\n                const re = regexp ? regexp : BASE_PARAM_PATTERN;\n                // the user provided a custom regexp /:id(\\\\d+)\n                if (re !== BASE_PARAM_PATTERN) {\n                    subSegmentScore += 10 /* PathScore.BonusCustomRegExp */;\n                    // make sure the regexp is valid before using it\n                    try {\n                        new RegExp(`(${re})`);\n                    }\n                    catch (err) {\n                        throw new Error(`Invalid custom RegExp for param \"${value}\" (${re}): ` +\n                            err.message);\n                    }\n                }\n                // when we repeat we must take care of the repeating leading slash\n                let subPattern = repeatable ? `((?:${re})(?:/(?:${re}))*)` : `(${re})`;\n                // prepend the slash if we are starting a new segment\n                if (!tokenIndex)\n                    subPattern =\n                        // avoid an optional / if there are more segments e.g. /:p?-static\n                        // or /:p?-:p2\n                        optional && segment.length < 2\n                            ? `(?:/${subPattern})`\n                            : '/' + subPattern;\n                if (optional)\n                    subPattern += '?';\n                pattern += subPattern;\n                subSegmentScore += 20 /* PathScore.Dynamic */;\n                if (optional)\n                    subSegmentScore += -8 /* PathScore.BonusOptional */;\n                if (repeatable)\n                    subSegmentScore += -20 /* PathScore.BonusRepeatable */;\n                if (re === '.*')\n                    subSegmentScore += -50 /* PathScore.BonusWildcard */;\n            }\n            segmentScores.push(subSegmentScore);\n        }\n        // an empty array like /home/ -> [[{home}], []]\n        // if (!segment.length) pattern += '/'\n        score.push(segmentScores);\n    }\n    // only apply the strict bonus to the last score\n    if (options.strict && options.end) {\n        const i = score.length - 1;\n        score[i][score[i].length - 1] += 0.7000000000000001 /* PathScore.BonusStrict */;\n    }\n    // TODO: dev only warn double trailing slash\n    if (!options.strict)\n        pattern += '/?';\n    if (options.end)\n        pattern += '$';\n    // allow paths like /dynamic to only match dynamic or dynamic/... but not dynamic_something_else\n    else if (options.strict && !pattern.endsWith('/'))\n        pattern += '(?:/|$)';\n    const re = new RegExp(pattern, options.sensitive ? '' : 'i');\n    function parse(path) {\n        const match = path.match(re);\n        const params = {};\n        if (!match)\n            return null;\n        for (let i = 1; i < match.length; i++) {\n            const value = match[i] || '';\n            const key = keys[i - 1];\n            params[key.name] = value && key.repeatable ? value.split('/') : value;\n        }\n        return params;\n    }\n    function stringify(params) {\n        let path = '';\n        // for optional parameters to allow to be empty\n        let avoidDuplicatedSlash = false;\n        for (const segment of segments) {\n            if (!avoidDuplicatedSlash || !path.endsWith('/'))\n                path += '/';\n            avoidDuplicatedSlash = false;\n            for (const token of segment) {\n                if (token.type === 0 /* TokenType.Static */) {\n                    path += token.value;\n                }\n                else if (token.type === 1 /* TokenType.Param */) {\n                    const { value, repeatable, optional } = token;\n                    const param = value in params ? params[value] : '';\n                    if (isArray(param) && !repeatable) {\n                        throw new Error(`Provided param \"${value}\" is an array but it is not repeatable (* or + modifiers)`);\n                    }\n                    const text = isArray(param)\n                        ? param.join('/')\n                        : param;\n                    if (!text) {\n                        if (optional) {\n                            // if we have more than one optional param like /:a?-static we don't need to care about the optional param\n                            if (segment.length < 2) {\n                                // remove the last slash as we could be at the end\n                                if (path.endsWith('/'))\n                                    path = path.slice(0, -1);\n                                // do not append a slash on the next iteration\n                                else\n                                    avoidDuplicatedSlash = true;\n                            }\n                        }\n                        else\n                            throw new Error(`Missing required param \"${value}\"`);\n                    }\n                    path += text;\n                }\n            }\n        }\n        // avoid empty path when we have multiple optional params\n        return path || '/';\n    }\n    return {\n        re,\n        score,\n        keys,\n        parse,\n        stringify,\n    };\n}\n/**\n * Compares an array of numbers as used in PathParser.score and returns a\n * number. This function can be used to `sort` an array\n *\n * @param a - first array of numbers\n * @param b - second array of numbers\n * @returns 0 if both are equal, < 0 if a should be sorted first, > 0 if b\n * should be sorted first\n */\nfunction compareScoreArray(a, b) {\n    let i = 0;\n    while (i < a.length && i < b.length) {\n        const diff = b[i] - a[i];\n        // only keep going if diff === 0\n        if (diff)\n            return diff;\n        i++;\n    }\n    // if the last subsegment was Static, the shorter segments should be sorted first\n    // otherwise sort the longest segment first\n    if (a.length < b.length) {\n        return a.length === 1 && a[0] === 40 /* PathScore.Static */ + 40 /* PathScore.Segment */\n            ? -1\n            : 1;\n    }\n    else if (a.length > b.length) {\n        return b.length === 1 && b[0] === 40 /* PathScore.Static */ + 40 /* PathScore.Segment */\n            ? 1\n            : -1;\n    }\n    return 0;\n}\n/**\n * Compare function that can be used with `sort` to sort an array of PathParser\n *\n * @param a - first PathParser\n * @param b - second PathParser\n * @returns 0 if both are equal, < 0 if a should be sorted first, > 0 if b\n */\nfunction comparePathParserScore(a, b) {\n    let i = 0;\n    const aScore = a.score;\n    const bScore = b.score;\n    while (i < aScore.length && i < bScore.length) {\n        const comp = compareScoreArray(aScore[i], bScore[i]);\n        // do not return if both are equal\n        if (comp)\n            return comp;\n        i++;\n    }\n    if (Math.abs(bScore.length - aScore.length) === 1) {\n        if (isLastScoreNegative(aScore))\n            return 1;\n        if (isLastScoreNegative(bScore))\n            return -1;\n    }\n    // if a and b share the same score entries but b has more, sort b first\n    return bScore.length - aScore.length;\n    // this is the ternary version\n    // return aScore.length < bScore.length\n    //   ? 1\n    //   : aScore.length > bScore.length\n    //   ? -1\n    //   : 0\n}\n/**\n * This allows detecting splats at the end of a path: /home/:id(.*)*\n *\n * @param score - score to check\n * @returns true if the last entry is negative\n */\nfunction isLastScoreNegative(score) {\n    const last = score[score.length - 1];\n    return score.length > 0 && last[last.length - 1] < 0;\n}\n\nconst ROOT_TOKEN = {\n    type: 0 /* TokenType.Static */,\n    value: '',\n};\nconst VALID_PARAM_RE = /[a-zA-Z0-9_]/;\n// After some profiling, the cache seems to be unnecessary because tokenizePath\n// (the slowest part of adding a route) is very fast\n// const tokenCache = new Map<string, Token[][]>()\nfunction tokenizePath(path) {\n    if (!path)\n        return [[]];\n    if (path === '/')\n        return [[ROOT_TOKEN]];\n    if (!path.startsWith('/')) {\n        throw new Error((process.env.NODE_ENV !== 'production')\n            ? `Route paths should start with a \"/\": \"${path}\" should be \"/${path}\".`\n            : `Invalid path \"${path}\"`);\n    }\n    // if (tokenCache.has(path)) return tokenCache.get(path)!\n    function crash(message) {\n        throw new Error(`ERR (${state})/\"${buffer}\": ${message}`);\n    }\n    let state = 0 /* TokenizerState.Static */;\n    let previousState = state;\n    const tokens = [];\n    // the segment will always be valid because we get into the initial state\n    // with the leading /\n    let segment;\n    function finalizeSegment() {\n        if (segment)\n            tokens.push(segment);\n        segment = [];\n    }\n    // index on the path\n    let i = 0;\n    // char at index\n    let char;\n    // buffer of the value read\n    let buffer = '';\n    // custom regexp for a param\n    let customRe = '';\n    function consumeBuffer() {\n        if (!buffer)\n            return;\n        if (state === 0 /* TokenizerState.Static */) {\n            segment.push({\n                type: 0 /* TokenType.Static */,\n                value: buffer,\n            });\n        }\n        else if (state === 1 /* TokenizerState.Param */ ||\n            state === 2 /* TokenizerState.ParamRegExp */ ||\n            state === 3 /* TokenizerState.ParamRegExpEnd */) {\n            if (segment.length > 1 && (char === '*' || char === '+'))\n                crash(`A repeatable param (${buffer}) must be alone in its segment. eg: '/:ids+.`);\n            segment.push({\n                type: 1 /* TokenType.Param */,\n                value: buffer,\n                regexp: customRe,\n                repeatable: char === '*' || char === '+',\n                optional: char === '*' || char === '?',\n            });\n        }\n        else {\n            crash('Invalid state to consume buffer');\n        }\n        buffer = '';\n    }\n    function addCharToBuffer() {\n        buffer += char;\n    }\n    while (i < path.length) {\n        char = path[i++];\n        if (char === '\\\\' && state !== 2 /* TokenizerState.ParamRegExp */) {\n            previousState = state;\n            state = 4 /* TokenizerState.EscapeNext */;\n            continue;\n        }\n        switch (state) {\n            case 0 /* TokenizerState.Static */:\n                if (char === '/') {\n                    if (buffer) {\n                        consumeBuffer();\n                    }\n                    finalizeSegment();\n                }\n                else if (char === ':') {\n                    consumeBuffer();\n                    state = 1 /* TokenizerState.Param */;\n                }\n                else {\n                    addCharToBuffer();\n                }\n                break;\n            case 4 /* TokenizerState.EscapeNext */:\n                addCharToBuffer();\n                state = previousState;\n                break;\n            case 1 /* TokenizerState.Param */:\n                if (char === '(') {\n                    state = 2 /* TokenizerState.ParamRegExp */;\n                }\n                else if (VALID_PARAM_RE.test(char)) {\n                    addCharToBuffer();\n                }\n                else {\n                    consumeBuffer();\n                    state = 0 /* TokenizerState.Static */;\n                    // go back one character if we were not modifying\n                    if (char !== '*' && char !== '?' && char !== '+')\n                        i--;\n                }\n                break;\n            case 2 /* TokenizerState.ParamRegExp */:\n                // TODO: is it worth handling nested regexp? like :p(?:prefix_([^/]+)_suffix)\n                // it already works by escaping the closing )\n                // https://paths.esm.dev/?p=AAMeJbiAwQEcDKbAoAAkP60PG2R6QAvgNaA6AFACM2ABuQBB#\n                // is this really something people need since you can also write\n                // /prefix_:p()_suffix\n                if (char === ')') {\n                    // handle the escaped )\n                    if (customRe[customRe.length - 1] == '\\\\')\n                        customRe = customRe.slice(0, -1) + char;\n                    else\n                        state = 3 /* TokenizerState.ParamRegExpEnd */;\n                }\n                else {\n                    customRe += char;\n                }\n                break;\n            case 3 /* TokenizerState.ParamRegExpEnd */:\n                // same as finalizing a param\n                consumeBuffer();\n                state = 0 /* TokenizerState.Static */;\n                // go back one character if we were not modifying\n                if (char !== '*' && char !== '?' && char !== '+')\n                    i--;\n                customRe = '';\n                break;\n            default:\n                crash('Unknown state');\n                break;\n        }\n    }\n    if (state === 2 /* TokenizerState.ParamRegExp */)\n        crash(`Unfinished custom RegExp for param \"${buffer}\"`);\n    consumeBuffer();\n    finalizeSegment();\n    // tokenCache.set(path, tokens)\n    return tokens;\n}\n\nfunction createRouteRecordMatcher(record, parent, options) {\n    const parser = tokensToParser(tokenizePath(record.path), options);\n    // warn against params with the same name\n    if ((process.env.NODE_ENV !== 'production')) {\n        const existingKeys = new Set();\n        for (const key of parser.keys) {\n            if (existingKeys.has(key.name))\n                warn(`Found duplicated params with name \"${key.name}\" for path \"${record.path}\". Only the last one will be available on \"$route.params\".`);\n            existingKeys.add(key.name);\n        }\n    }\n    const matcher = assign(parser, {\n        record,\n        parent,\n        // these needs to be populated by the parent\n        children: [],\n        alias: [],\n    });\n    if (parent) {\n        // both are aliases or both are not aliases\n        // we don't want to mix them because the order is used when\n        // passing originalRecord in Matcher.addRoute\n        if (!matcher.record.aliasOf === !parent.record.aliasOf)\n            parent.children.push(matcher);\n    }\n    return matcher;\n}\n\n/**\n * Creates a Router Matcher.\n *\n * @internal\n * @param routes - array of initial routes\n * @param globalOptions - global route options\n */\nfunction createRouterMatcher(routes, globalOptions) {\n    // normalized ordered array of matchers\n    const matchers = [];\n    const matcherMap = new Map();\n    globalOptions = mergeOptions({ strict: false, end: true, sensitive: false }, globalOptions);\n    function getRecordMatcher(name) {\n        return matcherMap.get(name);\n    }\n    function addRoute(record, parent, originalRecord) {\n        // used later on to remove by name\n        const isRootAdd = !originalRecord;\n        const mainNormalizedRecord = normalizeRouteRecord(record);\n        if ((process.env.NODE_ENV !== 'production')) {\n            checkChildMissingNameWithEmptyPath(mainNormalizedRecord, parent);\n        }\n        // we might be the child of an alias\n        mainNormalizedRecord.aliasOf = originalRecord && originalRecord.record;\n        const options = mergeOptions(globalOptions, record);\n        // generate an array of records to correctly handle aliases\n        const normalizedRecords = [mainNormalizedRecord];\n        if ('alias' in record) {\n            const aliases = typeof record.alias === 'string' ? [record.alias] : record.alias;\n            for (const alias of aliases) {\n                normalizedRecords.push(\n                // we need to normalize again to ensure the `mods` property\n                // being non enumerable\n                normalizeRouteRecord(assign({}, mainNormalizedRecord, {\n                    // this allows us to hold a copy of the `components` option\n                    // so that async components cache is hold on the original record\n                    components: originalRecord\n                        ? originalRecord.record.components\n                        : mainNormalizedRecord.components,\n                    path: alias,\n                    // we might be the child of an alias\n                    aliasOf: originalRecord\n                        ? originalRecord.record\n                        : mainNormalizedRecord,\n                    // the aliases are always of the same kind as the original since they\n                    // are defined on the same record\n                })));\n            }\n        }\n        let matcher;\n        let originalMatcher;\n        for (const normalizedRecord of normalizedRecords) {\n            const { path } = normalizedRecord;\n            // Build up the path for nested routes if the child isn't an absolute\n            // route. Only add the / delimiter if the child path isn't empty and if the\n            // parent path doesn't have a trailing slash\n            if (parent && path[0] !== '/') {\n                const parentPath = parent.record.path;\n                const connectingSlash = parentPath[parentPath.length - 1] === '/' ? '' : '/';\n                normalizedRecord.path =\n                    parent.record.path + (path && connectingSlash + path);\n            }\n            if ((process.env.NODE_ENV !== 'production') && normalizedRecord.path === '*') {\n                throw new Error('Catch all routes (\"*\") must now be defined using a param with a custom regexp.\\n' +\n                    'See more at https://router.vuejs.org/guide/migration/#Removed-star-or-catch-all-routes.');\n            }\n            // create the object beforehand, so it can be passed to children\n            matcher = createRouteRecordMatcher(normalizedRecord, parent, options);\n            if ((process.env.NODE_ENV !== 'production') && parent && path[0] === '/')\n                checkMissingParamsInAbsolutePath(matcher, parent);\n            // if we are an alias we must tell the original record that we exist,\n            // so we can be removed\n            if (originalRecord) {\n                originalRecord.alias.push(matcher);\n                if ((process.env.NODE_ENV !== 'production')) {\n                    checkSameParams(originalRecord, matcher);\n                }\n            }\n            else {\n                // otherwise, the first record is the original and others are aliases\n                originalMatcher = originalMatcher || matcher;\n                if (originalMatcher !== matcher)\n                    originalMatcher.alias.push(matcher);\n                // remove the route if named and only for the top record (avoid in nested calls)\n                // this works because the original record is the first one\n                if (isRootAdd && record.name && !isAliasRecord(matcher)) {\n                    if ((process.env.NODE_ENV !== 'production')) {\n                        checkSameNameAsAncestor(record, parent);\n                    }\n                    removeRoute(record.name);\n                }\n            }\n            // Avoid adding a record that doesn't display anything. This allows passing through records without a component to\n            // not be reached and pass through the catch all route\n            if (isMatchable(matcher)) {\n                insertMatcher(matcher);\n            }\n            if (mainNormalizedRecord.children) {\n                const children = mainNormalizedRecord.children;\n                for (let i = 0; i < children.length; i++) {\n                    addRoute(children[i], matcher, originalRecord && originalRecord.children[i]);\n                }\n            }\n            // if there was no original record, then the first one was not an alias and all\n            // other aliases (if any) need to reference this record when adding children\n            originalRecord = originalRecord || matcher;\n            // TODO: add normalized records for more flexibility\n            // if (parent && isAliasRecord(originalRecord)) {\n            //   parent.children.push(originalRecord)\n            // }\n        }\n        return originalMatcher\n            ? () => {\n                // since other matchers are aliases, they should be removed by the original matcher\n                removeRoute(originalMatcher);\n            }\n            : noop;\n    }\n    function removeRoute(matcherRef) {\n        if (isRouteName(matcherRef)) {\n            const matcher = matcherMap.get(matcherRef);\n            if (matcher) {\n                matcherMap.delete(matcherRef);\n                matchers.splice(matchers.indexOf(matcher), 1);\n                matcher.children.forEach(removeRoute);\n                matcher.alias.forEach(removeRoute);\n            }\n        }\n        else {\n            const index = matchers.indexOf(matcherRef);\n            if (index > -1) {\n                matchers.splice(index, 1);\n                if (matcherRef.record.name)\n                    matcherMap.delete(matcherRef.record.name);\n                matcherRef.children.forEach(removeRoute);\n                matcherRef.alias.forEach(removeRoute);\n            }\n        }\n    }\n    function getRoutes() {\n        return matchers;\n    }\n    function insertMatcher(matcher) {\n        const index = findInsertionIndex(matcher, matchers);\n        matchers.splice(index, 0, matcher);\n        // only add the original record to the name map\n        if (matcher.record.name && !isAliasRecord(matcher))\n            matcherMap.set(matcher.record.name, matcher);\n    }\n    function resolve(location, currentLocation) {\n        let matcher;\n        let params = {};\n        let path;\n        let name;\n        if ('name' in location && location.name) {\n            matcher = matcherMap.get(location.name);\n            if (!matcher)\n                throw createRouterError(1 /* ErrorTypes.MATCHER_NOT_FOUND */, {\n                    location,\n                });\n            // warn if the user is passing invalid params so they can debug it better when they get removed\n            if ((process.env.NODE_ENV !== 'production')) {\n                const invalidParams = Object.keys(location.params || {}).filter(paramName => !matcher.keys.find(k => k.name === paramName));\n                if (invalidParams.length) {\n                    warn(`Discarded invalid param(s) \"${invalidParams.join('\", \"')}\" when navigating. See https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22 for more details.`);\n                }\n            }\n            name = matcher.record.name;\n            params = assign(\n            // paramsFromLocation is a new object\n            paramsFromLocation(currentLocation.params, \n            // only keep params that exist in the resolved location\n            // only keep optional params coming from a parent record\n            matcher.keys\n                .filter(k => !k.optional)\n                .concat(matcher.parent ? matcher.parent.keys.filter(k => k.optional) : [])\n                .map(k => k.name)), \n            // discard any existing params in the current location that do not exist here\n            // #1497 this ensures better active/exact matching\n            location.params &&\n                paramsFromLocation(location.params, matcher.keys.map(k => k.name)));\n            // throws if cannot be stringified\n            path = matcher.stringify(params);\n        }\n        else if (location.path != null) {\n            // no need to resolve the path with the matcher as it was provided\n            // this also allows the user to control the encoding\n            path = location.path;\n            if ((process.env.NODE_ENV !== 'production') && !path.startsWith('/')) {\n                warn(`The Matcher cannot resolve relative paths but received \"${path}\". Unless you directly called \\`matcher.resolve(\"${path}\")\\`, this is probably a bug in vue-router. Please open an issue at https://github.com/vuejs/router/issues/new/choose.`);\n            }\n            matcher = matchers.find(m => m.re.test(path));\n            // matcher should have a value after the loop\n            if (matcher) {\n                // we know the matcher works because we tested the regexp\n                params = matcher.parse(path);\n                name = matcher.record.name;\n            }\n            // location is a relative path\n        }\n        else {\n            // match by name or path of current route\n            matcher = currentLocation.name\n                ? matcherMap.get(currentLocation.name)\n                : matchers.find(m => m.re.test(currentLocation.path));\n            if (!matcher)\n                throw createRouterError(1 /* ErrorTypes.MATCHER_NOT_FOUND */, {\n                    location,\n                    currentLocation,\n                });\n            name = matcher.record.name;\n            // since we are navigating to the same location, we don't need to pick the\n            // params like when `name` is provided\n            params = assign({}, currentLocation.params, location.params);\n            path = matcher.stringify(params);\n        }\n        const matched = [];\n        let parentMatcher = matcher;\n        while (parentMatcher) {\n            // reversed order so parents are at the beginning\n            matched.unshift(parentMatcher.record);\n            parentMatcher = parentMatcher.parent;\n        }\n        return {\n            name,\n            path,\n            params,\n            matched,\n            meta: mergeMetaFields(matched),\n        };\n    }\n    // add initial routes\n    routes.forEach(route => addRoute(route));\n    function clearRoutes() {\n        matchers.length = 0;\n        matcherMap.clear();\n    }\n    return {\n        addRoute,\n        resolve,\n        removeRoute,\n        clearRoutes,\n        getRoutes,\n        getRecordMatcher,\n    };\n}\nfunction paramsFromLocation(params, keys) {\n    const newParams = {};\n    for (const key of keys) {\n        if (key in params)\n            newParams[key] = params[key];\n    }\n    return newParams;\n}\n/**\n * Normalizes a RouteRecordRaw. Creates a copy\n *\n * @param record\n * @returns the normalized version\n */\nfunction normalizeRouteRecord(record) {\n    const normalized = {\n        path: record.path,\n        redirect: record.redirect,\n        name: record.name,\n        meta: record.meta || {},\n        aliasOf: record.aliasOf,\n        beforeEnter: record.beforeEnter,\n        props: normalizeRecordProps(record),\n        children: record.children || [],\n        instances: {},\n        leaveGuards: new Set(),\n        updateGuards: new Set(),\n        enterCallbacks: {},\n        // must be declared afterwards\n        // mods: {},\n        components: 'components' in record\n            ? record.components || null\n            : record.component && { default: record.component },\n    };\n    // mods contain modules and shouldn't be copied,\n    // logged or anything. It's just used for internal\n    // advanced use cases like data loaders\n    Object.defineProperty(normalized, 'mods', {\n        value: {},\n    });\n    return normalized;\n}\n/**\n * Normalize the optional `props` in a record to always be an object similar to\n * components. Also accept a boolean for components.\n * @param record\n */\nfunction normalizeRecordProps(record) {\n    const propsObject = {};\n    // props does not exist on redirect records, but we can set false directly\n    const props = record.props || false;\n    if ('component' in record) {\n        propsObject.default = props;\n    }\n    else {\n        // NOTE: we could also allow a function to be applied to every component.\n        // Would need user feedback for use cases\n        for (const name in record.components)\n            propsObject[name] = typeof props === 'object' ? props[name] : props;\n    }\n    return propsObject;\n}\n/**\n * Checks if a record or any of its parent is an alias\n * @param record\n */\nfunction isAliasRecord(record) {\n    while (record) {\n        if (record.record.aliasOf)\n            return true;\n        record = record.parent;\n    }\n    return false;\n}\n/**\n * Merge meta fields of an array of records\n *\n * @param matched - array of matched records\n */\nfunction mergeMetaFields(matched) {\n    return matched.reduce((meta, record) => assign(meta, record.meta), {});\n}\nfunction mergeOptions(defaults, partialOptions) {\n    const options = {};\n    for (const key in defaults) {\n        options[key] = key in partialOptions ? partialOptions[key] : defaults[key];\n    }\n    return options;\n}\nfunction isSameParam(a, b) {\n    return (a.name === b.name &&\n        a.optional === b.optional &&\n        a.repeatable === b.repeatable);\n}\n/**\n * Check if a path and its alias have the same required params\n *\n * @param a - original record\n * @param b - alias record\n */\nfunction checkSameParams(a, b) {\n    for (const key of a.keys) {\n        if (!key.optional && !b.keys.find(isSameParam.bind(null, key)))\n            return warn(`Alias \"${b.record.path}\" and the original record: \"${a.record.path}\" must have the exact same param named \"${key.name}\"`);\n    }\n    for (const key of b.keys) {\n        if (!key.optional && !a.keys.find(isSameParam.bind(null, key)))\n            return warn(`Alias \"${b.record.path}\" and the original record: \"${a.record.path}\" must have the exact same param named \"${key.name}\"`);\n    }\n}\n/**\n * A route with a name and a child with an empty path without a name should warn when adding the route\n *\n * @param mainNormalizedRecord - RouteRecordNormalized\n * @param parent - RouteRecordMatcher\n */\nfunction checkChildMissingNameWithEmptyPath(mainNormalizedRecord, parent) {\n    if (parent &&\n        parent.record.name &&\n        !mainNormalizedRecord.name &&\n        !mainNormalizedRecord.path) {\n        warn(`The route named \"${String(parent.record.name)}\" has a child without a name and an empty path. Using that name won't render the empty path child so you probably want to move the name to the child instead. If this is intentional, add a name to the child route to remove the warning.`);\n    }\n}\nfunction checkSameNameAsAncestor(record, parent) {\n    for (let ancestor = parent; ancestor; ancestor = ancestor.parent) {\n        if (ancestor.record.name === record.name) {\n            throw new Error(`A route named \"${String(record.name)}\" has been added as a ${parent === ancestor ? 'child' : 'descendant'} of a route with the same name. Route names must be unique and a nested route cannot use the same name as an ancestor.`);\n        }\n    }\n}\nfunction checkMissingParamsInAbsolutePath(record, parent) {\n    for (const key of parent.keys) {\n        if (!record.keys.find(isSameParam.bind(null, key)))\n            return warn(`Absolute path \"${record.record.path}\" must have the exact same param named \"${key.name}\" as its parent \"${parent.record.path}\".`);\n    }\n}\n/**\n * Performs a binary search to find the correct insertion index for a new matcher.\n *\n * Matchers are primarily sorted by their score. If scores are tied then we also consider parent/child relationships,\n * with descendants coming before ancestors. If there's still a tie, new routes are inserted after existing routes.\n *\n * @param matcher - new matcher to be inserted\n * @param matchers - existing matchers\n */\nfunction findInsertionIndex(matcher, matchers) {\n    // First phase: binary search based on score\n    let lower = 0;\n    let upper = matchers.length;\n    while (lower !== upper) {\n        const mid = (lower + upper) >> 1;\n        const sortOrder = comparePathParserScore(matcher, matchers[mid]);\n        if (sortOrder < 0) {\n            upper = mid;\n        }\n        else {\n            lower = mid + 1;\n        }\n    }\n    // Second phase: check for an ancestor with the same score\n    const insertionAncestor = getInsertionAncestor(matcher);\n    if (insertionAncestor) {\n        upper = matchers.lastIndexOf(insertionAncestor, upper - 1);\n        if ((process.env.NODE_ENV !== 'production') && upper < 0) {\n            // This should never happen\n            warn(`Finding ancestor route \"${insertionAncestor.record.path}\" failed for \"${matcher.record.path}\"`);\n        }\n    }\n    return upper;\n}\nfunction getInsertionAncestor(matcher) {\n    let ancestor = matcher;\n    while ((ancestor = ancestor.parent)) {\n        if (isMatchable(ancestor) &&\n            comparePathParserScore(matcher, ancestor) === 0) {\n            return ancestor;\n        }\n    }\n    return;\n}\n/**\n * Checks if a matcher can be reachable. This means if it's possible to reach it as a route. For example, routes without\n * a component, or name, or redirect, are just used to group other routes.\n * @param matcher\n * @param matcher.record record of the matcher\n * @returns\n */\nfunction isMatchable({ record }) {\n    return !!(record.name ||\n        (record.components && Object.keys(record.components).length) ||\n        record.redirect);\n}\n\n/**\n * Transforms a queryString into a {@link LocationQuery} object. Accept both, a\n * version with the leading `?` and without Should work as URLSearchParams\n\n * @internal\n *\n * @param search - search string to parse\n * @returns a query object\n */\nfunction parseQuery(search) {\n    const query = {};\n    // avoid creating an object with an empty key and empty value\n    // because of split('&')\n    if (search === '' || search === '?')\n        return query;\n    const hasLeadingIM = search[0] === '?';\n    const searchParams = (hasLeadingIM ? search.slice(1) : search).split('&');\n    for (let i = 0; i < searchParams.length; ++i) {\n        // pre decode the + into space\n        const searchParam = searchParams[i].replace(PLUS_RE, ' ');\n        // allow the = character\n        const eqPos = searchParam.indexOf('=');\n        const key = decode(eqPos < 0 ? searchParam : searchParam.slice(0, eqPos));\n        const value = eqPos < 0 ? null : decode(searchParam.slice(eqPos + 1));\n        if (key in query) {\n            // an extra variable for ts types\n            let currentValue = query[key];\n            if (!isArray(currentValue)) {\n                currentValue = query[key] = [currentValue];\n            }\n            currentValue.push(value);\n        }\n        else {\n            query[key] = value;\n        }\n    }\n    return query;\n}\n/**\n * Stringifies a {@link LocationQueryRaw} object. Like `URLSearchParams`, it\n * doesn't prepend a `?`\n *\n * @internal\n *\n * @param query - query object to stringify\n * @returns string version of the query without the leading `?`\n */\nfunction stringifyQuery(query) {\n    let search = '';\n    for (let key in query) {\n        const value = query[key];\n        key = encodeQueryKey(key);\n        if (value == null) {\n            // only null adds the value\n            if (value !== undefined) {\n                search += (search.length ? '&' : '') + key;\n            }\n            continue;\n        }\n        // keep null values\n        const values = isArray(value)\n            ? value.map(v => v && encodeQueryValue(v))\n            : [value && encodeQueryValue(value)];\n        values.forEach(value => {\n            // skip undefined values in arrays as if they were not present\n            // smaller code than using filter\n            if (value !== undefined) {\n                // only append & with non-empty search\n                search += (search.length ? '&' : '') + key;\n                if (value != null)\n                    search += '=' + value;\n            }\n        });\n    }\n    return search;\n}\n/**\n * Transforms a {@link LocationQueryRaw} into a {@link LocationQuery} by casting\n * numbers into strings, removing keys with an undefined value and replacing\n * undefined with null in arrays\n *\n * @param query - query object to normalize\n * @returns a normalized query object\n */\nfunction normalizeQuery(query) {\n    const normalizedQuery = {};\n    for (const key in query) {\n        const value = query[key];\n        if (value !== undefined) {\n            normalizedQuery[key] = isArray(value)\n                ? value.map(v => (v == null ? null : '' + v))\n                : value == null\n                    ? value\n                    : '' + value;\n        }\n    }\n    return normalizedQuery;\n}\n\n/**\n * RouteRecord being rendered by the closest ancestor Router View. Used for\n * `onBeforeRouteUpdate` and `onBeforeRouteLeave`. rvlm stands for Router View\n * Location Matched\n *\n * @internal\n */\nconst matchedRouteKey = Symbol((process.env.NODE_ENV !== 'production') ? 'router view location matched' : '');\n/**\n * Allows overriding the router view depth to control which component in\n * `matched` is rendered. rvd stands for Router View Depth\n *\n * @internal\n */\nconst viewDepthKey = Symbol((process.env.NODE_ENV !== 'production') ? 'router view depth' : '');\n/**\n * Allows overriding the router instance returned by `useRouter` in tests. r\n * stands for router\n *\n * @internal\n */\nconst routerKey = Symbol((process.env.NODE_ENV !== 'production') ? 'router' : '');\n/**\n * Allows overriding the current route returned by `useRoute` in tests. rl\n * stands for route location\n *\n * @internal\n */\nconst routeLocationKey = Symbol((process.env.NODE_ENV !== 'production') ? 'route location' : '');\n/**\n * Allows overriding the current route used by router-view. Internally this is\n * used when the `route` prop is passed.\n *\n * @internal\n */\nconst routerViewLocationKey = Symbol((process.env.NODE_ENV !== 'production') ? 'router view location' : '');\n\n/**\n * Create a list of callbacks that can be reset. Used to create before and after navigation guards list\n */\nfunction useCallbacks() {\n    let handlers = [];\n    function add(handler) {\n        handlers.push(handler);\n        return () => {\n            const i = handlers.indexOf(handler);\n            if (i > -1)\n                handlers.splice(i, 1);\n        };\n    }\n    function reset() {\n        handlers = [];\n    }\n    return {\n        add,\n        list: () => handlers.slice(),\n        reset,\n    };\n}\n\nfunction registerGuard(record, name, guard) {\n    const removeFromList = () => {\n        record[name].delete(guard);\n    };\n    onUnmounted(removeFromList);\n    onDeactivated(removeFromList);\n    onActivated(() => {\n        record[name].add(guard);\n    });\n    record[name].add(guard);\n}\n/**\n * Add a navigation guard that triggers whenever the component for the current\n * location is about to be left. Similar to {@link beforeRouteLeave} but can be\n * used in any component. The guard is removed when the component is unmounted.\n *\n * @param leaveGuard - {@link NavigationGuard}\n */\nfunction onBeforeRouteLeave(leaveGuard) {\n    if ((process.env.NODE_ENV !== 'production') && !getCurrentInstance()) {\n        warn('getCurrentInstance() returned null. onBeforeRouteLeave() must be called at the top of a setup function');\n        return;\n    }\n    const activeRecord = inject(matchedRouteKey, \n    // to avoid warning\n    {}).value;\n    if (!activeRecord) {\n        (process.env.NODE_ENV !== 'production') &&\n            warn('No active route record was found when calling `onBeforeRouteLeave()`. Make sure you call this function inside a component child of <router-view>. Maybe you called it inside of App.vue?');\n        return;\n    }\n    registerGuard(activeRecord, 'leaveGuards', leaveGuard);\n}\n/**\n * Add a navigation guard that triggers whenever the current location is about\n * to be updated. Similar to {@link beforeRouteUpdate} but can be used in any\n * component. The guard is removed when the component is unmounted.\n *\n * @param updateGuard - {@link NavigationGuard}\n */\nfunction onBeforeRouteUpdate(updateGuard) {\n    if ((process.env.NODE_ENV !== 'production') && !getCurrentInstance()) {\n        warn('getCurrentInstance() returned null. onBeforeRouteUpdate() must be called at the top of a setup function');\n        return;\n    }\n    const activeRecord = inject(matchedRouteKey, \n    // to avoid warning\n    {}).value;\n    if (!activeRecord) {\n        (process.env.NODE_ENV !== 'production') &&\n            warn('No active route record was found when calling `onBeforeRouteUpdate()`. Make sure you call this function inside a component child of <router-view>. Maybe you called it inside of App.vue?');\n        return;\n    }\n    registerGuard(activeRecord, 'updateGuards', updateGuard);\n}\nfunction guardToPromiseFn(guard, to, from, record, name, runWithContext = fn => fn()) {\n    // keep a reference to the enterCallbackArray to prevent pushing callbacks if a new navigation took place\n    const enterCallbackArray = record &&\n        // name is defined if record is because of the function overload\n        (record.enterCallbacks[name] = record.enterCallbacks[name] || []);\n    return () => new Promise((resolve, reject) => {\n        const next = (valid) => {\n            if (valid === false) {\n                reject(createRouterError(4 /* ErrorTypes.NAVIGATION_ABORTED */, {\n                    from,\n                    to,\n                }));\n            }\n            else if (valid instanceof Error) {\n                reject(valid);\n            }\n            else if (isRouteLocation(valid)) {\n                reject(createRouterError(2 /* ErrorTypes.NAVIGATION_GUARD_REDIRECT */, {\n                    from: to,\n                    to: valid,\n                }));\n            }\n            else {\n                if (enterCallbackArray &&\n                    // since enterCallbackArray is truthy, both record and name also are\n                    record.enterCallbacks[name] === enterCallbackArray &&\n                    typeof valid === 'function') {\n                    enterCallbackArray.push(valid);\n                }\n                resolve();\n            }\n        };\n        // wrapping with Promise.resolve allows it to work with both async and sync guards\n        const guardReturn = runWithContext(() => guard.call(record && record.instances[name], to, from, (process.env.NODE_ENV !== 'production') ? canOnlyBeCalledOnce(next, to, from) : next));\n        let guardCall = Promise.resolve(guardReturn);\n        if (guard.length < 3)\n            guardCall = guardCall.then(next);\n        if ((process.env.NODE_ENV !== 'production') && guard.length > 2) {\n            const message = `The \"next\" callback was never called inside of ${guard.name ? '\"' + guard.name + '\"' : ''}:\\n${guard.toString()}\\n. If you are returning a value instead of calling \"next\", make sure to remove the \"next\" parameter from your function.`;\n            if (typeof guardReturn === 'object' && 'then' in guardReturn) {\n                guardCall = guardCall.then(resolvedValue => {\n                    // @ts-expect-error: _called is added at canOnlyBeCalledOnce\n                    if (!next._called) {\n                        warn(message);\n                        return Promise.reject(new Error('Invalid navigation guard'));\n                    }\n                    return resolvedValue;\n                });\n            }\n            else if (guardReturn !== undefined) {\n                // @ts-expect-error: _called is added at canOnlyBeCalledOnce\n                if (!next._called) {\n                    warn(message);\n                    reject(new Error('Invalid navigation guard'));\n                    return;\n                }\n            }\n        }\n        guardCall.catch(err => reject(err));\n    });\n}\nfunction canOnlyBeCalledOnce(next, to, from) {\n    let called = 0;\n    return function () {\n        if (called++ === 1)\n            warn(`The \"next\" callback was called more than once in one navigation guard when going from \"${from.fullPath}\" to \"${to.fullPath}\". It should be called exactly one time in each navigation guard. This will fail in production.`);\n        // @ts-expect-error: we put it in the original one because it's easier to check\n        next._called = true;\n        if (called === 1)\n            next.apply(null, arguments);\n    };\n}\nfunction extractComponentsGuards(matched, guardType, to, from, runWithContext = fn => fn()) {\n    const guards = [];\n    for (const record of matched) {\n        if ((process.env.NODE_ENV !== 'production') && !record.components && !record.children.length) {\n            warn(`Record with path \"${record.path}\" is either missing a \"component(s)\"` +\n                ` or \"children\" property.`);\n        }\n        for (const name in record.components) {\n            let rawComponent = record.components[name];\n            if ((process.env.NODE_ENV !== 'production')) {\n                if (!rawComponent ||\n                    (typeof rawComponent !== 'object' &&\n                        typeof rawComponent !== 'function')) {\n                    warn(`Component \"${name}\" in record with path \"${record.path}\" is not` +\n                        ` a valid component. Received \"${String(rawComponent)}\".`);\n                    // throw to ensure we stop here but warn to ensure the message isn't\n                    // missed by the user\n                    throw new Error('Invalid route component');\n                }\n                else if ('then' in rawComponent) {\n                    // warn if user wrote import('/component.vue') instead of () =>\n                    // import('./component.vue')\n                    warn(`Component \"${name}\" in record with path \"${record.path}\" is a ` +\n                        `Promise instead of a function that returns a Promise. Did you ` +\n                        `write \"import('./MyPage.vue')\" instead of ` +\n                        `\"() => import('./MyPage.vue')\" ? This will break in ` +\n                        `production if not fixed.`);\n                    const promise = rawComponent;\n                    rawComponent = () => promise;\n                }\n                else if (rawComponent.__asyncLoader &&\n                    // warn only once per component\n                    !rawComponent.__warnedDefineAsync) {\n                    rawComponent.__warnedDefineAsync = true;\n                    warn(`Component \"${name}\" in record with path \"${record.path}\" is defined ` +\n                        `using \"defineAsyncComponent()\". ` +\n                        `Write \"() => import('./MyPage.vue')\" instead of ` +\n                        `\"defineAsyncComponent(() => import('./MyPage.vue'))\".`);\n                }\n            }\n            // skip update and leave guards if the route component is not mounted\n            if (guardType !== 'beforeRouteEnter' && !record.instances[name])\n                continue;\n            if (isRouteComponent(rawComponent)) {\n                // __vccOpts is added by vue-class-component and contain the regular options\n                const options = rawComponent.__vccOpts || rawComponent;\n                const guard = options[guardType];\n                guard &&\n                    guards.push(guardToPromiseFn(guard, to, from, record, name, runWithContext));\n            }\n            else {\n                // start requesting the chunk already\n                let componentPromise = rawComponent();\n                if ((process.env.NODE_ENV !== 'production') && !('catch' in componentPromise)) {\n                    warn(`Component \"${name}\" in record with path \"${record.path}\" is a function that does not return a Promise. If you were passing a functional component, make sure to add a \"displayName\" to the component. This will break in production if not fixed.`);\n                    componentPromise = Promise.resolve(componentPromise);\n                }\n                guards.push(() => componentPromise.then(resolved => {\n                    if (!resolved)\n                        throw new Error(`Couldn't resolve component \"${name}\" at \"${record.path}\"`);\n                    const resolvedComponent = isESModule(resolved)\n                        ? resolved.default\n                        : resolved;\n                    // keep the resolved module for plugins like data loaders\n                    record.mods[name] = resolved;\n                    // replace the function with the resolved component\n                    // cannot be null or undefined because we went into the for loop\n                    record.components[name] = resolvedComponent;\n                    // __vccOpts is added by vue-class-component and contain the regular options\n                    const options = resolvedComponent.__vccOpts || resolvedComponent;\n                    const guard = options[guardType];\n                    return (guard &&\n                        guardToPromiseFn(guard, to, from, record, name, runWithContext)());\n                }));\n            }\n        }\n    }\n    return guards;\n}\n/**\n * Ensures a route is loaded, so it can be passed as o prop to `<RouterView>`.\n *\n * @param route - resolved route to load\n */\nfunction loadRouteLocation(route) {\n    return route.matched.every(record => record.redirect)\n        ? Promise.reject(new Error('Cannot load a route that redirects.'))\n        : Promise.all(route.matched.map(record => record.components &&\n            Promise.all(Object.keys(record.components).reduce((promises, name) => {\n                const rawComponent = record.components[name];\n                if (typeof rawComponent === 'function' &&\n                    !('displayName' in rawComponent)) {\n                    promises.push(rawComponent().then(resolved => {\n                        if (!resolved)\n                            return Promise.reject(new Error(`Couldn't resolve component \"${name}\" at \"${record.path}\". Ensure you passed a function that returns a promise.`));\n                        const resolvedComponent = isESModule(resolved)\n                            ? resolved.default\n                            : resolved;\n                        // keep the resolved module for plugins like data loaders\n                        record.mods[name] = resolved;\n                        // replace the function with the resolved component\n                        // cannot be null or undefined because we went into the for loop\n                        record.components[name] = resolvedComponent;\n                        return;\n                    }));\n                }\n                return promises;\n            }, [])))).then(() => route);\n}\n\n// TODO: we could allow currentRoute as a prop to expose `isActive` and\n// `isExactActive` behavior should go through an RFC\n/**\n * Returns the internal behavior of a {@link RouterLink} without the rendering part.\n *\n * @param props - a `to` location and an optional `replace` flag\n */\nfunction useLink(props) {\n    const router = inject(routerKey);\n    const currentRoute = inject(routeLocationKey);\n    let hasPrevious = false;\n    let previousTo = null;\n    const route = computed(() => {\n        const to = unref(props.to);\n        if ((process.env.NODE_ENV !== 'production') && (!hasPrevious || to !== previousTo)) {\n            if (!isRouteLocation(to)) {\n                if (hasPrevious) {\n                    warn(`Invalid value for prop \"to\" in useLink()\\n- to:`, to, `\\n- previous to:`, previousTo, `\\n- props:`, props);\n                }\n                else {\n                    warn(`Invalid value for prop \"to\" in useLink()\\n- to:`, to, `\\n- props:`, props);\n                }\n            }\n            previousTo = to;\n            hasPrevious = true;\n        }\n        return router.resolve(to);\n    });\n    const activeRecordIndex = computed(() => {\n        const { matched } = route.value;\n        const { length } = matched;\n        const routeMatched = matched[length - 1];\n        const currentMatched = currentRoute.matched;\n        if (!routeMatched || !currentMatched.length)\n            return -1;\n        const index = currentMatched.findIndex(isSameRouteRecord.bind(null, routeMatched));\n        if (index > -1)\n            return index;\n        // possible parent record\n        const parentRecordPath = getOriginalPath(matched[length - 2]);\n        return (\n        // we are dealing with nested routes\n        length > 1 &&\n            // if the parent and matched route have the same path, this link is\n            // referring to the empty child. Or we currently are on a different\n            // child of the same parent\n            getOriginalPath(routeMatched) === parentRecordPath &&\n            // avoid comparing the child with its parent\n            currentMatched[currentMatched.length - 1].path !== parentRecordPath\n            ? currentMatched.findIndex(isSameRouteRecord.bind(null, matched[length - 2]))\n            : index);\n    });\n    const isActive = computed(() => activeRecordIndex.value > -1 &&\n        includesParams(currentRoute.params, route.value.params));\n    const isExactActive = computed(() => activeRecordIndex.value > -1 &&\n        activeRecordIndex.value === currentRoute.matched.length - 1 &&\n        isSameRouteLocationParams(currentRoute.params, route.value.params));\n    function navigate(e = {}) {\n        if (guardEvent(e)) {\n            const p = router[unref(props.replace) ? 'replace' : 'push'](unref(props.to)\n            // avoid uncaught errors are they are logged anyway\n            ).catch(noop);\n            if (props.viewTransition &&\n                typeof document !== 'undefined' &&\n                'startViewTransition' in document) {\n                document.startViewTransition(() => p);\n            }\n            return p;\n        }\n        return Promise.resolve();\n    }\n    // devtools only\n    if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) && isBrowser) {\n        const instance = getCurrentInstance();\n        if (instance) {\n            const linkContextDevtools = {\n                route: route.value,\n                isActive: isActive.value,\n                isExactActive: isExactActive.value,\n                error: null,\n            };\n            // @ts-expect-error: this is internal\n            instance.__vrl_devtools = instance.__vrl_devtools || [];\n            // @ts-expect-error: this is internal\n            instance.__vrl_devtools.push(linkContextDevtools);\n            watchEffect(() => {\n                linkContextDevtools.route = route.value;\n                linkContextDevtools.isActive = isActive.value;\n                linkContextDevtools.isExactActive = isExactActive.value;\n                linkContextDevtools.error = isRouteLocation(unref(props.to))\n                    ? null\n                    : 'Invalid \"to\" value';\n            }, { flush: 'post' });\n        }\n    }\n    /**\n     * NOTE: update {@link _RouterLinkI}'s `$slots` type when updating this\n     */\n    return {\n        route,\n        href: computed(() => route.value.href),\n        isActive,\n        isExactActive,\n        navigate,\n    };\n}\nfunction preferSingleVNode(vnodes) {\n    return vnodes.length === 1 ? vnodes[0] : vnodes;\n}\nconst RouterLinkImpl = /*#__PURE__*/ defineComponent({\n    name: 'RouterLink',\n    compatConfig: { MODE: 3 },\n    props: {\n        to: {\n            type: [String, Object],\n            required: true,\n        },\n        replace: Boolean,\n        activeClass: String,\n        // inactiveClass: String,\n        exactActiveClass: String,\n        custom: Boolean,\n        ariaCurrentValue: {\n            type: String,\n            default: 'page',\n        },\n    },\n    useLink,\n    setup(props, { slots }) {\n        const link = reactive(useLink(props));\n        const { options } = inject(routerKey);\n        const elClass = computed(() => ({\n            [getLinkClass(props.activeClass, options.linkActiveClass, 'router-link-active')]: link.isActive,\n            // [getLinkClass(\n            //   props.inactiveClass,\n            //   options.linkInactiveClass,\n            //   'router-link-inactive'\n            // )]: !link.isExactActive,\n            [getLinkClass(props.exactActiveClass, options.linkExactActiveClass, 'router-link-exact-active')]: link.isExactActive,\n        }));\n        return () => {\n            const children = slots.default && preferSingleVNode(slots.default(link));\n            return props.custom\n                ? children\n                : h('a', {\n                    'aria-current': link.isExactActive\n                        ? props.ariaCurrentValue\n                        : null,\n                    href: link.href,\n                    // this would override user added attrs but Vue will still add\n                    // the listener, so we end up triggering both\n                    onClick: link.navigate,\n                    class: elClass.value,\n                }, children);\n        };\n    },\n});\n// export the public type for h/tsx inference\n// also to avoid inline import() in generated d.ts files\n/**\n * Component to render a link that triggers a navigation on click.\n */\nconst RouterLink = RouterLinkImpl;\nfunction guardEvent(e) {\n    // don't redirect with control keys\n    if (e.metaKey || e.altKey || e.ctrlKey || e.shiftKey)\n        return;\n    // don't redirect when preventDefault called\n    if (e.defaultPrevented)\n        return;\n    // don't redirect on right click\n    if (e.button !== undefined && e.button !== 0)\n        return;\n    // don't redirect if `target=\"_blank\"`\n    // @ts-expect-error getAttribute does exist\n    if (e.currentTarget && e.currentTarget.getAttribute) {\n        // @ts-expect-error getAttribute exists\n        const target = e.currentTarget.getAttribute('target');\n        if (/\\b_blank\\b/i.test(target))\n            return;\n    }\n    // this may be a Weex event which doesn't have this method\n    if (e.preventDefault)\n        e.preventDefault();\n    return true;\n}\nfunction includesParams(outer, inner) {\n    for (const key in inner) {\n        const innerValue = inner[key];\n        const outerValue = outer[key];\n        if (typeof innerValue === 'string') {\n            if (innerValue !== outerValue)\n                return false;\n        }\n        else {\n            if (!isArray(outerValue) ||\n                outerValue.length !== innerValue.length ||\n                innerValue.some((value, i) => value !== outerValue[i]))\n                return false;\n        }\n    }\n    return true;\n}\n/**\n * Get the original path value of a record by following its aliasOf\n * @param record\n */\nfunction getOriginalPath(record) {\n    return record ? (record.aliasOf ? record.aliasOf.path : record.path) : '';\n}\n/**\n * Utility class to get the active class based on defaults.\n * @param propClass\n * @param globalClass\n * @param defaultClass\n */\nconst getLinkClass = (propClass, globalClass, defaultClass) => propClass != null\n    ? propClass\n    : globalClass != null\n        ? globalClass\n        : defaultClass;\n\nconst RouterViewImpl = /*#__PURE__*/ defineComponent({\n    name: 'RouterView',\n    // #674 we manually inherit them\n    inheritAttrs: false,\n    props: {\n        name: {\n            type: String,\n            default: 'default',\n        },\n        route: Object,\n    },\n    // Better compat for @vue/compat users\n    // https://github.com/vuejs/router/issues/1315\n    compatConfig: { MODE: 3 },\n    setup(props, { attrs, slots }) {\n        (process.env.NODE_ENV !== 'production') && warnDeprecatedUsage();\n        const injectedRoute = inject(routerViewLocationKey);\n        const routeToDisplay = computed(() => props.route || injectedRoute.value);\n        const injectedDepth = inject(viewDepthKey, 0);\n        // The depth changes based on empty components option, which allows passthrough routes e.g. routes with children\n        // that are used to reuse the `path` property\n        const depth = computed(() => {\n            let initialDepth = unref(injectedDepth);\n            const { matched } = routeToDisplay.value;\n            let matchedRoute;\n            while ((matchedRoute = matched[initialDepth]) &&\n                !matchedRoute.components) {\n                initialDepth++;\n            }\n            return initialDepth;\n        });\n        const matchedRouteRef = computed(() => routeToDisplay.value.matched[depth.value]);\n        provide(viewDepthKey, computed(() => depth.value + 1));\n        provide(matchedRouteKey, matchedRouteRef);\n        provide(routerViewLocationKey, routeToDisplay);\n        const viewRef = ref();\n        // watch at the same time the component instance, the route record we are\n        // rendering, and the name\n        watch(() => [viewRef.value, matchedRouteRef.value, props.name], ([instance, to, name], [oldInstance, from, oldName]) => {\n            // copy reused instances\n            if (to) {\n                // this will update the instance for new instances as well as reused\n                // instances when navigating to a new route\n                to.instances[name] = instance;\n                // the component instance is reused for a different route or name, so\n                // we copy any saved update or leave guards. With async setup, the\n                // mounting component will mount before the matchedRoute changes,\n                // making instance === oldInstance, so we check if guards have been\n                // added before. This works because we remove guards when\n                // unmounting/deactivating components\n                if (from && from !== to && instance && instance === oldInstance) {\n                    if (!to.leaveGuards.size) {\n                        to.leaveGuards = from.leaveGuards;\n                    }\n                    if (!to.updateGuards.size) {\n                        to.updateGuards = from.updateGuards;\n                    }\n                }\n            }\n            // trigger beforeRouteEnter next callbacks\n            if (instance &&\n                to &&\n                // if there is no instance but to and from are the same this might be\n                // the first visit\n                (!from || !isSameRouteRecord(to, from) || !oldInstance)) {\n                (to.enterCallbacks[name] || []).forEach(callback => callback(instance));\n            }\n        }, { flush: 'post' });\n        return () => {\n            const route = routeToDisplay.value;\n            // we need the value at the time we render because when we unmount, we\n            // navigated to a different location so the value is different\n            const currentName = props.name;\n            const matchedRoute = matchedRouteRef.value;\n            const ViewComponent = matchedRoute && matchedRoute.components[currentName];\n            if (!ViewComponent) {\n                return normalizeSlot(slots.default, { Component: ViewComponent, route });\n            }\n            // props from route configuration\n            const routePropsOption = matchedRoute.props[currentName];\n            const routeProps = routePropsOption\n                ? routePropsOption === true\n                    ? route.params\n                    : typeof routePropsOption === 'function'\n                        ? routePropsOption(route)\n                        : routePropsOption\n                : null;\n            const onVnodeUnmounted = vnode => {\n                // remove the instance reference to prevent leak\n                if (vnode.component.isUnmounted) {\n                    matchedRoute.instances[currentName] = null;\n                }\n            };\n            const component = h(ViewComponent, assign({}, routeProps, attrs, {\n                onVnodeUnmounted,\n                ref: viewRef,\n            }));\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\n                isBrowser &&\n                component.ref) {\n                // TODO: can display if it's an alias, its props\n                const info = {\n                    depth: depth.value,\n                    name: matchedRoute.name,\n                    path: matchedRoute.path,\n                    meta: matchedRoute.meta,\n                };\n                const internalInstances = isArray(component.ref)\n                    ? component.ref.map(r => r.i)\n                    : [component.ref.i];\n                internalInstances.forEach(instance => {\n                    // @ts-expect-error\n                    instance.__vrv_devtools = info;\n                });\n            }\n            return (\n            // pass the vnode to the slot as a prop.\n            // h and <component :is=\"...\"> both accept vnodes\n            normalizeSlot(slots.default, { Component: component, route }) ||\n                component);\n        };\n    },\n});\nfunction normalizeSlot(slot, data) {\n    if (!slot)\n        return null;\n    const slotContent = slot(data);\n    return slotContent.length === 1 ? slotContent[0] : slotContent;\n}\n// export the public type for h/tsx inference\n// also to avoid inline import() in generated d.ts files\n/**\n * Component to display the current route the user is at.\n */\nconst RouterView = RouterViewImpl;\n// warn against deprecated usage with <transition> & <keep-alive>\n// due to functional component being no longer eager in Vue 3\nfunction warnDeprecatedUsage() {\n    const instance = getCurrentInstance();\n    const parentName = instance.parent && instance.parent.type.name;\n    const parentSubTreeType = instance.parent && instance.parent.subTree && instance.parent.subTree.type;\n    if (parentName &&\n        (parentName === 'KeepAlive' || parentName.includes('Transition')) &&\n        typeof parentSubTreeType === 'object' &&\n        parentSubTreeType.name === 'RouterView') {\n        const comp = parentName === 'KeepAlive' ? 'keep-alive' : 'transition';\n        warn(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.\\n` +\n            `Use slot props instead:\\n\\n` +\n            `<router-view v-slot=\"{ Component }\">\\n` +\n            `  <${comp}>\\n` +\n            `    <component :is=\"Component\" />\\n` +\n            `  </${comp}>\\n` +\n            `</router-view>`);\n    }\n}\n\n/**\n * Copies a route location and removes any problematic properties that cannot be shown in devtools (e.g. Vue instances).\n *\n * @param routeLocation - routeLocation to format\n * @param tooltip - optional tooltip\n * @returns a copy of the routeLocation\n */\nfunction formatRouteLocation(routeLocation, tooltip) {\n    const copy = assign({}, routeLocation, {\n        // remove variables that can contain vue instances\n        matched: routeLocation.matched.map(matched => omit(matched, ['instances', 'children', 'aliasOf'])),\n    });\n    return {\n        _custom: {\n            type: null,\n            readOnly: true,\n            display: routeLocation.fullPath,\n            tooltip,\n            value: copy,\n        },\n    };\n}\nfunction formatDisplay(display) {\n    return {\n        _custom: {\n            display,\n        },\n    };\n}\n// to support multiple router instances\nlet routerId = 0;\nfunction addDevtools(app, router, matcher) {\n    // Take over router.beforeEach and afterEach\n    // make sure we are not registering the devtool twice\n    if (router.__hasDevtools)\n        return;\n    router.__hasDevtools = true;\n    // increment to support multiple router instances\n    const id = routerId++;\n    setupDevtoolsPlugin({\n        id: 'org.vuejs.router' + (id ? '.' + id : ''),\n        label: 'Vue Router',\n        packageName: 'vue-router',\n        homepage: 'https://router.vuejs.org',\n        logo: 'https://router.vuejs.org/logo.png',\n        componentStateTypes: ['Routing'],\n        app,\n    }, api => {\n        if (typeof api.now !== 'function') {\n            console.warn('[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html.');\n        }\n        // display state added by the router\n        api.on.inspectComponent((payload, ctx) => {\n            if (payload.instanceData) {\n                payload.instanceData.state.push({\n                    type: 'Routing',\n                    key: '$route',\n                    editable: false,\n                    value: formatRouteLocation(router.currentRoute.value, 'Current Route'),\n                });\n            }\n        });\n        // mark router-link as active and display tags on router views\n        api.on.visitComponentTree(({ treeNode: node, componentInstance }) => {\n            if (componentInstance.__vrv_devtools) {\n                const info = componentInstance.__vrv_devtools;\n                node.tags.push({\n                    label: (info.name ? `${info.name.toString()}: ` : '') + info.path,\n                    textColor: 0,\n                    tooltip: 'This component is rendered by &lt;router-view&gt;',\n                    backgroundColor: PINK_500,\n                });\n            }\n            // if multiple useLink are used\n            if (isArray(componentInstance.__vrl_devtools)) {\n                componentInstance.__devtoolsApi = api;\n                componentInstance.__vrl_devtools.forEach(devtoolsData => {\n                    let label = devtoolsData.route.path;\n                    let backgroundColor = ORANGE_400;\n                    let tooltip = '';\n                    let textColor = 0;\n                    if (devtoolsData.error) {\n                        label = devtoolsData.error;\n                        backgroundColor = RED_100;\n                        textColor = RED_700;\n                    }\n                    else if (devtoolsData.isExactActive) {\n                        backgroundColor = LIME_500;\n                        tooltip = 'This is exactly active';\n                    }\n                    else if (devtoolsData.isActive) {\n                        backgroundColor = BLUE_600;\n                        tooltip = 'This link is active';\n                    }\n                    node.tags.push({\n                        label,\n                        textColor,\n                        tooltip,\n                        backgroundColor,\n                    });\n                });\n            }\n        });\n        watch(router.currentRoute, () => {\n            // refresh active state\n            refreshRoutesView();\n            api.notifyComponentUpdate();\n            api.sendInspectorTree(routerInspectorId);\n            api.sendInspectorState(routerInspectorId);\n        });\n        const navigationsLayerId = 'router:navigations:' + id;\n        api.addTimelineLayer({\n            id: navigationsLayerId,\n            label: `Router${id ? ' ' + id : ''} Navigations`,\n            color: 0x40a8c4,\n        });\n        // const errorsLayerId = 'router:errors'\n        // api.addTimelineLayer({\n        //   id: errorsLayerId,\n        //   label: 'Router Errors',\n        //   color: 0xea5455,\n        // })\n        router.onError((error, to) => {\n            api.addTimelineEvent({\n                layerId: navigationsLayerId,\n                event: {\n                    title: 'Error during Navigation',\n                    subtitle: to.fullPath,\n                    logType: 'error',\n                    time: api.now(),\n                    data: { error },\n                    groupId: to.meta.__navigationId,\n                },\n            });\n        });\n        // attached to `meta` and used to group events\n        let navigationId = 0;\n        router.beforeEach((to, from) => {\n            const data = {\n                guard: formatDisplay('beforeEach'),\n                from: formatRouteLocation(from, 'Current Location during this navigation'),\n                to: formatRouteLocation(to, 'Target location'),\n            };\n            // Used to group navigations together, hide from devtools\n            Object.defineProperty(to.meta, '__navigationId', {\n                value: navigationId++,\n            });\n            api.addTimelineEvent({\n                layerId: navigationsLayerId,\n                event: {\n                    time: api.now(),\n                    title: 'Start of navigation',\n                    subtitle: to.fullPath,\n                    data,\n                    groupId: to.meta.__navigationId,\n                },\n            });\n        });\n        router.afterEach((to, from, failure) => {\n            const data = {\n                guard: formatDisplay('afterEach'),\n            };\n            if (failure) {\n                data.failure = {\n                    _custom: {\n                        type: Error,\n                        readOnly: true,\n                        display: failure ? failure.message : '',\n                        tooltip: 'Navigation Failure',\n                        value: failure,\n                    },\n                };\n                data.status = formatDisplay('❌');\n            }\n            else {\n                data.status = formatDisplay('✅');\n            }\n            // we set here to have the right order\n            data.from = formatRouteLocation(from, 'Current Location during this navigation');\n            data.to = formatRouteLocation(to, 'Target location');\n            api.addTimelineEvent({\n                layerId: navigationsLayerId,\n                event: {\n                    title: 'End of navigation',\n                    subtitle: to.fullPath,\n                    time: api.now(),\n                    data,\n                    logType: failure ? 'warning' : 'default',\n                    groupId: to.meta.__navigationId,\n                },\n            });\n        });\n        /**\n         * Inspector of Existing routes\n         */\n        const routerInspectorId = 'router-inspector:' + id;\n        api.addInspector({\n            id: routerInspectorId,\n            label: 'Routes' + (id ? ' ' + id : ''),\n            icon: 'book',\n            treeFilterPlaceholder: 'Search routes',\n        });\n        function refreshRoutesView() {\n            // the routes view isn't active\n            if (!activeRoutesPayload)\n                return;\n            const payload = activeRoutesPayload;\n            // children routes will appear as nested\n            let routes = matcher.getRoutes().filter(route => !route.parent ||\n                // these routes have a parent with no component which will not appear in the view\n                // therefore we still need to include them\n                !route.parent.record.components);\n            // reset match state to false\n            routes.forEach(resetMatchStateOnRouteRecord);\n            // apply a match state if there is a payload\n            if (payload.filter) {\n                routes = routes.filter(route => \n                // save matches state based on the payload\n                isRouteMatching(route, payload.filter.toLowerCase()));\n            }\n            // mark active routes\n            routes.forEach(route => markRouteRecordActive(route, router.currentRoute.value));\n            payload.rootNodes = routes.map(formatRouteRecordForInspector);\n        }\n        let activeRoutesPayload;\n        api.on.getInspectorTree(payload => {\n            activeRoutesPayload = payload;\n            if (payload.app === app && payload.inspectorId === routerInspectorId) {\n                refreshRoutesView();\n            }\n        });\n        /**\n         * Display information about the currently selected route record\n         */\n        api.on.getInspectorState(payload => {\n            if (payload.app === app && payload.inspectorId === routerInspectorId) {\n                const routes = matcher.getRoutes();\n                const route = routes.find(route => route.record.__vd_id === payload.nodeId);\n                if (route) {\n                    payload.state = {\n                        options: formatRouteRecordMatcherForStateInspector(route),\n                    };\n                }\n            }\n        });\n        api.sendInspectorTree(routerInspectorId);\n        api.sendInspectorState(routerInspectorId);\n    });\n}\nfunction modifierForKey(key) {\n    if (key.optional) {\n        return key.repeatable ? '*' : '?';\n    }\n    else {\n        return key.repeatable ? '+' : '';\n    }\n}\nfunction formatRouteRecordMatcherForStateInspector(route) {\n    const { record } = route;\n    const fields = [\n        { editable: false, key: 'path', value: record.path },\n    ];\n    if (record.name != null) {\n        fields.push({\n            editable: false,\n            key: 'name',\n            value: record.name,\n        });\n    }\n    fields.push({ editable: false, key: 'regexp', value: route.re });\n    if (route.keys.length) {\n        fields.push({\n            editable: false,\n            key: 'keys',\n            value: {\n                _custom: {\n                    type: null,\n                    readOnly: true,\n                    display: route.keys\n                        .map(key => `${key.name}${modifierForKey(key)}`)\n                        .join(' '),\n                    tooltip: 'Param keys',\n                    value: route.keys,\n                },\n            },\n        });\n    }\n    if (record.redirect != null) {\n        fields.push({\n            editable: false,\n            key: 'redirect',\n            value: record.redirect,\n        });\n    }\n    if (route.alias.length) {\n        fields.push({\n            editable: false,\n            key: 'aliases',\n            value: route.alias.map(alias => alias.record.path),\n        });\n    }\n    if (Object.keys(route.record.meta).length) {\n        fields.push({\n            editable: false,\n            key: 'meta',\n            value: route.record.meta,\n        });\n    }\n    fields.push({\n        key: 'score',\n        editable: false,\n        value: {\n            _custom: {\n                type: null,\n                readOnly: true,\n                display: route.score.map(score => score.join(', ')).join(' | '),\n                tooltip: 'Score used to sort routes',\n                value: route.score,\n            },\n        },\n    });\n    return fields;\n}\n/**\n * Extracted from tailwind palette\n */\nconst PINK_500 = 0xec4899;\nconst BLUE_600 = 0x2563eb;\nconst LIME_500 = 0x84cc16;\nconst CYAN_400 = 0x22d3ee;\nconst ORANGE_400 = 0xfb923c;\n// const GRAY_100 = 0xf4f4f5\nconst DARK = 0x666666;\nconst RED_100 = 0xfee2e2;\nconst RED_700 = 0xb91c1c;\nfunction formatRouteRecordForInspector(route) {\n    const tags = [];\n    const { record } = route;\n    if (record.name != null) {\n        tags.push({\n            label: String(record.name),\n            textColor: 0,\n            backgroundColor: CYAN_400,\n        });\n    }\n    if (record.aliasOf) {\n        tags.push({\n            label: 'alias',\n            textColor: 0,\n            backgroundColor: ORANGE_400,\n        });\n    }\n    if (route.__vd_match) {\n        tags.push({\n            label: 'matches',\n            textColor: 0,\n            backgroundColor: PINK_500,\n        });\n    }\n    if (route.__vd_exactActive) {\n        tags.push({\n            label: 'exact',\n            textColor: 0,\n            backgroundColor: LIME_500,\n        });\n    }\n    if (route.__vd_active) {\n        tags.push({\n            label: 'active',\n            textColor: 0,\n            backgroundColor: BLUE_600,\n        });\n    }\n    if (record.redirect) {\n        tags.push({\n            label: typeof record.redirect === 'string'\n                ? `redirect: ${record.redirect}`\n                : 'redirects',\n            textColor: 0xffffff,\n            backgroundColor: DARK,\n        });\n    }\n    // add an id to be able to select it. Using the `path` is not possible because\n    // empty path children would collide with their parents\n    let id = record.__vd_id;\n    if (id == null) {\n        id = String(routeRecordId++);\n        record.__vd_id = id;\n    }\n    return {\n        id,\n        label: record.path,\n        tags,\n        children: route.children.map(formatRouteRecordForInspector),\n    };\n}\n//  incremental id for route records and inspector state\nlet routeRecordId = 0;\nconst EXTRACT_REGEXP_RE = /^\\/(.*)\\/([a-z]*)$/;\nfunction markRouteRecordActive(route, currentRoute) {\n    // no route will be active if matched is empty\n    // reset the matching state\n    const isExactActive = currentRoute.matched.length &&\n        isSameRouteRecord(currentRoute.matched[currentRoute.matched.length - 1], route.record);\n    route.__vd_exactActive = route.__vd_active = isExactActive;\n    if (!isExactActive) {\n        route.__vd_active = currentRoute.matched.some(match => isSameRouteRecord(match, route.record));\n    }\n    route.children.forEach(childRoute => markRouteRecordActive(childRoute, currentRoute));\n}\nfunction resetMatchStateOnRouteRecord(route) {\n    route.__vd_match = false;\n    route.children.forEach(resetMatchStateOnRouteRecord);\n}\nfunction isRouteMatching(route, filter) {\n    const found = String(route.re).match(EXTRACT_REGEXP_RE);\n    route.__vd_match = false;\n    if (!found || found.length < 3) {\n        return false;\n    }\n    // use a regexp without $ at the end to match nested routes better\n    const nonEndingRE = new RegExp(found[1].replace(/\\$$/, ''), found[2]);\n    if (nonEndingRE.test(filter)) {\n        // mark children as matches\n        route.children.forEach(child => isRouteMatching(child, filter));\n        // exception case: `/`\n        if (route.record.path !== '/' || filter === '/') {\n            route.__vd_match = route.re.test(filter);\n            return true;\n        }\n        // hide the / route\n        return false;\n    }\n    const path = route.record.path.toLowerCase();\n    const decodedPath = decode(path);\n    // also allow partial matching on the path\n    if (!filter.startsWith('/') &&\n        (decodedPath.includes(filter) || path.includes(filter)))\n        return true;\n    if (decodedPath.startsWith(filter) || path.startsWith(filter))\n        return true;\n    if (route.record.name && String(route.record.name).includes(filter))\n        return true;\n    return route.children.some(child => isRouteMatching(child, filter));\n}\nfunction omit(obj, keys) {\n    const ret = {};\n    for (const key in obj) {\n        if (!keys.includes(key)) {\n            // @ts-expect-error\n            ret[key] = obj[key];\n        }\n    }\n    return ret;\n}\n\n/**\n * Creates a Router instance that can be used by a Vue app.\n *\n * @param options - {@link RouterOptions}\n */\nfunction createRouter(options) {\n    const matcher = createRouterMatcher(options.routes, options);\n    const parseQuery$1 = options.parseQuery || parseQuery;\n    const stringifyQuery$1 = options.stringifyQuery || stringifyQuery;\n    const routerHistory = options.history;\n    if ((process.env.NODE_ENV !== 'production') && !routerHistory)\n        throw new Error('Provide the \"history\" option when calling \"createRouter()\":' +\n            ' https://router.vuejs.org/api/interfaces/RouterOptions.html#history');\n    const beforeGuards = useCallbacks();\n    const beforeResolveGuards = useCallbacks();\n    const afterGuards = useCallbacks();\n    const currentRoute = shallowRef(START_LOCATION_NORMALIZED);\n    let pendingLocation = START_LOCATION_NORMALIZED;\n    // leave the scrollRestoration if no scrollBehavior is provided\n    if (isBrowser && options.scrollBehavior && 'scrollRestoration' in history) {\n        history.scrollRestoration = 'manual';\n    }\n    const normalizeParams = applyToParams.bind(null, paramValue => '' + paramValue);\n    const encodeParams = applyToParams.bind(null, encodeParam);\n    const decodeParams = \n    // @ts-expect-error: intentionally avoid the type check\n    applyToParams.bind(null, decode);\n    function addRoute(parentOrRoute, route) {\n        let parent;\n        let record;\n        if (isRouteName(parentOrRoute)) {\n            parent = matcher.getRecordMatcher(parentOrRoute);\n            if ((process.env.NODE_ENV !== 'production') && !parent) {\n                warn(`Parent route \"${String(parentOrRoute)}\" not found when adding child route`, route);\n            }\n            record = route;\n        }\n        else {\n            record = parentOrRoute;\n        }\n        return matcher.addRoute(record, parent);\n    }\n    function removeRoute(name) {\n        const recordMatcher = matcher.getRecordMatcher(name);\n        if (recordMatcher) {\n            matcher.removeRoute(recordMatcher);\n        }\n        else if ((process.env.NODE_ENV !== 'production')) {\n            warn(`Cannot remove non-existent route \"${String(name)}\"`);\n        }\n    }\n    function getRoutes() {\n        return matcher.getRoutes().map(routeMatcher => routeMatcher.record);\n    }\n    function hasRoute(name) {\n        return !!matcher.getRecordMatcher(name);\n    }\n    function resolve(rawLocation, currentLocation) {\n        // const resolve: Router['resolve'] = (rawLocation: RouteLocationRaw, currentLocation) => {\n        // const objectLocation = routerLocationAsObject(rawLocation)\n        // we create a copy to modify it later\n        currentLocation = assign({}, currentLocation || currentRoute.value);\n        if (typeof rawLocation === 'string') {\n            const locationNormalized = parseURL(parseQuery$1, rawLocation, currentLocation.path);\n            const matchedRoute = matcher.resolve({ path: locationNormalized.path }, currentLocation);\n            const href = routerHistory.createHref(locationNormalized.fullPath);\n            if ((process.env.NODE_ENV !== 'production')) {\n                if (href.startsWith('//'))\n                    warn(`Location \"${rawLocation}\" resolved to \"${href}\". A resolved location cannot start with multiple slashes.`);\n                else if (!matchedRoute.matched.length) {\n                    warn(`No match found for location with path \"${rawLocation}\"`);\n                }\n            }\n            // locationNormalized is always a new object\n            return assign(locationNormalized, matchedRoute, {\n                params: decodeParams(matchedRoute.params),\n                hash: decode(locationNormalized.hash),\n                redirectedFrom: undefined,\n                href,\n            });\n        }\n        if ((process.env.NODE_ENV !== 'production') && !isRouteLocation(rawLocation)) {\n            warn(`router.resolve() was passed an invalid location. This will fail in production.\\n- Location:`, rawLocation);\n            return resolve({});\n        }\n        let matcherLocation;\n        // path could be relative in object as well\n        if (rawLocation.path != null) {\n            if ((process.env.NODE_ENV !== 'production') &&\n                'params' in rawLocation &&\n                !('name' in rawLocation) &&\n                // @ts-expect-error: the type is never\n                Object.keys(rawLocation.params).length) {\n                warn(`Path \"${rawLocation.path}\" was passed with params but they will be ignored. Use a named route alongside params instead.`);\n            }\n            matcherLocation = assign({}, rawLocation, {\n                path: parseURL(parseQuery$1, rawLocation.path, currentLocation.path).path,\n            });\n        }\n        else {\n            // remove any nullish param\n            const targetParams = assign({}, rawLocation.params);\n            for (const key in targetParams) {\n                if (targetParams[key] == null) {\n                    delete targetParams[key];\n                }\n            }\n            // pass encoded values to the matcher, so it can produce encoded path and fullPath\n            matcherLocation = assign({}, rawLocation, {\n                params: encodeParams(targetParams),\n            });\n            // current location params are decoded, we need to encode them in case the\n            // matcher merges the params\n            currentLocation.params = encodeParams(currentLocation.params);\n        }\n        const matchedRoute = matcher.resolve(matcherLocation, currentLocation);\n        const hash = rawLocation.hash || '';\n        if ((process.env.NODE_ENV !== 'production') && hash && !hash.startsWith('#')) {\n            warn(`A \\`hash\\` should always start with the character \"#\". Replace \"${hash}\" with \"#${hash}\".`);\n        }\n        // the matcher might have merged current location params, so\n        // we need to run the decoding again\n        matchedRoute.params = normalizeParams(decodeParams(matchedRoute.params));\n        const fullPath = stringifyURL(stringifyQuery$1, assign({}, rawLocation, {\n            hash: encodeHash(hash),\n            path: matchedRoute.path,\n        }));\n        const href = routerHistory.createHref(fullPath);\n        if ((process.env.NODE_ENV !== 'production')) {\n            if (href.startsWith('//')) {\n                warn(`Location \"${rawLocation}\" resolved to \"${href}\". A resolved location cannot start with multiple slashes.`);\n            }\n            else if (!matchedRoute.matched.length) {\n                warn(`No match found for location with path \"${rawLocation.path != null ? rawLocation.path : rawLocation}\"`);\n            }\n        }\n        return assign({\n            fullPath,\n            // keep the hash encoded so fullPath is effectively path + encodedQuery +\n            // hash\n            hash,\n            query: \n            // if the user is using a custom query lib like qs, we might have\n            // nested objects, so we keep the query as is, meaning it can contain\n            // numbers at `$route.query`, but at the point, the user will have to\n            // use their own type anyway.\n            // https://github.com/vuejs/router/issues/328#issuecomment-649481567\n            stringifyQuery$1 === stringifyQuery\n                ? normalizeQuery(rawLocation.query)\n                : (rawLocation.query || {}),\n        }, matchedRoute, {\n            redirectedFrom: undefined,\n            href,\n        });\n    }\n    function locationAsObject(to) {\n        return typeof to === 'string'\n            ? parseURL(parseQuery$1, to, currentRoute.value.path)\n            : assign({}, to);\n    }\n    function checkCanceledNavigation(to, from) {\n        if (pendingLocation !== to) {\n            return createRouterError(8 /* ErrorTypes.NAVIGATION_CANCELLED */, {\n                from,\n                to,\n            });\n        }\n    }\n    function push(to) {\n        return pushWithRedirect(to);\n    }\n    function replace(to) {\n        return push(assign(locationAsObject(to), { replace: true }));\n    }\n    function handleRedirectRecord(to) {\n        const lastMatched = to.matched[to.matched.length - 1];\n        if (lastMatched && lastMatched.redirect) {\n            const { redirect } = lastMatched;\n            let newTargetLocation = typeof redirect === 'function' ? redirect(to) : redirect;\n            if (typeof newTargetLocation === 'string') {\n                newTargetLocation =\n                    newTargetLocation.includes('?') || newTargetLocation.includes('#')\n                        ? (newTargetLocation = locationAsObject(newTargetLocation))\n                        : // force empty params\n                            { path: newTargetLocation };\n                // @ts-expect-error: force empty params when a string is passed to let\n                // the router parse them again\n                newTargetLocation.params = {};\n            }\n            if ((process.env.NODE_ENV !== 'production') &&\n                newTargetLocation.path == null &&\n                !('name' in newTargetLocation)) {\n                warn(`Invalid redirect found:\\n${JSON.stringify(newTargetLocation, null, 2)}\\n when navigating to \"${to.fullPath}\". A redirect must contain a name or path. This will break in production.`);\n                throw new Error('Invalid redirect');\n            }\n            return assign({\n                query: to.query,\n                hash: to.hash,\n                // avoid transferring params if the redirect has a path\n                params: newTargetLocation.path != null ? {} : to.params,\n            }, newTargetLocation);\n        }\n    }\n    function pushWithRedirect(to, redirectedFrom) {\n        const targetLocation = (pendingLocation = resolve(to));\n        const from = currentRoute.value;\n        const data = to.state;\n        const force = to.force;\n        // to could be a string where `replace` is a function\n        const replace = to.replace === true;\n        const shouldRedirect = handleRedirectRecord(targetLocation);\n        if (shouldRedirect)\n            return pushWithRedirect(assign(locationAsObject(shouldRedirect), {\n                state: typeof shouldRedirect === 'object'\n                    ? assign({}, data, shouldRedirect.state)\n                    : data,\n                force,\n                replace,\n            }), \n            // keep original redirectedFrom if it exists\n            redirectedFrom || targetLocation);\n        // if it was a redirect we already called `pushWithRedirect` above\n        const toLocation = targetLocation;\n        toLocation.redirectedFrom = redirectedFrom;\n        let failure;\n        if (!force && isSameRouteLocation(stringifyQuery$1, from, targetLocation)) {\n            failure = createRouterError(16 /* ErrorTypes.NAVIGATION_DUPLICATED */, { to: toLocation, from });\n            // trigger scroll to allow scrolling to the same anchor\n            handleScroll(from, from, \n            // this is a push, the only way for it to be triggered from a\n            // history.listen is with a redirect, which makes it become a push\n            true, \n            // This cannot be the first navigation because the initial location\n            // cannot be manually navigated to\n            false);\n        }\n        return (failure ? Promise.resolve(failure) : navigate(toLocation, from))\n            .catch((error) => isNavigationFailure(error)\n            ? // navigation redirects still mark the router as ready\n                isNavigationFailure(error, 2 /* ErrorTypes.NAVIGATION_GUARD_REDIRECT */)\n                    ? error\n                    : markAsReady(error) // also returns the error\n            : // reject any unknown error\n                triggerError(error, toLocation, from))\n            .then((failure) => {\n            if (failure) {\n                if (isNavigationFailure(failure, 2 /* ErrorTypes.NAVIGATION_GUARD_REDIRECT */)) {\n                    if ((process.env.NODE_ENV !== 'production') &&\n                        // we are redirecting to the same location we were already at\n                        isSameRouteLocation(stringifyQuery$1, resolve(failure.to), toLocation) &&\n                        // and we have done it a couple of times\n                        redirectedFrom &&\n                        // @ts-expect-error: added only in dev\n                        (redirectedFrom._count = redirectedFrom._count\n                            ? // @ts-expect-error\n                                redirectedFrom._count + 1\n                            : 1) > 30) {\n                        warn(`Detected a possibly infinite redirection in a navigation guard when going from \"${from.fullPath}\" to \"${toLocation.fullPath}\". Aborting to avoid a Stack Overflow.\\n Are you always returning a new location within a navigation guard? That would lead to this error. Only return when redirecting or aborting, that should fix this. This might break in production if not fixed.`);\n                        return Promise.reject(new Error('Infinite redirect in navigation guard'));\n                    }\n                    return pushWithRedirect(\n                    // keep options\n                    assign({\n                        // preserve an existing replacement but allow the redirect to override it\n                        replace,\n                    }, locationAsObject(failure.to), {\n                        state: typeof failure.to === 'object'\n                            ? assign({}, data, failure.to.state)\n                            : data,\n                        force,\n                    }), \n                    // preserve the original redirectedFrom if any\n                    redirectedFrom || toLocation);\n                }\n            }\n            else {\n                // if we fail we don't finalize the navigation\n                failure = finalizeNavigation(toLocation, from, true, replace, data);\n            }\n            triggerAfterEach(toLocation, from, failure);\n            return failure;\n        });\n    }\n    /**\n     * Helper to reject and skip all navigation guards if a new navigation happened\n     * @param to\n     * @param from\n     */\n    function checkCanceledNavigationAndReject(to, from) {\n        const error = checkCanceledNavigation(to, from);\n        return error ? Promise.reject(error) : Promise.resolve();\n    }\n    function runWithContext(fn) {\n        const app = installedApps.values().next().value;\n        // support Vue < 3.3\n        return app && typeof app.runWithContext === 'function'\n            ? app.runWithContext(fn)\n            : fn();\n    }\n    // TODO: refactor the whole before guards by internally using router.beforeEach\n    function navigate(to, from) {\n        let guards;\n        const [leavingRecords, updatingRecords, enteringRecords] = extractChangingRecords(to, from);\n        // all components here have been resolved once because we are leaving\n        guards = extractComponentsGuards(leavingRecords.reverse(), 'beforeRouteLeave', to, from);\n        // leavingRecords is already reversed\n        for (const record of leavingRecords) {\n            record.leaveGuards.forEach(guard => {\n                guards.push(guardToPromiseFn(guard, to, from));\n            });\n        }\n        const canceledNavigationCheck = checkCanceledNavigationAndReject.bind(null, to, from);\n        guards.push(canceledNavigationCheck);\n        // run the queue of per route beforeRouteLeave guards\n        return (runGuardQueue(guards)\n            .then(() => {\n            // check global guards beforeEach\n            guards = [];\n            for (const guard of beforeGuards.list()) {\n                guards.push(guardToPromiseFn(guard, to, from));\n            }\n            guards.push(canceledNavigationCheck);\n            return runGuardQueue(guards);\n        })\n            .then(() => {\n            // check in components beforeRouteUpdate\n            guards = extractComponentsGuards(updatingRecords, 'beforeRouteUpdate', to, from);\n            for (const record of updatingRecords) {\n                record.updateGuards.forEach(guard => {\n                    guards.push(guardToPromiseFn(guard, to, from));\n                });\n            }\n            guards.push(canceledNavigationCheck);\n            // run the queue of per route beforeEnter guards\n            return runGuardQueue(guards);\n        })\n            .then(() => {\n            // check the route beforeEnter\n            guards = [];\n            for (const record of enteringRecords) {\n                // do not trigger beforeEnter on reused views\n                if (record.beforeEnter) {\n                    if (isArray(record.beforeEnter)) {\n                        for (const beforeEnter of record.beforeEnter)\n                            guards.push(guardToPromiseFn(beforeEnter, to, from));\n                    }\n                    else {\n                        guards.push(guardToPromiseFn(record.beforeEnter, to, from));\n                    }\n                }\n            }\n            guards.push(canceledNavigationCheck);\n            // run the queue of per route beforeEnter guards\n            return runGuardQueue(guards);\n        })\n            .then(() => {\n            // NOTE: at this point to.matched is normalized and does not contain any () => Promise<Component>\n            // clear existing enterCallbacks, these are added by extractComponentsGuards\n            to.matched.forEach(record => (record.enterCallbacks = {}));\n            // check in-component beforeRouteEnter\n            guards = extractComponentsGuards(enteringRecords, 'beforeRouteEnter', to, from, runWithContext);\n            guards.push(canceledNavigationCheck);\n            // run the queue of per route beforeEnter guards\n            return runGuardQueue(guards);\n        })\n            .then(() => {\n            // check global guards beforeResolve\n            guards = [];\n            for (const guard of beforeResolveGuards.list()) {\n                guards.push(guardToPromiseFn(guard, to, from));\n            }\n            guards.push(canceledNavigationCheck);\n            return runGuardQueue(guards);\n        })\n            // catch any navigation canceled\n            .catch(err => isNavigationFailure(err, 8 /* ErrorTypes.NAVIGATION_CANCELLED */)\n            ? err\n            : Promise.reject(err)));\n    }\n    function triggerAfterEach(to, from, failure) {\n        // navigation is confirmed, call afterGuards\n        // TODO: wrap with error handlers\n        afterGuards\n            .list()\n            .forEach(guard => runWithContext(() => guard(to, from, failure)));\n    }\n    /**\n     * - Cleans up any navigation guards\n     * - Changes the url if necessary\n     * - Calls the scrollBehavior\n     */\n    function finalizeNavigation(toLocation, from, isPush, replace, data) {\n        // a more recent navigation took place\n        const error = checkCanceledNavigation(toLocation, from);\n        if (error)\n            return error;\n        // only consider as push if it's not the first navigation\n        const isFirstNavigation = from === START_LOCATION_NORMALIZED;\n        const state = !isBrowser ? {} : history.state;\n        // change URL only if the user did a push/replace and if it's not the initial navigation because\n        // it's just reflecting the url\n        if (isPush) {\n            // on the initial navigation, we want to reuse the scroll position from\n            // history state if it exists\n            if (replace || isFirstNavigation)\n                routerHistory.replace(toLocation.fullPath, assign({\n                    scroll: isFirstNavigation && state && state.scroll,\n                }, data));\n            else\n                routerHistory.push(toLocation.fullPath, data);\n        }\n        // accept current navigation\n        currentRoute.value = toLocation;\n        handleScroll(toLocation, from, isPush, isFirstNavigation);\n        markAsReady();\n    }\n    let removeHistoryListener;\n    // attach listener to history to trigger navigations\n    function setupListeners() {\n        // avoid setting up listeners twice due to an invalid first navigation\n        if (removeHistoryListener)\n            return;\n        removeHistoryListener = routerHistory.listen((to, _from, info) => {\n            if (!router.listening)\n                return;\n            // cannot be a redirect route because it was in history\n            const toLocation = resolve(to);\n            // due to dynamic routing, and to hash history with manual navigation\n            // (manually changing the url or calling history.hash = '#/somewhere'),\n            // there could be a redirect record in history\n            const shouldRedirect = handleRedirectRecord(toLocation);\n            if (shouldRedirect) {\n                pushWithRedirect(assign(shouldRedirect, { replace: true, force: true }), toLocation).catch(noop);\n                return;\n            }\n            pendingLocation = toLocation;\n            const from = currentRoute.value;\n            // TODO: should be moved to web history?\n            if (isBrowser) {\n                saveScrollPosition(getScrollKey(from.fullPath, info.delta), computeScrollPosition());\n            }\n            navigate(toLocation, from)\n                .catch((error) => {\n                if (isNavigationFailure(error, 4 /* ErrorTypes.NAVIGATION_ABORTED */ | 8 /* ErrorTypes.NAVIGATION_CANCELLED */)) {\n                    return error;\n                }\n                if (isNavigationFailure(error, 2 /* ErrorTypes.NAVIGATION_GUARD_REDIRECT */)) {\n                    // Here we could call if (info.delta) routerHistory.go(-info.delta,\n                    // false) but this is bug prone as we have no way to wait the\n                    // navigation to be finished before calling pushWithRedirect. Using\n                    // a setTimeout of 16ms seems to work but there is no guarantee for\n                    // it to work on every browser. So instead we do not restore the\n                    // history entry and trigger a new navigation as requested by the\n                    // navigation guard.\n                    // the error is already handled by router.push we just want to avoid\n                    // logging the error\n                    pushWithRedirect(assign(locationAsObject(error.to), {\n                        force: true,\n                    }), toLocation\n                    // avoid an uncaught rejection, let push call triggerError\n                    )\n                        .then(failure => {\n                        // manual change in hash history #916 ending up in the URL not\n                        // changing, but it was changed by the manual url change, so we\n                        // need to manually change it ourselves\n                        if (isNavigationFailure(failure, 4 /* ErrorTypes.NAVIGATION_ABORTED */ |\n                            16 /* ErrorTypes.NAVIGATION_DUPLICATED */) &&\n                            !info.delta &&\n                            info.type === NavigationType.pop) {\n                            routerHistory.go(-1, false);\n                        }\n                    })\n                        .catch(noop);\n                    // avoid the then branch\n                    return Promise.reject();\n                }\n                // do not restore history on unknown direction\n                if (info.delta) {\n                    routerHistory.go(-info.delta, false);\n                }\n                // unrecognized error, transfer to the global handler\n                return triggerError(error, toLocation, from);\n            })\n                .then((failure) => {\n                failure =\n                    failure ||\n                        finalizeNavigation(\n                        // after navigation, all matched components are resolved\n                        toLocation, from, false);\n                // revert the navigation\n                if (failure) {\n                    if (info.delta &&\n                        // a new navigation has been triggered, so we do not want to revert, that will change the current history\n                        // entry while a different route is displayed\n                        !isNavigationFailure(failure, 8 /* ErrorTypes.NAVIGATION_CANCELLED */)) {\n                        routerHistory.go(-info.delta, false);\n                    }\n                    else if (info.type === NavigationType.pop &&\n                        isNavigationFailure(failure, 4 /* ErrorTypes.NAVIGATION_ABORTED */ | 16 /* ErrorTypes.NAVIGATION_DUPLICATED */)) {\n                        // manual change in hash history #916\n                        // it's like a push but lacks the information of the direction\n                        routerHistory.go(-1, false);\n                    }\n                }\n                triggerAfterEach(toLocation, from, failure);\n            })\n                // avoid warnings in the console about uncaught rejections, they are logged by triggerErrors\n                .catch(noop);\n        });\n    }\n    // Initialization and Errors\n    let readyHandlers = useCallbacks();\n    let errorListeners = useCallbacks();\n    let ready;\n    /**\n     * Trigger errorListeners added via onError and throws the error as well\n     *\n     * @param error - error to throw\n     * @param to - location we were navigating to when the error happened\n     * @param from - location we were navigating from when the error happened\n     * @returns the error as a rejected promise\n     */\n    function triggerError(error, to, from) {\n        markAsReady(error);\n        const list = errorListeners.list();\n        if (list.length) {\n            list.forEach(handler => handler(error, to, from));\n        }\n        else {\n            if ((process.env.NODE_ENV !== 'production')) {\n                warn('uncaught error during route navigation:');\n            }\n            console.error(error);\n        }\n        // reject the error no matter there were error listeners or not\n        return Promise.reject(error);\n    }\n    function isReady() {\n        if (ready && currentRoute.value !== START_LOCATION_NORMALIZED)\n            return Promise.resolve();\n        return new Promise((resolve, reject) => {\n            readyHandlers.add([resolve, reject]);\n        });\n    }\n    function markAsReady(err) {\n        if (!ready) {\n            // still not ready if an error happened\n            ready = !err;\n            setupListeners();\n            readyHandlers\n                .list()\n                .forEach(([resolve, reject]) => (err ? reject(err) : resolve()));\n            readyHandlers.reset();\n        }\n        return err;\n    }\n    // Scroll behavior\n    function handleScroll(to, from, isPush, isFirstNavigation) {\n        const { scrollBehavior } = options;\n        if (!isBrowser || !scrollBehavior)\n            return Promise.resolve();\n        const scrollPosition = (!isPush && getSavedScrollPosition(getScrollKey(to.fullPath, 0))) ||\n            ((isFirstNavigation || !isPush) &&\n                history.state &&\n                history.state.scroll) ||\n            null;\n        return nextTick()\n            .then(() => scrollBehavior(to, from, scrollPosition))\n            .then(position => position && scrollToPosition(position))\n            .catch(err => triggerError(err, to, from));\n    }\n    const go = (delta) => routerHistory.go(delta);\n    let started;\n    const installedApps = new Set();\n    const router = {\n        currentRoute,\n        listening: true,\n        addRoute,\n        removeRoute,\n        clearRoutes: matcher.clearRoutes,\n        hasRoute,\n        getRoutes,\n        resolve,\n        options,\n        push,\n        replace,\n        go,\n        back: () => go(-1),\n        forward: () => go(1),\n        beforeEach: beforeGuards.add,\n        beforeResolve: beforeResolveGuards.add,\n        afterEach: afterGuards.add,\n        onError: errorListeners.add,\n        isReady,\n        install(app) {\n            const router = this;\n            app.component('RouterLink', RouterLink);\n            app.component('RouterView', RouterView);\n            app.config.globalProperties.$router = router;\n            Object.defineProperty(app.config.globalProperties, '$route', {\n                enumerable: true,\n                get: () => unref(currentRoute),\n            });\n            // this initial navigation is only necessary on client, on server it doesn't\n            // make sense because it will create an extra unnecessary navigation and could\n            // lead to problems\n            if (isBrowser &&\n                // used for the initial navigation client side to avoid pushing\n                // multiple times when the router is used in multiple apps\n                !started &&\n                currentRoute.value === START_LOCATION_NORMALIZED) {\n                // see above\n                started = true;\n                push(routerHistory.location).catch(err => {\n                    if ((process.env.NODE_ENV !== 'production'))\n                        warn('Unexpected error when starting the router:', err);\n                });\n            }\n            const reactiveRoute = {};\n            for (const key in START_LOCATION_NORMALIZED) {\n                Object.defineProperty(reactiveRoute, key, {\n                    get: () => currentRoute.value[key],\n                    enumerable: true,\n                });\n            }\n            app.provide(routerKey, router);\n            app.provide(routeLocationKey, shallowReactive(reactiveRoute));\n            app.provide(routerViewLocationKey, currentRoute);\n            const unmountApp = app.unmount;\n            installedApps.add(app);\n            app.unmount = function () {\n                installedApps.delete(app);\n                // the router is not attached to an app anymore\n                if (installedApps.size < 1) {\n                    // invalidate the current navigation\n                    pendingLocation = START_LOCATION_NORMALIZED;\n                    removeHistoryListener && removeHistoryListener();\n                    removeHistoryListener = null;\n                    currentRoute.value = START_LOCATION_NORMALIZED;\n                    started = false;\n                    ready = false;\n                }\n                unmountApp();\n            };\n            // TODO: this probably needs to be updated so it can be used by vue-termui\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) && isBrowser) {\n                addDevtools(app, router, matcher);\n            }\n        },\n    };\n    // TODO: type this as NavigationGuardReturn or similar instead of any\n    function runGuardQueue(guards) {\n        return guards.reduce((promise, guard) => promise.then(() => runWithContext(guard)), Promise.resolve());\n    }\n    return router;\n}\nfunction extractChangingRecords(to, from) {\n    const leavingRecords = [];\n    const updatingRecords = [];\n    const enteringRecords = [];\n    const len = Math.max(from.matched.length, to.matched.length);\n    for (let i = 0; i < len; i++) {\n        const recordFrom = from.matched[i];\n        if (recordFrom) {\n            if (to.matched.find(record => isSameRouteRecord(record, recordFrom)))\n                updatingRecords.push(recordFrom);\n            else\n                leavingRecords.push(recordFrom);\n        }\n        const recordTo = to.matched[i];\n        if (recordTo) {\n            // the type doesn't matter because we are comparing per reference\n            if (!from.matched.find(record => isSameRouteRecord(record, recordTo))) {\n                enteringRecords.push(recordTo);\n            }\n        }\n    }\n    return [leavingRecords, updatingRecords, enteringRecords];\n}\n\n/**\n * Returns the router instance. Equivalent to using `$router` inside\n * templates.\n */\nfunction useRouter() {\n    return inject(routerKey);\n}\n/**\n * Returns the current route location. Equivalent to using `$route` inside\n * templates.\n */\nfunction useRoute(_name) {\n    return inject(routeLocationKey);\n}\n\nexport { NavigationFailureType, RouterLink, RouterView, START_LOCATION_NORMALIZED as START_LOCATION, createMemoryHistory, createRouter, createRouterMatcher, createWebHashHistory, createWebHistory, isNavigationFailure, loadRouteLocation, matchedRouteKey, onBeforeRouteLeave, onBeforeRouteUpdate, parseQuery, routeLocationKey, routerKey, routerViewLocationKey, stringifyQuery, useLink, useRoute, useRouter, viewDepthKey };\n","<template>\n  <div class=\"face-holder\">\n    <div class=\"fader\" />\n  </div>\n</template>\n\n<script>\nexport default {\nname: \"FaceHolder\"\n}\n</script>\n\n<style lang=\"sass\" scoped>\n@use \"@/styles/coloursAnt.sass\" as c\n@use \"@/styles/animations.sass\" as ani\n@use \"@/styles/breakpoints.sass\" as brk\n\n.face-holder\n    position: relative\n    z-index: 10\n    background-image: url(\"@/assets/profile_2024.png\")\n    background-position: center\n    background-repeat: no-repeat\n    background-size: cover\n    box-shadow: c.$green-1 0 0 25px 15px\n    border-radius: 50%\n\n    @media (min-width: brk.$desktop-width)\n      height: 300px\n      width: 300px\n\n    @media (max-width: calc(brk.$desktop-width - 1px)) and (min-width: brk.$tablet-width)\n      height: 200px\n      width: 200px\n\n    @media (max-width: calc(brk.$tablet-width - 1px))\n      height: 150px\n      width: 150px\n</style>","<template>\n  <div\n    class=\"facefloater-contain\"\n    :style=\"containStyler\"\n  >\n    <div\n      :class=\"[starClass, colourClass]\"\n      :style=\"starStyler\"\n    />\n  </div>  \n</template>\n\n<script>\nexport default {\nname: \"FaceFloater\",\nprops: {\n    orbitsize: {\n        type: Number,\n        default: 450\n    },\n    zlevel: {\n        type: Number,\n        default: 5\n    },\n    speed: {\n        type: Number,\n        default: 10\n    },\n    starsize: {\n        type: Number,\n        default: 100\n    },\n    startdeg: {\n        type: Number,\n        default: 0\n    }\n},\ndata() {\n    return {\n        colourClass: null,\n        starClass: \"facefloater\"\n    }\n},\ncomputed : {\n    containStyler : function() {\n        return {\n            'height': this.orbitsize +'px',\n            'width': this.orbitsize+'px',\n            'z-index': this.zlevel, \n            'animation-duration' : this.speed +'s',\n        }\n    },\n    starStyler: function() {\n        // work out left and right based on starting degree\n        var left,top;\n        if (this.startdeg <= 45)\n        {\n            top = \"0px\";\n            left = (this.orbitsize / 2) + (this.orbitsize/2) * (this.startdeg/45);\n            left = left+\"px\";\n        }\n        else if (this.startdeg > 45 && this.startdeg <= 135)\n        {\n            left = this.orbitsize +\"px\";\n            top = this.orbitsize *  ((this.startdeg-45)/(135-45));\n            top = top +\"px\";\n        }\n        else if (this.startdeg > 135 && this.startdeg <= 225)\n        {\n            top = this.orbitsize+\"px\";\n            left = this.orbitsize - this.orbitsize *  ((this.startdeg-135)/(225-135));\n            left = left +\"px\";\n        }\n        else if (this.startdeg > 225 && this.startdeg <= 315)\n        {\n            left= \"0px\"\n            top = this.orbitsize - this.orbitsize *  ((this.startdeg-225)/(315-225));\n            top = top +\"px\";\n        }\n        else \n        {\n            top = \"0px\"\n            left = (this.orbitsize/2) *  ((this.startdeg-315)/(45));\n            left = left +\"px\";\n        }\n        return {\n            'z-index' : this.zlevel-10,\n            'height' : this.starsize + 'px',\n            'width': this.starsize + 'px',\n            'top' : top,\n            'left': left,\n            'border-radius': Math.round(this.starsize/2) + 'px',\n        }\n    }\n},\ncreated() {\n    let rand = Math.random() * 12\n    if (rand < 2.5) {\n        this.colourClass = \"red\"\n    } else if (rand < 5.0) {\n        this.colourClass = \"green\"\n    } else if (rand < 7.5) {\n        this.colourClass = \"yellow\"\n    } else if (rand < 10) {\n        this.colourClass = \"cyan\"\n    } else {\n        this.colourClass = \"orange\"\n    }\n   \n}\n}\n</script>\n\n<style lang=\"sass\" scoped>\n@use \"@/styles/coloursAnt.sass\" as c\n@use \"@/styles/breakpoints.sass\" as brk\n\n.facefloater-contain\n    position: absolute\n    animation: rotate 10s infinite\n    .facefloater\n        position: absolute\n    .cyan\n        background-image: radial-gradient(c.$cyan-3, c.$cyan-5, c.$cyan-7)\n        box-shadow: 0 0 75px 5px c.$cyan-7\n    .yellow\n        background-image: radial-gradient(c.$yellow-3, c.$yellow-5, c.$yellow-7)\n        box-shadow: 0 0 75px 5px c.$yellow-7\n    .green\n        background-image: radial-gradient(c.$green-3, c.$green-5, c.$green-7)\n        box-shadow: 0 0 75px 5px c.$green-7\n    .red \n        background-image: radial-gradient(c.$red-3, c.$red-5, c.$red-7)\n        box-shadow: 0 0 75px 5px c.$red-7\n    .orange\n        background-image: radial-gradient(c.$orange-3, c.$orange-5, c.$orange-7)\n        box-shadow: 0 0 75px 5px c.$orange-7\n\n    div\n        @media (min-width: brk.$desktop-width)\n            transform: scale(0.75)\n\n        @media (max-width: calc(brk.$desktop-width - 1px)) and (min-width: brk.$tablet-width)\n            transform: scale(0.4)\n\n        @media (max-width: calc(brk.$tablet-width - 1px))\n            transform: scale(0.2)\n\n    @media (min-width: brk.$desktop-width)\n        transform: scale(0.75)\n\n    @media (max-width: calc(brk.$desktop-width - 1px)) and (min-width: brk.$tablet-width)\n        transform: scale(0.5)\n        max-width: 300px\n        max-height: 300px\n\n    @media (max-width: calc(brk.$tablet-width - 1px))\n        transform: scale(0.25)\n        max-width: 300px\n        max-height: 300px\n    \n</style>","export const FloaterTypes = Object.freeze(\n    {\n    SMALL : 1,\n    MEDIUM : 2,\n    LARGE : 3,\n    }\n);\n\nexport class FloaterBase\n{\n    constructor(type) \n    {\n        // check that type is a floaterType\n        if (!Object.values(FloaterTypes).includes(type)) {\n            throw TypeError(\"Floater type was \" + type +\" when accepted values are : FloaterType.[\"+Object.keys(FloaterTypes)+\"]\");\n        }\n        // continue to setup\n        this.type = null;\n        this.orbitsize = null;\n        this.zlevel = null;\n        this.speed = null;\n        this.starsize = null;\n        this.startdeg = null;\n        this.type =type;\n        this.setup(this.type);\n    }\n\n    setup(type) \n    {\n        switch(type)\n        {\n            case (FloaterTypes.SMALL):\n                {\n                    this.small();\n                    break;\n                }\n            case FloaterTypes.MEDIUM:\n                {\n                    this.medium();\n                    break;\n                }\n            case FloaterTypes.LARGE:\n                {\n                    this.large();\n                    break;\n                }\n        }\n        this.checkSetup();\n    }\n\n    small()\n    {\n        this.orbitsize=Math.random() * 100 + 450;\n        this.zlevel=Math.round(Math.random() * 50 + 50);\n        this.speed=Math.round(Math.random() * 15 +15);\n        this.starsize=Math.random() * 25 + 30;\n        this.startdeg=Math.random() * 360;\n    }\n\n    medium() \n    {\n        this.orbitsize=Math.random() * 100 + 450;\n        this.zlevel=Math.round(Math.random() * 50 + 15);\n        this.speed=Math.round(Math.random() * 15 + 30);\n        this.starsize=Math.random() * 25 + 60;\n        this.startdeg=Math.random() * 360;\n    }\n\n    large() \n    {\n       this.orbitsize=Math.random() * 250 + 450;\n       this.zlevel=Math.round(Math.random() * 50 + 15);\n       this.speed=Math.round(Math.random() * 15 + 60);\n       this.starsize=Math.random() * 25 + 120;\n       this.startdeg=Math.random() * 360;\n    }\n\n    checkSetup() \n    {\n        var unValidated = {};\n        var valid = true;\n        var checks = [\"orbitsize\", \"zlevel\", \"speed\", \"starsize\", \"startdeg\"];\n        try \n        {\n            for (var check of checks)\n            {\n                if (!this[check] || this[check] === null || this[check] == undefined)\n                {\n                    unValidated[check] = this[check];\n                    valid = false\n                }\n            }\n            if (!valid)\n            {\n                throw Error(JSON.stringify(unValidated))\n            }\n        } \n        catch (err) \n        {\n            throw Error(\"Floater setup can not be validated : \" + err.message );\n        }\n    }\n}\n\nexport class Floater extends FloaterBase\n{\n    constructor(type) \n    {\n        super(type)\n    }\n}\n\n\n\nexport default {\n    FloaterTypes,\n    Floater\n}","<template>\n  <div class=\"home-page\">\n    <div class=\"left\">\n      <FaceHolder />\n      <FaceFloater\n        v-for=\"(float,i) in largeFloats\"\n        :key=\"'large-'+i\"\n        :orbitsize=\"float.orbitsize\"\n        :zlevel=\"float.zlevel\"\n        :speed=\"float.speed\"\n        :starsize=\"float.starsize\"\n        :startdeg=\"float.startdeg\"\n      />\n      <FaceFloater\n        v-for=\"(float,i) in mediumFloats\"\n        :key=\"'medium-'+i\"\n        :orbitsize=\"float.orbitsize\"\n        :zlevel=\"float.zlevel\"\n        :speed=\"float.speed\"\n        :starsize=\"float.starsize\"\n        :startdeg=\"float.startdeg\"\n      />\n      <FaceFloater\n        v-for=\"(float,i) in smallFloats\"\n        :key=\"'small-'+i\"\n        :orbitsize=\"float.orbitsize\"\n        :zlevel=\"float.zlevel\"\n        :speed=\"float.speed\"\n        :starsize=\"float.starsize\"\n        :startdeg=\"float.startdeg\"\n      />\n      <!-- <TimelineBar /> -->\n    </div>\n    <div class=\"right\">\n      <div>\n        <p>\n          <b> \n            I'm seeking opportunities in academia in computer science \n            and information systems, specifically in process mining. \n            Please get in touch if you have an openning.\n          </b> \n        </p>\n      </div>\n      <div>\n        <p>\n          <b> <strong style=\"color:yellowgreen\">Dr.</strong> Adam Banham </b> \n          (<a\n            href=\"https://orcid.org/0000-0001-9912-8220\"\n            target=\"_blank\"\n          >ORCID</a>) \n          (<a\n            href=\"https://scholar.google.com/citations?hl=en&user=IyiPbEAAAAAJ\"\n            target=\"_blank\"\n          >Scholar</a>) <br><br>\n          Thanks to the fantastic support at the Queensland University of \n          Technology, I am finishing a PhD focusing on Process Mining. I am \n          deeply grateful for the significant impact my current supervisor \n          team has had on my academic journey, their effort and patience have \n          helped me grow from my undergraduate studies to the present. I am \n          particularly thankful to Professor Moe T. Wynn, for taking me on \n          during my undergraduate and creating opportunities to work with her \n          and colleagues. Dr Robert Andrews, for giving me a chance to work \n          alongside him during my undergraduate studies and for his continuing \n          support. Finally, Prof. Sander J.J. Leemans, for giving me the \n          opportunity to learn from him during my honours and PhD.\n          <br>\n          <br>\n          <b>Additional Info:</b>\n        </p>\n        <ul>\n          <li>\n            Born in Ipswich, Queensland, Australia.\n          </li>\n          <li>\n            Completed Bachelor (Honours) of Information Technology at QUT in 2020 with Second Class honours - Division A\n          </li>\n          <li>\n            Started PhD on Feburary 22 in 2021 with the school of Information Systems at QUT.\n          </li>\n          <li>\n            Year One Milestone - Research Plan - Confirmed with no changes \n          </li>\n          <li>\n            Brief overview of project: <a\n              href=\"https://qut.to/cjvey\"\n              target=\"_blank\"\n              title=\"Project Description @ QUT\"\n            >https://qut.to/cjvey</a>\n          </li>\n          <li>\n            Check out the BPM group at QUT : <a\n              href=\"https://research.qut.edu.au/bpm/\"\n              target=\"_blank\"\n              title=\"Process Science @ QUT Homepage\"\n            >https://research.qut.edu.au/bpm/</a>\n          </li>\n          <li>\n            Visited RWTH Aachen from November to March, working with Prof.\n            Sander J. J. Leemans.\n            <router-link\n              to=\"/blog/rwthVist2023\"\n              title=\"RWTH visit\"\n            >More info.</router-link>\n          </li>\n          <li>\n            Finished internally presenting Thesis work @ QUT - minor \n            changes needed.\n            <router-link\n              title=\"blog about final seminar\" \n              to=\"/blog/FinalSeminar2024A\"\n            >Check out the presentation.</router-link>\n          </li>\n          <li>\n            External examination completed, 13/03/2025, passed with minor revisions.\n          </li>\n          <li>\n            <strong style=\"color:yellowgreen\">Offically Conferred PhD on 09/05/2025</strong>, see \n            <a\n            href=\"/docs/education/Dr-Banham-Conferred.pdf\"\n            target=\"_blank\">\n              letter\n            </a>.\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport FaceHolder from \"./faceHolder/faceHolder.vue\";\nimport FaceFloater from \"./faceFloater/faceFloater.vue\";\nimport Floaters from './floaters.js';\nexport default {\nname: \"HomePage\",\ncomponents: {\n    FaceHolder,\n    FaceFloater,\n},\ndata() {\n  return {\n    floats : []\n  }\n},\ncomputed: {\n  smallFloats() {\n    return this.floats.filter(\n      (i) => i.type == Floaters.FloaterTypes.SMALL\n    );\n  },\n  mediumFloats() {\n    return this.floats.filter(\n      (i) => i.type == Floaters.FloaterTypes.MEDIUM\n    );\n  },\n  largeFloats() {\n    return this.floats.filter(\n      (i) => i.type == Floaters.FloaterTypes.LARGE\n    );\n  }\n},\nmounted() {\n  try {\n    this.floats = this.floats.concat(\n      Array.from( {length:6}, () => new Floaters.Floater(Floaters.FloaterTypes.SMALL))\n    ).concat(\n      Array.from( {length:4}, () => new Floaters.Floater(Floaters.FloaterTypes.MEDIUM))\n    ).concat(\n      Array.from( {length:3}, () => new Floaters.Floater(Floaters.FloaterTypes.LARGE))\n    ) \n  }\n  catch (err) {\n    console.log(\"Error occured in mouting home page : \"+err.message)\n  }\n  \n},\nmethods: {\n  moveTo: function(path){\n        this.$router.push({path:path})\n    }\n}\n}\n</script>\n\n<style lang=\"sass\" scoped>\n@use \"@/styles/coloursAnt.sass\" as c \n@use \"@/styles/breakpoints.sass\" as brk\n\n.home-page\n  width: 100% \n  height: 100%\n  display: flex\n  justify-content: center\n  align-items: center\n\n  @media (min-width: brk.$desktop-width)\n    margin-top: 50px\n    margin-bottom: 50px\n\n  @media (max-width: calc(brk.$desktop-width - 1px)) and (min-width: brk.$tablet-width)\n    margin-top: 75px\n    flex-direction: column\n\n  @media (max-width: calc(brk.$tablet-width - 1px))\n    margin-top: 50px\n    flex-direction: column\n\n  .left \n    justify-content: center\n    align-items: center\n    display: flex\n    z-index: 50\n\n  .right\n    display: flex\n    z-index: 100\n    padding: 15px\n    flex-direction: column\n\n    div\n      background-color: c.$background-light \n      border-radius: 15px\n      box-shadow: c.$green-1 2.5px 5px 5px 0.5px\n      margin-bottom: 25px\n      padding : 15px\n      p \n        text-align: center\n      ul\n        text-align: left\n        padding: 10px\n      \n      @media (min-width: brk.$desktop-width)\n        margin-left: 100px\n\n      @media (min-width: brk.$tablet-width)\n        max-width: 450px\n\n      @media (max-width: calc(brk.$tablet-width - 1px))\n        max-width: 300px\n</style>","<template>\n  <div class=\"home\">\n    <HomePage />\n  </div>\n</template>\n\n<script>\nimport HomePage from \"@/components/home/home.vue\"\nexport default {\n  name: 'Home',\n  components : {\n    HomePage\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n@use \"@/styles/breakpoints.sass\"\n.home\n  width: 100% \n  height: 100%\n  position: relative\n  @media (max-width: 800px)\n    overflow-x: hidden\n</style>\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABBCAYAAACO98lFAAAACXBIWXMAABcRAAAXEQHKJvM/AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABN5JREFUeJztnF9sU1Ucxz/ndN1a1lE2tm5jAcfKYOFfRECEbEMioIFogg+LBIyD4ItPkoiLwReNDy4k/gn6ZCJoYhSIqASiaBSQgYEA4pDwRxTHxoCtbNAOWtb2Hh+2lXb/st4tvTDP9+mee8/5nW8/Ob9zzzlpK+glV82OSptS1QqeBAoBR+86D6FCwDUh1AHDYHtgy+rD8Q9Fz0V2zU63gdqmlFqVcosploLdaUKub6+tug3dELJrdroNZdQpmGmtvdRJwBlbMFLetnWtXwIYqG3/JwAACmaFx6R9CiBcNTsqpVKHrDZllZRSlVKi1lltxEpJSbVEUWm1ESullFgsgQlWG7FYRZLRsQ4YjhzSagcPgjQENARAQwA0BEBDADQEQEMANARAQwA0BADSRiLI44+MZ3rBuFg52Blhx+8NIxE6JRoRCKtmT+KV8qmx8o1A6KGCoNMBDQEYoXQ43uBjjN0WK/vvhUcibMokxr7+lbLahNXS6cAw0sHjcuDNdZERlwbxutgSoPn23SHHy83MYEpeFo64eH9cbedWsJMlpQUsm1ZIcU4m6TaJ7849TlxpY+/ZJq75g2Y/Qkym0uHlhaW8+9wc0qQYsM5r357ik9/+GlK8NfMm88Hz80i3JQ7MN/ed5oXHiplZOK7fdsFwlPcOnGPLL2dRw0hqUyOhekHJoACS1YvzS/oAAHhn5aODtnPabWxePpMJbiev7j5hun9Tc8LxhpumO+w/nm9Y7dct8LJsWqHp9qZGwqbvTnLg0nXKPG4y07tyuNQzlpXTi0yZeOuHek403mT9Ai9LSgv6PP/+XDMf/Xqe+uZbCAFlHjc1S2fw1NT7dTcsnMJPF66Z6t8UhIih2HOmiT00xe6tmj3RNIRod7wyjzsBglKwed9pPj58IaH+sQYfaz6v4883niU3MwOA+ZPGm+obHvBX5Nv76/sA6FEwHOX8DX+snDMmA5vJeeqBhnCqqW3Q5+FoNHYtBNjEKISQKmkIaAiAhgBoCICJdYLbaWdRcR6eLAcibjaeU5SdUO+J4lzChpFwrzUQ4liDD9+dewn3xznTKS/JY1avPcJibz5SCOr+bqEzej+WTQoqvfnkZzkT6q+YUcShSzdov9uZ1GdKagPlcTk4svFpPC7z3+vwh8JUfPgj/7Z1AF3r/6Mbn6FkvGvANt/UN1L9xdFYede6SpaX9b9Mbu0IsfD9/bR2hIbsKal0mDsxZ1gAAMY67FR482Llsnz3oAAAVkwvomfQ2W2SpdP6Lq17lOdyMHdiTlKekoJwsrGtz1BOVoFQmLp/WmPlCy3+2KgYSPvPN8e2yuGowc8Xrw9Yt6UjxMnGwRdZvZX0ecJAc8JQ1BIIcbyfOcFpt1Hh9VCQ5UTGLX07I1GutN/h6GUfRtyBgU0KFk3OY1J2JvbuLbhSipZAiCOXW/GHkjvj1GeM6FckoCEAGgKgIQAaAqAhABoCoCEAGgKgIQAaAtAFYegb71EoAUEJNFttxEopuCqFUAetNmKlBByUhsF2q41YKUPIz2Rgy+rDCnZbbcYSCXYFaqvqJECakOsFnLHaUyqloD7tbmQDdL8i22urbtuCkXIl+NpaaymSYJc9GKlo27rW31XspaxNX1ZIIV7q/v+EIkbH7yZDwFUBBw0htwdqq+riH/4H4DB2o4tBTToAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyRTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyRjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJDOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJEOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+FYrpWAAABrNJREFUeNrkW2ls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\"","export default \"data:image/png;base64,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\"","<template>\n  <div class=\"content-bar\">\n    <p> There are some ways to get into contact with myself. <br>Theses are ordered by the chance of being seen and getting a response. </p>\n    <div\n      v-for=\"card in cards\"\n      :key=\"card.title\"\n      class=\"detail-card\"\n    >\n      <div class=\"header\">\n        <div class=\"title\">\n          <h2>{{ card.title }} </h2>\n        </div>\n      </div>\n      <div class=\"body\">\n        <div class=\"icon\">\n          <img\n            :src=\"card.icon\"\n            alt=\"icon\"\n          >\n        </div>\n        <div class=\"info\">\n          <p v-html=\"card.info\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MailIcon from \"@/assets/icons/mail.png\";\nimport LinkedInIcon from \"@/assets/icons/linkedinLogo.png\";\nimport GithubIcon from \"@/assets/icons/GitHub-Mark-64px.png\";\nimport ORCID from \"@/assets/icons/orcidLogo.png\";\nexport default {\nname: \"ContactPage\",\ndata : function() {\n  return {\n    cards: [\n      { title : \"Contact me via a email\", icon: MailIcon, info: \"I am usually available between 9am to 5pm (GMT+10), monday to friday. <br> <b>Contact : <a href='mailto:adam.banham@outlook.com.au' target='_blank'>adam.banham@outlook.com.au</a></b>\"},\n      { title : \"Add me on LinkedIn\", icon: LinkedInIcon, info: \"Send me a contact invite via LinkedIn or drop me a message for collaboration ideas.<br> <b> Profile: <a href='https://www.linkedin.com/in/adam-banham/' target='_blank'>https://www.linkedin.com/in/adam-banham/</a></b>\"},\n      { title : \"Join me on GitHub\", icon: GithubIcon, info: \"Star some repos and drop me a follow if you would like to follow my software development.<br> <b>Profile: <a href='https://github.com/adambanham/' target='_blank'>https://github.com/adambanham/</a></b>\"},\n      { title: \"Check out my academic history\", icon: ORCID, info: \"In case you need to find my published work or position history.<br> <b> Profile: <a href='https://orcid.org/0000-0001-9912-8220' target='_blank'>https://orcid.org/0000-0001-9912-8220 </a> </b>\"}\n    ]\n  }\n}\n}\n</script>\n\n<style lang=\"sass\" scoped>\n@use \"@/styles/coloursAnt.sass\" as c\n@use \"@/styles/content.sass\" as cont\n\n.content-bar\n  > div\n    margin-top: 20px\n\n  p \n    display: inline-flex\n    justify-content: center\n    align-items: center\n    text-align: center\n\n  .detail-card\n    width: 90%\n    margin-left: 5%\n    margin-right: 5%\n    height: 250px\n    border-radius: 10px\n    background: c.$light-grey\n    display: flex\n    flex-direction: column\n    .header \n      width: 100% \n      height: 50px\n      display: flex\n      justify-items: center\n      align-items: center\n      justify-content: center\n      flex-direction: row  \n      h2 \n        color: c.$green-3\n    .body\n      display: flex\n      height: 100%\n      justify-content: center\n      align-content: center\n      flex-direction: row\n      .icon\n       width: 40% \n       display: flex\n       flex-flow: row nowrap\n       justify-items: center\n       align-items: center\n       justify-content: center\n       img \n         width: auto\n         height: auto\n      .info \n        width: 60% \n        display: flex\n        flex-flow: row nowrap\n        justify-items: center\n        align-items: center\n        justify-content: center\n        p\n          width: 80%\n          text-align: center\n          vertical-align: middle\n          flex-direction: column\n          color: c.$green-4\n          b \n            color: c.$green-2\n            a \n              color: c.$blue-2\n              &:hover\n                color: c.$blue-5\n</style>","<template>\n<div class=\"content-bar\">\n  <div class=\"not-ready\">\n    <div class=\"content\">\n      <p> \n        I am currently building this page, come back later....\n      </p>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nexport default {\nname: \"NotReady\"\n}\n</script>\n\n<style lang=\"sass\" scoped>\n@use \"@/styles/coloursAnt.sass\" as c\n@use \"@/styles/content.sass\" as cont\n\n.not-ready\n    width: 100%\n    height: 60% \n    display: inline-flex\n    justify-content: center\n    align-items: center\n    .content\n        // margin-left: 100px\n        max-width: 450px\n        padding: 15px\n        background-color: c.$green-2\n        border-radius: 15px\n        box-shadow: c.$green-1 2.5px 5px 5px 0.5px\n        p \n            text-align: center\n        ul\n            text-align: left\n</style>","const TAGS = {\n    \"ex\"  : \"Exogenous\",\n    \"en\"  : \"Endogenous\",\n    \"pm\"  : \"Process Mining\",\n    \"dm\"  : \"Decision Mining\",\n    \"phd\" : \"PhD\",\n    \"qut\" : \"QUT\",\n    \"res\" : \"Research\",\n    \"cod\" : \"Coding\",\n    \"pmd\" : \"Process Discovery\",\n    \"pmc\" : \"Conformance Checking\",\n    \"pme\" : \"Process Enhancement\",\n    \"rwth\" : \"RWTH Aachen\"\n}\n\nexport {\n    TAGS\n}","import {TAGS} from \"./tagList.js\";\n\nclass BlogInfo {\n\n    constructor(title, overview, content, year, month, authors){\n        this.title = title;\n        this.overview = overview;\n        this.content = content;\n        this.year = year;\n        this.month = month;\n        this.authors = authors;\n        this.tags = []\n        this.expansion = \"todo\";\n    }\n\n    addTag(tag) {\n        if (tag in TAGS){\n            this.tags.push(TAGS[tag]);\n        } else {\n            throw new Error(\"Unknown Tag presented :: \" + tag);\n        }\n        \n    }\n\n    addTags(... tags){\n        tags.forEach(\n            (tag) => this.addTag(tag)\n        )\n    }\n\n    addPicture() {\n        // TODO\n    }\n\n    addExpansionPage(expansionId){\n        this.expansion = expansionId\n    }\n\n}\n\nexport {\n    BlogInfo\n}","import { BlogInfo } from \"@/views/blog/blogElements.js\"\n\nconst confirmSeminar = new BlogInfo(\n    \"Confirmation Seminar @ QUT\",\n    \"A key milestone for PhD students at QUT, done and dusted.\",\n    \"TODO\",\n    2022,\n    'July',\n    ['Adam Banham']\n)\nconfirmSeminar.addTags(\"ex\",\"en\",\"pm\",\"phd\",\"qut\",\"res\")\nconfirmSeminar.addExpansionPage(\"confirmSeminar2022\")\n\nconst exogenousEndogenous = new BlogInfo(\n    \"The Difference between Endo And Exo\",\n    \"A breakdown of the differences between endogenous and \" +\n    \"exogenous data.\",\n    \"TODO\",\n    2023,\n    'April',\n    ['Adam Banham']\n)\nexogenousEndogenous.addTags(\"ex\",\"en\",\"pm\",\"phd\",\"qut\",\"res\")\nexogenousEndogenous.addExpansionPage(\"DifExoEndo2023\")\n\nconst vistingRWTHAachen = new BlogInfo(\n    \"Visting RWTH Aachen\",\n    \"I was luckly enough to secure a research visit at RWTH Aachen.\",\n    \"TODO\",\n    2023,\n    'November',\n    ['Adam Banham']\n)\nvistingRWTHAachen.addTags(\"pm\",\"phd\",\"rwth\",\"res\")\nvistingRWTHAachen.addExpansionPage(\"rwthVist2023\")\n\nconst FinalSeminar2024A = new BlogInfo(\n    \"Final Seminar @ QUT\",\n    \"Reflections on presenting my final seminar.\",\n    \"TODO\",\n    2024,\n    \"August\",\n    [\"Adam Banham\"]\n)\nFinalSeminar2024A.addTags(\"ex\",\"en\",\"pm\",\"phd\",\"qut\",\"res\")\nFinalSeminar2024A.addExpansionPage(\"FinalSeminar2024A\")\n\nconst AgrawalMiner2024B = new BlogInfo(\n    \"Agrawal Miner implemented in Koalas\",\n    \"A breakdown of an early process discovery technique proposed in 1998.\",\n    \"TODO\",\n    2024,\n    \"August\",\n    ['Adam Banham']\n)\nAgrawalMiner2024B.addTags(\"pm\",\"res\",\"pmd\",\"cod\")\nAgrawalMiner2024B.addExpansionPage(\"AgrawalMiner2024B\")\n\n// ordering is listing ordering.\nconst content = [\n    AgrawalMiner2024B,\n    FinalSeminar2024A,\n    vistingRWTHAachen,\n    exogenousEndogenous,\n    confirmSeminar,\n]\n\n\nexport default {\n    content\n}","import phdContent from \"./phdcontent\"\n\n\nconst allContent = [].concat(phdContent.content)\n\nexport {\n     allContent\n}","import { allContent } from \"./content/allContent\"\n\nclass ContentManager {\n\n    constructor(content){\n        this.content = content;\n        this.visible = content;\n        this.filters = []\n    }\n\n    getTitles() {\n        return this.visible.map( e => e.title)\n    }\n\n    getYears() {\n        return new Set(this.visible.map( e => e.year))\n    }\n\n    getMonths() {\n        return new Set(this.visible.map( e => e.month))\n    }\n\n    getAuthors() {\n        return new Set(this.visible.map(e => e.authors).reduce( (p, c) => p.concat(c)))\n    }\n\n    updateInfo(){\n        var ret = []\n        for (var cont of this.content){\n            var keep = true\n            for (var fil of this.filters){\n                keep = keep && fil.accepts(cont)\n                if (!keep){\n                    break\n                }\n            }\n            if (keep){\n                ret.push(cont)\n            }\n        }\n        this.visible = ret\n    }\n\n    getInfo() {\n        return this.visible\n    }\n\n    addFilter(mode, value) {\n        var fil = new ContentFilter(mode, value)\n        this.filters.push(fil)\n        this.updateInfo()\n    }\n\n    removeFilter(mode, value){\n        this.filters = this.filters.filter( (v) => v.mode != mode && v.value != value)\n        this.updateInfo()\n    }\n\n}\n\nconst modes = {\n    1 : { name: 'tag' },\n    2 : { name: 'years' },\n    3 : { name: 'months' },\n    4 : { name: 'authors' }\n}\n\nclass ContentFilter {\n\n    constructor(mode, value) {\n        if (mode in modes){\n            this.mode = mode \n        } else {\n            this.mode = -1\n        }\n        this.value = value\n    }\n\n    accepts(record) {\n        if (this.mode > 0){\n            switch (this.mode){\n                case (1):\n                    return record.tags.includes(this.value)\n                case (2):\n                    return record.year == this.value \n                case (3):\n                    return record.month == this.value \n                case (4):\n                    return record.authors.includes(this.value)\n            }\n            return false\n        }\n        else{\n            return true\n        }\n    }\n}\n\nconst manager = new ContentManager(allContent)\n\nexport {\n    manager\n}","<template>\n  <div class=\"blow-view\">\n    <div class=\"filter-bar\">\n      <h2> Quick Search Bar </h2>\n      <div class=\"filter-section\">\n        <h3> Tags </h3>\n        <div \n          class=\"options\" \n          v-for:=\"tag in blogtags\"\n        >\n          <input\n            :id=\"tag\"\n            type=\"checkbox\"\n            @change=\"checkFilter($event,1, tag)\"\n          >\n          <label \n            :for=\"tag\" \n          >{{ tag }}</label>\n        </div>\n      </div>\n      <div class=\"filter-section\">\n        <h3> Year </h3>\n        <div\n          class=\"options\"\n          v-for:=\"year in years\"\n        >\n          <input\n            :id=\"year\"\n            type=\"checkbox\"\n            @change=\"checkFilter($event,2, year)\"\n          >\n          <label :for=\"year\">{{ year }}</label>\n        </div>\n      </div>\n      <div class=\"filter-section\">\n        <h3> Month </h3>\n        <div\n          class=\"options\"\n          v-for:=\"month in months\"\n        >\n          <input\n            :id=\"month\"\n            type=\"checkbox\"\n            @change=\"checkFilter($event,3, month)\"\n          >\n          <label :for=\"month\">{{ month }}</label>\n        </div>\n      </div>\n      <div class=\"filter-section\">\n        <h3> Author </h3>\n        <div\n          class=\"options\"\n          v-for:=\"author in authors\"\n        >\n          <input\n            :id=\"author\"\n            type=\"checkbox\"\n            @change=\"checkFilter($event,4, author)\"\n          >\n          <label :for=\"author\">{{ author }}</label>\n        </div>\n      </div>\n    </div>\n    <div class=\"content-bar\">\n      <h2> Blog Articles </h2>\n      <div\n        v-for=\"info in infos\"\n        :key=\"info.title\"\n        class=\"detail-card\"\n        @click=\"moveToExpansion(info.expansion)\"\n      >\n        <div class=\"header\">\n          <div class=\"title\">\n            <h2>{{ info.title }} </h2>\n            <h3>{{ info.authors.join(\", \") }}</h3>\n            <h4>{{ info.month }}, {{ info.year }}</h4>\n          </div>\n        </div>\n        <div class=\"body\">\n          <div class=\"info\">\n            <p> {{ info.overview }} </p>\n          </div>\n          <div>\n            <p\n              v-for=\"tag in info.tags\" \n              :key=\"tag\"\n              class=\"tags\"\n            >\n              {{ tag }}\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { manager } from \"./contentManager\"\nimport { TAGS } from \"./tagList\"\n\nexport default {\nname: \"BlogPage\",\ndata : function() {\n  return {\n    manager : manager,\n    infos : manager.getInfo(),\n    blogtags : Object.values(TAGS)\n  }\n},\ncomputed : {\n    titles : function() {\n        return manager.getTitles();\n    },\n    years : function() {\n        return manager.getYears();\n    },\n    months : function() {\n        return manager.getMonths();\n    },\n    authors : function() {\n        return manager.getAuthors();\n    },\n},\nmethods: {\n  moveToExpansion(expansionId){\n    // debugger;\n    this.$router.push(\n      this.$router.currentRoute.value.path + \n      \"/\" + expansionId\n    )\n  },\n  checkFilter(event, mode, value){\n    if (event.target.checked){\n      this.manager.addFilter(mode, value)\n    } else {\n      this.manager.removeFilter(mode,value)\n    }\n    this.infos = this.manager.getInfo()\n  }\n}\n}\n</script>\n\n<style lang=\"sass\" scoped>\n@use \"@/styles/content.sass\" as cont\n@use \"@/styles/coloursAnt.sass\" as c \n@use \"@/styles/breakpoints.sass\" as brk\n\n.blow-view \n  // width: 100%\n  // height: 100%\n  // z-index: 50\n\n  .content-bar\n      position: absolute\n      box-shadow: c.$background -5px 0px 15px -5px\n      // z-index: 5\n\n      @media (min-width: brk.$desktop-width)\n        margin-left: calc( (100vw - cont.$content-width-full)/2 )\n\n      @media (max-width: calc(brk.$desktop-width - 1px)) and (min-width: brk.$tablet-width)\n        margin-left: calc( (100vw - cont.$content-width-medium)/2 )\n\n      @media (max-width: calc(brk.$tablet-width - 1px))\n        \n      > div\n        margin-top: 20px  \n\n      h2\n        text-align: center \n        text-transform: capitalize\n        color: c.$green-5\n        margin-bottom: 5px\n\n      p \n        display: inline-flex\n        justify-content: center\n        align-items: center\n        text-align: center \n\n  .detail-card\n      padding-top: 20px\n      padding-bottom: 20px\n      height: fit-content\n\n      h3 \n        text-align: center \n        color: c.$green-1\n        margin: 0px\n        padding: 0px\n\n      h4 \n        text-align: center \n        color: c.$green-1\n        margin: 0px\n        padding: 0px\n\n      &:hover\n          cursor: pointer \n          background: c.$green-10\n\n      .body\n        flex-direction: column\n        align-items: center\n        justify-items: center\n\n        .tags\n          background-color: c.$yellow-1\n          margin-left: 4px\n          border-radius: 5px\n          padding: 6px\n          color: c.$light-grey\n\n  .filter-bar\n      position: absolute\n      padding-top: 75px\n      width: 650px\n      display: flex\n      flex-grow: 1\n      flex-direction: column\n      flex-flow: column\n      min-height: 100vh\n      background-color: c.$light-grey\n      padding-bottom: 75px\n\n      @media (min-width: brk.$desktop-width)\n        margin-left: calc( ((100vw - cont.$content-width-full)/2) - 200px )\n\n      @media (max-width: calc(brk.$desktop-width - 1px)) and (min-width: brk.$tablet-width)\n        margin-left: calc( ((100vw - cont.$content-width-medium)/2) - 200px )\n\n      @media (max-width: calc(brk.$tablet-width - 1px))\n\n      div \n          width: 150px\n          text-align: center\n\n      h2 \n          font-size: 16px\n          text-align: center\n          width: 200px\n          color: c.$green-4    \n      \n      h3 \n          font-size: 16px\n          color: c.$green-2\n\n      .options\n        width: 100%\n        color: c.$green-2\n        display: inline-flex\n        text-align: left\n        justify-content: center\n        padding-left: 10px\n        &:hover\n          background-color: c.$background-light\n          color: c.$light-grey\n          cursor: pointer\n        label\n          width: 100%\n          padding-left: 10px\n          font-size: 14px\n\n      .filter-section\n          margin-bottom: 25px \n          width: 200px\n          justify-content: left\n\n          p \n              text-align: left\n              padding-left: 20px\n              color: c.$green-2\n              &:hover\n                  background-color: c.$background-light\n                  color: c.$light-grey\n                  cursor: pointer\n\n  .filter-bar > :first-child\n      margin-top: 50px\n</style>","\nclass ArticleStructure {\n\n    constructor(title, id){\n        this.title = title;\n        this.id = id;\n        this.components = []\n        this.references = []\n        this.figures = 0\n        this.snippets = 0\n        this.quotes = 0\n        this.clips = 0\n        this.files = 0\n        this.carousels = 0\n        this.defintions = 0\n    }\n\n    addTextSection(text){\n        this.components.push(\n            new TextSection(text)\n        )\n    }\n\n    addQuote(text, quotee){\n        this.quotes += 1\n        this.components.push(\n            new QuoteSection(text,quotee, this.quotes)\n        )\n    }\n\n    addReference(reference){\n        this.references.push(\n            new ReferenceSection(reference)\n        )\n    }\n\n    addCode(code, lang, label){\n        this.snippets += 1\n        this.components.push(\n            new CodeSection(code, lang, label, this.snippets)\n        )\n    }\n\n    addFigure(figure, alt){\n        this.figures += 1\n        this.components.push(\n            new FigureSection(figure, alt, this.figures)\n        )\n    }\n\n    addProfile(name, photo, blur, align){\n        this.components.push(\n            new ProfileSection(name, photo, blur, align)\n        )\n    }\n\n    addYoutubeSection(youtube, title, pretext, posttext){\n        this.clips += 1\n        this.components.push( \n            new YoutTubeVideoSection(youtube, title, pretext, posttext, this.clips)\n        )\n    }\n\n    addPdfSection(file, title){\n        this.files += 1 \n        this.components.push(\n            new PdfSection(file, title, this.files)\n        )\n    }\n\n    addCarousel(title, ...photos){\n        this.carousels += 1\n        this.components.push(\n            new CarouselSection(title, photos, this.carousels)\n        )\n    }\n\n    addDefintion(title, content){\n        this.defintions += 1 \n        this.components.push(\n            new DefinitionSection(title, content, this.defintions)\n        )\n    }\n\n    getComponents(){\n        return this.components\n    }\n\n    getReferences(){\n        return this.references\n    }\n}\n\nconst compModes = {\n    'text' : 1,\n    'figure' : 2,\n    'quote' : 3,\n    'code' : 4,\n    'profile': 5,\n    'youtube': 6,\n    'pdf' : 7,\n    'carousel' : 8,\n    'definition' : 9,\n}\n\nclass TextSection {\n\n        constructor(text){\n            this.mode = compModes['text']\n            this.value = '<p> '+text+' </p>'\n        }\n}\n\nclass FigureSection {\n\n    constructor(filepath, alt, count){\n        this.mode = compModes['figure']\n        this.path = filepath\n        this.alt = alt\n        this.count = count\n    }\n}\n\nclass QuoteSection {\n\n    constructor(quote, quotee, count){\n        this.value = quote \n        this.label = quotee\n        this.mode = compModes['quote']\n        this.count = count\n    }\n}\n\nclass CodeSection {\n\n    constructor(code, lang, label, count){\n        this.mode = compModes['code']\n        this.code = code \n        this.lang = lang \n        this.label = label\n        this.count = count\n    }\n}\n\nclass ReferenceSection {\n\n    constructor(reference){\n        this.value = reference\n    }\n}\n\nclass ProfileSection {\n\n    constructor(name, photo, blur, align){\n        this.mode = compModes['profile']\n        this.name = name\n        this.photo = photo \n        this.blur = blur\n        if (align == null){\n            this.align = \"L\"\n        } else {\n            this.align = align\n        }\n    }\n}\n\nclass YoutTubeVideoSection {\n\n    constructor(youtube, title, pretext, posttext, clipNo){\n        this.mode = compModes['youtube']\n        this.youtube = youtube\n        this.title = title\n        this.pretext = pretext \n        this.posttext = posttext\n        this.clipNo = clipNo\n    }\n}\n\nclass PdfSection {\n\n    constructor(file, title, fileNo){\n        this.mode = compModes['pdf']\n        this.file = file\n        this.title = title \n        this.fileNo = fileNo\n    }\n}\n\nclass CarouselSection {\n    constructor(title, photos, carouselNo){\n        this.mode = compModes['carousel']\n        this.title = title \n        this.photos = photos\n        this.carouselNo = carouselNo\n    }\n}\n\nclass DefinitionSection{\n\n    constructor(defName, content, defNo){\n        this.mode = compModes['definition']\n        this.name = defName \n        this.content = content \n        this.defNo = defNo\n    }\n}\n\n\nexport {\n    ArticleStructure\n}","import { ArticleStructure } from \"../../articleElement.js\";\n\nconst PhDFinalSeminar = new ArticleStructure(\n    \"Final Seminar @ QUT\",\n    \"FinalSeminar2024A\"\n) \n\nPhDFinalSeminar.addYoutubeSection(\n\"https://www.youtube.com/embed/0laVKLJye9g\",\n\"A short introduction to process mining with exogenous data.\",\n`\nIf you are after a quick introduction to my thesis, then the clip below \ndiscusses the motivation of the contributions presented in my thesis.\n`,\n`\nHowever, if you interested in hearing about the journey towards a doctorate\nat the Queendland University of Techonology, or at least my own experience, \nthen read on. At the end of the blog, a full recording of the final seminar \nis included for the interested <br>(see this <a href=\"#clip-2\"><u>clip</u></a>).\n`\n)\n\nPhDFinalSeminar.addTextSection(\n`\nReflecting on the past three years of my candidature, my final seminar \nrepresents the beginning of the closure of the candidature. The Australian \nsystem for PhDs, or at least the procedures at my university (Queensland  \nUniversity of Technology), consists of several phases which lead to a \ncandidate receiving a doctorate. A successful candidate must pass all of \nthese phases with a recommendation for the university to confer the doctorate.\n`\n)\n\nPhDFinalSeminar.addQuote(\n`\nQueensland University milestone phases, on which my candidature followed, consisted of five key phases:\n<ul style=\"text-align: left;width:80%;margin:auto;\">\n    <li> <b>Stage Two Report:</b> due by third month;</li>\n    <li> <b>Confirmation of Candidature:</b> due by the twelveth month;</li>\n    <li> <b>Annual Progress Report:</b> due by the 24th month, and then every 12 \n    month after;</li>\n    <li> <b>Final Seminar:</b> due by the 36th month of the candidature;</li>\n    <li> <b>Lodgement of thesis for examination:</b> due shorty after final seminar \n    (usually within 3 months).</li>\n</ul>\n`,\n\"Queensland University of Technology, 2024\"\n)\n\nPhDFinalSeminar.addTextSection(\n`\nAcross these milestone phases, the progress of my candidature has been positive, \nand in some cases, minor adjustments were expected to improve the chances of\n being conferred with a doctorate. The final seminar requires \nthat a candidate submit the final draft of the thesis and present a seminar \nto a panel of peers on their research project. Afterwards, the panel will \nprovide recommendations based on the thesis and seminar. Also, the panel's \noutcome will decide whether the candidate can proceed to lodgement. Usually\nthe panel consists of one supervisor for the candidate, one member from the \nsupporting school for the candidate, and a member from outside the supporting\nschool. My Panel consisted of the following three members:\n`\n)\n\nPhDFinalSeminar.addProfile(\"Professor Moe T Wynn\", \"moe-wynn.png\",\n`\nProf. Wynn leads the Process Science Academic Program (formerly Business Process \nManagement) and is the Academic Lead of Research for the School of Information \nSystems, Queensland University of Technology. She co-leads the Data for \nDiscovery Program within QUT’s Centre for Data Science. She has been appointed \nas a member of the Australian Research Council College of Experts for the \nperiod of 3 years (2023 – 2025).\nShe conducts research in the areas of business process management, workflow \nmanagement, process mining and data quality, having completed her PhD in \nworkflow management, and process automation. She is recognised internationally \nfor her contributions to the formal foundations of process modelling, \nverification, automation, and process-oriented data mining (process mining).\n`,\n\"L\"\n)\nPhDFinalSeminar.addProfile(\"Doctor Alizera Nili\", \"alizera-nili.jpeg\",\n`\nDr. Alizera Nili is a Senior Lecturer in Service Science. He investigates \ndigitisation of services from the customer-centric perspective, design and \nevaluate personalised digital services, and propose and evaluate solutions for \nincreasing trust and confidence in the services (user level and organisational \nlevel). He proposes and validates frameworks, guiding principles, and theories \nto achieve these goals. He is a Level 3 (mentoring) PhD supervisor with \naward-winning PhD graduates. His research focuses on several types of digital \nservices and technologies such as Internet of Things (IOT), Industrial IOT \n(IIOT), artificial intelligence (particularly chatbots), social media platforms, \nand technologies for sustainability. His research is domain-independent, but \nhe has have been particularly interested in digital public services and retail \ntechnologies.\n`,\n\"R\"\n)\nPhDFinalSeminar.addProfile(\"Adjunct Professor Colin Fidge\", \"colin-fidge.png\",\n`\nPrior to his retirement Prof. Colin Fidge pursued a four-decade teaching and \nresearch career in high-integrity software engineering, modelling and analysis \nof complex, computer-based systems, and enterprise system re-engineering. In \nretirement he continues to advise on research in the Schools of Computer \nScience and Information Systems, Queensland University of Technology. He has \nbeen awarded 17 Australian Research Council grants, and led nine research \nprojects for industry and the Australian Department of Defence, mainly in the \nfields of safety-critical and security-critical systems. He graduated 25 PhD \nstudents and 4 Research Masters students.\n`,\n\"L\"\n)\nPhDFinalSeminar.addTextSection(\n`\nIt is important to distinguish that the final seminar, is not like the public\ndefence in the European system. The panel does not confer the doctorate but \ninstead acts as an internal step towards the lodgement for examination. \n<i>Only after a successful external examination from at least two scholars \noutside the university does the candidate have their doctorate conferred.</i> \nHowever, the panel does \nhave other options besides recommending the lodgement. The most common \noutcome is that the panel recommends minor changes and gives candidates \none to three months to enact changes based on their feedback.\n<b>In my case, the panel provided feedback and recommended minor changes with \na month to enact them.</b> \nThe other possible outcomes that the panel can recommend are as follows:\n`\n)\nPhDFinalSeminar.addQuote(\n`\nQueensland University of Technology outlines that the panel of a final seminar \ncan recommend the following:\n<ul style=\"padding-top:5px;padding-bottom:5px;text-align: left;width:80%;\nmargin:auto;\">\n    <li> <b>(minor/major changes)</b> indicate the time remaining for you \n    to finalise and lodge your thesis for examination;</li>\n    <li> <b>(review)</b> place the candiate under review for up to 3 months \n    if the panel has concerns about your work meeting award standards.\n    </li>\n</ul>\nIf your progress is still unsatisfactory after the under review period, the \nResearch Degrees Committee - on advice from the faculty committee - will \neither:\n<ul style=\"padding-top:5px;text-align: left;width:80%;margin:auto;\">\n    <li> extend the review period by up to 3 months; </li>\n    <li> allow you to Show Cause why the committee should not either: </li>\n    <ul style=\"margin-left: 25px\">\n        <li> academically exclude you with an offer of admission to the \n        degree of Master of Philosophy;</li>\n        <li> academically exclude you with no such offer.</li>\n    </ul>\n</ul>\n`,\n\"Queensland University of Technology, 2024\"\n)\n\nPhDFinalSeminar.addTextSection(\n`\nI completed my Final Seminar on 21st of August 2024, from 14:30 to 16:00. \nAfter which, I updated the thesis draft using the panel's feedback and began \nthe lodgement process on the 24th of September 2024. It was accepted \ninternally to be sent to examinators by the 5th of November, 2024. The \nacceptance of the lodgement signals the end of the journey for the candidate \nat the university, which means they lose financial backing, resources, and \nallocations (desk, computers, servers, etc.) are returned to the university. \n<b>While I am proud of my work, the ending phase is largely not a celebration \nperiod. I have gone as far as to dub as being in '<i>PhD Limbo</i>' and doing \nall you can to scrap together enough for rent.</b> Many other candidates who \nhave made it to the actual graduation ceremony (some 18 months after lodgement) \ndescribe the ceremony as making the doctorate feel ''<i>real</i>'' afterwards. \nI hope to get to that point and find an opportunity to use my expertise in \nacademia.\n`\n)\n\nPhDFinalSeminar.addTextSection(\n`\nBut let's not dwell on despair; instead, let's revisit what was a successful \nthree-year research plan. The plan had a budget of $3000 AUD or roughly\n&euro; 1,800 for the three years, and I managed to publish three times, \nwhich meant I was well over budget (thankfully, my wonderful supervisers \ncovered the overdraw). It started in the middle of the COVID-15 pandemic, \nand while Brisbane didn't \nhave long periods of lockdowns due to the somewhat low reporting of cases, \nit still meant a lot of working from home. \nDuring my candidature, I learned I can do my best when collaborating and \ndiscussing with colleagues, but Zoom meetings aren't enough to have a \nmeaningful conversation—too many context switches. Also, having a supervisor \nmove on to greener grounds on the opposite side of the world around your \nconfirmation meant I had to rework my research plan. Nonetheless, I did my \nbest to work with my supervisors, and they persevered through all the \nlate/early meetings to discuss my work. As I revisit and re-record my final \nseminar, I am starting to feel a sense of pride for having made it this far. \nI hope that you see that over this candidature, I have developed expertise \nin process science and have the potential to make it in academia.\n`\n)\n\nPhDFinalSeminar.addYoutubeSection(\n\"https://youtube.com/embed/u7f8Fx6BubY\",\n\"Adam Banham, 2024, Final Seminar, Process Mining with Exogenous Data\",\n`\nThis clip is a re-recording of the final seminar that I presented in \nAugust 2024.\n`,\n\"\"\n)\n\nexport default PhDFinalSeminar","import { ArticleStructure } from \"../../articleElement.js\";\n\nconst PhDConfirmation = new ArticleStructure(\n    \"Confirmation Seminar @ QUT\",\n    \"confirmSeminar2022\"\n)\n\nPhDConfirmation.addTextSection(\n`\nThe confirmation of candidature for PhD candidates at Queensland University \nof Technology (QUT) represents a key milestone to ensure their future success. \nIt occurs at the 12-month mark in the candidature, and the confirmation is an \ninternal seminar to assess the candidate's current progress and the future \naspirations of their research plan. The confirmation consists of a panel of \npeers, where one member is from the supervision team, one from the supporting \nschool, and one member external to the supporting school. My consisted of the \nfollowing members:\n`\n)\n\nPhDConfirmation.addProfile(\n\"Professor Arthur ter Hofstede\",\n\"arthur-ter-hofstede.jpg\",\n`\nArthur ter Hofstede is a professor in the Faculty of Science. From 2010-2018 \nhe was a Professor at Eindhoven University of Technology in the Netherlands. \nIn 2010-2011 he was a Senior Visiting Scholar of Tsinghua University in China \nand in May 2010 a Visiting Professor of Sapienza University of Rome in Italy. \nSince 2015 he is a Visiting Professor of Sun Yat-sen University. His research\ncontritues to Conceptual, formal, and technological foundations of Business \nProcess Automation (e.g. BPM in the cloud) as well as Process Mining, \nspecifically data quality, comparative performance analysis,  process risk \nanalysis, and visualisation. Work in the area of process automation centers \non the YAWL (Yet Another Workflow Language) open source workflow management \nsystem, which is based on the well-known Workflow Patterns Initiative. This \nsystem is used in industry and provides a test bed for the application of new \nresearch ideas.\n`,\n\"R\"\n)\nPhDConfirmation.addProfile(\n\"Professor Richi Nayak\",\n\"richi-nayak.jpg\",\n`\nProf. Richi Nayak is an internationally recognised expert in data mining, text mining \nand web intelligence. She has combined knowledge in these areas very \nsuccessfully with diverse disciplines such as Social Science, Science, \nand Engineering for technology transfer to real-world problems to change \ntheir practices and methodologies. Her particular research interests are \nmachine learning and in recent years she has concentrated her work on text \nmining, personalization, automation, and social network analysis. She has \npublished high-quality conference and journal articles and is highly cited \nin her research field. She has received a number of awards and nominations \nfor teaching, research and service activities. She is the Applied Data \nScience Program Leader of the University Centre for Data Science (CDS).\n`,\n\"L\"\n)\nPhDConfirmation.addProfile(\"Professor Moe T Wynn\", \"moe-wynn.png\",\n`\nProf. Wynn leads the Process Science Academic Program (formerly Business Process \nManagement) and is the Academic Lead of Research for the School of Information \nSystems, Queensland University of Technology. She co-leads the Data for \nDiscovery Program within QUT’s Centre for Data Science. She has been appointed \nas a member of the Australian Research Council College of Experts for the \nperiod of 3 years (2023 – 2025).\nShe conducts research in the areas of business process management, workflow \nmanagement, process mining and data quality, having completed her PhD in \nworkflow management, and process automation. She is recognised internationally \nfor her contributions to the formal foundations of process modelling, \nverification, automation, and process-oriented data mining (process mining).\n`,\n\"R\"\n)\nPhDConfirmation.addTextSection(\n`\nThe candidate needs to prepare a working research plan in the form of a report. \nThe report should describe the current progress, such as initial investigations, \nwork-in-progress papers, and publications. Also, the report must present a \nresearch plan for the coming two years that is likely to be completed in a \ntimely manner, i.e., it should be realistically possible for a candidate to \ncomplete it in the remaining time left in their candidature. The panel's role \nis to assess the candidate's plan and progress towards a doctorate. QUT \noutlines the outcomes of the confirmation, as it was within my candidature, \nas:\n`\n)\nPhDConfirmation.addQuote(\n`\nThe panel assess the candidates capacity to complete the degree successfully \nin a timely fashion and agree on a confirmation outcome. The panel chair \nrecommends the confirmation outcome to the Research Degrees Committee (RDC) \nusing the confirmation panel report form. After considering the panel's report \nand recommendation, the RDC will either:<br>\n<ul style=\"text-align: left;width:80%;margin:auto;\">\n    <li>confirm the candidature if certain conditions are met;</li>\n    <li>require changes to the planned research program;</li>\n    <li>place the candidate under review for up to 3 months if the panel \n    recommends not confirming the candidature.</li>\n</ul>\nIf the candidates progress is still unsatisfactory after the under review \nperiod, the RDC - on advice from the faculty - will either:<br>\n<ul style=\"text-align: left;width:80%;margin:auto;\">\n    <li>extend the review period by up to 3 months;</li>\n    <li>allow the candidate to Show Cause why the committee should not \n    either:</li>\n    <ul style=\"margin-left:10px\">\n        <li>academically exclude you with an offer of admission to the \n        Master of Philosophy course;</li>\n        <li>academically exclude you from the PhD course with no such \n        offer.</li>\n    </ul>\n</ul>\n`,\n\"Queensland University of Technology, 2024\"\n)\nPhDConfirmation.addTextSection(\n`\nWhile the outcomes seem extreme, most candidates will receive minor/major \nchanges, often seen as the ideal outcome from confirmation. The more extreme \ncases occur only in very rare cases, showcasing the wonderful supervisors and \ntheir experienced mentorship at my school, Information Systems. \n<b>\nHowever, in my case, the presentation and report were enough evidence for the \npanel to recommend one of the rare cases, no changes needed! \n</b>\nReflecting on this moment, it was between Prof. Sander Leemans leaving QUT \nand preparing a submission for a Q1 venue, so I am glad that I could achieve \nthis outcome. However, after the supervision team change, Prof. Sander Leemans \nmoved from lead to external, which meant I had to change the research plan I \nwould follow for the rest of the candidature. This change was not unexpected, \nacademic endeavours are like a discussion, and I was only starting the \nconversion at this stage.\n`\n)\nPhDConfirmation.addTextSection(\n`\nBelow are the documents I used for my confirmation back in 2022, with all the \nblemishes and mistakes. Please do not hold my current self to the quality of \nthese documents. I hope that others at QUT may find some inspiration from \nthese documents if they are searching.\n`\n)\nPhDConfirmation.addPdfSection(\n\"2024/Adam_Banham___PhD___Confirmation_of_Candidature.pdf\",\n\"Adam Banham, 2022, Confirmation of Candidature Report\"\n)\nPhDConfirmation.addPdfSection(\n\"2024/Adam_Banham_PhD_confirmation_presentation.pdf\",\n\"Adam Banham, 2022, Confirmation of Candidature Seminar Presentation\"\n)\n\nexport default PhDConfirmation","import { ArticleStructure } from \"../../articleElement.js\";\n\nconst vistingRWTHAachen = new ArticleStructure(\n    \"Research visit at RWTH Aachen\",\n    \"rwthVist2023\"\n)\n\nvistingRWTHAachen.addTextSection(\n`\nNearing the end of 2023, I came across the Advanced Research Opportunities \nProgram (AROP) through a LinkedIn post by Prof. Wil van der Aalst. \nSeeing it as an opportunity to travel to Europe and have some of the costs \ncovered by a leading institution, I brought the idea to my supervisors. \nAfter some discussion, we developed a research agenda that could allow me \nto visit and ensure that the candidature would not be put on hold. Thankfully, \nProf. Sander Leemans was happy to be the sponsoring academic for the \napplication. The program supports students and academics outside the country \nwho want to visit RWTH Aachen.\n`\n)\n\nvistingRWTHAachen.addQuote(\n`\nRWTH offers fellowships and travel grants to support research stays of \ndoctoral candidates and postdocs from strategically relevant international \nuniversities or research institutions. Funding is provided by the Excellence \nStrategy of the German federal and state governments.\n<br>\nThe goal of the Advanced Research Opportunities Program (AROP) is to develop \nand/or strengthen bilateral relations with international partner institutions. \nIn addition to receiving funding for their research stay and travel, AROP \nfellows may participate in German-language classes and intercultural training \nat RWTH.\n`,\n\"RWTH Aachen, 2024\"\n)\n\nvistingRWTHAachen.addTextSection(\n`\nI was lucky enough to get approved for an AROP grant, and by the 13th of \nDecember, 2023, I was in Europe until the 20th of March, 2024. During this \ntime, I would work closely with Prof. Sander Leemans on a stochastic process \nmining contribution to advance my candidature. The visit was aimed at a \npublication at BPM2024, but unfortunately, it would not get up at the venue. \nHowever, the work is still a major contribution to my thesis. We would also\nwork with Dr. Jannis Bertand from KU Leuven on the work as well.\n`\n)\n\nvistingRWTHAachen.addTextSection(\n`\nDuring the visit, I also made a quick visit to Eindhoven University of \nTechnology (TU/e) to catch up with Prof. Felix Mannhardt and present a talk \nat the Process Analytics group, led by Prof. Boudewijn van Dongen. The \npresentation was about our recent work with Felix, <i>\"Comparing Conformance \nChecking for Decision Mining: An Axiomatic Approach\"</i>, which focused on \nunderstanding the challenges of data-aware conformance checking. It was an \nhonour to see and meet the members of the process analytics group at TU/e, \nwhere process mining began to blossom into the discipline that it is today.\n`\n)\n\nvistingRWTHAachen.addPdfSection(\n\"2024/Adam_Banham_eindhoven_pa_2024.pdf\",\n\"My presentation slides for Comparing Conformance Checking for Decision Mining\"\n)\n\nvistingRWTHAachen.addTextSection(\n`\nAnother event that occurred during my visit was a workshop between TU/e, KU \nLeuven, and RWTH Aachen, ELA AI Triangle Workshop on Process Mining where 24 \nPhD candidates gave talks about their work and advancements for process mining. \nThis workshop was an excellent opportunity to hear and discuss with many other \ncandidates focusing on process mining. It was also great to catch up with \nAlexander Stevens, who introduced me to Dr Jari Peeperkorn, Dr Jannis Bertand, \nand his supervisor, Prof. Johannes De Smedt. After the workshop, I also got \nto grab a beer with Prof. Jochen de Weerdt and Prof. Wil M.P van der Aalst.\n`\n)\n\nvistingRWTHAachen.addTextSection(\n`\nI am horrible at keeping memories in photo form but below are some highlights \nfrom the trip.\n`\n)\n\nvistingRWTHAachen.addCarousel(\n\"Various moments from the European trip to visit RWTH Aachen\",\n{\n    src:\"/photos/rwthVist2023/01_RWTH_Aachen.jpg\",\n    header: \"RWTH Aachen, DE\",\n    subtitle: \"Informatik 9\"\n},\n{\n    src:\"/photos/rwthVist2023/02_RWTH_Aachen.jpg\",\n    header: \"Aachen, DE\",\n    subtitle: \"Lousberg\"\n},\n{\n    src:\"/photos/rwthVist2023/03_RWTH_Aachen.jpg\",\n    header: \"Aachen, DE\",\n    subtitle: \"Lousberg\"\n},\n{\n    src:\"/photos/rwthVist2023/04_RWTH_Aachen.jpg\",\n    header: \"Aachen, DE\",\n    subtitle: \"\"\n},\n{\n    src:\"/photos/rwthVist2023/05_RWTH_Aachen.jpg\",\n    header: \"Aachen, DE\",\n    subtitle: \"Aachener Dom\"\n},\n{\n    src:\"/photos/rwthVist2023/06_RWTH_Aachen.jpg\",\n    header: \"Aachen, DE\",\n    subtitle: \"Snow!!!\"\n},\n{\n    src:\"/photos/rwthVist2023/07_RWTH_Aachen.jpg\",\n    header: \"Aachen, DE\",\n    subtitle: \"Snow!!!\"\n},\n{\n    src:\"/photos/rwthVist2023/08_RWTH_Aachen.jpg\",\n    header: \"Aachen, DE\",\n    subtitle: \"Snow!!!\"\n},\n{\n    src:\"/photos/rwthVist2023/09_RWTH_Aachen.jpg\",\n    header: \"Informatik 9, Aachen, DE\",\n    subtitle: \"Snow!!!\"\n},\n{\n    src:\"/photos/rwthVist2023/10_TUE_Einhoven.jpg\",\n    header: \"Eindhoven, NL\",\n    subtitle: \"Technische Universiteit Eindhoven\"\n},\n{\n    src:\"/photos/rwthVist2023/11_TUE_Einhoven.jpg\",\n    header: \"Eindhoven, NL\",\n    subtitle: \"Flying Pins\"\n},\n{\n    src:\"/photos/rwthVist2023/12_TUE_Einhoven.jpg\",\n    header: \"Eindhoven, NL\",\n    subtitle: \"Technische Universiteit Eindhoven\"\n},\n{\n    src:\"/photos/rwthVist2023/17_Leuven.jpg\",\n    header: \"Leuven, BE\",\n    subtitle: \"Sint-Pieterskerk\"\n},\n{\n    src:\"/photos/rwthVist2023/13_london_bridge.jpg\",\n    header: \"London, UK\",\n    subtitle: \"Tower Bridge\"\n},\n{\n    src:\"/photos/rwthVist2023/14_london_park_a.jpg\",\n    header: \"Milton Keynes, United Kingdom\",\n    subtitle: \"Bletchley Park\"\n},\n{\n    src:\"/photos/rwthVist2023/14_london_park_b.jpg\",\n    header: \"Bletchley Park, Milton Keynes, United Kingdom\",\n    subtitle: \"(Fake) Bombe machine used for code cracking\"\n},\n{\n    src:\"/photos/rwthVist2023/15_BPM_room.jpg\",\n    header: \"Informatik 9, Aachen, DE\",\n    subtitle: \"The room with Nick and Tian\"\n},\n{\n    src:\"/photos/rwthVist2023/16_Dom.jpg\",\n    header: \"Cologne, DE\",\n    subtitle: \"Kölner Dom\"\n},\n)\n\nexport default vistingRWTHAachen;","import { ArticleStructure } from \"../../articleElement.js\";\n\nconst AgrawalMiner2024B = new ArticleStructure(\n    \"Agrawal Miner implemented in Koalas\",\n    \"AgrawalMiner2024B\"\n)\nAgrawalMiner2024B.addTextSection(\n    `\n    While searching through literature for my thesis, I came across an early \n    survey of workflow mining, ''Workflow mining: A survey of issues and \n    approaches'' by W. M. P. van der Aalst, B. F. van Dongen et al., in 2003 \n    <a href=\"#ref-1\">[1]</a>.\n     In this survey, we can already see many of the problems that process mining \n     today explores, such as discovering a formal description of a process from \n     the executions of a process. The survey also points to one of the earliest \n     works on process discovery, and this post explores this early process \n     discovery approach.\n    `\n    )\n    AgrawalMiner2024B.addTextSection(\n    `\n    The early process discovery paper, \"Mining process models from workflow \n    logs\", was written by R. Agrawal, D. Gunopulos, and F. Leymann, in 1998\n    <a href=\"#ref-2\">[2]</a>. \n    In this work, the authors present three algorithms that address the \n    problem \n    <a href=\"#quote-1\">outlined below</a>\n    and consider how to return outcomes with desirable \n    properties. Some of the assumptions are dated, like assuming all traces \n    sample from a set of activities and all activities are executed once. \n    Nonetheless, it is interesting to understand the approach and learn from \n    how it was proposed.\n    `\n    )\n    AgrawalMiner2024B.addQuote(\n    `\n    We present a new approach to address the problem of model construction.\n    We describe an algorithm that, given a log of unstructured executions\n    of a process, generates a graph model of the process.\n    `,\n    `R. Agrawal, D. Gunopulos, and F. Leymann, 1998`\n    )\n    AgrawalMiner2024B.addTextSection(\n    `\n    The paper focuses on deriving a conformal graph of the process executions. \n    Where graphs in this context consist of vertices (V) and edges between \n    vertices (E), assuming a single source and a single sink vertice for the \n    graph. The authors also consider that each vertex has an output function, \n    and between edges, a boolean function exists; however, exploring these \n    components of the graph is largely unvisited in the paper, so I will \n    overlook these for this article. R. Agrawal et al. outlines three properties \n    of conformal graphs (\n    <a href=\"#quote-2\">shown below</a>\n    ) and focus their work on discovering \n    conformal graphs instead of graphs.\n    `\n    )\n    AgrawalMiner2024B.addQuote(\n    `\n    <b>Definltion 7</b> (Conformal graph). A process model graph G is conformal \n    with a log L of executions if all of the following hold: \n    <ul style=\"text-align:left;margin:1px;width:80%;display:flex-inline\">\n        <li> (<i><b>dependency completeness</b></i>) for each dependency in L, there \n        exists a path in G;\n        </li>\n        <li> (<i><b>irredundancy of dependencies</b></i>) there is no path in G \n        between independent activities in L;\n        </li>\n        <li> (<i><b>execution completeness</b></i>) G is consistent with every execution \n        in L.\n        </li>\n    </ul>\n    `,\n    `\n    Def.7, Page 474, R. Agrawal, D. Gunopulos, and F. Leymann, 1998\n    `\n    )\n    AgrawalMiner2024B.addTextSection(\n    `\n    The first algorithm proposed by R. Agrawal et al. defines a special case \n    when the executions of the process contain exactly one instance of each \n    process activity. In this special case, they argue that a unique process \n    model exists that is conformal and minimizes the number of edges. Notably, \n    in their context, graphs describe edges between vertices when one activity \n    follows another. For example, given two activities A,B : B follows A if in \n    all executions with A and B, B occurred after A in executions. These edges \n    are eventually follow relations in our modern context, where for an \n    execution to be accepted by a discovered graph, if all related edges \n    hold. If you would like to play along at home, the Agrawal miner can be \n    found in pmkoalas ( \n    <a href=\"\">found here</a> \n    ), a python library for process mining, and \n    you can install it locally from pypi using:\n    `\n    )\n    AgrawalMiner2024B.addCode(\n    `\n    pip install pmkoalas==0.3.1\n    `,\n    \"shell\",\n    \"How to install pmkoalas into a local python environment from pypi.\"\n    )\n    AgrawalMiner2024B.addTextSection(\n    `\n    R. Agrawal et al. first algorithm proposed that a conformal graph is \n    discoverable by applying four steps. Firstly, define a set of vertices, \n    one for each activity. Secondly, iterate the executions and introduce \n    edges between vertices for all eventually follows relations.Thirdly, \n    remove all edges that occur in both directions. Lastly, compute the \n    transitive reduction of the graph. For all algorithms, R. Agrawal et al. \n    provide a running example with some commentary on the derivation of the \n    graph. The art of including a minimal example within papers is somewhat \n    lost, as many modern papers forget this step. Some papers around process \n    discovery in our times even lack a single visualisation of their \"models\".\n    However, in the case of R. Agrawal et al., they ask us to consider the \n    following log: <b>{ABCDE, ACDBE, ACBDE}</b> and we can apply the miner \n    using the snippet below to see the resulting graph in \n    <a href=\"#figure-1\">Figure 1</a> \n    (visualised by graphviz, \n    dot).\n    `\n    )\n    AgrawalMiner2024B.addCode(\n    `\n    from pmkoalas.dtlog import convert \n    from pmkoalas._logging import setLevel, info\n    from logging import INFO \n    from pmkoalas.discovery.agrawal_miner import AgrawalMinerInstance\n    \n    def main():\n        setLevel(INFO)\n        log = convert(\"A B C D E\",\n                      \"A C D B E\",\n                      \"A C B D E\")\n        miner = AgrawalMinerInstance() \n        graph = miner.discover(log)\n        print(repr(graph))\n        print(graph.create_dot_form().replace(\";\",\";\\\\n\"))\n        for trace, n in  log: \n            info(f\"{trace} accepted by graph? :: {graph.does_not_violate(trace)}\")\n    \n    if __name__ == \"__main__\":\n        main() \n    `,\n    \"python\",\n    \"Code to compute the conformal graph discovered by the Agrawal Miner using \"\n    + \"a log from the special class.\"\n    )\n    AgrawalMiner2024B.addFigure(\n        \"AgrawalMiner2024B/agrawal_code_ex_1.svg\",\n        \"A conformal graph discovered by the Agrawal Miner, using the dot digraph supplied by the snippet.\"\n    )\n    AgrawalMiner2024B.addTextSection(\n    `\n    The second algorithm proposed by R. Agrawal et al. considers if the \n    executions are samples from an acyclic process where activities can \n    occur at most once but may not be executed. This relaxation introduces \n    two problems: not all dependency graphs are conformal graphs, and spurious \n    dependencies may be possible. Two modifications of the previous algorithm \n    are used to resolve these problems. After step three, all edges between \n    strongly connect components in the graph are removed to avoid spurious \n    dependencies. After which, only edges in the induced sub-graphs for \n    executions are kept to ensure that all executions can be accepted. To \n    showcase these modifications, R. Agrawal asks us to consider the following \n    log: \n    <b>{ABCF, ACDF, ADEF, AECF}</b>, \n    and the resulting graph shown in \n    <a href=\"#figure-2\">Figure 2</a>.\n    `\n    )\n    AgrawalMiner2024B.addCode(\n    `\n    from pmkoalas.dtlog import convert \n    from pmkoalas._logging import setLevel, info\n    from logging import INFO \n    from pmkoalas.discovery.agrawal_miner import AgrawalMinerInstance\n    \n    def main():\n        setLevel(INFO)\n        log = convert(\"A B C F\",\n                        \"A C D F\",\n                        \"A D E F\",\n                        \"A E C F\")\n        miner = AgrawalMinerInstance() \n        graph = miner.discover(log)\n        print(repr(graph))\n        print(graph.create_dot_form().replace(\";\",\";\\\\n\"))\n        for trace, n in  log: \n            info(f\"{trace} accepted by graph? :: {graph.does_not_violate(trace)}\")\n    \n    if __name__ == \"__main__\":\n        main() \n    `,\n        \"python\",\n        \"Code snippet to run the miner on the relaxed samples of a process.\"\n    )\n    AgrawalMiner2024B.addFigure(\n        \"AgrawalMiner2024B/agrawal_code_ex_2.svg\",\n        \"The resulting dependency graph discovered by the Agrawal Miner.\"\n    )\n    AgrawalMiner2024B.addTextSection(\n    `\n    Notably, an assumption of the approaches proposed by R. Agrawal et al. is \n    that their graphs have a single source and sink. However, there is a \n    simple workaround for when the log contains executions with different \n    start activities and end activities. The workaround is to prefix and suffix \n    executions with a pseudo activity. So, for example, if two new activities \n    G,H are introduced to the previous log, producing\n    <b>{HABCF, ACDF, ADEFG, AECF}</b>, \n    then following graph in \n    <a href=\"#figure-3\">Figure 3</a>, is found.\n    `\n    )\n    AgrawalMiner2024B.addCode(\n    `\n    from pmkoalas.dtlog import convert \n    from pmkoalas._logging import setLevel, info\n    from pmkoalas.simple import Trace\n    from logging import INFO \n    from pmkoalas.discovery.agrawal_miner import AgrawalMinerInstance\n    \n    def main():\n        setLevel(INFO)\n        log = convert(\"H A B C F\",\n                        \"A C D F\",\n                        \"A D E F G\",\n                        \"A E C F\")\n        miner = AgrawalMinerInstance() \n        graph = miner.discover(log)\n        print(repr(graph))\n        print(graph.create_dot_form().replace(\";\",\";\\n\"))\n        for trace, n in  log: \n            # you are responsible for adding the prefix and suffix after\n            # discovery, a copy is used internally for the miner.\n            trace = Trace([\"start\"]+list(trace)+[\"end\"])\n            info(f\"{trace} accepted by graph? :: {graph.does_not_violate(trace)}\")\n    \n    if __name__ == \"__main__\":\n        main() \n    `,\n    \"python\",\n    \"Code snippet to run the miner on the adjusted samples.\"\n    )\n    AgrawalMiner2024B.addFigure(\n        \"AgrawalMiner2024B/agrawal_code_ex_2b.svg\",\n        \"The resulting dependency graph discovered by the Agrawal Miner when \"\n        + \"executions cannot agree on starting and ending activities.\"\n    )\n    AgrawalMiner2024B.addTextSection(\n    `\n    The final relaxation of on the class of processes that R. Agrawal et al.\n    considered was if the executions are sampled from a process with cycles. \n    Where the major problem faced is that the previous algorithms will remove \n    legitimate cycles and that a transitive reduction on directed graphs is not \n    unique. To handle cycles, traces are first re-encoded so repeated instances \n    are separated into new activities, e.g. A B D C B C E becomes A B D C B1 C1 \n    E. Then, the separated activities are merged at the end of the algorithm and \n    edges are introduced if an edge exists between different equivalent sets of \n    activities. Finally, the author asks us to consider the following log: \n    <b>{ABDCE, ABDCBCE, ABCBDCE, ADE}</b>,\n    resulting in the following graph in\n    <a href=\"#figure-4\">Figure 4</a>.\n    `\n    )\n    \n    AgrawalMiner2024B.addCode(\n    `\n    from pmkoalas.dtlog import convert \n    from pmkoalas._logging import setLevel, info\n    from pmkoalas.simple import Trace\n    from logging import INFO \n    from pmkoalas.discovery.agrawal_miner import AgrawalMinerInstance\n    \n    def main():\n        setLevel(INFO)\n        log = convert(\"A B C D E\",\n                      \"A B C D B C D E\",\n                      \"A F G B C D E\",\n                      \"A F G H\")\n        miner = AgrawalMinerInstance() \n        graph = miner.discover(log)\n        print(repr(graph))\n        print(graph.create_dot_form().replace(\";\",\";\\\\n\"))\n        for trace, n in  log: \n            # you are responsible for adding the prefix and suffix after\n            # discovery, a copy is used internally for the miner.\n            trace = Trace([\"start\"]+list(trace)+[\"end\"])\n            info(f\"{trace} accepted by graph? :: {graph.does_not_violate(trace)}\")\n    \n    if __name__ == \"__main__\":\n        main() \n    `,\n    \"python\",\n    \"Snippet to run the Agrawal Miner on the considered log. Note testing if an \"\n    + \"execution is consistent with a graph with cycles is less clear than before.\"\n    )\n    AgrawalMiner2024B.addFigure(\n        \"AgrawalMiner2024B/agrawal_code_ex_3.svg\",\n        \"A dependency graph discovered from samples of process with cycles.\"\n    )\n    AgrawalMiner2024B.addTextSection(\n    `\n    So, what are some takeaways from this early work? First, you should \n    consider desirable properties for the outcomes you want to discover. \n    Rather than focusing on whether you can compute something, \n    think about what requirements are needed for the input. The work\n    of R. Agrawal, D. Gunopulos, and F. Leymann also shows the importance of a\n    motivating example to empower your research! It shouldn't be overlooked, even\n    if reviewers turn down their noses at the simplicity, by asking for something\n    more \"real\" to movitate them. Unless the algorithm is about the labels, such\n    as repairing them or recovering them, the labels of activities being \"save \n    the world\", \"assess insurance claim\", or \"generate 1km of rainbow spaghetti\",\n    are not relevant to any contribution.\n    `\n    )\n    AgrawalMiner2024B.addQuote(\n    `\n    Many of todays information systems are driven by explicit process models. \n    Workflow management systems, but also ERP, CRM, SCM, and B2B, are \n    configured on the basis of a workflow model specifying the order in which \n    tasks need to be executed. Creating a workflow design is a complicated \n    time-consuming process and typically there are discrepancies between the \n    actual workflow processes and the processes as perceived by the management. \n    To support the design of workflows, we propose the use of workflow mining.\n    Starting point for workflow mining is a so-called ‘‘workflow log’’ \n    containing information about the workflow process as it is actually being \n    executed.\n    `,\n        \"W. M. P. van der Aalst, B. F. van Dongen, et al., Workflow mining: A \"\n        +\"survey of issues and approaches\"\n    )\n    AgrawalMiner2024B.addTextSection(\n    `\n    To explore the implementation in koalas, I also conducted some testing\n    on the runtime using some modern publically avaiable event logs.\n    The event logs used were:\n    <b> BPIC13, BPIC20, road fines, sepsis</b>.\n    However, for testing purposes only the BPIC15 was used to consider \n    runtime performance.\n    Where testing consisted of sampling the log and adjusting the traces based\n    on the requirements to trigger one of three algorithms proposed by R. \n    Agrawal et al.\n    `\n    )\n    AgrawalMiner2024B.addFigure(\n        \"AgrawalMiner2024B/special_runtime.svg\",\n        \"Runtime analysis when only considering adjusted samples from BPIC15 \"\n        +\" that execute activities exactly once.\"\n    )\n    AgrawalMiner2024B.addFigure(\n        \"AgrawalMiner2024B/general_runtime.svg\",\n        \"Runtime analysis when only considering adjusted samples from BPIC15 \"\n        +\" that may execute activities once. Runtime reaching 20 activities was\"\n        +\" not completed due to runtime.\"\n    )\n    AgrawalMiner2024B.addFigure(\n        \"AgrawalMiner2024B/opt_runtime.svg\",\n        \"Runtime analysis when only considering adjusted samples from BPIC15 \"\n        +\" that may execute activities once, after optimisation.\"\n    )\n    AgrawalMiner2024B.addFigure(\n        \"AgrawalMiner2024B/cyclic_opt_runtime.svg\",\n        \"Runtime analysis when only considering adjusted samples from BPIC15 \"\n        +\" that may execute activities repeatly, after optimisation.\"\n    )\n    \n    AgrawalMiner2024B.addTextSection(\n    `\n    The runtime testing shows that when executions are increased, we see a\n    linear increase in runtime; while when the number of activities are \n    increased we see a much larger impact on runtime. This reflects the general\n    nature of the algorithms complexity, \n    where m is the number of executions,\n    n is the number of activities observed,\n    and k is the most times any activity is repeated,\n    then at worst the approach is O(m(kn)^3) and at best it is O(mn^2) as \n    reported by R. Agrawal et al.\n    `\n    )\n    AgrawalMiner2024B.addTextSection(\n    `\n    Some additional graphs were computed and are shown below for the curious \n    wretched, interested to see how the approach presents our modern event logs.\n    `\n    )\n    AgrawalMiner2024B.addFigure(\n        \"AgrawalMiner2024B/logs/BPIC13_closed.svg\",\n        \"Agrawal miner applied to BPIC13 - closed.\"\n    )\n    AgrawalMiner2024B.addFigure(\n        \"AgrawalMiner2024B/logs/BPIC13_incidents.svg\",\n        \"Agrawal miner applied to BPIC13 - incidents.\"\n    )\n    AgrawalMiner2024B.addFigure(\n        \"AgrawalMiner2024B/logs/BPIC13_open.svg\",\n        \"Agrawal miner applied to BPIC13 - open.\"\n    )\n    AgrawalMiner2024B.addFigure(\n        \"AgrawalMiner2024B/logs/BPIC15.svg\",\n        \"Agrawal miner applied to BPIC15.\"\n    )\n    AgrawalMiner2024B.addFigure(\n        \"AgrawalMiner2024B/logs/road_fines.svg\",\n        \"Agrawal miner applied to road fines.\"\n    )\n    AgrawalMiner2024B.addFigure(\n        \"AgrawalMiner2024B/logs/sepsis.svg\",\n        \"Agrawal miner applied to sepsis.\"\n    )\n    \n    AgrawalMiner2024B.addReference(\n    `\n    W. M. P. van der Aalst, B. F. van Dongen, J. Herbst, L. Maruster, G. Schimm, and\n    A. J. M. M. Weijters, “Workflow mining: A survey of issues and approaches,” Data\n    Knowl. Eng., vol. 47, no. 2, pp. 237–267, 2003\n    `\n    )\n    AgrawalMiner2024B.addReference(\n    `\n    R. Agrawal, D. Gunopulos, and F. Leymann, “Mining process models from workflow\n    logs,” in EDBT, ser. Lecture Notes in Computer Science, vol. 1377, Springer, 1998,\n    pp. 469–483\n    `\n    )\n\nexport default AgrawalMiner2024B","import { ArticleStructure } from \"../../articleElement.js\";\n\nconst EndogenousExogenousDifference = new ArticleStructure(\n    \"The Difference between Endo And Exo\",\n    \"DifExoEndo2023\"\n)\n\nEndogenousExogenousDifference.addTextSection(\n`\nA major component of my thesis was the conceptual difference between data \nsources used for process analysis. The goal of the conceptual difference was \nto highlight that the discrete nature of process executions used in process \nmining can struggle to capture contextual impacts. Typically, in process \nmining, we consider discrete state changes in a process execution to inform \nour understanding of processes. These state changes are often ordered by \nthe timestamp of the state change occurring or, more often, when it was \nrecorded. Furthermore, most analysis techniques abstract the timestamps into \npartial ordering between state changes. This abstraction means that the \ntemporal differences between state changes are overlooked in analysis and \nrequire that contextual information be flattened to these state changes.\n`\n)\n\nEndogenousExogenousDifference.addTextSection(\n`\nTo motivate for process analysis that does not flatten contextual information \nto inform our understanding of processes, two categories of data sources are \nintroduced. Endogenous data groups all streams of state changes related to \nthe execution of processes. While external data streams, or exogenous data, \ngroups all streams of measurements for phenomena that cannot be entirely \nproduced or divided from endogenous data. The definitions below provide a \nshort statement to delimate streams into these categories.\n`\n)\n\nEndogenousExogenousDifference.addDefintion(\n\"Endogenous Streams\",\n`\nAn endogenous stream is a finite sequence of timestamped state changes that \ndescribe a historical execution of a process.\n`\n)\n\nEndogenousExogenousDifference.addDefintion(\n\"Exogenous Streams\",\n`\nAn exogenous stream is a possibly finite sequence of timestamped measurements \nthat describes the observation of any phenomenon and are not fully determined \nby a process execution.\n`\n)\n\nEndogenousExogenousDifference.addTextSection(\n`\nAn example of endogenous data could be a stream describing the processing of \nan insurance claim. While, an example of exogenous data could be the total \npaid claims by the insurance company, measured by the hour. These examples \nhighlight that both endogenous and exogenous data can have a symbiotic \nrelationship, where any one execution of the process does not fully determine \nthe total paid claims, allowing the exogenous stream to be derived as an \ninter-case variable from the observation of the process. An important \nmotivation for this operationalisation was ensuring that the categories were \nbroad enough to allow for any concept rather than focusing on a specfic use case,\nsay IoT data (even though it might be the ideal use case).\n`\n)\n\nEndogenousExogenousDifference.addFigure(\n\"blog/DifExoEndo2023/rose_onion.png\",\n\"Roseman, Recker, and Flender views on conceptual dimensions around processes [1].\"\n)\n\nEndogenousExogenousDifference.addTextSection(\n`\nThe consideration of the context surrounding processes is not new. Many works \nhave explored this notion and the benefits of including such information for \nbusiness process management. Thus, we can also synthesise endogenous and \nexogenous data from existing works. Starting off with M. Rosemann, J. Recker, \nand C. Flender (2008), who described the idea of onion layers revolving around \nprocesses. They describe four layers to consider: immediate, internal, \nexternal, and environmental layers as seen in Figure 1. Whereby endogenous \ndata covers immediate and internal layers, while exogenous covers the external \nand environmental layers. However, their work focuses more on management \nconcepts rather than data sources.\n`\n)\n\nEndogenousExogenousDifference.addFigure(\n\"blog/DifExoEndo2023/aalst_onion.png\",\n\"van der Aalst and Dustdar views on conceptual dimensions around processes [2].\"\n)\n\nEndogenousExogenousDifference.addTextSection(\n`\nThankfully, van der Aalst and Dustdar [2] provide a reconceptualisation of \nthe onion layers focusing on data sources and their impact on process \nbehaviour, as shown in Figure 2. Their layers focus on the types of streams \nlikely to present on each layer. Whereby endogenous streams cover the instance \nand process context layers, while exogenous streams cover the process, social, \nand external context layers. Showcasing that exogenous streams can stem from \nconcurrent process executions on the process context layer.\n`\n)\n\nEndogenousExogenousDifference.addTextSection(\n`\nMy thesis, \n\"<b><i>Process Mining with Exogenous Data</i></b>\", \ndoes not solve and resolve all the differences between endogenous and \nexogenous data for process analysis. However, the work encourages more \ntechniques that cater to the intertwinement of both discrete and temporal \ndimensions for process mining.\n`\n)\n\nEndogenousExogenousDifference.addReference(\n`\nM. Rosemann, J. Recker, and C. Flender, “Contextualisation of business \nprocesses,” Int. J. Bus. Process. Integr. Manag., vol. 3, no. 1, pp. \n47–60, 2008\n`\n)\nEndogenousExogenousDifference.addReference(\n`\nW. M. P. van der Aalst and S. Dustdar, “Process mining put into context,” \nIEEE Internet Computing, vol. 16, no. 01, pp. 82–86, 2012\n`\n)\n\nexport default EndogenousExogenousDifference","import finalSeminar from \"./finalSeminar.js\"\nimport confirmation from \"./phdConfirmation.js\"\nimport rwthVisit from \"./rwthVisit.js\"\nimport agrawalMiner from \"./agrawalMiner.js\"\nimport differences from \"./differencesExoEndo.js\"\n\nconst collection = [\n    confirmation,\n    differences,\n    rwthVisit,\n    agrawalMiner,\n    finalSeminar\n]\n\nexport default collection;","import { ArticleStructure } from \"../articleElement.js\";\n\nconst content = [\n]\n\nexport default {\n    content\n}","import content2024 from \"./2024\"\nimport phdcontent from \"./phdcontent\";\n\nconst allcontent = []\n    .concat(phdcontent.content)\n    .concat(content2024);\nvar contentkeys = []\nvar contentDict = {}\n\nfor(let i in allcontent){\n    var cont = allcontent[i]\n    if (cont.id in contentDict){\n        throw Error(\"Found duplicated article id :: \"+cont.id)\n    }\n    contentDict[cont.id] = cont;\n    contentkeys.push(cont.id)\n}\n\nexport default {\n    contentDict,\n    contentkeys\n}","/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v1.0.40\n   Copyright © 2012-2024 Faisal Salman <f@faisalman.com>\n   MIT License *//*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment. \n   Demo   : https://faisalman.github.io/ua-parser-js\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '1.0.40',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded',\n        UA_MAX_LENGTH = 500;\n\n    var AMAZON  = 'Amazon',\n        APPLE   = 'Apple',\n        ASUS    = 'ASUS',\n        BLACKBERRY = 'BlackBerry',\n        BROWSER = 'Browser',\n        CHROME  = 'Chrome',\n        EDGE    = 'Edge',\n        FIREFOX = 'Firefox',\n        GOOGLE  = 'Google',\n        HUAWEI  = 'Huawei',\n        LG      = 'LG',\n        MICROSOFT = 'Microsoft',\n        MOTOROLA  = 'Motorola',\n        OPERA   = 'Opera',\n        SAMSUNG = 'Samsung',\n        SHARP   = 'Sharp',\n        SONY    = 'Sony',\n        XIAOMI  = 'Xiaomi',\n        ZEBRA   = 'Zebra',\n        FACEBOOK    = 'Facebook',\n        CHROMIUM_OS = 'Chromium OS',\n        MAC_OS  = 'Mac OS',\n        SUFFIX_BROWSER = ' Browser';\n\n    ///////////\n    // Helper\n    //////////\n\n    var extend = function (regexes, extensions) {\n            var mergedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    mergedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    mergedRegexes[i] = regexes[i];\n                }\n            }\n            return mergedRegexes;\n        },\n        enumerize = function (arr) {\n            var enums = {};\n            for (var i=0; i<arr.length; i++) {\n                enums[arr[i].toUpperCase()] = arr[i];\n            }\n            return enums;\n        },\n        has = function (str1, str2) {\n            return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n        },\n        lowerize = function (str) {\n            return str.toLowerCase();\n        },\n        majorize = function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g, EMPTY).split('.')[0] : undefined;\n        },\n        trim = function (str, len) {\n            if (typeof(str) === STR_TYPE) {\n                str = str.replace(/^\\s\\s*/, EMPTY);\n                return typeof(len) === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n            }\n    };\n\n    ///////////////\n    // Map helper\n    //////////////\n\n    var rgxMapper = function (ua, arrays) {\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    if (!regex[j]) { break; }\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length === 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length === 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length === 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        strMapper = function (str, map) {\n\n            for (var i in map) {\n                // check if current value is array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return map.hasOwnProperty('*') ? map['*'] : str;\n    };\n\n    ///////////////\n    // String map\n    //////////////\n\n    // Safari < 3.0\n    var oldSafariMap = {\n            '1.0'   : '/8',\n            '1.2'   : '/1',\n            '1.3'   : '/3',\n            '2.0'   : '/412',\n            '2.0.2' : '/416',\n            '2.0.3' : '/417',\n            '2.0.4' : '/419',\n            '?'     : '/'\n        },\n        windowsVersionMap = {\n            'ME'        : '4.90',\n            'NT 3.11'   : 'NT3.51',\n            'NT 4.0'    : 'NT4.0',\n            '2000'      : 'NT 5.0',\n            'XP'        : ['NT 5.1', 'NT 5.2'],\n            'Vista'     : 'NT 6.0',\n            '7'         : 'NT 6.1',\n            '8'         : 'NT 6.2',\n            '8.1'       : 'NT 6.3',\n            '10'        : ['NT 6.4', 'NT 10.0'],\n            'RT'        : 'ARM'\n    };\n\n    //////////////\n    // Regex map\n    /////////////\n\n    var regexes = {\n\n        browser : [[\n\n            /\\b(?:crmo|crios)\\/([\\w\\.]+)/i                                      // Chrome for Android/iOS\n            ], [VERSION, [NAME, 'Chrome']], [\n            /edg(?:e|ios|a)?\\/([\\w\\.]+)/i                                       // Microsoft Edge\n            ], [VERSION, [NAME, 'Edge']], [\n\n            // Presto based\n            /(opera mini)\\/([-\\w\\.]+)/i,                                        // Opera Mini\n            /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,                 // Opera Mobi/Tablet\n            /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i                           // Opera\n            ], [NAME, VERSION], [\n            /opios[\\/ ]+([\\w\\.]+)/i                                             // Opera mini on iphone >= 8.0\n            ], [VERSION, [NAME, OPERA+' Mini']], [\n            /\\bop(?:rg)?x\\/([\\w\\.]+)/i                                          // Opera GX\n            ], [VERSION, [NAME, OPERA+' GX']], [\n            /\\bopr\\/([\\w\\.]+)/i                                                 // Opera Webkit\n            ], [VERSION, [NAME, OPERA]], [\n\n            // Mixed\n            /\\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\\/ ]?([\\w\\.]+)/i            // Baidu\n            ], [VERSION, [NAME, 'Baidu']], [\n            /\\b(?:mxbrowser|mxios|myie2)\\/?([-\\w\\.]*)\\b/i                       // Maxthon\n            ], [VERSION, [NAME, 'Maxthon']], [\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\\/ ]?([\\w\\.]*)/i,      \n                                                                                // Lunascape/Maxthon/Netfront/Jasmine/Blazer/Sleipnir\n            // Trident based\n            /(avant|iemobile|slim(?:browser|boat|jet))[\\/ ]?([\\d\\.]*)/i,        // Avant/IEMobile/SlimBrowser/SlimBoat/Slimjet\n            /(?:ms|\\()(ie) ([\\w\\.]+)/i,                                         // Internet Explorer\n\n            // Blink/Webkit/KHTML based                                         // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\\/([-\\w\\.]+)/i,\n                                                                                // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ//Vivaldi/DuckDuckGo/Klar/Helio/Dragon\n            /(heytap|ovi|115)browser\\/([\\d\\.]+)/i,                              // HeyTap/Ovi/115\n            /(weibo)__([\\d\\.]+)/i                                               // Weibo\n            ], [NAME, VERSION], [\n            /quark(?:pc)?\\/([-\\w\\.]+)/i                                         // Quark\n            ], [VERSION, [NAME, 'Quark']], [\n            /\\bddg\\/([\\w\\.]+)/i                                                 // DuckDuckGo\n            ], [VERSION, [NAME, 'DuckDuckGo']], [\n            /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i                 // UCBrowser\n            ], [VERSION, [NAME, 'UC'+BROWSER]], [\n            /microm.+\\bqbcore\\/([\\w\\.]+)/i,                                     // WeChat Desktop for Windows Built-in Browser\n            /\\bqbcore\\/([\\w\\.]+).+microm/i,\n            /micromessenger\\/([\\w\\.]+)/i                                        // WeChat\n            ], [VERSION, [NAME, 'WeChat']], [\n            /konqueror\\/([\\w\\.]+)/i                                             // Konqueror\n            ], [VERSION, [NAME, 'Konqueror']], [\n            /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i                       // IE11\n            ], [VERSION, [NAME, 'IE']], [\n            /ya(?:search)?browser\\/([\\w\\.]+)/i                                  // Yandex\n            ], [VERSION, [NAME, 'Yandex']], [\n            /slbrowser\\/([\\w\\.]+)/i                                             // Smart Lenovo Browser\n            ], [VERSION, [NAME, 'Smart Lenovo '+BROWSER]], [\n            /(avast|avg)\\/([\\w\\.]+)/i                                           // Avast/AVG Secure Browser\n            ], [[NAME, /(.+)/, '$1 Secure '+BROWSER], VERSION], [\n            /\\bfocus\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [VERSION, [NAME, FIREFOX+' Focus']], [\n            /\\bopt\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [VERSION, [NAME, OPERA+' Touch']], [\n            /coc_coc\\w+\\/([\\w\\.]+)/i                                            // Coc Coc Browser\n            ], [VERSION, [NAME, 'Coc Coc']], [\n            /dolfin\\/([\\w\\.]+)/i                                                // Dolphin\n            ], [VERSION, [NAME, 'Dolphin']], [\n            /coast\\/([\\w\\.]+)/i                                                 // Opera Coast\n            ], [VERSION, [NAME, OPERA+' Coast']], [\n            /miuibrowser\\/([\\w\\.]+)/i                                           // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI' + SUFFIX_BROWSER]], [\n            /fxios\\/([\\w\\.-]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, FIREFOX]], [\n            /\\bqihoobrowser\\/?([\\w\\.]*)/i                                       // 360\n            ], [VERSION, [NAME, '360']], [\n            /\\b(qq)\\/([\\w\\.]+)/i                                                // QQ\n            ], [[NAME, /(.+)/, '$1Browser'], VERSION], [\n            /(oculus|sailfish|huawei|vivo|pico)browser\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+)/, '$1' + SUFFIX_BROWSER], VERSION], [              // Oculus/Sailfish/HuaweiBrowser/VivoBrowser/PicoBrowser\n            /samsungbrowser\\/([\\w\\.]+)/i                                        // Samsung Internet\n            ], [VERSION, [NAME, SAMSUNG + ' Internet']], [\n            /metasr[\\/ ]?([\\d\\.]+)/i                                            // Sogou Explorer\n            ], [VERSION, [NAME, 'Sogou Explorer']], [\n            /(sogou)mo\\w+\\/([\\d\\.]+)/i                                          // Sogou Mobile\n            ], [[NAME, 'Sogou Mobile'], VERSION], [\n            /(electron)\\/([\\w\\.]+) safari/i,                                    // Electron-based App\n            /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,                   // Tesla\n            /m?(qqbrowser|2345(?=browser|chrome|explorer))\\w*[\\/ ]?v?([\\w\\.]+)/i   // QQ/2345\n            ], [NAME, VERSION], [\n            /(lbbrowser|rekonq)/i,                                              // LieBao Browser/Rekonq\n            /\\[(linkedin)app\\]/i                                                // LinkedIn App for iOS & Android\n            ], [NAME], [\n            /ome\\/([\\w\\.]+) \\w* ?(iron) saf/i,                                  // Iron\n            /ome\\/([\\w\\.]+).+qihu (360)[es]e/i                                  // 360\n            ], [VERSION, NAME], [\n\n            // WebView\n            /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i       // Facebook App for iOS & Android\n            ], [[NAME, FACEBOOK], VERSION], [\n            /(Klarna)\\/([\\w\\.]+)/i,                                             // Klarna Shopping Browser for iOS & Android\n            /(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,                             // Kakao App\n            /(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,                                  // Naver InApp\n            /safari (line)\\/([\\w\\.]+)/i,                                        // Line App for iOS\n            /\\b(line)\\/([\\w\\.]+)\\/iab/i,                                        // Line App for Android\n            /(alipay)client\\/([\\w\\.]+)/i,                                       // Alipay\n            /(twitter)(?:and| f.+e\\/([\\w\\.]+))/i,                               // Twitter\n            /(chromium|instagram|snapchat)[\\/ ]([-\\w\\.]+)/i                     // Chromium/Instagram/Snapchat\n            ], [NAME, VERSION], [\n            /\\bgsa\\/([\\w\\.]+) .*safari\\//i                                      // Google Search Appliance on iOS\n            ], [VERSION, [NAME, 'GSA']], [\n            /musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i                        // TikTok\n            ], [VERSION, [NAME, 'TikTok']], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)| )/i                                  // Chrome Headless\n            ], [VERSION, [NAME, CHROME+' Headless']], [\n\n            / wv\\).+(chrome)\\/([\\w\\.]+)/i                                       // Chrome WebView\n            ], [[NAME, CHROME+' WebView'], VERSION], [\n\n            /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i           // Android Browser\n            ], [VERSION, [NAME, 'Android '+BROWSER]], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i                      // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n            /version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i                // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n            /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i                      // Safari < 3.0\n            ], [NAME, [VERSION, strMapper, oldSafariMap]], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i                              // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /(wolvic|librewolf)\\/([\\w\\.]+)/i                                    // Wolvic/LibreWolf\n            ], [NAME, VERSION], [\n            /mobile vr; rv:([\\w\\.]+)\\).+firefox/i                               // Firefox Reality\n            ], [VERSION, [NAME, FIREFOX+' Reality']], [\n            /ekiohf.+(flow)\\/([\\w\\.]+)/i,                                       // Flow\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\\/ ]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(firefox)\\/([\\w\\.]+)/i,                                            // Other Firefox-based\n            /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,                         // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Obigo/Mosaic/Go/ICE/UP.Browser\n            /(links) \\(([\\w\\.]+)/i                                              // Links\n            ], [NAME, [VERSION, /_/g, '.']], [\n            \n            /(cobalt)\\/([\\w\\.]+)/i                                              // Cobalt\n            ], [NAME, [VERSION, /master.|lts./, \"\"]]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i                     // AMD64 (x64)\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32 (x86)\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /\\b(aarch64|arm(v?8e?l?|_?64))\\b/i                                 // ARM64\n            ], [[ARCHITECTURE, 'arm64']], [\n\n            /\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i                                   // ARMHF\n            ], [[ARCHITECTURE, 'armhf']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows (ce|mobile); ppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i                            // PowerPC\n            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, lowerize]]\n        ],\n\n        device : [[\n\n            //////////////////////////\n            // MOBILES & TABLETS\n            /////////////////////////\n\n            // Samsung\n            /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [\n            /\\b((?:s[cgp]h|gt|sm)-(?![lr])\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,\n            /samsung[- ]((?!sm-[lr])[-\\w]+)/i,\n            /sec-(sgh\\w+)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n\n            // Apple\n            /(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i                          // iPod/iPhone\n            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [\n            /\\((ipad);[-\\w\\),; ]+apple/i,                                       // iPad\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n            /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [\n            /(macintosh);/i\n            ], [MODEL, [VENDOR, APPLE]], [\n\n            // Sharp\n            /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n            ], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [\n\n            // Honor\n            /(?:honor)([-\\w ]+)[;\\)]/i\n            ], [MODEL, [VENDOR, 'Honor'], [TYPE, MOBILE]], [\n\n            // Huawei\n            /\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [\n            /(?:huawei)([-\\w ]+)[;\\)]/i,\n            /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n\n            // Xiaomi\n            /\\b(poco[\\w ]+|m2\\d{3}j\\d\\d[a-z]{2})(?: bui|\\))/i,                  // Xiaomi POCO\n            /\\b; (\\w+) build\\/hm\\1/i,                                           // Xiaomi Hongmi 'numeric' models\n            /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,                             // Xiaomi Hongmi\n            /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,                   // Xiaomi Redmi\n            /oid[^\\)]+; (m?[12][0-389][01]\\w{3,6}[c-y])( bui|; wv|\\))/i,        // Xiaomi Redmi 'numeric' models\n            /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\\))/i // Xiaomi Mi\n            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n            /oid[^\\)]+; (2\\d{4}(283|rpbf)[cgl])( bui|\\))/i,                     // Redmi Pad\n            /\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i                        // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [\n\n            // OPPO\n            /; (\\w+) bui.+ oppo/i,\n            /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, MOBILE]], [\n            /\\b(opd2\\d{3}a?) bui/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, TABLET]], [\n\n            // Vivo\n            /vivo (\\w+)(?: bui|\\))/i,\n            /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n\n            // Realme\n            /\\b(rmx[1-3]\\d{3})(?: bui|;|\\))/i\n            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n\n            // Motorola\n            /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n            /\\bmot(?:orola)?[- ](\\w*)/i,\n            /((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [\n            /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n\n            // LG\n            /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [\n            /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n            /\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,\n            /\\blg-?([\\d\\w]+) bui/i\n            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n\n            // Lenovo\n            /(ideatab[-\\w ]+)/i,\n            /lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n\n            // Nokia\n            /(?:maemo|nokia).*(n900|lumia \\d+)/i,\n            /nokia[-_ ]?([-\\w\\.]*)/i\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Nokia'], [TYPE, MOBILE]], [\n\n            // Google\n            /(pixel c)\\b/i                                                      // Google Pixel C\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [\n            /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i                         // Google Pixel\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n\n            // Sony\n            /droid.+; (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [\n            /sony tablet [ps]/i,\n            /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n\n            // OnePlus\n            / (kb2005|in20[12]5|be20[12][59])\\b/i,\n            /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            // Amazon\n            /(alexa)webm/i,\n            /(kf[a-z]{2}wi|aeo(?!bc)\\w\\w)( bui|\\))/i,                           // Kindle Fire without Silk / Echo Show\n            /(kf[a-z]+)( bui|\\)).+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [\n            /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i                     // Fire Phone\n            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n\n            // BlackBerry\n            /(playbook);[-\\w\\),; ]+(rim)/i                                      // BlackBerry PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n            /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n            /\\(bb10; (\\w+)/i                                                    // BlackBerry 10\n            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n\n            // Asus\n            /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [\n            / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n\n            // HTC\n            /(nexus 9)/i                                                        // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n            /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,                         // HTC\n\n            // ZTE\n            /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n            /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            // TCL\n            /droid [\\w\\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\\w*(\\)| bui)/i\n            ], [MODEL, [VENDOR, 'TCL'], [TYPE, TABLET]], [\n\n            // itel\n            /(itel) ((\\w+))/i\n            ], [[VENDOR, lowerize], MODEL, [TYPE, strMapper, { 'tablet' : ['p10001l', 'w7001'], '*' : 'mobile' }]], [\n\n            // Acer\n            /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            // Meizu\n            /droid.+; (m[1-5] note) bui/i,\n            /\\bmz-([-\\w]{2,})/i\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n                \n            // Ulefone\n            /; ((?:power )?armor(?:[\\w ]{0,8}))(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Ulefone'], [TYPE, MOBILE]], [\n\n            // Energizer\n            /; (energy ?\\w+)(?: bui|\\))/i,\n            /; energizer ([\\w ]+)(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Energizer'], [TYPE, MOBILE]], [\n\n            // Cat\n            /; cat (b35);/i,\n            /; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Cat'], [TYPE, MOBILE]], [\n\n            // Smartfren\n            /((?:new )?andromax[\\w- ]+)(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Smartfren'], [TYPE, MOBILE]], [\n\n            // Nothing\n            /droid.+; (a(?:015|06[35]|142p?))/i\n            ], [MODEL, [VENDOR, 'Nothing'], [TYPE, MOBILE]], [\n\n            // MIXED\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\\w]*)/i,\n                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron/Infinix/Tecno/Micromax/Advan\n            /; (imo) ((?!tab)[\\w ]+?)(?: bui|\\))/i,                             // IMO\n            /(hp) ([\\w ]+\\w)/i,                                                 // HP iPAQ\n            /(asus)-?(\\w+)/i,                                                   // Asus\n            /(microsoft); (lumia[\\w ]+)/i,                                      // Microsoft Lumia\n            /(lenovo)[-_ ]?([-\\w]+)/i,                                          // Lenovo\n            /(jolla)/i,                                                         // Jolla\n            /(oppo) ?([\\w ]+) bui/i                                             // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /(imo) (tab \\w+)/i,                                                 // IMO\n            /(kobo)\\s(ereader|touch)/i,                                         // Kobo\n            /(archos) (gamepad2?)/i,                                            // Archos\n            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(nook)[\\w ]+build\\/(\\w+)/i,                                        // Nook\n            /(dell) (strea[kpr\\d ]*[\\dko])/i,                                   // Dell Streak\n            /(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,                                  // Le Pan Tablets\n            /(trinity)[- ]*(t\\d{3}) bui/i,                                      // Trinity Tablets\n            /(gigaset)[- ]+(q\\w{1,9}) bui/i,                                    // Gigaset Tablets\n            /(vodafone) ([\\w ]+)(?:\\)| bui)/i                                   // Vodafone\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(surface duo)/i                                                    // Surface Duo\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [\n            /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i                                 // Fairphone\n            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [\n            /(u304aa)/i                                                         // AT&T\n            ], [MODEL, [VENDOR, 'AT&T'], [TYPE, MOBILE]], [\n            /\\bsie-(\\w*)/i                                                      // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n            /\\b(rct\\w+) b/i                                                     // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n            /\\b(venue[\\d ]{2,7}) b/i                                            // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n            /\\b(q(?:mv|ta)\\w+) b/i                                              // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n            /\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i                       // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'Barnes & Noble'], [TYPE, TABLET]], [\n            /\\b(tm\\d{3}\\w+) b/i\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n            /\\b(k88) b/i                                                        // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n            /\\b(nx\\d{3}j) b/i                                                   // ZTE Nubia\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [\n            /\\b(gen\\d{3}) b.+49h/i                                              // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n            /\\b(zur\\d{3}) b/i                                                   // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n            /\\b((zeki)?tb.*\\b) b/i                                              // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n            /\\b([yr]\\d{2}) b/i,\n            /\\b(dragon[- ]+touch |dt)(\\w{5}) b/i                                // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n            /\\b(ns-?\\w{0,9}) b/i                                                // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n            /\\b((nxa|next)-?\\w{0,9}) b/i                                        // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n            /\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i                  // Voice Xtreme Phones\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [\n            /\\b(lvtel\\-)?(v1[12]) b/i                                           // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n            /\\b(ph-1) /i                                                        // Essential PH-1\n            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [\n            /\\b(v(100md|700na|7011|917g).*\\b) b/i                               // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n            /\\b(trio[-\\w\\. ]+) b/i                                              // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n            /\\btu_(1491) b/i                                                    // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n            /(shield[\\w ]+) b/i                                                 // Nvidia Shield Tablets\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, TABLET]], [\n            /(sprint) (\\w+)/i                                                   // Sprint Phones\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [\n            /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i             // Zebra\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [\n            /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n\n            ///////////////////\n            // SMARTTVS\n            ///////////////////\n\n            /smart-tv.+(samsung)/i                                              // Samsung\n            ], [VENDOR, [TYPE, SMARTTV]], [\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [\n            /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i        // LG SmartTV\n            ], [[VENDOR, LG], [TYPE, SMARTTV]], [\n            /(apple) ?tv/i                                                      // Apple TV\n            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, CHROME+'cast'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /droid.+aft(\\w+)( bui|\\))/i                                         // Fire TV\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [\n            /\\(dtv[\\);].+(aquos)/i,\n            /(aquos-tv[\\w ]+)\\)/i                                               // Sharp\n            ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],[\n            /(bravia[\\w ]+)( bui|\\))/i                                              // Sony\n            ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [\n            /(mitv-\\w{5}) bui/i                                                 // Xiaomi\n            ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [\n            /Hbbtv.*(technisat) (.*);/i                                         // TechniSAT\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,                          // Roku\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i         // HbbTV devices\n            ], [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]], [\n            /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i                   // SmartTV from Unidentified Vendors\n            ], [[TYPE, SMARTTV]], [\n\n            ///////////////////\n            // CONSOLES\n            ///////////////////\n\n            /(ouya)/i,                                                          // Ouya\n            /(nintendo) ([wids3utch]+)/i                                        // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n            /droid.+; (shield) bui/i                                            // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n            /(playstation [345portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [\n            /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i                                // Microsoft Xbox\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n\n            ///////////////////\n            // WEARABLES\n            ///////////////////\n\n            /\\b(sm-[lr]\\d\\d[05][fnuw]?s?)\\b/i                                   // Samsung Galaxy Watch\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, WEARABLE]], [\n            /((pebble))app/i                                                    // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i                              // Apple Watch\n            ], [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]], [\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [\n            /droid.+; (wt63?0{2,3})\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // XR\n            ///////////////////\n\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [\n            /(pico) (4|neo3(?: link|pro)?)/i                                    // Pico\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /; (quest( \\d| pro)?)/i                                             // Oculus Quest\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // EMBEDDED\n            ///////////////////\n\n            /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i                              // Tesla\n            ], [VENDOR, [TYPE, EMBEDDED]], [\n            /(aeobc)\\b/i                                                        // Echo Dot\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]], [\n\n            ////////////////////\n            // MIXED (GENERIC)\n            ///////////////////\n\n            /droid .+?; ([^;]+?)(?: bui|; wv\\)|\\) applew).+? mobile safari/i    // Android Phones from Unidentified Vendors\n            ], [MODEL, [TYPE, MOBILE]], [\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i       // Android Tablets from Unidentified Vendors\n            ], [MODEL, [TYPE, TABLET]], [\n            /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i                      // Unidentifiable Tablet\n            ], [[TYPE, TABLET]], [\n            /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i    // Unidentifiable Mobile\n            ], [[TYPE, MOBILE]], [\n            /(android[-\\w\\. ]{0,9});.+buil/i                                    // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+ edge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, EDGE+'HTML']], [\n\n            /(arkweb)\\/([\\w\\.]+)/i                                              // ArkWeb\n            ], [NAME, VERSION], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna/Servo\n            /ekioh(flow)\\/([\\w\\.]+)/i,                                          // Flow\n            /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,                           // KHTML/Tasman/Links\n            /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,                                      // iCab\n            /\\b(libweb)/i\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i                                     // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows\n            /microsoft (windows) (vista|xp)/i                                   // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i             // Windows Phone\n            ], [NAME, [VERSION, strMapper, windowsVersionMap]], [\n            /windows nt 6\\.2; (arm)/i,                                        // Windows RT\n            /windows[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i,\n            /(?:win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i\n            ], [[VERSION, strMapper, windowsVersionMap], [NAME, 'Windows']], [\n\n            // iOS/macOS\n            /ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,              // iOS\n            /(?:ios;fbsv\\/|iphone.+ios[\\/ ])([\\d\\.]+)/i,\n            /cfnetwork\\/.+darwin/i\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n            /(mac os x) ?([\\w\\. ]*)/i,\n            /(macintosh|mac_powerpc\\b)(?!.+haiku)/i                             // Mac OS\n            ], [[NAME, MAC_OS], [VERSION, /_/g, '.']], [\n\n            // Mobile OSes\n            /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i                    // Android-x86/HarmonyOS\n            ], [VERSION, NAME], [                                               // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS/OpenHarmony\n            /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\\/ ]?([\\w\\.]*)/i,\n            /(blackberry)\\w*\\/([\\w\\.]*)/i,                                      // Blackberry\n            /(tizen|kaios)[\\/ ]([\\w\\.]+)/i,                                     // Tizen/KaiOS\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME, VERSION], [\n            /\\(bb(10);/i                                                        // BlackBerry 10\n            ], [VERSION, [NAME, BLACKBERRY]], [\n            /(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i         // Symbian\n            ], [VERSION, [NAME, 'Symbian']], [\n            /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n            ], [VERSION, [NAME, FIREFOX+' OS']], [\n            /web0s;.+rt(tv)/i,\n            /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i                              // WebOS\n            ], [VERSION, [NAME, 'webOS']], [\n            /watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i                              // watchOS\n            ], [VERSION, [NAME, 'watchOS']], [\n\n            // Google Chromecast\n            /crkey\\/([\\d\\.]+)/i                                                 // Google Chromecast\n            ], [VERSION, [NAME, CHROME+'cast']], [\n            /(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i                                  // Chromium OS\n            ], [[NAME, CHROMIUM_OS], VERSION],[\n\n            // Smart TVs\n            /panasonic;(viera)/i,                                               // Panasonic Viera\n            /(netrange)mmh/i,                                                   // Netrange\n            /(nettv)\\/(\\d+\\.[\\w\\.]+)/i,                                         // NetTV\n\n            // Console\n            /(nintendo|playstation) ([wids345portablevuch]+)/i,                 // Nintendo/Playstation\n            /(xbox); +xbox ([^\\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)\n\n            // Other\n            /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,                            // Joli/Palm\n            /(mint)[\\/\\(\\) ]?(\\w*)/i,                                           // Mint\n            /(mageia|vectorlinux)[; ]/i,                                        // Mageia/VectorLinux\n            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n                                                                                // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n            /(hurd|linux) ?([\\w\\.]*)/i,                                         // Hurd/Linux\n            /(gnu) ?([\\w\\.]*)/i,                                                // GNU\n            /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n            /(haiku) (\\w+)/i                                                    // Haiku\n            ], [NAME, VERSION], [\n            /(sunos) ?([\\w\\.\\d]*)/i                                             // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n            /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,                              // Solaris\n            /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,                                  // AIX\n            /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i, // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX/SerenityOS\n            /(unix) ?([\\w\\.]*)/i                                                // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    var UAParser = function (ua, extensions) {\n\n        if (typeof ua === OBJ_TYPE) {\n            extensions = ua;\n            ua = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(ua, extensions).getResult();\n        }\n\n        var _navigator = (typeof window !== UNDEF_TYPE && window.navigator) ? window.navigator : undefined;\n        var _ua = ua || ((_navigator && _navigator.userAgent) ? _navigator.userAgent : EMPTY);\n        var _uach = (_navigator && _navigator.userAgentData) ? _navigator.userAgentData : undefined;\n        var _rgxmap = extensions ? extend(regexes, extensions) : regexes;\n        var _isSelfNav = _navigator && _navigator.userAgent == _ua;\n\n        this.getBrowser = function () {\n            var _browser = {};\n            _browser[NAME] = undefined;\n            _browser[VERSION] = undefined;\n            rgxMapper.call(_browser, _ua, _rgxmap.browser);\n            _browser[MAJOR] = majorize(_browser[VERSION]);\n            // Brave-specific detection\n            if (_isSelfNav && _navigator && _navigator.brave && typeof _navigator.brave.isBrave == FUNC_TYPE) {\n                _browser[NAME] = 'Brave';\n            }\n            return _browser;\n        };\n        this.getCPU = function () {\n            var _cpu = {};\n            _cpu[ARCHITECTURE] = undefined;\n            rgxMapper.call(_cpu, _ua, _rgxmap.cpu);\n            return _cpu;\n        };\n        this.getDevice = function () {\n            var _device = {};\n            _device[VENDOR] = undefined;\n            _device[MODEL] = undefined;\n            _device[TYPE] = undefined;\n            rgxMapper.call(_device, _ua, _rgxmap.device);\n            if (_isSelfNav && !_device[TYPE] && _uach && _uach.mobile) {\n                _device[TYPE] = MOBILE;\n            }\n            // iPadOS-specific detection: identified as Mac, but has some iOS-only properties\n            if (_isSelfNav && _device[MODEL] == 'Macintosh' && _navigator && typeof _navigator.standalone !== UNDEF_TYPE && _navigator.maxTouchPoints && _navigator.maxTouchPoints > 2) {\n                _device[MODEL] = 'iPad';\n                _device[TYPE] = TABLET;\n            }\n            return _device;\n        };\n        this.getEngine = function () {\n            var _engine = {};\n            _engine[NAME] = undefined;\n            _engine[VERSION] = undefined;\n            rgxMapper.call(_engine, _ua, _rgxmap.engine);\n            return _engine;\n        };\n        this.getOS = function () {\n            var _os = {};\n            _os[NAME] = undefined;\n            _os[VERSION] = undefined;\n            rgxMapper.call(_os, _ua, _rgxmap.os);\n            if (_isSelfNav && !_os[NAME] && _uach && _uach.platform && _uach.platform != 'Unknown') {\n                _os[NAME] = _uach.platform  \n                                    .replace(/chrome os/i, CHROMIUM_OS)\n                                    .replace(/macos/i, MAC_OS);           // backward compatibility\n            }\n            return _os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return _ua;\n        };\n        this.setUA = function (ua) {\n            _ua = (typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH) ? trim(ua, UA_MAX_LENGTH) : ua;\n            return this;\n        };\n        this.setUA(_ua);\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR]);\n    UAParser.CPU = enumerize([ARCHITECTURE]);\n    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n    ///////////\n    // Export\n    //////////\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === FUNC_TYPE && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (typeof window !== UNDEF_TYPE) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);\n    if ($ && !$.ua) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (ua) {\n            parser.setUA(ua);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n","import { unref as n, defineComponent as yn, openBlock as g, createElementBlock as i, mergeProps as x, createCommentVNode as $, createElementVNode as d, mergeDefaults as qn, useSlots as Mn, inject as Nn, ref as c, toRefs as Pn, computed as m, watch as Vn, onBeforeMount as Hn, onMounted as Dn, normalizeClass as k, normalizeStyle as V, renderSlot as O, normalizeProps as R, Fragment as U, createTextVNode as H, toDisplayString as D, createBlock as gn, defineAsyncComponent as hn } from \"vue\";\nimport Wn from \"ua-parser-js\";\n/**\n * @name @wdns/vue-code-block\n * @version 2.3.5\n * @description Vue 3 CodeBlock - Highlight your code with ease using this syntax highlighting component powered by PrismJS or Highlight.js.\n * @author WebDevNerdStuff & Bunnies... lots and lots of bunnies! <webdevnerdstuff@gmail.com> (https://webdevnerdstuff.com)\n * @copyright Copyright 2024, WebDevNerdStuff\n * @homepage https://webdevnerdstuff.github.io/vue-code-block/\n * @repository https://github.com/webdevnerdstuff/vue-code-block\n * @license MIT License\n */\nconst u = \"v-code-block\";\nfunction jn(r) {\n  return r === \"\" || r === \"prism\" ? \"default\" : r;\n}\nfunction cn(r) {\n  return r ? \"highlightjs\" : \"prism\";\n}\nconst W = (r) => {\n  const { str: t, unit: b = \"px\" } = r;\n  if (t != null && t !== \"\" && t !== void 0) return +t ? `${Number(t)}${b}` : String(t);\n}, En = [d(\"path\", { d: \"M224 0c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224zM64 160c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H288v64H64V224h64V160H64z\" }, null, -1)], Ln = [d(\"path\", { d: \"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\" }, null, -1)], An = [d(\"path\", { d: \"M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z\" }, null, -1)], pn = yn({ __name: \"StatusIcons\", props: { icon: { type: String, required: !0 } }, setup: (r) => (t, b) => r.icon === \"copy\" ? (g(), i(\"svg\", x({ key: 0 }, t.$attrs, { viewBox: \"0 0 512 512\", xmlns: \"http://www.w3.org/2000/svg\" }), En, 16)) : r.icon === \"success\" ? (g(), i(\"svg\", x({ key: 1 }, t.$attrs, { viewBox: \"0 0 512 512\", xmlns: \"http://www.w3.org/2000/svg\" }), Ln, 16)) : r.icon === \"failed\" ? (g(), i(\"svg\", x({ key: 2 }, t.$attrs, { viewBox: \"0 0 320 512\", xmlns: \"http://www.w3.org/2000/svg\" }), An, 16)) : $(\"\", !0) });\nfunction Fn(r) {\n  return { name: \"Plain text\", aliases: [\"text\", \"txt\"], disableAutodetect: !0 };\n}\nconst In = { class: \"v-code-block--button-copy\" }, Gn = { class: \"v-code-block--button-run\" }, Jn = { class: \"v-code-block--code\" }, On = [\"textContent\"], Rn = [\"innerHTML\"], Un = ((r, t) => {\n  const b = r.__vccOpts || r;\n  for (const [f, q] of t) b[f] = q;\n  return b;\n})(yn({ __name: \"VCodeBlock\", props: qn({ browserWindow: { type: Boolean }, cssPath: {}, code: {}, codeBlockRadius: {}, copyButton: { type: Boolean }, copyIcons: { type: Boolean }, copyTab: { type: Boolean }, copyFailedText: {}, copyText: {}, copySuccessText: {}, floatingTabs: { type: Boolean }, globalOptions: { type: Boolean }, height: {}, highlightjs: { type: Boolean }, indent: {}, label: {}, lang: {}, languages: {}, maxHeight: {}, persistentCopyButton: { type: Boolean }, prismjs: { type: Boolean }, prismPlugin: { type: Boolean }, runTab: { type: Boolean }, runText: {}, tabGap: {}, tabs: { type: Boolean }, theme: { type: [String, Boolean] } }, { browserWindow: !1, cssPath: void 0, code: \"\", codeBlockRadius: \"0.5rem\", copyButton: !0, copyIcons: !0, copyTab: !0, copyFailedText: \"Copy failed!\", copyText: \"Copy Code\", copySuccessText: \"Copied!\", floatingTabs: !0, height: \"auto\", highlightjs: !1, indent: 2, label: \"\", lang: \"javascript\", maxHeight: \"auto\", persistentCopyButton: !1, prismjs: !1, prismPlugin: !1, runTab: !1, runText: \"Run\", tabGap: \"0.25rem\", tabs: !1, theme: \"neon-bunny\" }), emits: [\"run\", \"update:copy-status\"], setup(r, { emit: t }) {\n  const b = t, f = Mn(), q = Nn(vn, {}), E = r, e = c({ ...E, ...q });\n  let L, A;\n  const _ = c(null), h = c(\"copy\"), T = c(\"\"), F = c(!1), I = c(!1), C = c(!1), mn = c(\"https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/styles\"), Y = c(\"https://cdn.jsdelivr.net/gh/PrismJS/prism@1.29.0/themes\"), dn = c(\"https://cdn.jsdelivr.net/gh/PrismJS/prism-themes@1.9.0/themes\"), M = c(\"\"), G = c(\"\"), j = c(\"\"), { copyButton: kn, copyIcons: fn, copyTab: K, label: Q, runTab: X, tabs: N } = Pn(e.value), _n = m(() => {\n    let a = \"\";\n    return e.value.highlightjs && (a = M.value), e.value.prismjs && e.value.prismPlugin && (a = _.value), a;\n  }), wn = m(() => ((a) => {\n    const { isMobile: l, isPrism: o } = a;\n    return { [`${u}`]: !0, [`${u}-mb-5`]: !0, [`${u}--mobile`]: n(l), [`${u}--prismjs`]: n(o), [`${u}--highlightjs`]: !n(o) };\n  })({ isMobile: C, isPrism: e.value.prismjs })), xn = m(() => ((a) => {\n    const { copyStatus: l, isMobile: o, persistentCopyButton: s } = a;\n    return { [`${u}--code-copy-button`]: !0, [`${u}--code-copy-button-mobile`]: n(o), [`${u}--code-copy-button-persist`]: n(s), [`${u}--code-copy-button-status-${n(l)}`]: !0 };\n  })({ copyStatus: h, isMobile: C, persistentCopyButton: e.value.persistentCopyButton })), Z = m(() => ((a) => {\n    const { copyStatus: l, highlightjs: o, useTheme: s } = a, y = cn(n(o)), v = jn(n(s));\n    return { [`${u}--button-copy-icon-status-${n(l)}`]: !0, [`${u}--me-1`]: !0, [`${u}--tab-${y}-${v}-icon-status-${n(l)}`]: !0, [`${u}--tab-${y}-${v}-icon`]: !0 };\n  })({ copyStatus: h, highlightjs: e.value.highlightjs, useTheme: j })), Tn = m(() => ((a) => {\n    const { isMobile: l } = a;\n    return { [`${u}--label`]: !0, [`${u}--label-mobile`]: n(l) };\n  })({ isMobile: C })), nn = m(() => ((a) => {\n    const { highlightjs: l, useTheme: o } = a, s = cn(n(l)), y = jn(n(o));\n    return { [`${u}--tab-${y}`]: !0, [`${u}--tab-${s}-${y}`]: !0 };\n  })({ highlightjs: e.value.highlightjs, useTheme: j })), en = m(() => ((a) => {\n    const { isLoading: l, useTheme: o } = a, s = { width: n(o) === \"coy\" && n(l) === !1 ? \"100%\" : \"\" };\n    return n(o) === \"coy\" && (s.padding = \"1em\"), s;\n  })({ isLoading: I, useTheme: j })), $n = m(() => ((a) => {\n    const { floatingTabs: l, tabGap: o } = a;\n    return { bottom: l ? \"1px\" : \"0\", gap: W({ str: n(o) }) || \"0px\" };\n  })({ floatingTabs: e.value.floatingTabs, tabGap: e.value.tabGap })), Cn = m(() => ((a) => {\n    const { copyTab: l, height: o, maxHeight: s, radius: y, runTab: v, tabs: z, useTheme: S } = a, p = n(y);\n    let w = `${p} 0 ${p} ${p} !important`;\n    return n(z) && (n(l) || n(v)) || (w = p), { borderRadius: w, display: n(S) !== \"funky\" ? \"flex\" : \"block\", height: W({ str: n(o) }), maxHeight: W({ str: n(s) }), overflow: \"auto\" };\n  })({ copyTab: K.value, height: e.value.height, maxHeight: e.value.maxHeight, radius: e.value.codeBlockRadius, runTab: X.value, tabs: N.value, useTheme: j })), zn = m(() => ((a) => {\n    const { tabGap: l } = a;\n    return { gap: W({ str: n(l) }) || \"0px\" };\n  })({ tabGap: e.value.tabGap }));\n  function an() {\n    if (!e.value.prismjs && !e.value.highlightjs) throw new Error(\"[vue-code-block]: You must set either the prismjs or highlightjs props.\");\n    if (e.value.prismjs && e.value.highlightjs) throw new Error(\"[vue-code-block]: You cannot have both prismjs and highlightjs props set at the same time.\");\n    if (e.value.highlightjs && e.value.prismPlugin) throw new Error(\"[vue-code-block]: Highlight.js does not support PrismJS plugins. Unexpected results may occur. Remove the `prism-plugin` prop from the vue-code-block component.\");\n  }\n  function Sn() {\n    if (e.value.lang === \"json\") {\n      const a = e.value.code.toString();\n      return function(l) {\n        try {\n          return JSON.parse(l), !0;\n        } catch {\n          return !1;\n        }\n      }(a) ? void (_.value = JSON.stringify(JSON.parse(a), null, e.value.indent)) : (e.value.lang = \"text\", void (_.value = a));\n    }\n    _.value = e.value.code;\n  }\n  function P() {\n    F.value || (F.value = !0, navigator.clipboard.writeText(_.value).then(() => {\n      T.value = e.value.copySuccessText, h.value = \"success\", b(\"update:copy-status\", h.value);\n    }, (a) => {\n      T.value = e.value.copyFailedText, h.value = \"failed\", b(\"update:copy-status\", h.value), console.error(\"Copy to clipboard failed: \", a);\n    }), setTimeout(() => {\n      T.value = e.value.copyText, h.value = \"copy\", b(\"update:copy-status\", h.value), F.value = !1;\n    }, 3e3));\n  }\n  function ln() {\n    let a = \"\";\n    const l = e.value.highlightjs ? \"highlightjs\" : \"prism\", o = document.getElementsByTagName(\"head\")[0], s = document.createElement(\"style\"), y = document.body.getAttribute(\"data-v-code-block-theme\");\n    let v = `v-code-block--theme-${j.value}-${l}`, z = !0, S = !0, p = \"\", w = \"\";\n    if (v = on(l, v), y === j.value || y === v || typeof j.value == \"boolean\") return;\n    switch (document.body.setAttribute(\"data-v-code-block-theme\", v), s.setAttribute(\"type\", \"text/css\"), s.setAttribute(\"data-theme-id\", v), s.setAttribute(\"data-theme\", \"v-code-block--theme-sheet\"), j.value) {\n      case \"neon-bunny\":\n        a = `/**\n\t* MIT License\n\t* Copyright (c) 2023 WebDevNerdStuff\n\t* WebDevNerdStuff Neon Bunny\n\t* VSCode Theme: https://marketplace.visualstudio.com/items?itemName=WebDevNerdStuff.neon-bunny\n\t*/\n\t:root{--neon-bunny-blue-light: #2492ff;--neon-bunny-blue: #0b93ff;--neon-bunny-gray-lighter: #aaa;--neon-bunny-gray: #7f817e;--neon-bunny-green-darker-darker: #008b05;--neon-bunny-green-darker: #2bb71d;--neon-bunny-green-light: #2bb71d;--neon-bunny-green-neon: #0aff04;--neon-bunny-green: #00d205;--neon-bunny-lime-lighter: #c3e88d;--neon-bunny-lime: #b2ff02;--neon-bunny-magenta: #df00df;--neon-bunny-neon-green: #00ff00;--neon-bunny-orange: #e58100;--neon-bunny-peach-darker: #ffb46a;--neon-bunny-peach-light: #ffe4a6;--neon-bunny-peach: #ffcb6b;--neon-bunny-pink: #ff1190;--neon-bunny-purple-light-dim: #c792ea;--neon-bunny-purple-light: #d285cc;--neon-bunny-purple: #ea03ff;--neon-bunny-red: #ff3229;--neon-bunny-salmon: #ff6f5b;--neon-bunny-teal: #80fcff;--neon-bunny-white: #fff;--neon-bunny-yellow: #fef611;--neon-bunny-atrule: var(--neon-bunny-peach);--neon-bunny-attr-name: var(--neon-bunny-purple-light-dim);--neon-bunny-attr-value: var(--neon-bunny-peach);--neon-bunny-boolean: var(--neon-bunny-blue-light);--neon-bunny-builtin: var(--neon-bunny-purple);--neon-bunny-cdata: var(--neon-bunny-gray);--neon-bunny-char: var(--neon-bunny-pink);--neon-bunny-class-name: var(--neon-bunny-peach);--neon-bunny-comment: var(--neon-bunny-gray);--neon-bunny-constant: var(--neon-bunny-green-darker);--neon-bunny-deleted: var(--neon-bunny-red);--neon-bunny-entity: var(--neon-bunny-peach);--neon-bunny-function: var(--neon-bunny-green-neon);--neon-bunny-important: var(--neon-bunny-red);--neon-bunny-inserted: var(--neon-bunny-lime-lighter);--neon-bunny-keyword: var(--neon-bunny-blue);--neon-bunny-namespace: var(--neon-bunny-peach);--neon-bunny-number: var(--neon-bunny-white);--neon-bunny-operator: var(--neon-bunny-blue-light);--neon-bunny-prolog: var(--neon-bunny-gray);--neon-bunny-property: var(--neon-bunny-pink);--neon-bunny-punctuation: var(--neon-bunny-blue);--neon-bunny-regex: var(--neon-bunny-peach-light);--neon-bunny-string: var(--neon-bunny-green-darker);--neon-bunny-symbol: var(--neon-bunny-pink);--neon-bunny-tag: var(--neon-bunny-blue-light);--neon-bunny-url: var(--neon-bunny-orange);--neon-bunny-variable: var(--neon-bunny-green-darker);--neon-bunny-html-attr-name: var(--neon-bunny-green);--neon-bunny-html-attr-value-punctuation: var(--neon-bunny-peach-darker);--neon-bunny-html-attr-value: var(--neon-bunny-peach-darker);--neon-bunny-css-atrule-rule: var(--neon-bunny-blue);--neon-bunny-css-atrule: var(--neon-bunny-white);--neon-bunny-css-function: var(--neon-bunny-orange);--neon-bunny-css-property: var(--neon-bunny-pink);--neon-bunny-css-punctuation: var(--neon-bunny-white);--neon-bunny-css-selector: var(--neon-bunny-lime);--neon-bunny-css-string: var(--neon-bunny-green-light);--neon-bunny-css: var(--neon-bunny-purple-light-dim);--neon-bunny-js-keyword: var(--neon-bunny-blue);--neon-bunny-js-literal-property: var(--neon-bunny-neon-green);--neon-bunny-js-operator: var(--neon-bunny-blue-light);--neon-bunny-js-punctuation: var(--neon-bunny-white);--neon-bunny-js-string: var(--neon-bunny-green-darker-darker);--neon-bunny-js-template-string-string: var(--neon-bunny-green-darker-darker);--neon-bunny-js: var(--neon-bunny-green-darker);--neon-bunny-php-boolean: var(--neon-bunny-blue);--neon-bunny-php-class-name-definition-class-name: var(--neon-bunny-magenta);--neon-bunny-php-class-name-return-type: var(--neon-bunny-gray-lighter);--neon-bunny-php-class-name: var(--neon-bunny-teal);--neon-bunny-php-double-quote-string: var(--neon-bunny-salmon);--neon-bunny-php-function: var(--neon-bunny-green-neon);--neon-bunny-php-keyword-type-hint: var(--neon-bunny-gray-lighter);--neon-bunny-php-keyword: var(--neon-bunny-blue);--neon-bunny-php-operator: var(--neon-bunny-purple);--neon-bunny-php-package: var(--neon-bunny-peach);--neon-bunny-php-property: var(--neon-bunny-purple-light);--neon-bunny-php-punctuation: var(--neon-bunny-white);--neon-bunny-php-single-quote-string: var(--neon-bunny-yellow);--neon-bunny-php-variable: var(--neon-bunny-purple-light)}code[class*=language-],pre[class*=language-]{-moz-hyphens:none;-moz-tab-size:4;-ms-hyphens:none;-o-tab-size:4;-webkit-hyphens:none;color:var(--neon-bunny-white);font-family:Consolas,Monaco,\"Andale Mono\",\"Ubuntu Mono\",monospace;font-size:1em;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal;word-wrap:normal}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{background:rgba(29,59,83,.99);text-shadow:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:rgba(255,255,255,.0823529412);text-shadow:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{background:#000;color:#fff;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-]{background:#000;color:#fff;border-radius:.3em;padding:.1em;white-space:normal}.token.atrule{color:var(--neon-bunny-atrule)}.token.attr-name{color:var(--neon-bunny-attr-name)}.token.attr-value{color:var(--neon-bunny-attr-value)}.token.bold{font-weight:bold}.token.boolean{color:var(--neon-bunny-boolean)}.token.builtin{color:var(--neon-bunny-builtin)}.token.cdata{color:var(--neon-bunny-cdata);font-style:italic}.token.char{color:var(--neon-bunny-char)}.token.class-name{color:var(--neon-bunny-class-name)}.token.comment{color:var(--neon-bunny-comment);font-style:italic}.token.constant{color:var(--neon-bunny-constant)}.token.deleted{color:var(--neon-bunny-deleted)}.token.entity{color:var(--neon-bunny-entity)}.token.function{color:var(--neon-bunny-function)}.token.important{color:var(--neon-bunny-important);font-style:italic}.token.inserted{color:var(--neon-bunny-inserted)}.token.italic{font-style:italic}.token.keyword{color:var(--neon-bunny-keyword)}.token.number{color:var(--neon-bunny-number)}.token.operator{color:var(--neon-bunny-operator)}.token.prolog{color:var(--neon-bunny-prolog);font-style:italic}.token.property{color:var(--neon-bunny-property)}.token.punctuation{color:var(--neon-bunny-punctuation)}.token.regex{color:var(--neon-bunny-regex)}.token.string{color:var(--neon-bunny-string)}.token.symbol{color:var(--neon-bunny-symbol)}.token.tag{color:var(--neon-bunny-tag)}.token.url{color:var(--neon-bunny-url);text-decoration:underline}.token.variable{color:var(--neon-bunny-variable)}.namespace{color:var(--neon-bunny-namespace)}.language-html .token.attr-name{color:var(--neon-bunny-html-attr-name)}.language-html .token.attr-value{color:var(--neon-bunny-html-attr-value)}.language-html .token.attr-value .token.punctuation{color:var(--neon-bunny-html-attr-value-punctuation)}.language-css{color:var(--neon-bunny-css) !important}.language-css .token.atrule{color:var(--neon-bunny-css-atrule)}.language-css .token.atrule .token.rule{color:var(--neon-bunny-css-atrule-rule)}.language-css .token.function{color:var(--neon-bunny-css-function)}.language-css .token.property{color:var(--neon-bunny-css-property)}.language-css .token.punctuation{color:var(--neon-bunny-css-punctuation)}.language-css .token.selector{color:var(--neon-bunny-css-selector)}.language-css .token.string{color:var(--neon-bunny-css-string);font-style:italic}.style .token.string{color:var(--neon-bunny-css-string);font-style:italic}.language-javascript,.language-js{color:var(--neon-bunny-js) !important;font-style:italic}.language-javascript span,.language-js span{font-style:normal}.language-javascript .token.keyword,.language-js .token.keyword{color:var(--neon-bunny-js-keyword)}.language-javascript .token.literal-property.property,.language-js .token.literal-property.property{color:var(--neon-bunny-js-literal-property);font-style:italic}.language-javascript .token.operator,.language-js .token.operator{color:var(--neon-bunny-js-operator);font-style:italic}.language-javascript .token.punctuation,.language-js .token.punctuation{color:var(--neon-bunny-js-punctuation)}.language-javascript .token.template-string .token.string,.language-js .token.template-string .token.string{color:var(--neon-bunny-js-template-string-string)}.language-php .token.boolean{color:var(--neon-bunny-boolean)}.language-php .token.class-name{color:var(--neon-bunny-php-class-name)}.language-php .token.class-name-definition.class-name{color:var(--neon-bunny-php-class-name-definition-class-name)}.language-php .token.class-name.return-type{color:var(--neon-bunny-php-class-name-return-type);font-style:italic}.language-php .token.function{color:var(--neon-bunny-php-function)}.language-php .token.keyword{color:var(--neon-bunny-php-keyword)}.language-php .token.keyword.type-hint{color:var(--neon-bunny-php-keyword-type-hint);font-style:italic}.language-php .token.operator{color:var(--neon-bunny-php-operator)}.language-php .token.package{color:var(--neon-bunny-php-package)}.language-php .token.property{color:var(--neon-bunny-php-property)}.language-php .token.punctuation{color:var(--neon-bunny-php-punctuation)}.language-php .token.string.double-quoted-string{color:var(--neon-bunny-php-double-quote-string)}.language-php .token.string.single-quoted-string{color:var(--neon-bunny-php-single-quote-string)}.language-php .token.variable{color:var(--neon-bunny-php-variable)}\n`, S = !1, z = !1, l === \"highlightjs\" && (a = `/**\n\t* MIT License\n\t* Copyright (c) 2023 WebDevNerdStuff\n\t* WebDevNerdStuff Neon Bunny\n\t* VSCode Theme: https://marketplace.visualstudio.com/items?itemName=WebDevNerdStuff.neon-bunny\n\t*/\n\t:root{--neon-bunny-blue-darker: #276AFF;--neon-bunny-blue-light-faded: #a5a8ff;--neon-bunny-blue-light: #2492ff;--neon-bunny-blue: #0b93ff;--neon-bunny-gray-lighter: #aaa;--neon-bunny-gray: #7f817e;--neon-bunny-green-darker-darker: #008b05;--neon-bunny-green-darker: #2bb71d;--neon-bunny-green-light: #2bb71d;--neon-bunny-green-neon: #0aff04;--neon-bunny-green: #00d205;--neon-bunny-lime-lighter: #c3e88d;--neon-bunny-lime: #b2ff02;--neon-bunny-magenta-neon: #FF25D9;--neon-bunny-magenta: #df00df;--neon-bunny-neon-green: #00ff00;--neon-bunny-orange-lighter: #ff8d04;--neon-bunny-orange: #e58100;--neon-bunny-peach-darker: #ffb46a;--neon-bunny-peach-light: #ffe4a6;--neon-bunny-peach: #ffcb6b;--neon-bunny-pink: #ff1190;--neon-bunny-purple-light-dim: #c792ea;--neon-bunny-purple-light: #d285cc;--neon-bunny-purple: #ea03ff;--neon-bunny-red: #ff3229;--neon-bunny-salmon: #ff6f5b;--neon-bunny-teal: #80fcff;--neon-bunny-white: #fff;--neon-bunny-yellow-light-faded: #ffe3b8;--neon-bunny-yellow: #fef611;--neon-bunny-builtin: var(--neon-bunny-purple);--neon-bunny-char: var(--neon-bunny-pink);--neon-bunny-class: var(--neon-bunny-magenta);--neon-bunny-comment: var(--neon-bunny-gray);--neon-bunny-doctag: var(--neon-bunny-blue-light);--neon-bunny-keyword: var(--neon-bunny-blue);--neon-bunny-literal: var(--neon-bunny-blue-light);--neon-bunny-number: var(--neon-bunny-white);--neon-bunny-operator: var(--neon-bunny-blue-light);--neon-bunny-params: var(--neon-bunny-green-darker);--neon-bunny-property: var(--neon-bunny-blue-light-faded);--neon-bunny-punctuation: var(--neon-bunny-blue);--neon-bunny-regex: var(--neon-bunny-peach-light);--neon-bunny-string: var(--neon-bunny-peach-darker);--neon-bunny-subst: var(--neon-bunny-green-darker);--neon-bunny-symbol: var(--neon-bunny-pink);--neon-bunny-title-class-inherited: var(--neon-bunny-green-darker);--neon-bunny-title-class: var(--neon-bunny-green-neon);--neon-bunny-title-function-invoke: var(--neon-bunny-green-darker);--neon-bunny-title-function: var(--neon-bunny-green-neon);--neon-bunny-title: var(--neon-bunny-green-darker);--neon-bunny-type: var(--neon-bunny-pink);--neon-bunny-variable-constant: var(--neon-bunny-green-darker);--neon-bunny-variable-language: var(--neon-bunny-blue-light);--neon-bunny-variable: var(--neon-bunny-green-darker);--neon-bunny-meta-keyword: var(--neon-bunny-green);--neon-bunny-meta-prompt: var(--neon-bunny-blue-light);--neon-bunny-meta-string: var(--neon-bunny-blue-light);--neon-bunny-meta: var(--neon-bunny-blue-light);--neon-bunny-attr: var(--neon-bunny-green);--neon-bunny-attribute: var(--neon-bunny-green);--neon-bunny-name: var(--neon-bunny-blue-light);--neon-bunny-section: var(--neon-bunny-green);--neon-bunny-tag-attr: var(--neon-bunny-blue-light);--neon-bunny-tag: var(--neon-bunny-blue-light);--neon-bunny-bullet: var(--neon-bunny-white);--neon-bunny-code: var(--neon-bunny-white);--neon-bunny-emphasis: var(--neon-bunny-white);--neon-bunny-formula: var(--neon-bunny-white);--neon-bunny-link: var(--neon-bunny-orange);--neon-bunny-quote: var(--neon-bunny-white);--neon-bunny-strong: var(--neon-bunny-white);--neon-bunny-css-selector-id: var(--neon-bunny-green);--neon-bunny-selector-attr: var(--neon-bunny-purple-light-dim);--neon-bunny-selector-class: var(--neon-bunny-lime);--neon-bunny-selector-id: var(--neon-bunny-lime);--neon-bunny-selector-pseudo: var(--neon-bunny-purple-light-dim);--neon-bunny-selector-tag: var(--neon-bunny-white);--neon-bunny-selector: var(--neon-bunny-lime);--neon-bunny-addition: var(--neon-bunny-green-neon);--neon-bunny-deletion: var(--neon-bunny-red);--neon-bunny-html-tag-attr: var(--neon-bunny-green);--neon-bunny-css: var(--neon-bunny-purple-light-dim);--neon-bunny-css-builtin: var(--neon-bunny-orange);--neon-bunny-css-meta: var(--neon-bunny-red);--neon-bunny-css-attribute: var(--neon-bunny-pink);--neon-bunny-json-punctuation: var(--neon-bunny-white);--neon-bunny-js: var(--neon-bunny-green-darker);--neon-bunny-js-params-variable-language: var(--neon-bunny-green-darker);--neon-bunny-js-title-class: var(--neon-bunny-orange-lighter);--neon-bunny-js-variable-language: var(--neon-bunny-pink);--neon-bunny-php: var(--neon-bunny-blue-light);--neon-bunny-php-class-keyword: var(--neon-bunny-blue-darker);--neon-bunny-php-class-title: var(--neon-bunny-magenta);--neon-bunny-php-function-title: var(--neon-bunny-green-neon);--neon-bunny-php-keyword: var(--neon-bunny-blue-darker);--neon-bunny-php-params-variable: var(--neon-bunny-green-darker);--neon-bunny-php-params: var(--neon-bunny-gray-lighter);--neon-bunny-php-string: var(--neon-bunny-yellow);--neon-bunny-php-title-class: var(--neon-bunny-gray-lighter);--neon-bunny-php-title-function-invoke: var(--neon-bunny-green-neon);--neon-bunny-php-title: var(--neon-bunny-peach);--neon-bunny-php-variable: var(--neon-bunny-purple-light);--neon-bunny-php-meta: var(--neon-bunny-red)}pre code.hljs{display:block;overflow-x:auto;padding:1em}code[class*=language-],pre[class*=language-]{-moz-hyphens:none;-moz-tab-size:4;-ms-hyphens:none;-o-tab-size:4;-webkit-hyphens:none;color:var(--neon-bunny-white);font-family:Consolas,Monaco,\"Andale Mono\",\"Ubuntu Mono\",monospace;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal;word-wrap:normal}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{background:rgba(29,59,83,.99);text-shadow:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:rgba(255,255,255,.0823529412);text-shadow:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{background:#000;color:#fff;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-]{background:#000;color:#fff;border-radius:.3em;padding:.1em;white-space:normal}.hljs-built_in{color:var(--neon-bunny-builtin)}.hljs-char{color:var(--neon-bunny-char)}.hljs-comment{color:var(--neon-bunny-comment);font-style:italic}.hljs-doctag{color:var(--neon-bunny-doctag)}.hljs-keyword{color:var(--neon-bunny-keyword)}.hljs-literal{color:var(--neon-bunny-literal)}.hljs-number{color:var(--neon-bunny-number)}.hljs-operator{color:var(--neon-bunny-operator)}.hljs-params{color:var(--neon-bunny-params);font-style:italic}.hljs-property{color:var(--neon-bunny-property)}.hljs-punctuation{color:var(--neon-bunny-punctuation)}.hljs-regexp{color:var(--neon-bunny-regex)}.hljs-string{color:var(--neon-bunny-string)}.hljs-subst{color:var(--neon-bunny-subst)}.hljs-symbol{color:var(--neon-bunny-symbol)}.hljs-title{color:var(--neon-bunny-title)}.hljs-title.class_{color:var(--neon-bunny-title-class)}.hljs-title.class_.inherited__{color:var(--neon-bunny-title-class-inherited)}.hljs-title.function_{color:var(--neon-bunny-title-function)}.hljs-title.function_.invoke__{color:var(--neon-bunny-title-function-invoke)}.hljs-type{color:var(--neon-bunny-type)}.hljs-variable{color:var(--neon-bunny-variable)}.hljs-variable.constant_{color:var(--neon-bunny-variable-constant)}.hljs-variable.language_{color:var(--neon-bunny-variable-language)}.hljs-meta{color:var(--neon-bunny-meta)}.hljs-meta.prompt_{color:var(--neon-bunny-meta-prompt)}.hljs-meta.keyword_{color:var(--neon-bunny-meta-keyword)}.hljs-meta.string_{color:var(--neon-bunny-meta-string)}.hljs-attr{color:var(--neon-bunny-attr)}.hljs-attribute{color:var(--neon-bunny-attribute)}.hljs-name{color:var(--neon-bunny-name)}.hljs-section{color:var(--neon-bunny-section)}.hljs-tag{color:var(--neon-bunny-tag)}.hljs-tag .hljs-attr{color:var(--neon-bunny-tag-attr)}.hljs-bullet{color:var(--neon-bunny-bullet)}.hljs-code{color:var(--neon-bunny-code)}.hljs-emphasis{color:var(--neon-bunny-emphasis);font-style:italic}.hljs-formula{color:var(--neon-bunny-formula)}.hljs-link{color:var(--neon-bunny-link)}.hljs-quote{color:var(--neon-bunny-quote)}.hljs-strong{color:var(--neon-bunny-strong);font-weight:bold}.hljs-selector{color:var(--neon-bunny-selector)}.hljs-selector-attr{color:var(--neon-bunny-selector-attr)}.hljs-selector-class{color:var(--neon-bunny-selector-class)}.hljs-selector-id{color:var(--neon-bunny-selector-id)}.hljs-selector-pseudo{color:var(--neon-bunny-selector-pseudo)}.hljs-selector-tag{color:var(--neon-bunny-selector-tag)}.hljs-addition{color:var(--neon-bunny-addition)}.hljs-deletion{color:var(--neon-bunny-deletion)}.hljs.language-html .hljs-tag .hljs-attr,.hljs .language-html .hljs-tag .hljs-attr{color:var(--neon-bunny-html-tag-attr)}.hljs.language-css,.hljs .language-css{color:var(--neon-bunny-css)}.hljs.language-css .hljs-built_in,.hljs .language-css .hljs-built_in{color:var(--neon-bunny-css-builtin)}.hljs.language-css .hljs-char,.hljs .language-css .hljs-char{color:var(--neon-bunny-char)}.hljs.language-css .hljs-comment,.hljs .language-css .hljs-comment{color:var(--neon-bunny-comment)}.hljs.language-css .hljs-doctag,.hljs .language-css .hljs-doctag{color:var(--neon-bunny-doctag)}.hljs.language-css .hljs-keyword,.hljs .language-css .hljs-keyword{color:var(--neon-bunny-keyword)}.hljs.language-css .hljs-literal,.hljs .language-css .hljs-literal{color:var(--neon-bunny-literal)}.hljs.language-css .hljs-number,.hljs .language-css .hljs-number{color:var(--neon-bunny-number)}.hljs.language-css .hljs-operator,.hljs .language-css .hljs-operator{color:var(--neon-bunny-operator)}.hljs.language-css .hljs-params,.hljs .language-css .hljs-params{color:var(--neon-bunny-params);font-style:italic}.hljs.language-css .hljs-property,.hljs .language-css .hljs-property{color:var(--neon-bunny-property)}.hljs.language-css .hljs-punctuation,.hljs .language-css .hljs-punctuation{color:var(--neon-bunny-punctuation)}.hljs.language-css .hljs-regexp,.hljs .language-css .hljs-regexp{color:var(--neon-bunny-regex)}.hljs.language-css .hljs-string,.hljs .language-css .hljs-string{color:var(--neon-bunny-string)}.hljs.language-css .hljs-subst,.hljs .language-css .hljs-subst{color:var(--neon-bunny-subst)}.hljs.language-css .hljs-symbol,.hljs .language-css .hljs-symbol{color:var(--neon-bunny-symbol)}.hljs.language-css .hljs-title,.hljs .language-css .hljs-title{color:var(--neon-bunny-title)}.hljs.language-css .hljs-title.class_,.hljs .language-css .hljs-title.class_{color:var(--neon-bunny-title-class)}.hljs.language-css .hljs-title.class_.inherited__,.hljs .language-css .hljs-title.class_.inherited__{color:var(--neon-bunny-title-class-inherited)}.hljs.language-css .hljs-title.function_,.hljs .language-css .hljs-title.function_{color:var(--neon-bunny-title-function)}.hljs.language-css .hljs-title.function_.invoke__,.hljs .language-css .hljs-title.function_.invoke__{color:var(--neon-bunny-title-function-invoke)}.hljs.language-css .hljs-type,.hljs .language-css .hljs-type{color:var(--neon-bunny-type)}.hljs.language-css .hljs-variable,.hljs .language-css .hljs-variable{color:var(--neon-bunny-variable)}.hljs.language-css .hljs-variable.constant_,.hljs .language-css .hljs-variable.constant_{color:var(--neon-bunny-variable-constant)}.hljs.language-css .hljs-variable.language_,.hljs .language-css .hljs-variable.language_{color:var(--neon-bunny-variable-language)}.hljs.language-css .hljs-meta,.hljs .language-css .hljs-meta{color:var(--neon-bunny-css-meta)}.hljs.language-css .hljs-meta.prompt_,.hljs .language-css .hljs-meta.prompt_{color:var(--neon-bunny-meta-prompt)}.hljs.language-css .hljs-meta.keyword_,.hljs .language-css .hljs-meta.keyword_{color:var(--neon-bunny-meta-keyword)}.hljs.language-css .hljs-meta.string_,.hljs .language-css .hljs-meta.string_{color:var(--neon-bunny-meta-string)}.hljs.language-css .hljs-attr,.hljs .language-css .hljs-attr{color:var(--neon-bunny-attr)}.hljs.language-css .hljs-attribute,.hljs .language-css .hljs-attribute{color:var(--neon-bunny-css-attribute)}.hljs.language-css .hljs-name,.hljs .language-css .hljs-name{color:var(--neon-bunny-name)}.hljs.language-css .hljs-section,.hljs .language-css .hljs-section{color:var(--neon-bunny-section)}.hljs.language-css .hljs-tag,.hljs .language-css .hljs-tag{color:var(--neon-bunny-tag)}.hljs.language-css .hljs-bullet,.hljs .language-css .hljs-bullet{color:var(--neon-bunny-bullet)}.hljs.language-css .hljs-code,.hljs .language-css .hljs-code{color:var(--neon-bunny-code)}.hljs.language-css .hljs-emphasis,.hljs .language-css .hljs-emphasis{color:var(--neon-bunny-emphasis);font-style:italic}.hljs.language-css .hljs-formula,.hljs .language-css .hljs-formula{color:var(--neon-bunny-formula)}.hljs.language-css .hljs-link,.hljs .language-css .hljs-link{color:var(--neon-bunny-link)}.hljs.language-css .hljs-quote,.hljs .language-css .hljs-quote{color:var(--neon-bunny-quote)}.hljs.language-css .hljs-strong,.hljs .language-css .hljs-strong{color:var(--neon-bunny-strong);font-weight:bold}.hljs.language-css .hljs-selector,.hljs .language-css .hljs-selector{color:var(--neon-bunny-selector)}.hljs.language-css .hljs-selector-attr,.hljs .language-css .hljs-selector-attr{color:var(--neon-bunny-selector-attr)}.hljs.language-css .hljs-selector-class,.hljs .language-css .hljs-selector-class{color:var(--neon-bunny-selector-class)}.hljs.language-css .hljs-selector-id,.hljs .language-css .hljs-selector-id{color:var(--neon-bunny-css-selector-id)}.hljs.language-css .hljs-selector-pseudo,.hljs .language-css .hljs-selector-pseudo{color:var(--neon-bunny-selector-pseudo)}.hljs.language-css .hljs-selector-tag,.hljs .language-css .hljs-selector-tag{color:var(--neon-bunny-selector-tag)}.hljs.language-css .hljs-addition,.hljs .language-css .hljs-addition{color:var(--neon-bunny-addition)}.hljs.language-css .hljs-deletion,.hljs .language-css .hljs-deletion{color:var(--neon-bunny-deletion)}.hljs.language-json .hljs-punctuation,.hljs .language-json .hljs-punctuation{color:var(--neon-bunny-json-punctuation)}.hljs.language-javascript,.hljs.language-js,.hljs .language-javascript,.hljs .language-js{color:var(--neon-bunny-js)}.hljs.language-javascript .hljs-built_in,.hljs.language-js .hljs-built_in,.hljs .language-javascript .hljs-built_in,.hljs .language-js .hljs-built_in{color:var(--neon-bunny-builtin)}.hljs.language-javascript .hljs-char,.hljs.language-js .hljs-char,.hljs .language-javascript .hljs-char,.hljs .language-js .hljs-char{color:var(--neon-bunny-char)}.hljs.language-javascript .hljs-comment,.hljs.language-js .hljs-comment,.hljs .language-javascript .hljs-comment,.hljs .language-js .hljs-comment{color:var(--neon-bunny-comment)}.hljs.language-javascript .hljs-doctag,.hljs.language-js .hljs-doctag,.hljs .language-javascript .hljs-doctag,.hljs .language-js .hljs-doctag{color:var(--neon-bunny-doctag)}.hljs.language-javascript .hljs-keyword,.hljs.language-js .hljs-keyword,.hljs .language-javascript .hljs-keyword,.hljs .language-js .hljs-keyword{color:var(--neon-bunny-keyword)}.hljs.language-javascript .hljs-literal,.hljs.language-js .hljs-literal,.hljs .language-javascript .hljs-literal,.hljs .language-js .hljs-literal{color:var(--neon-bunny-literal)}.hljs.language-javascript .hljs-number,.hljs.language-js .hljs-number,.hljs .language-javascript .hljs-number,.hljs .language-js .hljs-number{color:var(--neon-bunny-number)}.hljs.language-javascript .hljs-operator,.hljs.language-js .hljs-operator,.hljs .language-javascript .hljs-operator,.hljs .language-js .hljs-operator{color:var(--neon-bunny-operator)}.hljs.language-javascript .hljs-params,.hljs.language-js .hljs-params,.hljs .language-javascript .hljs-params,.hljs .language-js .hljs-params{color:var(--neon-bunny-params);font-style:italic}.hljs.language-javascript .hljs-params .hljs-variable.language_,.hljs.language-js .hljs-params .hljs-variable.language_,.hljs .language-javascript .hljs-params .hljs-variable.language_,.hljs .language-js .hljs-params .hljs-variable.language_{color:var(--neon-bunny-js-params-variable-language)}.hljs.language-javascript .hljs-property,.hljs.language-js .hljs-property,.hljs .language-javascript .hljs-property,.hljs .language-js .hljs-property{color:var(--neon-bunny-property)}.hljs.language-javascript .hljs-punctuation,.hljs.language-js .hljs-punctuation,.hljs .language-javascript .hljs-punctuation,.hljs .language-js .hljs-punctuation{color:var(--neon-bunny-punctuation)}.hljs.language-javascript .hljs-regexp,.hljs.language-js .hljs-regexp,.hljs .language-javascript .hljs-regexp,.hljs .language-js .hljs-regexp{color:var(--neon-bunny-regex)}.hljs.language-javascript .hljs-string,.hljs.language-js .hljs-string,.hljs .language-javascript .hljs-string,.hljs .language-js .hljs-string{color:var(--neon-bunny-string)}.hljs.language-javascript .hljs-subst,.hljs.language-js .hljs-subst,.hljs .language-javascript .hljs-subst,.hljs .language-js .hljs-subst{color:var(--neon-bunny-subst)}.hljs.language-javascript .hljs-symbol,.hljs.language-js .hljs-symbol,.hljs .language-javascript .hljs-symbol,.hljs .language-js .hljs-symbol{color:var(--neon-bunny-symbol)}.hljs.language-javascript .hljs-title,.hljs.language-js .hljs-title,.hljs .language-javascript .hljs-title,.hljs .language-js .hljs-title{color:var(--neon-bunny-title)}.hljs.language-javascript .hljs-title.class_,.hljs.language-js .hljs-title.class_,.hljs .language-javascript .hljs-title.class_,.hljs .language-js .hljs-title.class_{color:var(--neon-bunny-js-title-class)}.hljs.language-javascript .hljs-title.class_.inherited__,.hljs.language-js .hljs-title.class_.inherited__,.hljs .language-javascript .hljs-title.class_.inherited__,.hljs .language-js .hljs-title.class_.inherited__{color:var(--neon-bunny-title-class-inherited)}.hljs.language-javascript .hljs-title.function_,.hljs.language-js .hljs-title.function_,.hljs .language-javascript .hljs-title.function_,.hljs .language-js .hljs-title.function_{color:var(--neon-bunny-title-function)}.hljs.language-javascript .hljs-title.function_.invoke__,.hljs.language-js .hljs-title.function_.invoke__,.hljs .language-javascript .hljs-title.function_.invoke__,.hljs .language-js .hljs-title.function_.invoke__{color:var(--neon-bunny-title-function-invoke)}.hljs.language-javascript .hljs-type,.hljs.language-js .hljs-type,.hljs .language-javascript .hljs-type,.hljs .language-js .hljs-type{color:var(--neon-bunny-type)}.hljs.language-javascript .hljs-variable,.hljs.language-js .hljs-variable,.hljs .language-javascript .hljs-variable,.hljs .language-js .hljs-variable{color:var(--neon-bunny-variable)}.hljs.language-javascript .hljs-variable.constant_,.hljs.language-js .hljs-variable.constant_,.hljs .language-javascript .hljs-variable.constant_,.hljs .language-js .hljs-variable.constant_{color:var(--neon-bunny-variable-constant)}.hljs.language-javascript .hljs-variable.language_,.hljs.language-js .hljs-variable.language_,.hljs .language-javascript .hljs-variable.language_,.hljs .language-js .hljs-variable.language_{color:var(--neon-bunny-js-variable-language)}.hljs.language-javascript .hljs-meta,.hljs.language-js .hljs-meta,.hljs .language-javascript .hljs-meta,.hljs .language-js .hljs-meta{color:var(--neon-bunny-meta)}.hljs.language-javascript .hljs-meta.prompt_,.hljs.language-js .hljs-meta.prompt_,.hljs .language-javascript .hljs-meta.prompt_,.hljs .language-js .hljs-meta.prompt_{color:var(--neon-bunny-meta-prompt)}.hljs.language-javascript .hljs-meta.keyword_,.hljs.language-js .hljs-meta.keyword_,.hljs .language-javascript .hljs-meta.keyword_,.hljs .language-js .hljs-meta.keyword_{color:var(--neon-bunny-meta-keyword)}.hljs.language-javascript .hljs-meta.string_,.hljs.language-js .hljs-meta.string_,.hljs .language-javascript .hljs-meta.string_,.hljs .language-js .hljs-meta.string_{color:var(--neon-bunny-meta-string)}.hljs.language-javascript .hljs-attr,.hljs.language-js .hljs-attr,.hljs .language-javascript .hljs-attr,.hljs .language-js .hljs-attr{color:var(--neon-bunny-attr)}.hljs.language-javascript .hljs-attribute,.hljs.language-js .hljs-attribute,.hljs .language-javascript .hljs-attribute,.hljs .language-js .hljs-attribute{color:var(--neon-bunny-attribute)}.hljs.language-javascript .hljs-name,.hljs.language-js .hljs-name,.hljs .language-javascript .hljs-name,.hljs .language-js .hljs-name{color:var(--neon-bunny-name)}.hljs.language-javascript .hljs-section,.hljs.language-js .hljs-section,.hljs .language-javascript .hljs-section,.hljs .language-js .hljs-section{color:var(--neon-bunny-section)}.hljs.language-javascript .hljs-tag,.hljs.language-js .hljs-tag,.hljs .language-javascript .hljs-tag,.hljs .language-js .hljs-tag{color:var(--neon-bunny-tag)}.hljs.language-javascript .hljs-bullet,.hljs.language-js .hljs-bullet,.hljs .language-javascript .hljs-bullet,.hljs .language-js .hljs-bullet{color:var(--neon-bunny-bullet)}.hljs.language-javascript .hljs-code,.hljs.language-js .hljs-code,.hljs .language-javascript .hljs-code,.hljs .language-js .hljs-code{color:var(--neon-bunny-code)}.hljs.language-javascript .hljs-emphasis,.hljs.language-js .hljs-emphasis,.hljs .language-javascript .hljs-emphasis,.hljs .language-js .hljs-emphasis{color:var(--neon-bunny-emphasis);font-style:italic}.hljs.language-javascript .hljs-formula,.hljs.language-js .hljs-formula,.hljs .language-javascript .hljs-formula,.hljs .language-js .hljs-formula{color:var(--neon-bunny-formula)}.hljs.language-javascript .hljs-link,.hljs.language-js .hljs-link,.hljs .language-javascript .hljs-link,.hljs .language-js .hljs-link{color:var(--neon-bunny-link)}.hljs.language-javascript .hljs-quote,.hljs.language-js .hljs-quote,.hljs .language-javascript .hljs-quote,.hljs .language-js .hljs-quote{color:var(--neon-bunny-quote)}.hljs.language-javascript .hljs-strong,.hljs.language-js .hljs-strong,.hljs .language-javascript .hljs-strong,.hljs .language-js .hljs-strong{color:var(--neon-bunny-strong);font-weight:bold}.hljs.language-javascript .hljs-selector,.hljs.language-js .hljs-selector,.hljs .language-javascript .hljs-selector,.hljs .language-js .hljs-selector{color:var(--neon-bunny-selector)}.hljs.language-javascript .hljs-selector-attr,.hljs.language-js .hljs-selector-attr,.hljs .language-javascript .hljs-selector-attr,.hljs .language-js .hljs-selector-attr{color:var(--neon-bunny-selector-attr)}.hljs.language-javascript .hljs-selector-class,.hljs.language-js .hljs-selector-class,.hljs .language-javascript .hljs-selector-class,.hljs .language-js .hljs-selector-class{color:var(--neon-bunny-selector-class)}.hljs.language-javascript .hljs-selector-id,.hljs.language-js .hljs-selector-id,.hljs .language-javascript .hljs-selector-id,.hljs .language-js .hljs-selector-id{color:var(--neon-bunny-selector-id)}.hljs.language-javascript .hljs-selector-pseudo,.hljs.language-js .hljs-selector-pseudo,.hljs .language-javascript .hljs-selector-pseudo,.hljs .language-js .hljs-selector-pseudo{color:var(--neon-bunny-selector-pseudo)}.hljs.language-javascript .hljs-selector-tag,.hljs.language-js .hljs-selector-tag,.hljs .language-javascript .hljs-selector-tag,.hljs .language-js .hljs-selector-tag{color:var(--neon-bunny-selector-tag)}.hljs.language-javascript .hljs-addition,.hljs.language-js .hljs-addition,.hljs .language-javascript .hljs-addition,.hljs .language-js .hljs-addition{color:var(--neon-bunny-addition)}.hljs.language-javascript .hljs-deletion,.hljs.language-js .hljs-deletion,.hljs .language-javascript .hljs-deletion,.hljs .language-js .hljs-deletion{color:var(--neon-bunny-deletion)}.hljs.language-php,.hljs .language-php{color:var(--neon-bunny-php)}.hljs.language-php .hljs-built_in,.hljs .language-php .hljs-built_in{color:var(--neon-bunny-builtin)}.hljs.language-php .hljs-char,.hljs .language-php .hljs-char{color:var(--neon-bunny-char)}.hljs.language-php .hljs-class .hljs-title,.hljs .language-php .hljs-class .hljs-title{color:var(--neon-bunny-php-class-title) !important}.hljs.language-php .hljs-class .hljs-keyword,.hljs .language-php .hljs-class .hljs-keyword{color:var(--neon-bunny-php-class-keyword)}.hljs.language-php .hljs-comment,.hljs .language-php .hljs-comment{color:var(--neon-bunny-comment)}.hljs.language-php .hljs-doctag,.hljs .language-php .hljs-doctag{color:var(--neon-bunny-doctag)}.hljs.language-php .hljs-function .hljs-title,.hljs .language-php .hljs-function .hljs-title{color:var(--neon-bunny-php-function-title)}.hljs.language-php .hljs-keyword,.hljs .language-php .hljs-keyword{color:var(--neon-bunny-php-keyword)}.hljs.language-php .hljs-literal,.hljs .language-php .hljs-literal{color:var(--neon-bunny-literal)}.hljs.language-php .hljs-number,.hljs .language-php .hljs-number{color:var(--neon-bunny-number)}.hljs.language-php .hljs-operator,.hljs .language-php .hljs-operator{color:var(--neon-bunny-operator)}.hljs.language-php .hljs-params,.hljs .language-php .hljs-params{color:var(--neon-bunny-php-params);font-style:italic}.hljs.language-php .hljs-params .hljs-variable,.hljs .language-php .hljs-params .hljs-variable{color:var(--neon-bunny-php-params-variable)}.hljs.language-php .hljs-property,.hljs .language-php .hljs-property{color:var(--neon-bunny-property)}.hljs.language-php .hljs-punctuation,.hljs .language-php .hljs-punctuation{color:var(--neon-bunny-punctuation)}.hljs.language-php .hljs-regexp,.hljs .language-php .hljs-regexp{color:var(--neon-bunny-regex)}.hljs.language-php .hljs-string,.hljs .language-php .hljs-string{color:var(--neon-bunny-php-string)}.hljs.language-php .hljs-subst,.hljs .language-php .hljs-subst{color:var(--neon-bunny-subst)}.hljs.language-php .hljs-symbol,.hljs .language-php .hljs-symbol{color:var(--neon-bunny-symbol)}.hljs.language-php .hljs-title,.hljs .language-php .hljs-title{color:var(--neon-bunny-php-title)}.hljs.language-php .hljs-title.class_,.hljs .language-php .hljs-title.class_{color:var(--neon-bunny-php-title-class);font-style:italic}.hljs.language-php .hljs-title.class_.inherited__,.hljs .language-php .hljs-title.class_.inherited__{color:var(--neon-bunny-title-class-inherited)}.hljs.language-php .hljs-title.function_,.hljs .language-php .hljs-title.function_{color:var(--neon-bunny-title-function)}.hljs.language-php .hljs-title.function_.invoke__,.hljs .language-php .hljs-title.function_.invoke__{color:var(--neon-bunny-php-title-function-invoke)}.hljs.language-php .hljs-type,.hljs .language-php .hljs-type{color:var(--neon-bunny-type)}.hljs.language-php .hljs-variable,.hljs .language-php .hljs-variable{color:var(--neon-bunny-php-variable)}.hljs.language-php .hljs-variable.constant_,.hljs .language-php .hljs-variable.constant_{color:var(--neon-bunny-variable-constant)}.hljs.language-php .hljs-variable.language_,.hljs .language-php .hljs-variable.language_{color:var(--neon-bunny-variable-language)}.hljs.language-php .hljs-meta,.hljs .language-php .hljs-meta{color:var(--neon-bunny-php-meta)}.hljs.language-php .hljs-meta.prompt_,.hljs .language-php .hljs-meta.prompt_{color:var(--neon-bunny-meta-prompt)}.hljs.language-php .hljs-meta.keyword_,.hljs .language-php .hljs-meta.keyword_{color:var(--neon-bunny-meta-keyword)}.hljs.language-php .hljs-meta.string_,.hljs .language-php .hljs-meta.string_{color:var(--neon-bunny-meta-string)}.hljs.language-php .hljs-attr,.hljs .language-php .hljs-attr{color:var(--neon-bunny-attr)}.hljs.language-php .hljs-attribute,.hljs .language-php .hljs-attribute{color:var(--neon-bunny-attribute)}.hljs.language-php .hljs-name,.hljs .language-php .hljs-name{color:var(--neon-bunny-name)}.hljs.language-php .hljs-section,.hljs .language-php .hljs-section{color:var(--neon-bunny-section)}.hljs.language-php .hljs-tag,.hljs .language-php .hljs-tag{color:var(--neon-bunny-tag)}.hljs.language-php .hljs-bullet,.hljs .language-php .hljs-bullet{color:var(--neon-bunny-bullet)}.hljs.language-php .hljs-code,.hljs .language-php .hljs-code{color:var(--neon-bunny-code)}.hljs.language-php .hljs-emphasis,.hljs .language-php .hljs-emphasis{color:var(--neon-bunny-emphasis);font-style:italic}.hljs.language-php .hljs-formula,.hljs .language-php .hljs-formula{color:var(--neon-bunny-formula)}.hljs.language-php .hljs-link,.hljs .language-php .hljs-link{color:var(--neon-bunny-link)}.hljs.language-php .hljs-quote,.hljs .language-php .hljs-quote{color:var(--neon-bunny-quote)}.hljs.language-php .hljs-strong,.hljs .language-php .hljs-strong{color:var(--neon-bunny-strong);font-weight:bold}.hljs.language-php .hljs-selector,.hljs .language-php .hljs-selector{color:var(--neon-bunny-selector)}.hljs.language-php .hljs-selector-attr,.hljs .language-php .hljs-selector-attr{color:var(--neon-bunny-selector-attr)}.hljs.language-php .hljs-selector-class,.hljs .language-php .hljs-selector-class{color:var(--neon-bunny-selector-class)}.hljs.language-php .hljs-selector-id,.hljs .language-php .hljs-selector-id{color:var(--neon-bunny-selector-id)}.hljs.language-php .hljs-selector-pseudo,.hljs .language-php .hljs-selector-pseudo{color:var(--neon-bunny-selector-pseudo)}.hljs.language-php .hljs-selector-tag,.hljs .language-php .hljs-selector-tag{color:var(--neon-bunny-selector-tag)}.hljs.language-php .hljs-addition,.hljs .language-php .hljs-addition{color:var(--neon-bunny-addition)}.hljs.language-php .hljs-deletion,.hljs .language-php .hljs-deletion{color:var(--neon-bunny-deletion)}\n`);\n        break;\n      case \"neon-bunny-carrot\":\n        a = `/**\n\t* MIT License\n\t* Copyright (c) 2023 WebDevNerdStuff\n\t* WebDevNerdStuff Neon Bunny Carrot Theme\n\t* VSCode Theme: https://marketplace.visualstudio.com/items?itemName=WebDevNerdStuff.neon-bunny\n\t*/\n\t:root{--neon-bunny-blue-light: #2492ff;--neon-bunny-blue: #0b93ff;--neon-bunny-gray: #7f817e;--neon-bunny-green-darker-darker: #008b05;--neon-bunny-green-darker: #2bb71d;--neon-bunny-green-light: #7cd47d;--neon-bunny-green: #00d205;--neon-bunny-lime: #c3e88d;--neon-bunny-magenta: #dd00ff;--neon-bunny-orange-darker: #e58100;--neon-bunny-orange-light: #ffc266;--neon-bunny-orange: #ff9900;--neon-bunny-peach-light: #ffe4a6;--neon-bunny-peach: #ffcb6b;--neon-bunny-pink: #ff1190;--neon-bunny-purple-light-dim: #c792ea;--neon-bunny-purple-light: #da96df;--neon-bunny-purple: #ea03ff;--neon-bunny-red: #ff5370;--neon-bunny-teal: #00EEFF;--neon-bunny-white: #fff;--neon-bunny-yellow-light: #ffffa2;--neon-bunny-yellow: #ffff00;--neon-bunny-atrule: var(--neon-bunny-peach);--neon-bunny-attr-name: var(--neon-bunny-purple-light-dim);--neon-bunny-attr-value: var(--neon-bunny-peach);--neon-bunny-boolean: var(--neon-bunny-purple-light);--neon-bunny-builtin: var(--neon-bunny-purple);--neon-bunny-cdata: var(--neon-bunny-gray);--neon-bunny-char: var(--neon-bunny-pink);--neon-bunny-class-name: var(--neon-bunny-peach);--neon-bunny-comment: var(--neon-bunny-gray);--neon-bunny-constant: var(--neon-bunny-green-darker);--neon-bunny-deleted: var(--neon-bunny-red);--neon-bunny-entity: var(--neon-bunny-peach);--neon-bunny-function: var(--neon-bunny-orange-light);--neon-bunny-important: var(--neon-bunny-pink);--neon-bunny-inserted: var(--neon-bunny-lime);--neon-bunny-keyword: var(--neon-bunny-purple-light);--neon-bunny-namespace: var(--neon-bunny-peach);--neon-bunny-number: var(--neon-bunny-white);--neon-bunny-operator: var(--neon-bunny-orange);--neon-bunny-prolog: var(--neon-bunny-gray);--neon-bunny-property: var(--neon-bunny-orange-light);--neon-bunny-punctuation: var(--neon-bunny-orange);--neon-bunny-regex: var(--neon-bunny-peach-light);--neon-bunny-string: var(--neon-bunny-green-light);--neon-bunny-symbol: var(--neon-bunny-orange-light);--neon-bunny-tag: var(--neon-bunny-orange);--neon-bunny-url: var(--neon-bunny-orange-darker);--neon-bunny-variable: var(--neon-bunny-orange);--neon-bunny-html-attr-name: var(--neon-bunny-orange-light);--neon-bunny-html-attr-value-punctuation: var(--neon-bunny-green);--neon-bunny-html-attr-value: var(--neon-bunny-green);--neon-bunny-css-atrule-rule: var(--neon-bunny-blue);--neon-bunny-css-atrule: var(--neon-bunny-white);--neon-bunny-css-function: var(--neon-bunny-orange-darker);--neon-bunny-css-property: var(--neon-bunny-pink);--neon-bunny-css-punctuation: var(--neon-bunny-white);--neon-bunny-css-selector: var(--neon-bunny-yellow);--neon-bunny-css-string: var(--neon-bunny-green-light);--neon-bunny-css: var(--neon-bunny-teal);--neon-bunny-js-keyword: var(--neon-bunny-magenta);--neon-bunny-js-literal-property: var(--neon-bunny-orange);--neon-bunny-js-operator: var(--neon-bunny-blue-light);--neon-bunny-js-punctuation: var(--neon-bunny-white);--neon-bunny-js-string: var(--neon-bunny-green-darker-darker);--neon-bunny-js-template-string-string: var(--neon-bunny-green-darker-darker);--neon-bunny-js: var(--neon-bunny-orange);--neon-bunny-php-boolean: var(--neon-bunny-purple-light);--neon-bunny-php-class-name-return-type: var(--neon-bunny-yellow);--neon-bunny-php-class-name: var(--neon-bunny-yellow);--neon-bunny-php-double-quote-string: var(--neon-bunny-green);--neon-bunny-php-function: var(--neon-bunny-orange-light);--neon-bunny-php-keyword: var(--neon-bunny-magenta);--neon-bunny-php-keyword-type-hint: var(--neon-bunny-magenta);--neon-bunny-php-class-name-definition-class-name: var(--neon-bunny-yellow);--neon-bunny-php-operator: var(--neon-bunny-yellow-light);--neon-bunny-php-package: var(--neon-bunny-yellow);--neon-bunny-php-property: var(--neon-bunny-orange);--neon-bunny-php-punctuation: var(--neon-bunny-white);--neon-bunny-php-single-quote-string: var(--neon-bunny-green-light);--neon-bunny-php-variable: var(--neon-bunny-orange)}code[class*=language-],pre[class*=language-]{-moz-hyphens:none;-moz-tab-size:4;-ms-hyphens:none;-o-tab-size:4;-webkit-hyphens:none;color:var(--neon-bunny-white);font-family:Consolas,Monaco,\"Andale Mono\",\"Ubuntu Mono\",monospace;font-size:1em;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal;word-wrap:normal}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{background:rgba(29,59,83,.99);text-shadow:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:rgba(255,255,255,.0823529412);text-shadow:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{background:#000;color:#fff;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-]{background:#000;color:#fff;border-radius:.3em;padding:.1em;white-space:normal}.token.atrule{color:var(--neon-bunny-atrule)}.token.attr-name{color:var(--neon-bunny-attr-name)}.token.attr-value{color:var(--neon-bunny-attr-value)}.token.bold{font-weight:bold}.token.boolean{color:var(--neon-bunny-boolean)}.token.builtin{color:var(--neon-bunny-builtin)}.token.cdata{color:var(--neon-bunny-cdata);font-style:italic}.token.char{color:var(--neon-bunny-char)}.token.class-name{color:var(--neon-bunny-class-name)}.token.constant{color:var(--neon-bunny-constant)}.token.comment{color:var(--neon-bunny-comment);font-style:italic}.token.deleted{color:var(--neon-bunny-deleted)}.token.entity{color:var(--neon-bunny-entity)}.token.function{color:var(--neon-bunny-function)}.token.important{color:var(--neon-bunny-important);font-style:italic}.token.inserted{color:var(--neon-bunny-inserted)}.token.italic{font-style:italic}.token.keyword{color:var(--neon-bunny-keyword)}.token.number{color:var(--neon-bunny-number)}.token.operator{color:var(--neon-bunny-operator)}.token.prolog{color:var(--neon-bunny-prolog);font-style:italic}.token.property{color:var(--neon-bunny-property)}.token.punctuation{color:var(--neon-bunny-punctuation)}.token.regex{color:var(--neon-bunny-regex)}.token.string{color:var(--neon-bunny-string)}.token.symbol{color:var(--neon-bunny-symbol)}.token.tag{color:var(--neon-bunny-tag)}.token.url{color:var(--neon-bunny-url);text-decoration:underline}.token.variable{color:var(--neon-bunny-variable)}.namespace{color:var(--neon-bunny-namespace)}.language-html .token .attr-name{color:var(--neon-bunny-html-attr-name)}.language-html .token.attr-value{color:var(--neon-bunny-html-attr-value)}.language-html .token.attr-value.punctuation{color:var(--neon-bunny-html-attr-value-punctuation)}.language-css{color:var(--neon-bunny-css) !important}.language-css .token.atrule{color:var(--neon-bunny-css-atrule)}.language-css .token.atrule .token.rule{color:var(--neon-bunny-css-atrule-rule)}.language-css .token.function{color:var(--neon-bunny-css-function)}.language-css .token.property{color:var(--neon-bunny-css-property)}.language-css .token.punctuation{color:var(--neon-bunny-css-punctuation)}.language-css .token.selector{color:var(--neon-bunny-css-selector)}.language-css .token.string{color:var(--neon-bunny-css-string);font-style:italic}.style .token.string{color:var(--neon-bunny-css-string);font-style:italic}.language-javascript,.language-js{color:var(--neon-bunny-js) !important;font-style:italic}.language-javascript span,.language-js span{font-style:normal}.language-javascript .token.keyword,.language-js .token.keyword{color:var(--neon-bunny-js-keyword)}.language-javascript .token.literal-property.property,.language-js .token.literal-property.property{color:var(--neon-bunny-js-literal-property);font-style:italic}.language-javascript .token.operator,.language-js .token.operator{color:var(--neon-bunny-js-operator);font-style:italic}.language-javascript .token.punctuation,.language-js .token.punctuation{color:var(--neon-bunny-js-punctuation)}.language-javascript .token.template-string.string,.language-js .token.template-string.string{color:var(--neon-bunny-js-template-string-string)}.language-php .token.boolean{color:var(--neon-bunny-boolean)}.language-php .token.class-name{color:var(--neon-bunny-php-class-name)}.language-php .token.class-name-definition.class-name{color:var(--neon-bunny-php-class-name-definition-class-name)}.language-php .token.class-name .return-type{color:var(--neon-bunny-php-class-name-return-type)}.language-php .token.function{color:var(--neon-bunny-php-function);text-decoration:underline}.language-php .token.keyword{color:var(--neon-bunny-php-keyword)}.language-php .token.keyword.type-hint{color:var(--neon-bunny-php-keyword-type-hint)}.language-php .token.operator{color:var(--neon-bunny-php-operator)}.language-php .token.package{color:var(--neon-bunny-php-package)}.language-php .token.property{color:var(--neon-bunny-php-property)}.language-php .token.punctuation{color:var(--neon-bunny-php-punctuation)}.language-php .token.string.double-quoted-string{color:var(--neon-bunny-php-double-quote-string)}.language-php .token.string.single-quoted-string{color:var(--neon-bunny-php-single-quote-string)}.language-php .token.variable{color:var(--neon-bunny-php-variable)}\n`, S = !1, z = !1, l === \"highlightjs\" && (a = `/**\n\t* MIT License\n\t* Copyright (c) 2023 WebDevNerdStuff\n\t* WebDevNerdStuff Neon Bunny Carrot Theme\n\t* VSCode Theme: https://marketplace.visualstudio.com/items?itemName=WebDevNerdStuff.neon-bunny\n\t*/\n\t:root{--neon-bunny-blue-light: #2492ff;--neon-bunny-blue: #0b93ff;--neon-bunny-gray: #7f817e;--neon-bunny-green-darker-darker: #008b05;--neon-bunny-green-darker: #2bb71d;--neon-bunny-green-light: #7cd47d;--neon-bunny-green: #00d205;--neon-bunny-lime: #c3e88d;--neon-bunny-magenta: #dd00ff;--neon-bunny-orange-darker: #e58100;--neon-bunny-orange-light: #ffc266;--neon-bunny-orange-lighter: #ff8d04;--neon-bunny-orange: #ff9900;--neon-bunny-peach-light: #ffe4a6;--neon-bunny-peach: #ffcb6b;--neon-bunny-pink: #ff1190;--neon-bunny-purple-light-dim: #c792ea;--neon-bunny-purple-light: #da96df;--neon-bunny-purple: #ea03ff;--neon-bunny-red: #ff5370;--neon-bunny-teal: #00EEFF;--neon-bunny-white: #fff;--neon-bunny-yellow-light: #ffffa2;--neon-bunny-yellow-light-faded: #ffe3b8;--neon-bunny-yellow: #ffff00;--neon-bunny-builtin: var(--neon-bunny-purple);--neon-bunny-char: var(--neon-bunny-pink);--neon-bunny-class: var(--neon-bunny-magenta);--neon-bunny-comment: var(--neon-bunny-gray);--neon-bunny-doctag: var(--neon-bunny-blue-light);--neon-bunny-keyword: var(--neon-bunny-magenta);--neon-bunny-literal: var(--neon-bunny-purple-light);--neon-bunny-number: var(--neon-bunny-white);--neon-bunny-operator: var(--neon-bunny-blue-light);--neon-bunny-params: var(--neon-bunny-orange);--neon-bunny-property: var(--neon-bunny-yellow-light-faded);--neon-bunny-punctuation: var(--neon-bunny-blue);--neon-bunny-regex: var(--neon-bunny-peach-light);--neon-bunny-string: var(--neon-bunny-green);--neon-bunny-subst: var(--neon-bunny-green-darker);--neon-bunny-symbol: var(--neon-bunny-pink);--neon-bunny-title-class-inherited: var(--neon-bunny-orange);--neon-bunny-title-class: var(--neon-bunny-green-neon);--neon-bunny-title-function-invoke: var(--neon-bunny-orange);--neon-bunny-title-function: var(--neon-bunny-orange-light);--neon-bunny-title: var(--neon-bunny-orange);--neon-bunny-type: var(--neon-bunny-pink);--neon-bunny-variable-constant: var(--neon-bunny-green-darker);--neon-bunny-variable-language: var(--neon-bunny-orange);--neon-bunny-variable: var(--neon-bunny-green-darker);--neon-bunny-meta-keyword: var(--neon-bunny-purple-light);--neon-bunny-meta-prompt: var(--neon-bunny-orange);--neon-bunny-meta-string: var(--neon-bunny-orange);--neon-bunny-meta: var(--neon-bunny-orange);--neon-bunny-attr: var(--neon-bunny-orange);--neon-bunny-attribute: var(---neon-bunny-orange);--neon-bunny-name: var(--neon-bunny-orange);--neon-bunny-section: var(--neon-bunny-orange);--neon-bunny-tag-attr: var(--neon-bunny-orange-light);--neon-bunny-tag: var(--neon-bunny-orange);--neon-bunny-bullet: var(--neon-bunny-white);--neon-bunny-code: var(--neon-bunny-white);--neon-bunny-emphasis: var(--neon-bunny-white);--neon-bunny-formula: var(--neon-bunny-white);--neon-bunny-link: var(--neon-bunny-orange);--neon-bunny-quote: var(--neon-bunny-white);--neon-bunny-strong: var(--neon-bunny-white);--neon-bunny-css-selector-id: var(--neon-bunny-green);--neon-bunny-selector-attr: var(--neon-bunny-orange);--neon-bunny-selector-class: var(--neon-bunny-yellow);--neon-bunny-selector-id: var(--neon-bunny-selector);--neon-bunny-selector-pseudo: var(--neon-bunny-orange);--neon-bunny-selector-tag: var(--neon-bunny-white);--neon-bunny-selector: var(--neon-bunny-lime);--neon-bunny-addition: var(--neon-bunny-green-neon);--neon-bunny-deletion: var(--neon-bunny-red);--neon-bunny-html-tag-attr: var(--neon-bunny-orange-light);--neon-bunny-css: var(--neon-bunny-teal);--neon-bunny-css-builtin: var(--neon-bunny-orange);--neon-bunny-css-meta: var(--neon-bunny-red);--neon-bunny-css-attribute: var(--neon-bunny-pink);--neon-bunny-json-punctuation: var(--neon-bunny-white);--neon-bunny-js: var(--neon-bunny-orange);--neon-bunny-js-params-variable-language: var(--neon-bunny-orange);--neon-bunny-js-title-class: var(--neon-bunny-orange-lighter);--neon-bunny-js-variable-language: var(--neon-bunny-yellow);--neon-bunny-php: var(--neon-bunny-white);--neon-bunny-php-class-keyword: var(--neon-bunny-pink);--neon-bunny-php-class-title: var(--neon-bunny-yellow);--neon-bunny-php-function-title: var(--neon-bunny-orange-light);--neon-bunny-php-keyword: var(--neon-bunny-magenta);--neon-bunny-php-params-variable: var(--neon-bunny-green-darker);--neon-bunny-php-params: var(--neon-bunny-yellow);--neon-bunny-php-string: var(--neon-bunny-green-light);--neon-bunny-php-title-class: var(--neon-bunny-yellow);--neon-bunny-php-title-function-invoke: var(--neon-bunny-orange-light);--neon-bunny-php-title: var(--neon-bunny-white);--neon-bunny-php-variable: var(--neon-bunny-orange);--neon-bunny-php-meta: var(--neon-bunny-pink)}pre code.hljs{display:block;overflow-x:auto;padding:1em}code[class*=language-],pre[class*=language-]{-moz-hyphens:none;-moz-tab-size:4;-ms-hyphens:none;-o-tab-size:4;-webkit-hyphens:none;color:var(--neon-bunny-white);font-family:Consolas,Monaco,\"Andale Mono\",\"Ubuntu Mono\",monospace;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal;word-wrap:normal}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{background:rgba(29,59,83,.99);text-shadow:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:rgba(255,255,255,.0823529412);text-shadow:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{background:#000;color:#fff;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-]{background:#000;color:#fff;border-radius:.3em;padding:.1em;white-space:normal}.hljs-built_in{color:var(--neon-bunny-builtin)}.hljs-char{color:var(--neon-bunny-char)}.hljs-comment{color:var(--neon-bunny-comment);font-style:italic}.hljs-doctag{color:var(--neon-bunny-doctag)}.hljs-keyword{color:var(--neon-bunny-keyword)}.hljs-literal{color:var(--neon-bunny-literal)}.hljs-number{color:var(--neon-bunny-number)}.hljs-operator{color:var(--neon-bunny-operator)}.hljs-params{color:var(--neon-bunny-params)}.hljs-property{color:var(--neon-bunny-property)}.hljs-punctuation{color:var(--neon-bunny-punctuation)}.hljs-regexp{color:var(--neon-bunny-regex)}.hljs-string{color:var(--neon-bunny-string)}.hljs-subst{color:var(--neon-bunny-subst)}.hljs-symbol{color:var(--neon-bunny-symbol)}.hljs-title{color:var(--neon-bunny-title)}.hljs-title.class_{color:var(--neon-bunny-title-class)}.hljs-title.class_.inherited__{color:var(--neon-bunny-title-class-inherited)}.hljs-title.function_{color:var(--neon-bunny-title-function);text-decoration:underline}.hljs-title.function_.invoke__{color:var(--neon-bunny-title-function-invoke)}.hljs-type{color:var(--neon-bunny-type)}.hljs-variable{color:var(--neon-bunny-variable)}.hljs-variable.constant_{color:var(--neon-bunny-variable-constant)}.hljs-variable.language_{color:var(--neon-bunny-variable-language);font-style:italic}.hljs-meta{color:var(--neon-bunny-meta)}.hljs-meta.prompt_{color:var(--neon-bunny-meta-prompt)}.hljs-meta.keyword_{color:var(--neon-bunny-meta-keyword)}.hljs-meta.string_{color:var(--neon-bunny-meta-string)}.hljs-attr{color:var(--neon-bunny-attr)}.hljs-attribute{color:var(--neon-bunny-attribute)}.hljs-name{color:var(--neon-bunny-name)}.hljs-section{color:var(--neon-bunny-section)}.hljs-tag{color:var(--neon-bunny-tag)}.hljs-tag .hljs-attr{color:var(--neon-bunny-tag-attr)}.hljs-bullet{color:var(--neon-bunny-bullet)}.hljs-code{color:var(--neon-bunny-code)}.hljs-emphasis{color:var(--neon-bunny-emphasis);font-style:italic}.hljs-formula{color:var(--neon-bunny-formula)}.hljs-link{color:var(--neon-bunny-link)}.hljs-quote{color:var(--neon-bunny-quote)}.hljs-strong{color:var(--neon-bunny-strong);font-weight:bold}.hljs-selector{color:var(--neon-bunny-selector)}.hljs-selector-attr{color:var(--neon-bunny-selector-attr)}.hljs-selector-class{color:var(--neon-bunny-selector-class)}.hljs-selector-id{color:var(--neon-bunny-selector-id)}.hljs-selector-pseudo{color:var(--neon-bunny-selector-pseudo)}.hljs-selector-tag{color:var(--neon-bunny-selector-tag)}.hljs-addition{color:var(--neon-bunny-addition)}.hljs-deletion{color:var(--neon-bunny-deletion)}.hljs.language-html .hljs-tag .hljs-attr,.hljs .language-html .hljs-tag .hljs-attr{color:var(--neon-bunny-html-tag-attr)}.hljs.language-css,.hljs .language-css{color:var(--neon-bunny-css)}.hljs.language-css .hljs-built_in,.hljs .language-css .hljs-built_in{color:var(--neon-bunny-css-builtin)}.hljs.language-css .hljs-char,.hljs .language-css .hljs-char{color:var(--neon-bunny-char)}.hljs.language-css .hljs-comment,.hljs .language-css .hljs-comment{color:var(--neon-bunny-comment)}.hljs.language-css .hljs-doctag,.hljs .language-css .hljs-doctag{color:var(--neon-bunny-doctag)}.hljs.language-css .hljs-keyword,.hljs .language-css .hljs-keyword{color:var(--neon-bunny-keyword)}.hljs.language-css .hljs-literal,.hljs .language-css .hljs-literal{color:var(--neon-bunny-literal)}.hljs.language-css .hljs-number,.hljs .language-css .hljs-number{color:var(--neon-bunny-number)}.hljs.language-css .hljs-operator,.hljs .language-css .hljs-operator{color:var(--neon-bunny-operator)}.hljs.language-css .hljs-params,.hljs .language-css .hljs-params{color:var(--neon-bunny-params);font-style:italic}.hljs.language-css .hljs-property,.hljs .language-css .hljs-property{color:var(--neon-bunny-property)}.hljs.language-css .hljs-punctuation,.hljs .language-css .hljs-punctuation{color:var(--neon-bunny-punctuation)}.hljs.language-css .hljs-regexp,.hljs .language-css .hljs-regexp{color:var(--neon-bunny-regex)}.hljs.language-css .hljs-string,.hljs .language-css .hljs-string{color:var(--neon-bunny-string)}.hljs.language-css .hljs-subst,.hljs .language-css .hljs-subst{color:var(--neon-bunny-subst)}.hljs.language-css .hljs-symbol,.hljs .language-css .hljs-symbol{color:var(--neon-bunny-symbol)}.hljs.language-css .hljs-title,.hljs .language-css .hljs-title{color:var(--neon-bunny-title)}.hljs.language-css .hljs-title.class_,.hljs .language-css .hljs-title.class_{color:var(--neon-bunny-title-class)}.hljs.language-css .hljs-title.class_.inherited__,.hljs .language-css .hljs-title.class_.inherited__{color:var(--neon-bunny-title-class-inherited)}.hljs.language-css .hljs-title.function_,.hljs .language-css .hljs-title.function_{color:var(--neon-bunny-title-function)}.hljs.language-css .hljs-title.function_.invoke__,.hljs .language-css .hljs-title.function_.invoke__{color:var(--neon-bunny-title-function-invoke)}.hljs.language-css .hljs-type,.hljs .language-css .hljs-type{color:var(--neon-bunny-type)}.hljs.language-css .hljs-variable,.hljs .language-css .hljs-variable{color:var(--neon-bunny-variable)}.hljs.language-css .hljs-variable.constant_,.hljs .language-css .hljs-variable.constant_{color:var(--neon-bunny-variable-constant)}.hljs.language-css .hljs-variable.language_,.hljs .language-css .hljs-variable.language_{color:var(--neon-bunny-variable-language)}.hljs.language-css .hljs-meta,.hljs .language-css .hljs-meta{color:var(--neon-bunny-css-meta)}.hljs.language-css .hljs-meta.prompt_,.hljs .language-css .hljs-meta.prompt_{color:var(--neon-bunny-meta-prompt)}.hljs.language-css .hljs-meta.keyword_,.hljs .language-css .hljs-meta.keyword_{color:var(--neon-bunny-meta-keyword)}.hljs.language-css .hljs-meta.string_,.hljs .language-css .hljs-meta.string_{color:var(--neon-bunny-meta-string)}.hljs.language-css .hljs-attr,.hljs .language-css .hljs-attr{color:var(--neon-bunny-attr)}.hljs.language-css .hljs-attribute,.hljs .language-css .hljs-attribute{color:var(--neon-bunny-css-attribute)}.hljs.language-css .hljs-name,.hljs .language-css .hljs-name{color:var(--neon-bunny-name)}.hljs.language-css .hljs-section,.hljs .language-css .hljs-section{color:var(--neon-bunny-section)}.hljs.language-css .hljs-tag,.hljs .language-css .hljs-tag{color:var(--neon-bunny-tag)}.hljs.language-css .hljs-bullet,.hljs .language-css .hljs-bullet{color:var(--neon-bunny-bullet)}.hljs.language-css .hljs-code,.hljs .language-css .hljs-code{color:var(--neon-bunny-code)}.hljs.language-css .hljs-emphasis,.hljs .language-css .hljs-emphasis{color:var(--neon-bunny-emphasis);font-style:italic}.hljs.language-css .hljs-formula,.hljs .language-css .hljs-formula{color:var(--neon-bunny-formula)}.hljs.language-css .hljs-link,.hljs .language-css .hljs-link{color:var(--neon-bunny-link)}.hljs.language-css .hljs-quote,.hljs .language-css .hljs-quote{color:var(--neon-bunny-quote)}.hljs.language-css .hljs-strong,.hljs .language-css .hljs-strong{color:var(--neon-bunny-strong);font-weight:bold}.hljs.language-css .hljs-selector,.hljs .language-css .hljs-selector{color:var(--neon-bunny-selector)}.hljs.language-css .hljs-selector-attr,.hljs .language-css .hljs-selector-attr{color:var(--neon-bunny-selector-attr)}.hljs.language-css .hljs-selector-class,.hljs .language-css .hljs-selector-class{color:var(--neon-bunny-selector-class)}.hljs.language-css .hljs-selector-id,.hljs .language-css .hljs-selector-id{color:var(--neon-bunny-css-selector-id)}.hljs.language-css .hljs-selector-pseudo,.hljs .language-css .hljs-selector-pseudo{color:var(--neon-bunny-selector-pseudo)}.hljs.language-css .hljs-selector-tag,.hljs .language-css .hljs-selector-tag{color:var(--neon-bunny-selector-tag)}.hljs.language-css .hljs-addition,.hljs .language-css .hljs-addition{color:var(--neon-bunny-addition)}.hljs.language-css .hljs-deletion,.hljs .language-css .hljs-deletion{color:var(--neon-bunny-deletion)}.hljs.language-json .hljs-punctuation,.hljs .language-json .hljs-punctuation{color:var(--neon-bunny-json-punctuation)}.hljs.language-javascript,.hljs.language-js,.hljs .language-javascript,.hljs .language-js{color:var(--neon-bunny-js)}.hljs.language-javascript .hljs-built_in,.hljs.language-js .hljs-built_in,.hljs .language-javascript .hljs-built_in,.hljs .language-js .hljs-built_in{color:var(--neon-bunny-builtin)}.hljs.language-javascript .hljs-char,.hljs.language-js .hljs-char,.hljs .language-javascript .hljs-char,.hljs .language-js .hljs-char{color:var(--neon-bunny-char)}.hljs.language-javascript .hljs-comment,.hljs.language-js .hljs-comment,.hljs .language-javascript .hljs-comment,.hljs .language-js .hljs-comment{color:var(--neon-bunny-comment)}.hljs.language-javascript .hljs-doctag,.hljs.language-js .hljs-doctag,.hljs .language-javascript .hljs-doctag,.hljs .language-js .hljs-doctag{color:var(--neon-bunny-doctag)}.hljs.language-javascript .hljs-keyword,.hljs.language-js .hljs-keyword,.hljs .language-javascript .hljs-keyword,.hljs .language-js .hljs-keyword{color:var(--neon-bunny-keyword)}.hljs.language-javascript .hljs-literal,.hljs.language-js .hljs-literal,.hljs .language-javascript .hljs-literal,.hljs .language-js .hljs-literal{color:var(--neon-bunny-literal)}.hljs.language-javascript .hljs-number,.hljs.language-js .hljs-number,.hljs .language-javascript .hljs-number,.hljs .language-js .hljs-number{color:var(--neon-bunny-number)}.hljs.language-javascript .hljs-operator,.hljs.language-js .hljs-operator,.hljs .language-javascript .hljs-operator,.hljs .language-js .hljs-operator{color:var(--neon-bunny-operator)}.hljs.language-javascript .hljs-params,.hljs.language-js .hljs-params,.hljs .language-javascript .hljs-params,.hljs .language-js .hljs-params{color:var(--neon-bunny-params);font-style:italic}.hljs.language-javascript .hljs-params .hljs-variable.language_,.hljs.language-js .hljs-params .hljs-variable.language_,.hljs .language-javascript .hljs-params .hljs-variable.language_,.hljs .language-js .hljs-params .hljs-variable.language_{color:var(--neon-bunny-js-params-variable-language)}.hljs.language-javascript .hljs-property,.hljs.language-js .hljs-property,.hljs .language-javascript .hljs-property,.hljs .language-js .hljs-property{color:var(--neon-bunny-property)}.hljs.language-javascript .hljs-punctuation,.hljs.language-js .hljs-punctuation,.hljs .language-javascript .hljs-punctuation,.hljs .language-js .hljs-punctuation{color:var(--neon-bunny-punctuation)}.hljs.language-javascript .hljs-regexp,.hljs.language-js .hljs-regexp,.hljs .language-javascript .hljs-regexp,.hljs .language-js .hljs-regexp{color:var(--neon-bunny-regex)}.hljs.language-javascript .hljs-string,.hljs.language-js .hljs-string,.hljs .language-javascript .hljs-string,.hljs .language-js .hljs-string{color:var(--neon-bunny-string)}.hljs.language-javascript .hljs-subst,.hljs.language-js .hljs-subst,.hljs .language-javascript .hljs-subst,.hljs .language-js .hljs-subst{color:var(--neon-bunny-subst)}.hljs.language-javascript .hljs-symbol,.hljs.language-js .hljs-symbol,.hljs .language-javascript .hljs-symbol,.hljs .language-js .hljs-symbol{color:var(--neon-bunny-symbol)}.hljs.language-javascript .hljs-title,.hljs.language-js .hljs-title,.hljs .language-javascript .hljs-title,.hljs .language-js .hljs-title{color:var(--neon-bunny-title)}.hljs.language-javascript .hljs-title.class_,.hljs.language-js .hljs-title.class_,.hljs .language-javascript .hljs-title.class_,.hljs .language-js .hljs-title.class_{color:var(--neon-bunny-js-title-class)}.hljs.language-javascript .hljs-title.class_.inherited__,.hljs.language-js .hljs-title.class_.inherited__,.hljs .language-javascript .hljs-title.class_.inherited__,.hljs .language-js .hljs-title.class_.inherited__{color:var(--neon-bunny-title-class-inherited)}.hljs.language-javascript .hljs-title.function_,.hljs.language-js .hljs-title.function_,.hljs .language-javascript .hljs-title.function_,.hljs .language-js .hljs-title.function_{color:var(--neon-bunny-title-function)}.hljs.language-javascript .hljs-title.function_.invoke__,.hljs.language-js .hljs-title.function_.invoke__,.hljs .language-javascript .hljs-title.function_.invoke__,.hljs .language-js .hljs-title.function_.invoke__{color:var(--neon-bunny-title-function-invoke)}.hljs.language-javascript .hljs-type,.hljs.language-js .hljs-type,.hljs .language-javascript .hljs-type,.hljs .language-js .hljs-type{color:var(--neon-bunny-type)}.hljs.language-javascript .hljs-variable,.hljs.language-js .hljs-variable,.hljs .language-javascript .hljs-variable,.hljs .language-js .hljs-variable{color:var(--neon-bunny-variable)}.hljs.language-javascript .hljs-variable.constant_,.hljs.language-js .hljs-variable.constant_,.hljs .language-javascript .hljs-variable.constant_,.hljs .language-js .hljs-variable.constant_{color:var(--neon-bunny-variable-constant)}.hljs.language-javascript .hljs-variable.language_,.hljs.language-js .hljs-variable.language_,.hljs .language-javascript .hljs-variable.language_,.hljs .language-js .hljs-variable.language_{color:var(--neon-bunny-js-variable-language)}.hljs.language-javascript .hljs-meta,.hljs.language-js .hljs-meta,.hljs .language-javascript .hljs-meta,.hljs .language-js .hljs-meta{color:var(--neon-bunny-meta)}.hljs.language-javascript .hljs-meta.prompt_,.hljs.language-js .hljs-meta.prompt_,.hljs .language-javascript .hljs-meta.prompt_,.hljs .language-js .hljs-meta.prompt_{color:var(--neon-bunny-meta-prompt)}.hljs.language-javascript .hljs-meta.keyword_,.hljs.language-js .hljs-meta.keyword_,.hljs .language-javascript .hljs-meta.keyword_,.hljs .language-js .hljs-meta.keyword_{color:var(--neon-bunny-meta-keyword)}.hljs.language-javascript .hljs-meta.string_,.hljs.language-js .hljs-meta.string_,.hljs .language-javascript .hljs-meta.string_,.hljs .language-js .hljs-meta.string_{color:var(--neon-bunny-meta-string)}.hljs.language-javascript .hljs-attr,.hljs.language-js .hljs-attr,.hljs .language-javascript .hljs-attr,.hljs .language-js .hljs-attr{color:var(--neon-bunny-attr)}.hljs.language-javascript .hljs-attribute,.hljs.language-js .hljs-attribute,.hljs .language-javascript .hljs-attribute,.hljs .language-js .hljs-attribute{color:var(--neon-bunny-attribute)}.hljs.language-javascript .hljs-name,.hljs.language-js .hljs-name,.hljs .language-javascript .hljs-name,.hljs .language-js .hljs-name{color:var(--neon-bunny-name)}.hljs.language-javascript .hljs-section,.hljs.language-js .hljs-section,.hljs .language-javascript .hljs-section,.hljs .language-js .hljs-section{color:var(--neon-bunny-section)}.hljs.language-javascript .hljs-tag,.hljs.language-js .hljs-tag,.hljs .language-javascript .hljs-tag,.hljs .language-js .hljs-tag{color:var(--neon-bunny-tag)}.hljs.language-javascript .hljs-bullet,.hljs.language-js .hljs-bullet,.hljs .language-javascript .hljs-bullet,.hljs .language-js .hljs-bullet{color:var(--neon-bunny-bullet)}.hljs.language-javascript .hljs-code,.hljs.language-js .hljs-code,.hljs .language-javascript .hljs-code,.hljs .language-js .hljs-code{color:var(--neon-bunny-code)}.hljs.language-javascript .hljs-emphasis,.hljs.language-js .hljs-emphasis,.hljs .language-javascript .hljs-emphasis,.hljs .language-js .hljs-emphasis{color:var(--neon-bunny-emphasis);font-style:italic}.hljs.language-javascript .hljs-formula,.hljs.language-js .hljs-formula,.hljs .language-javascript .hljs-formula,.hljs .language-js .hljs-formula{color:var(--neon-bunny-formula)}.hljs.language-javascript .hljs-link,.hljs.language-js .hljs-link,.hljs .language-javascript .hljs-link,.hljs .language-js .hljs-link{color:var(--neon-bunny-link)}.hljs.language-javascript .hljs-quote,.hljs.language-js .hljs-quote,.hljs .language-javascript .hljs-quote,.hljs .language-js .hljs-quote{color:var(--neon-bunny-quote)}.hljs.language-javascript .hljs-strong,.hljs.language-js .hljs-strong,.hljs .language-javascript .hljs-strong,.hljs .language-js .hljs-strong{color:var(--neon-bunny-strong);font-weight:bold}.hljs.language-javascript .hljs-selector,.hljs.language-js .hljs-selector,.hljs .language-javascript .hljs-selector,.hljs .language-js .hljs-selector{color:var(--neon-bunny-selector)}.hljs.language-javascript .hljs-selector-attr,.hljs.language-js .hljs-selector-attr,.hljs .language-javascript .hljs-selector-attr,.hljs .language-js .hljs-selector-attr{color:var(--neon-bunny-selector-attr)}.hljs.language-javascript .hljs-selector-class,.hljs.language-js .hljs-selector-class,.hljs .language-javascript .hljs-selector-class,.hljs .language-js .hljs-selector-class{color:var(--neon-bunny-selector-class)}.hljs.language-javascript .hljs-selector-id,.hljs.language-js .hljs-selector-id,.hljs .language-javascript .hljs-selector-id,.hljs .language-js .hljs-selector-id{color:var(--neon-bunny-selector-id)}.hljs.language-javascript .hljs-selector-pseudo,.hljs.language-js .hljs-selector-pseudo,.hljs .language-javascript .hljs-selector-pseudo,.hljs .language-js .hljs-selector-pseudo{color:var(--neon-bunny-selector-pseudo)}.hljs.language-javascript .hljs-selector-tag,.hljs.language-js .hljs-selector-tag,.hljs .language-javascript .hljs-selector-tag,.hljs .language-js .hljs-selector-tag{color:var(--neon-bunny-selector-tag)}.hljs.language-javascript .hljs-addition,.hljs.language-js .hljs-addition,.hljs .language-javascript .hljs-addition,.hljs .language-js .hljs-addition{color:var(--neon-bunny-addition)}.hljs.language-javascript .hljs-deletion,.hljs.language-js .hljs-deletion,.hljs .language-javascript .hljs-deletion,.hljs .language-js .hljs-deletion{color:var(--neon-bunny-deletion)}.hljs.language-php,.hljs .language-php{color:var(--neon-bunny-php)}.hljs.language-php .hljs-built_in,.hljs .language-php .hljs-built_in{color:var(--neon-bunny-builtin)}.hljs.language-php .hljs-char,.hljs .language-php .hljs-char{color:var(--neon-bunny-char)}.hljs.language-php .hljs-class .hljs-title,.hljs .language-php .hljs-class .hljs-title{color:var(--neon-bunny-php-class-title) !important}.hljs.language-php .hljs-class .hljs-keyword,.hljs .language-php .hljs-class .hljs-keyword{color:var(--neon-bunny-php-class-keyword)}.hljs.language-php .hljs-comment,.hljs .language-php .hljs-comment{color:var(--neon-bunny-comment)}.hljs.language-php .hljs-doctag,.hljs .language-php .hljs-doctag{color:var(--neon-bunny-doctag)}.hljs.language-php .hljs-function .hljs-title,.hljs .language-php .hljs-function .hljs-title{color:var(--neon-bunny-php-function-title)}.hljs.language-php .hljs-keyword,.hljs .language-php .hljs-keyword{color:var(--neon-bunny-php-keyword)}.hljs.language-php .hljs-literal,.hljs .language-php .hljs-literal{color:var(--neon-bunny-literal)}.hljs.language-php .hljs-number,.hljs .language-php .hljs-number{color:var(--neon-bunny-number)}.hljs.language-php .hljs-operator,.hljs .language-php .hljs-operator{color:var(--neon-bunny-operator)}.hljs.language-php .hljs-params,.hljs .language-php .hljs-params{color:var(--neon-bunny-php-params)}.hljs.language-php .hljs-params .hljs-variable,.hljs .language-php .hljs-params .hljs-variable{color:var(--neon-bunny-php-params-variable)}.hljs.language-php .hljs-property,.hljs .language-php .hljs-property{color:var(--neon-bunny-property)}.hljs.language-php .hljs-punctuation,.hljs .language-php .hljs-punctuation{color:var(--neon-bunny-punctuation)}.hljs.language-php .hljs-regexp,.hljs .language-php .hljs-regexp{color:var(--neon-bunny-regex)}.hljs.language-php .hljs-string,.hljs .language-php .hljs-string{color:var(--neon-bunny-php-string)}.hljs.language-php .hljs-subst,.hljs .language-php .hljs-subst{color:var(--neon-bunny-subst)}.hljs.language-php .hljs-symbol,.hljs .language-php .hljs-symbol{color:var(--neon-bunny-symbol)}.hljs.language-php .hljs-title,.hljs .language-php .hljs-title{color:var(--neon-bunny-php-title)}.hljs.language-php .hljs-title.class_,.hljs .language-php .hljs-title.class_{color:var(--neon-bunny-php-title-class)}.hljs.language-php .hljs-title.class_.inherited__,.hljs .language-php .hljs-title.class_.inherited__{color:var(--neon-bunny-title-class-inherited)}.hljs.language-php .hljs-title.function_,.hljs .language-php .hljs-title.function_{color:var(--neon-bunny-title-function)}.hljs.language-php .hljs-title.function_.invoke__,.hljs .language-php .hljs-title.function_.invoke__{color:var(--neon-bunny-php-title-function-invoke)}.hljs.language-php .hljs-type,.hljs .language-php .hljs-type{color:var(--neon-bunny-type)}.hljs.language-php .hljs-variable,.hljs .language-php .hljs-variable{color:var(--neon-bunny-php-variable)}.hljs.language-php .hljs-variable.constant_,.hljs .language-php .hljs-variable.constant_{color:var(--neon-bunny-variable-constant)}.hljs.language-php .hljs-variable.language_,.hljs .language-php .hljs-variable.language_{color:var(--neon-bunny-variable-language)}.hljs.language-php .hljs-meta,.hljs .language-php .hljs-meta{color:var(--neon-bunny-php-meta)}.hljs.language-php .hljs-meta.prompt_,.hljs .language-php .hljs-meta.prompt_{color:var(--neon-bunny-meta-prompt)}.hljs.language-php .hljs-meta.keyword_,.hljs .language-php .hljs-meta.keyword_{color:var(--neon-bunny-meta-keyword)}.hljs.language-php .hljs-meta.string_,.hljs .language-php .hljs-meta.string_{color:var(--neon-bunny-meta-string)}.hljs.language-php .hljs-attr,.hljs .language-php .hljs-attr{color:var(--neon-bunny-attr)}.hljs.language-php .hljs-attribute,.hljs .language-php .hljs-attribute{color:var(--neon-bunny-attribute)}.hljs.language-php .hljs-name,.hljs .language-php .hljs-name{color:var(--neon-bunny-name)}.hljs.language-php .hljs-section,.hljs .language-php .hljs-section{color:var(--neon-bunny-section)}.hljs.language-php .hljs-tag,.hljs .language-php .hljs-tag{color:var(--neon-bunny-tag)}.hljs.language-php .hljs-bullet,.hljs .language-php .hljs-bullet{color:var(--neon-bunny-bullet)}.hljs.language-php .hljs-code,.hljs .language-php .hljs-code{color:var(--neon-bunny-code)}.hljs.language-php .hljs-emphasis,.hljs .language-php .hljs-emphasis{color:var(--neon-bunny-emphasis);font-style:italic}.hljs.language-php .hljs-formula,.hljs .language-php .hljs-formula{color:var(--neon-bunny-formula)}.hljs.language-php .hljs-link,.hljs .language-php .hljs-link{color:var(--neon-bunny-link)}.hljs.language-php .hljs-quote,.hljs .language-php .hljs-quote{color:var(--neon-bunny-quote)}.hljs.language-php .hljs-strong,.hljs .language-php .hljs-strong{color:var(--neon-bunny-strong);font-weight:bold}.hljs.language-php .hljs-selector,.hljs .language-php .hljs-selector{color:var(--neon-bunny-selector)}.hljs.language-php .hljs-selector-attr,.hljs .language-php .hljs-selector-attr{color:var(--neon-bunny-selector-attr)}.hljs.language-php .hljs-selector-class,.hljs .language-php .hljs-selector-class{color:var(--neon-bunny-selector-class)}.hljs.language-php .hljs-selector-id,.hljs .language-php .hljs-selector-id{color:var(--neon-bunny-selector-id)}.hljs.language-php .hljs-selector-pseudo,.hljs .language-php .hljs-selector-pseudo{color:var(--neon-bunny-selector-pseudo)}.hljs.language-php .hljs-selector-tag,.hljs .language-php .hljs-selector-tag{color:var(--neon-bunny-selector-tag)}.hljs.language-php .hljs-addition,.hljs .language-php .hljs-addition{color:var(--neon-bunny-addition)}.hljs.language-php .hljs-deletion,.hljs .language-php .hljs-deletion{color:var(--neon-bunny-deletion)}\n`);\n    }\n    if (!S && !z) return rn(), s.appendChild(document.createTextNode(a)), void o.appendChild(s);\n    const un = on(l, j.value);\n    if (e.value.cssPath !== void 0) w = e.value.cssPath;\n    else switch (l) {\n      case \"highlightjs\":\n        p = `${un}.min.css`, w = `${mn.value}/${p}`;\n        break;\n      case \"prism\":\n        p = `${un}.css`, w = j.value === \"default\" ? `${Y.value}/prism.css` : j.value.includes(\"themes-\") ? `${dn.value}/${p}` : `${Y.value}/prism-${p}`;\n        break;\n      default:\n        p = \"\";\n    }\n    I.value = !0, fetch(w).then((B) => B.text()).then((B) => {\n      rn(), s.appendChild(document.createTextNode(B)), o.appendChild(s), I.value = !1;\n    }).catch((B) => {\n      const Bn = e.value.highlightjs ? \"Highlight.js\" : \"PrismJS\";\n      console.error(`${Bn} CDN Error:`, B);\n    });\n  }\n  function sn() {\n    const a = Wn().device;\n    C.value = a.type === \"mobile\";\n  }\n  function on(a, l, o = !1) {\n    let s = l;\n    return a === \"prism\" && (s = s.replace(\"themes-\", \"prism-\"), s = s.replace(\"prism-prism-\", \"prism-\"), s = s.replace(\"theme-prism-\", \"theme-\"), o && (s = s.replace(\"prism-prism-\", \"\"), s = s.replace(\"prism-\", \"\"))), a === \"highlightjs\" && (s = s.replace(\"base16-\", \"base16/\")), s;\n  }\n  function rn() {\n    const a = document.querySelectorAll('[data-theme=\"v-code-block--theme-sheet\"]');\n    a.length > 0 && a.forEach((l) => {\n      l.remove();\n    });\n  }\n  function tn() {\n    Sn(), e.value.highlightjs && import(\"highlight.js\").then((a) => {\n      L = a.default, L.registerLanguage(\"plain\", Fn), M.value = L.highlight(_.value, { language: e.value.lang }).value;\n    }).catch((a) => {\n      console.error(\"Highlight.js import:\", { err: a });\n    }), e.value.prismjs && import(\"prismjs\").then((a) => {\n      A = a.default, M.value = A.highlight(_.value, A.languages[e.value.lang], e.value.lang);\n    }).catch((a) => {\n      console.error(\"PrismJS import:\", { err: a });\n    });\n  }\n  function J() {\n    b(\"run\");\n  }\n  return Vn(E, () => {\n    e.value = { ...E, ...q }, e.value.code && tn(), (e.value.theme || e.value.prismjs || e.value.highlightjs) && (an(), j.value = e.value.theme, ln()), e.value.copyText && (T.value = e.value.copyText), e.value.runText && (G.value = e.value.runText);\n  }), Hn(() => {\n    T.value = e.value.copyText, G.value = e.value.runText, an();\n  }), Dn(() => {\n    j.value = e.value.theme, ln(), sn(), tn();\n  }), window.addEventListener(\"orientationchange\", () => {\n    sn();\n  }), (a, l) => (g(), i(\"div\", { class: k(n(wn)) }, [n(Q) || n(N) || n(f).label || n(f).tabs ? (g(), i(\"div\", { key: 0, class: \"v-code-block--header\", style: V(n($n)) }, [d(\"div\", { class: k([\"v-code-block--label v-code-block--pb-1\", n(Tn)]) }, [n(f).label ? O(a.$slots, \"label\", R(x({ key: 0 }, { copyCode: P, copyStatus: n(h), runCode: J })), void 0, !0) : (g(), i(U, { key: 1 }, [H(D(n(Q)), 1)], 64))], 2), d(\"div\", { class: \"v-code-block--tabs\", style: V(n(zn)) }, [n(f).tabs ? O(a.$slots, \"tabs\", R(x({ key: 0 }, { copyCode: P, copyStatus: n(h), runCode: J })), void 0, !0) : (g(), i(U, { key: 1 }, [n(K) && n(N) ? (g(), i(\"div\", { key: 0, class: k([\"v-code-block--tab\", n(nn)]), onClick: P }, [d(\"div\", In, [n(fn) ? (g(), gn(pn, { key: 0, class: k([\"v-code-block--button-copy-icon\", n(Z)]), icon: n(h) }, null, 8, [\"class\", \"icon\"])) : $(\"\", !0), H(\" \" + D(n(T)), 1)])], 2)) : $(\"\", !0), n(X) && n(N) && !n(C) ? (g(), i(\"div\", { key: 1, class: k([\"v-code-block--tab v-code-block--tab-run\", n(nn)]), onClick: J }, [d(\"div\", Gn, D(n(G)), 1)], 2)) : $(\"\", !0)], 64))], 4)], 4)) : $(\"\", !0), d(\"div\", Jn, [d(\"div\", { class: k([\"v-code-block--code-copy-button\", n(xn)]), onClick: P }, [n(f).copyButton ? O(a.$slots, \"copyButton\", R(x({ key: 0 }, { copyStatus: n(h) })), void 0, !0) : (g(), i(U, { key: 1 }, [n(kn) ? (g(), gn(pn, { key: 0, class: k([\"v-code-block--button-copy-icon\", n(Z)]), icon: n(h) }, null, 8, [\"class\", \"icon\"])) : $(\"\", !0)], 64))], 2), d(\"pre\", x(a.$attrs, { class: `language-${n(e).lang}`, style: n(Cn) }), [H(\"\t\t\"), a.prismPlugin ? (g(), i(\"code\", { key: 0, class: k(`language-${n(e).lang} ${n(e).browserWindow ? \"v-code-block--code-browser\" : \"\"} ${n(e).highlightjs ? \"hljs\" : \"\"}`), style: V(n(en)), textContent: D(n(_n)) }, null, 14, On)) : (g(), i(\"code\", { key: 1, class: k(`language-${n(e).lang} ${n(e).browserWindow ? \"v-code-block--code-browser\" : \"\"} ${n(e).highlightjs ? \"hljs\" : \"\"}`), style: V(n(en)), innerHTML: n(M) }, null, 14, Rn)), H(`\n\t`)], 16)])], 2));\n} }), [[\"__scopeId\", \"data-v-51ec5829\"]]), bn = Object.freeze(Object.defineProperty({ __proto__: null, default: Un }, Symbol.toStringTag, { value: \"Module\" })), vn = Symbol();\nfunction Qn(r = {}) {\n  return { install: (t) => {\n    t.provide(vn, r), t.component(\"CodeBlock\", hn(() => Promise.resolve().then(() => bn))), t.component(\"VCodeBlock\", hn(() => Promise.resolve().then(() => bn)));\n  } };\n}\nexport {\n  Un as VCodeBlock,\n  vn as codeBlockOptions,\n  Qn as createVCodeBlock,\n  Un as default\n};\n(function(){\"use strict\";try{if(typeof document<\"u\"){var i=document.createElement(\"style\");i.appendChild(document.createTextNode(`:root{--v-cb-blue: 206 80% 39%;--v-cb-blue-hex: #146eb4;--v-cb-blue-rgb: 20, 110, 180;--v-cb-primary: var(--v-cb-blue);--v-cb-primary-hex: var(--v-cb-blue-hex);--v-cb-primary-rgb: var(--v-cb-blue-rgb);--v-cb-green: 120 61% 34%;--v-cb-green-hex: #228b22;--v-cb-green-rgb: 34, 139, 34;--v-cb-success: var(--v-cb-green);--v-cb-success-hex: var(--v-cb-green-hex);--v-cb-success-rgb: var(--v-cb-green-rgb);--v-cb-red: 0 68% 42%;--v-cb-red-hex: #b22222;--v-cb-red-rgb: 178, 34, 34;--v-cb-danger: var(--v-cb-red);--v-cb-danger-hex: var(--v-cb-red-hex);--v-cb-danger-rgb: var(--v-cb-red-rgb);--v-cb-tab-neon-bunny-bkg: 0 0% 0%;--v-cb-tab-neon-bunny-text: 0 0% 100%;--v-cb-tab-neon-bunny-icon: 207 100% 52%;--v-cb-tab-neon-bunny-icon-success: 119 100% 51%;--v-cb-tab-neon-bunny-icon-failed: 3 100% 58%;--v-cb-tab-neon-bunny-carrot-bkg: 0 0% 0%;--v-cb-tab-neon-bunny-carrot-text: 0 0% 100%;--v-cb-tab-neon-bunny-carrot-icon: 292 100% 50%;--v-cb-tab-neon-bunny-carrot-icon-success: 119 100% 51%;--v-cb-tab-neon-bunny-carrot-icon-failed: 3 100% 58%;--v-cb-tab-prism-coy-bkg: 205 59% 50%;--v-cb-tab-prism-coy-text: 0 0% 0%;--v-cb-tab-prism-coy-icon: 195 76% 41%;--v-cb-tab-prism-coy-icon-success: 80 100% 30%;--v-cb-tab-prism-coy-icon-failed: 0 64% 48%;--v-cb-tab-prism-dark-bkg: 30 20% 25%;--v-cb-tab-prism-dark-text: 0 0% 100%;--v-cb-tab-prism-dark-border: 30 20% 40%;--v-cb-tab-prism-dark-icon: 40 90% 60%;--v-cb-tab-prism-dark-icon-success: 75 70% 60%;--v-cb-tab-prism-dark-icon-failed: 0 100% 50%;--v-cb-tab-prism-default-bkg: 24 20% 95%;--v-cb-tab-prism-default-text: 0 0% 0%;--v-cb-tab-prism-default-icon: 198 100% 33%;--v-cb-tab-prism-default-icon-success: 80 100% 30%;--v-cb-tab-prism-default-icon-failed: 348 68% 58%;--v-cb-tab-prism-funky-bkg: 0 0% 80%;--v-cb-tab-prism-funky-text: 0 0% 100%;--v-cb-tab-prism-funky-dark: 0 0% 0%;--v-cb-tab-prism-funky-icon: 328 100% 54%;--v-cb-tab-prism-funky-icon-success: 80 61% 50%;--v-cb-tab-prism-funky-icon-failed: 0 100% 50%;--v-cb-tab-prism-okaidia-bkg: 70 8% 15%;--v-cb-tab-prism-okaidia-text: 0 0% 100%;--v-cb-tab-prism-okaidia-icon: 190 81% 67%;--v-cb-tab-prism-okaidia-icon-success: 80 76% 53%;--v-cb-tab-prism-okaidia-icon-failed: 338 95% 56%;--v-cb-tab-prism-solarizedlight-bkg: 44 87% 94%;--v-cb-tab-prism-solarizedlight-text: 196 13% 45%;--v-cb-tab-prism-solarizedlight-icon: 175 59% 40%;--v-cb-tab-prism-solarizedlight-icon-success: 68 100% 30%;--v-cb-tab-prism-solarizedlight-icon-failed: 18 80% 44%;--v-cb-tab-prism-tomorrow-bkg: 0 0% 18%;--v-cb-tab-prism-tomorrow-text: 0 0% 80%;--v-cb-tab-prism-tomorrow-icon: 299 34% 70%;--v-cb-tab-prism-tomorrow-icon-success: 143 39% 64%;--v-cb-tab-prism-tomorrow-icon-failed: 358 65% 68%;--v-cb-tab-prism-twilight-bkg: 0 0% 8%;--v-cb-tab-prism-twilight-text: 0 0% 80%;--v-cb-tab-prism-twilight-border: 0 0% 33%;--v-cb-tab-prism-twilight-icon: 53 89% 79%;--v-cb-tab-prism-twilight-icon-success: 76 21% 52%;--v-cb-tab-prism-twilight-icon-failed: 14 58% 55%;--v-cb-tab-prism-themes-night-owl: 207 95% 8%;--v-cb-tab-prism-themes-night-owl-text: 217 34% 88%;--v-cb-tab-prism-themes-night-owl-icon: 169 56% 68%;--v-cb-tab-prism-themes-night-owl-icon-success: 84 62% 63%;--v-cb-tab-prism-themes-night-owl-icon-failed: 350 100% 67%;--v-cb-tab-highlightjs-a11y-dark-bkg: 0 0% 17%;--v-cb-tab-highlightjs-a11y-dark-text: 60 30% 96%;--v-cb-tab-highlightjs-a11y-dark-icon: 180 100% 44%;--v-cb-tab-highlightjs-a11y-dark-icon-success: 80 75% 55%;--v-cb-tab-highlightjs-a11y-dark-icon-failed: 17 100% 74%;--v-cb-tab-highlightjs-a11y-light-bkg: 0 0% 100%;--v-cb-tab-highlightjs-a11y-light-text: 0 0% 33%;--v-cb-tab-highlightjs-a11y-light-icon: 280 60% 39%;--v-cb-tab-highlightjs-a11y-light-icon-success: 120 100% 25%;--v-cb-tab-highlightjs-a11y-light-icon-failed: 2 80% 47%;--v-cb-tab-highlightjs-agate-bkg: 0 0% 20%;--v-cb-tab-highlightjs-agate-text: 0 0% 100%;--v-cb-tab-highlightjs-agate-icon: 197 93% 83%;--v-cb-tab-highlightjs-agate-icon-success: 136 53% 66%;--v-cb-tab-highlightjs-agate-icon-failed: 0 56% 61%;--v-cb-tab-highlightjs-an-old-hope-bkg: 228 8% 12%;--v-cb-tab-highlightjs-an-old-hope-text: 219 13% 78%;--v-cb-tab-highlightjs-an-old-hope-icon: 195 63% 58%;--v-cb-tab-highlightjs-an-old-hope-icon-success: 116 75% 62%;--v-cb-tab-highlightjs-an-old-hope-icon-failed: 352 81% 58%;--v-cb-tab-highlightjs-androidstudio-bkg: 210 7% 17%;--v-cb-tab-highlightjs-androidstudio-text: 211 20% 72%;--v-cb-tab-highlightjs-androidstudio-icon: 206 38% 57%;--v-cb-tab-highlightjs-androidstudio-icon-success: 108 28% 46%;--v-cb-tab-highlightjs-androidstudio-icon-failed: 27 61% 50%;--v-cb-tab-highlightjs-arduino-light-bkg: 0 0% 100%;--v-cb-tab-highlightjs-arduino-light-text: 198 11% 30%;--v-cb-tab-highlightjs-arduino-light-icon: 182 100% 31%;--v-cb-tab-highlightjs-arduino-light-icon-success: 182 100% 19%;--v-cb-tab-highlightjs-arduino-light-icon-failed: 24 100% 41%;--v-cb-tab-highlightjs-arta-bkg: 0 0% 13%;--v-cb-tab-highlightjs-arta-text: 0 0% 67%;--v-cb-tab-highlightjs-arta-icon: 202 85% 56%;--v-cb-tab-highlightjs-arta-icon-success: 150 100% 40%;--v-cb-tab-highlightjs-arta-icon-failed: 330 83% 40%;--v-cb-tab-highlightjs-ascetic-bkg: 0 0% 100%;--v-cb-tab-highlightjs-ascetic-text: 0 0% 0%;--v-cb-tab-highlightjs-ascetic-icon: 0 0% 53%;--v-cb-tab-highlightjs-ascetic-icon-success: var(--v-cb-success);--v-cb-tab-highlightjs-ascetic-icon-failed: var(--v-cb-failed);--v-cb-tab-highlightjs-atom-one-dark-reasonable-bkg: 220 13% 18%;--v-cb-tab-highlightjs-atom-one-dark-reasonable-text: 219 14% 71%;--v-cb-tab-highlightjs-atom-one-dark-reasonable-icon: 29 54% 61%;--v-cb-tab-highlightjs-atom-one-dark-reasonable-icon-success: 80 76% 53%;--v-cb-tab-highlightjs-atom-one-dark-reasonable-icon-failed: 338 95% 56%;--v-cb-tab-highlightjs-atom-one-dark-bkg: 220 13% 18%;--v-cb-tab-highlightjs-atom-one-dark-text: 219 14% 71%;--v-cb-tab-highlightjs-atom-one-dark-icon: 29 54% 61%;--v-cb-tab-highlightjs-atom-one-dark-icon-success: 95 38% 62%;--v-cb-tab-highlightjs-atom-one-dark-icon-failed: 355 65% 65%;--v-cb-tab-highlightjs-atom-one-light-bkg: 0 0% 98%;--v-cb-tab-highlightjs-atom-one-light-text: 228 8% 24%;--v-cb-tab-highlightjs-atom-one-light-icon: 41 99% 30%;--v-cb-tab-highlightjs-atom-one-light-icon-success: 119 34% 47%;--v-cb-tab-highlightjs-atom-one-light-icon-failed: 5 74% 59%;--v-cb-tab-highlightjs-base16-onedark-bkg: 220 13% 18%;--v-cb-tab-highlightjs-base16-onedark-text: 219 14% 71%;--v-cb-tab-highlightjs-base16-onedark-icon: 207 82% 66%;--v-cb-tab-highlightjs-base16-onedark-icon-success: 95 38% 62%;--v-cb-tab-highlightjs-base16-onedark-icon-failed: 5 48% 51%;--v-cb-tab-highlightjs-brown-paper-bkg: 35 22% 64%;--v-cb-tab-highlightjs-brown-paper-bkg-img: url(brown-papersq.png);--v-cb-tab-highlightjs-brown-paper-text: 233 32% 31%;--v-cb-tab-highlightjs-brown-paper-icon: 207 100% 30%;--v-cb-tab-highlightjs-brown-paper-icon-success: var(--v-cb-success);--v-cb-tab-highlightjs-brown-paper-icon-failed: 359 60% 31%;--v-cb-tab-highlightjs-codepen-embed-bkg: 0 0% 13%;--v-cb-tab-highlightjs-codepen-embed-text: 0 0% 100%;--v-cb-tab-highlightjs-codepen-embed-icon: 300 10% 57%;--v-cb-tab-highlightjs-codepen-embed-icon-success: 76 20% 52%;--v-cb-tab-highlightjs-codepen-embed-icon-failed: var(--v-cb-failed);--v-cb-tab-highlightjs-color-brewer-bkg: 0 0% 100%;--v-cb-tab-highlightjs-color-brewer-text: 0 0% 0%;--v-cb-tab-highlightjs-color-brewer-icon: 205 59% 47%;--v-cb-tab-highlightjs-color-brewer-icon-success: 138 54% 42%;--v-cb-tab-highlightjs-color-brewer-icon-failed: 20 89% 48%;--v-cb-tab-highlightjs-dark-bkg: 0 0% 19%;--v-cb-tab-highlightjs-dark-text: 0 0% 87%;--v-cb-tab-highlightjs-dark-icon: 0 56% 70%;--v-cb-tab-highlightjs-dark-icon-success: var(--v-cb-success);--v-cb-tab-highlightjs-dark-icon-failed: var(--v-cb-failed);--v-cb-tab-highlightjs-default-bkg: 0 0% 95%;--v-cb-tab-highlightjs-default-text: 0 0% 27%;--v-cb-tab-highlightjs-default-icon: 0 0% 27%;--v-cb-tab-highlightjs-default-icon-success: 90 100% 23%;--v-cb-tab-highlightjs-default-icon-failed: 0 100% 27%;--v-cb-tab-highlightjs-devibeans-bkg: 0 0% 0%;--v-cb-tab-highlightjs-devibeans-text: 23 4% 62%;--v-cb-tab-highlightjs-devibeans-icon: 207 89% 68%;--v-cb-tab-highlightjs-devibeans-icon-success: 95 49% 36%;--v-cb-tab-highlightjs-devibeans-icon-failed: 1 83% 63%;--v-cb-tab-highlightjs-docco-bkg: 240 100% 99%;--v-cb-tab-highlightjs-docco-text: 0 0% 0%;--v-cb-tab-highlightjs-docco-icon: 195 100% 35%;--v-cb-tab-highlightjs-docco-icon-success: 150 43% 44%;--v-cb-tab-highlightjs-docco-icon-failed: 17 64% 36%;--v-cb-tab-highlightjs-far-bkg: 240 100% 25%;--v-cb-tab-highlightjs-far-text: 180 100% 50%;--v-cb-tab-highlightjs-far-icon: 60 100% 50%;--v-cb-tab-highlightjs-far-icon-success: 120 100% 50%;--v-cb-tab-highlightjs-far-icon-failed: 0 100% 50%;--v-cb-tab-highlightjs-felipec-bkg: 240 6% 13%;--v-cb-tab-highlightjs-felipec-text: 240 6% 87%;--v-cb-tab-highlightjs-felipec-icon: 210 75% 75%;--v-cb-tab-highlightjs-felipec-icon-success: 120 75% 75%;--v-cb-tab-highlightjs-felipec-icon-failed: 0 75% 75%;--v-cb-tab-highlightjs-foundation-bkg: 0 0% 93%;--v-cb-tab-highlightjs-foundation-text: 0 0% 0%;--v-cb-tab-highlightjs-foundation-icon: 180 100% 30%;--v-cb-tab-highlightjs-foundation-icon-success: 345 86% 47%;--v-cb-tab-highlightjs-foundation-icon-failed: 120 100% 23%;--v-cb-tab-highlightjs-github-dark-dimmed-bkg: 215 15% 16%;--v-cb-tab-highlightjs-github-dark-dimmed-text: 210 19% 73%;--v-cb-tab-highlightjs-github-dark-dimmed-icon: 207 100% 79%;--v-cb-tab-highlightjs-github-dark-dimmed-icon-success: 119 52% 70%;--v-cb-tab-highlightjs-github-dark-dimmed-icon-failed: 359 66% 28%;--v-cb-tab-highlightjs-github-dark-bkg: 216 28% 7%;--v-cb-tab-highlightjs-github-dark-text: 210 17% 82%;--v-cb-tab-highlightjs-github-dark-icon: 208 100% 74%;--v-cb-tab-highlightjs-github-dark-icon-success: 125 69% 70%;--v-cb-tab-highlightjs-github-dark-icon-failed: 4 100% 72%;--v-cb-tab-highlightjs-github-bkg: 0 0% 100%;--v-cb-tab-highlightjs-github-text: 210 12% 16%;--v-cb-tab-highlightjs-github-icon: 212 100% 39%;--v-cb-tab-highlightjs-github-icon-success: 134 60% 33%;--v-cb-tab-highlightjs-github-icon-failed: 354 66% 54%;--v-cb-tab-highlightjs-gml-bkg: 0 0% 13%;--v-cb-tab-highlightjs-gml-text: 0 0% 75%;--v-cb-tab-highlightjs-gml-icon: 60 100% 50%;--v-cb-tab-highlightjs-gml-icon-success: 121 73% 62%;--v-cb-tab-highlightjs-gml-icon-failed: 0 100% 75%;--v-cb-tab-highlightjs-googlecode-bkg: 0 0% 100%;--v-cb-tab-highlightjs-googlecode-text: 0 0% 0%;--v-cb-tab-highlightjs-googlecode-icon: 180 100% 20%;--v-cb-tab-highlightjs-googlecode-icon-success: 120 100% 27%;--v-cb-tab-highlightjs-googlecode-icon-failed: 0 100% 27%;--v-cb-tab-highlightjs-gradient-dark-bkg: 279 58% 34%;--v-cb-tab-highlightjs-gradient-dark-bkg-gradient: linear-gradient(160deg, #652487 0, #443ac3 35%, #0174b7 68%, #04988e 100%);--v-cb-tab-highlightjs-gradient-dark-text: 266 15% 91%;--v-cb-tab-highlightjs-gradient-dark-icon: 199 100% 61%;--v-cb-tab-highlightjs-gradient-dark-icon-success: 75 100% 81%;--v-cb-tab-highlightjs-gradient-dark-icon-failed: 29 100% 63%;--v-cb-tab-highlightjs-gradient-light-bkg: 293 100% 90%;--v-cb-tab-highlightjs-gradient-light-bkg-gradient: linear-gradient(295deg, #f9ccff 0, #e6bbf9 11%, #9ec6f9 32%, #55e6ee 60%, #91f5d1 74%, #f9ffbf 98%);--v-cb-tab-highlightjs-gradient-light-text: 256 94% 26%;--v-cb-tab-highlightjs-gradient-light-icon: 199 64% 41%;--v-cb-tab-highlightjs-gradient-light-icon-success: 149 93% 38%;--v-cb-tab-highlightjs-gradient-light-icon-failed: 19 98% 25%;--v-cb-tab-highlightjs-grayscale-bkg: 0 0% 100%;--v-cb-tab-highlightjs-grayscale-text: 0 0% 20%;--v-cb-tab-highlightjs-grayscale-icon: 0 0% 20%;--v-cb-tab-highlightjs-grayscale-icon-success: 0 0% 20%;--v-cb-tab-highlightjs-grayscale-icon-failed: 0 0% 20%;--v-cb-tab-highlightjs-hybrid-bkg: 210 6% 12%;--v-cb-tab-highlightjs-hybrid-text: 140 3% 78%;--v-cb-tab-highlightjs-hybrid-icon: 208 32% 63%;--v-cb-tab-highlightjs-hybrid-icon-success: 66 39% 57%;--v-cb-tab-highlightjs-hybrid-icon-failed: 0 50% 60%;--v-cb-tab-highlightjs-idea-bkg: 0 0% 100%;--v-cb-tab-highlightjs-idea-text: 0 0% 0%;--v-cb-tab-highlightjs-idea-icon: 240 100% 25%;--v-cb-tab-highlightjs-idea-icon-success: 120 60% 83%;--v-cb-tab-highlightjs-idea-icon-failed: 10 100% 87%;--v-cb-tab-highlightjs-intellij-light-bkg: 0 0% 100%;--v-cb-tab-highlightjs-intellij-light-text: 223 100% 35%;--v-cb-tab-highlightjs-intellij-light-icon: 294 80% 32%;--v-cb-tab-highlightjs-intellij-light-icon-success: 129 91% 26%;--v-cb-tab-highlightjs-intellij-light-icon-failed: var(--v-cb-failed);--v-cb-tab-highlightjs-ir-black-bkg: 0 0% 0%;--v-cb-tab-highlightjs-ir-black-text: 0 0% 97%;--v-cb-tab-highlightjs-ir-black-icon: 209 98% 79%;--v-cb-tab-highlightjs-ir-black-icon-success: 93 100% 69%;--v-cb-tab-highlightjs-ir-black-icon-failed: 301 100% 73%;--v-cb-tab-highlightjs-isbl-editor-dark-bkg: 0 0% 25%;--v-cb-tab-highlightjs-isbl-editor-dark-text: 0 0% 94%;--v-cb-tab-highlightjs-isbl-editor-dark-icon: 0 0% 94%;--v-cb-tab-highlightjs-isbl-editor-dark-icon-success: 90 100% 23%;--v-cb-tab-highlightjs-isbl-editor-dark-icon-failed: 13 76% 50%;--v-cb-tab-highlightjs-isbl-editor-light-bkg: 0 0% 100%;--v-cb-tab-highlightjs-isbl-editor-light-text: 0 0% 0%;--v-cb-tab-highlightjs-isbl-editor-light-icon: 240 100% 25%;--v-cb-tab-highlightjs-isbl-editor-light-icon-success: 90 100% 23%;--v-cb-tab-highlightjs-isbl-editor-light-icon-failed: 11 100% 49%;--v-cb-tab-highlightjs-kimbie-dark-bkg: 35 39% 10%;--v-cb-tab-highlightjs-kimbie-dark-text: 32 47% 68%;--v-cb-tab-highlightjs-kimbie-dark-icon: 356 19% 50%;--v-cb-tab-highlightjs-kimbie-dark-icon-success: 74 35% 45%;--v-cb-tab-highlightjs-kimbie-dark-icon-failed: 349 70% 54%;--v-cb-tab-highlightjs-kimbie-light-bkg: 35 83% 91%;--v-cb-tab-highlightjs-kimbie-light-text: 30 37% 38%;--v-cb-tab-highlightjs-kimbie-light-icon: 32 92% 58%;--v-cb-tab-highlightjs-kimbie-light-icon-success: 74 35% 45%;--v-cb-tab-highlightjs-kimbie-light-icon-failed: 349 70% 54%;--v-cb-tab-highlightjs-lightfair-bkg: 0 0% 100%;--v-cb-tab-highlightjs-lightfair-text: 0 0% 27%;--v-cb-tab-highlightjs-lightfair-icon: 217 89% 61%;--v-cb-tab-highlightjs-lightfair-icon-success: 180 69% 46%;--v-cb-tab-highlightjs-lightfair-icon-failed: 0 41% 56%;--v-cb-tab-highlightjs-lioshi-bkg: 0 0% 19%;--v-cb-tab-highlightjs-lioshi-text: 140 3% 78%;--v-cb-tab-highlightjs-lioshi-icon: 304 24% 66%;--v-cb-tab-highlightjs-lioshi-icon-success: 66 39% 57%;--v-cb-tab-highlightjs-lioshi-icon-failed: 0 50% 60%;--v-cb-tab-highlightjs-magula-bkg: 0 0% 96%;--v-cb-tab-highlightjs-magula-text: 0 0% 0%;--v-cb-tab-highlightjs-magula-icon: 240 100% 25%;--v-cb-tab-highlightjs-magula-icon-success: 120 100% 17%;--v-cb-tab-highlightjs-magula-icon-failed: 0 100% 27%;--v-cb-tab-highlightjs-mono-blue-bkg: 213 27% 94%;--v-cb-tab-highlightjs-mono-blue-text: 214 100% 11%;--v-cb-tab-highlightjs-mono-blue-icon: 215 100% 34%;--v-cb-tab-highlightjs-mono-blue-icon-success: var(--v-cb-success);--v-cb-tab-highlightjs-mono-blue-icon-failed: var(--v-cb-failed);--v-cb-tab-highlightjs-monokai-sublime-bkg: 72 7% 13%;--v-cb-tab-highlightjs-monokai-sublime-text: 60 30% 96%;--v-cb-tab-highlightjs-monokai-sublime-icon: 54 70% 68%;--v-cb-tab-highlightjs-monokai-sublime-icon-success: 80 76% 53%;--v-cb-tab-highlightjs-monokai-sublime-icon-failed: 338 95% 56%;--v-cb-tab-highlightjs-monokai-bkg: 70 8% 15%;--v-cb-tab-highlightjs-monokai-text: 0 0% 87%;--v-cb-tab-highlightjs-monokai-icon: 0 0% 87%;--v-cb-tab-highlightjs-monokai-icon-success: 80 76% 53%;--v-cb-tab-highlightjs-monokai-icon-failed: 338 95% 56%;--v-cb-tab-highlightjs-night-owl-bkg: 207 95% 8%;--v-cb-tab-highlightjs-night-owl-text: 217 34% 88%;--v-cb-tab-highlightjs-night-owl-icon: 276 68% 75%;--v-cb-tab-highlightjs-night-owl-icon-success: 84 62% 63%;--v-cb-tab-highlightjs-night-owl-icon-failed: 350 100% 67%;--v-cb-tab-highlightjs-nnfx-dark-bkg: 0 0% 20%;--v-cb-tab-highlightjs-nnfx-dark-text: 0 0% 100%;--v-cb-tab-highlightjs-nnfx-dark-icon: 270 50% 60%;--v-cb-tab-highlightjs-nnfx-dark-icon-success: 90 50% 60%;--v-cb-tab-highlightjs-nnfx-dark-icon-failed: 18 100% 43%;--v-cb-tab-highlightjs-nnfx-light-bkg: 0 0% 100%;--v-cb-tab-highlightjs-nnfx-light-text: 0 0% 0%;--v-cb-tab-highlightjs-nnfx-light-icon: 240 100% 50%;--v-cb-tab-highlightjs-nnfx-light-icon-success: 120 100% 23%;--v-cb-tab-highlightjs-nnfx-light-icon-failed: 120 100% 48%;--v-cb-tab-highlightjs-nord-bkg: 220 16% 22%;--v-cb-tab-highlightjs-nord-text: 210 34% 63%;--v-cb-tab-highlightjs-nord-icon: 179 25% 65%;--v-cb-tab-highlightjs-nord-icon-success: 92 28% 65%;--v-cb-tab-highlightjs-nord-icon-failed: 14 51% 63%;--v-cb-tab-highlightjs-obsidian-bkg: 210 7% 17%;--v-cb-tab-highlightjs-obsidian-text: 210 7% 89%;--v-cb-tab-highlightjs-obsidian-icon: 210 32% 55%;--v-cb-tab-highlightjs-obsidian-icon-success: 162 26% 64%;--v-cb-tab-highlightjs-obsidian-icon-failed: 30 100% 46%;--v-cb-tab-highlightjs-panda-syntax-dark-bkg: 200 3% 17%;--v-cb-tab-highlightjs-panda-syntax-dark-text: 0 0% 90%;--v-cb-tab-highlightjs-panda-syntax-dark-icon: 207 94% 62%;--v-cb-tab-highlightjs-panda-syntax-dark-icon-success: 171 95% 54%;--v-cb-tab-highlightjs-panda-syntax-dark-icon-failed: 342 100% 65%;--v-cb-tab-highlightjs-panda-syntax-light-bkg: 0 0% 90%;--v-cb-tab-highlightjs-panda-syntax-light-text: 200 3% 17%;--v-cb-tab-highlightjs-panda-syntax-light-icon: 207 57% 50%;--v-cb-tab-highlightjs-panda-syntax-light-icon-success: 171 81% 27%;--v-cb-tab-highlightjs-panda-syntax-light-icon-failed: 324 70% 50%;--v-cb-tab-highlightjs-paraiso-dark-bkg: 304 22% 15%;--v-cb-tab-highlightjs-paraiso-dark-text: 23 4% 62%;--v-cb-tab-highlightjs-paraiso-dark-icon: 45 99% 55%;--v-cb-tab-highlightjs-paraiso-dark-icon-success: 153 43% 50%;--v-cb-tab-highlightjs-paraiso-dark-icon-failed: 5 83% 64%;--v-cb-tab-highlightjs-paraiso-light-bkg: 69 24% 89%;--v-cb-tab-highlightjs-paraiso-light-text: 314 9% 28%;--v-cb-tab-highlightjs-paraiso-light-icon: 45 99% 55%;--v-cb-tab-highlightjs-paraiso-light-icon-success: 153 43% 50%;--v-cb-tab-highlightjs-paraiso-light-icon-failed: 5 83% 64%;--v-cb-tab-highlightjs-pojoaque-bkg: 72 11% 9%;--v-cb-tab-highlightjs-pojoaque-bkg-img: url(pojoaque.jpg) left top;--v-cb-tab-highlightjs-pojoaque-text: 50 52% 71%;--v-cb-tab-highlightjs-pojoaque-icon: 36 100% 62%;--v-cb-tab-highlightjs-pojoaque-icon-success: 149 32% 41%;--v-cb-tab-highlightjs-pojoaque-icon-failed: 1 71% 52%;--v-cb-tab-highlightjs-purebasic-bkg: 60 100% 94%;--v-cb-tab-highlightjs-purebasic-text: 0 0% 0%;--v-cb-tab-highlightjs-purebasic-icon: 210 100% 50%;--v-cb-tab-highlightjs-purebasic-icon-success: 180 100% 33%;--v-cb-tab-highlightjs-purebasic-icon-failed: 327 32% 43%;--v-cb-tab-highlightjs-qtcreator-dark-bkg: 0 0% 0%;--v-cb-tab-highlightjs-qtcreator-dark-text: 0 0% 67%;--v-cb-tab-highlightjs-qtcreator-dark-icon: 240 100% 77%;--v-cb-tab-highlightjs-qtcreator-dark-icon-success: var(--v-cb-success);--v-cb-tab-highlightjs-qtcreator-dark-icon-failed: 0 100% 67%;--v-cb-tab-highlightjs-qtcreator-light-bkg: 0 0% 100%;--v-cb-tab-highlightjs-qtcreator-light-text: 0 0% 0%;--v-cb-tab-highlightjs-qtcreator-light-icon: 240 100% 25%;--v-cb-tab-highlightjs-qtcreator-light-icon-success: 60 100% 25%;--v-cb-tab-highlightjs-qtcreator-light-icon-failed: 0 100% 25%;--v-cb-tab-highlightjs-rainbow-bkg: 180 1% 28%;--v-cb-tab-highlightjs-rainbow-text: 210 21% 85%;--v-cb-tab-highlightjs-rainbow-icon: 208 32% 63%;--v-cb-tab-highlightjs-rainbow-icon-success: 66 39% 57%;--v-cb-tab-highlightjs-rainbow-icon-failed: 1 71% 52%;--v-cb-tab-highlightjs-routeros-bkg: 0 0% 94%;--v-cb-tab-highlightjs-routeros-text: 0 0% 27%;--v-cb-tab-highlightjs-routeros-icon: 200 66% 36%;--v-cb-tab-highlightjs-routeros-icon-success: 115 100% 30%;--v-cb-tab-highlightjs-routeros-icon-failed: 0 100% 27%;--v-cb-tab-highlightjs-school-book-bkg: 59 79% 83%;--v-cb-tab-highlightjs-school-book-text: 84 62% 22%;--v-cb-tab-highlightjs-school-book-icon: 207 100% 30%;--v-cb-tab-highlightjs-school-book-icon-success: var(--v-cb-success);--v-cb-tab-highlightjs-school-book-icon-failed: 355 97% 46%;--v-cb-tab-highlightjs-shades-of-purple-bkg: 243 34% 25%;--v-cb-tab-highlightjs-shades-of-purple-text: 248 100% 94%;--v-cb-tab-highlightjs-shades-of-purple-icon: 38 100% 49%;--v-cb-tab-highlightjs-shades-of-purple-icon-success: 102 83% 45%;--v-cb-tab-highlightjs-shades-of-purple-icon-failed: 344 94% 69%;--v-cb-tab-highlightjs-srcery-bkg: 40 6% 10%;--v-cb-tab-highlightjs-srcery-text: 39 90% 88%;--v-cb-tab-highlightjs-srcery-icon: 41 96% 57%;--v-cb-tab-highlightjs-srcery-icon-success: 76 55% 48%;--v-cb-tab-highlightjs-srcery-icon-failed: 2 86% 55%;--v-cb-tab-highlightjs-stackoverflow-dark-bkg: 0 2% 11%;--v-cb-tab-highlightjs-stackoverflow-dark-text: 0 0% 100%;--v-cb-tab-highlightjs-stackoverflow-dark-icon: 207 42% 67%;--v-cb-tab-highlightjs-stackoverflow-dark-icon-success: 66 39% 57%;--v-cb-tab-highlightjs-stackoverflow-dark-icon-failed: 357 62% 66%;--v-cb-tab-highlightjs-stackoverflow-light-bkg: 0 0% 96%;--v-cb-tab-highlightjs-stackoverflow-light-text: 210 8% 20%;--v-cb-tab-highlightjs-stackoverflow-light-icon: 205 99% 29%;--v-cb-tab-highlightjs-stackoverflow-light-icon-success: 140 41% 31%;--v-cb-tab-highlightjs-stackoverflow-light-icon-failed: 360 62% 46%;--v-cb-tab-highlightjs-sunburst-bkg: 0 0% 0%;--v-cb-tab-highlightjs-sunburst-text: 0 0% 97%;--v-cb-tab-highlightjs-sunburst-icon: 214 100% 77%;--v-cb-tab-highlightjs-sunburst-icon-success: 101 45% 47%;--v-cb-tab-highlightjs-sunburst-icon-failed: 18 68% 64%;--v-cb-tab-highlightjs-tokyo-night-dark-bkg: 235 19% 13%;--v-cb-tab-highlightjs-tokyo-night-dark-text: 227 35% 71%;--v-cb-tab-highlightjs-tokyo-night-dark-icon: 261 85% 79%;--v-cb-tab-highlightjs-tokyo-night-dark-icon-success: 89 51% 61%;--v-cb-tab-highlightjs-tokyo-night-dark-icon-failed: 349 89% 72%;--v-cb-tab-highlightjs-tokyo-night-light-bkg: 230 8% 85%;--v-cb-tab-highlightjs-tokyo-night-light-text: 230 12% 38%;--v-cb-tab-highlightjs-tokyo-night-light-icon: 218 45% 37%;--v-cb-tab-highlightjs-tokyo-night-light-icon-success: 89 32% 28%;--v-cb-tab-highlightjs-tokyo-night-light-icon-failed: 348 35% 41%;--v-cb-tab-highlightjs-tomorrow-night-blue-bkg: 213 100% 16%;--v-cb-tab-highlightjs-tomorrow-night-blue-text: 0 0% 100%;--v-cb-tab-highlightjs-tomorrow-night-blue-icon: 282 100% 87%;--v-cb-tab-highlightjs-tomorrow-night-blue-icon-success: 87 72% 80%;--v-cb-tab-highlightjs-tomorrow-night-blue-icon-failed: 356 100% 81%;--v-cb-tab-highlightjs-tomorrow-night-bright-bkg: 0 0% 0%;--v-cb-tab-highlightjs-tomorrow-night-bright-text: 0 0% 92%;--v-cb-tab-highlightjs-tomorrow-night-bright-icon: 281 45% 72%;--v-cb-tab-highlightjs-tomorrow-night-bright-icon-success: 68 55% 54%;--v-cb-tab-highlightjs-tomorrow-night-bright-icon-failed: 358 62% 57%;--v-cb-tab-highlightjs-vs-bkg: 0 0% 100%;--v-cb-tab-highlightjs-vs-text: 0 0% 0%;--v-cb-tab-highlightjs-vs-icon: 240 100% 50%;--v-cb-tab-highlightjs-vs-icon-success: 120 100% 25%;--v-cb-tab-highlightjs-vs-icon-failed: 0 100% 50%;--v-cb-tab-highlightjs-vs2015-bkg: 0 0% 12%;--v-cb-tab-highlightjs-vs2015-text: 0 0% 86%;--v-cb-tab-highlightjs-vs2015-icon: 207 61% 59%;--v-cb-tab-highlightjs-vs2015-icon-success: 112 38% 47%;--v-cb-tab-highlightjs-vs2015-icon-failed: 0 0% 0%;--v-cb-tab-highlightjs-xcode-bkg: 0 0% 100%;--v-cb-tab-highlightjs-xcode-text: 0 0% 0%;--v-cb-tab-highlightjs-xcode-icon: 240 100% 53%;--v-cb-tab-highlightjs-xcode-icon-success: 120 100% 23%;--v-cb-tab-highlightjs-xcode-icon-failed: 1 80% 43%;--v-cb-tab-highlightjs-xt256-bkg: 0 0% 0%;--v-cb-tab-highlightjs-xt256-text: 0 0% 92%;--v-cb-tab-highlightjs-xt256-icon: 240 100% 50%;--v-cb-tab-highlightjs-xt256-icon-success: 120 100% 50%;--v-cb-tab-highlightjs-xt256-icon-failed: 0 100% 50%}.v-code-block{display:block;max-width:100%}.v-code-block--header{align-items:end;display:flex;justify-content:space-between;overflow:visible;position:relative;width:100%}.v-code-block--label{overflow:auto}.v-code-block--tabs{align-items:end;display:flex;justify-content:flex-end}.v-code-block--tab{align-items:center;border-radius:5px 5px 0 0;cursor:pointer;display:flex;flex-direction:row;justify-content:flex-start;padding:5px 15px;text-align:center;transition:background-color .35s ease;white-space:nowrap;width:fit-content}.v-code-block--tab svg{height:.85rem;width:.85rem}.v-code-block--code{position:relative;z-index:1}.v-code-block--code pre,.v-code-block--code pre[class*=language-]{margin-top:0}.v-code-block--code pre[class*=language-]:before,.v-code-block--code pre[class*=language-]:after{bottom:.95em}.v-code-block--code pre code{width:100%}.v-code-block--code-browser:before{background-image:url('data:image/svg+xml;utf8, <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"14\" viewBox=\"0 0 54 14\"><g fill=\"none\" fillRule=\"evenodd\" transform=\"translate(1 1)\"><circle cx=\"6\" cy=\"6\" r=\"6\" fill=\"%23FF5F56\" stroke=\"%23E0443E\" strokeWidth=\".5\" /><circle cx=\"26\" cy=\"6\" r=\"6\" fill=\"%23FFBD2E\" stroke=\"%23DEA123\" strokeWidth=\".5\" /><circle cx=\"46\" cy=\"6\" r=\"6\" fill=\"%2327C93F\" stroke=\"%231AAB29\" strokeWidth=\".5\" /></g></svg>');background-position:.5em .5em;background-repeat:no-repeat;content:\"\";display:block;padding-right:10em;padding-top:3rem;width:100%}.v-code-block--code:hover .v-code-block--code-copy-button{opacity:1}.v-code-block--code-copy-button{align-items:center;color:#ccc;cursor:pointer;display:flex;fill:#ccc;height:1.5em;justify-content:center;opacity:0;position:absolute;right:.9rem;top:.7rem;transition:opacity .2s ease-in-out;width:auto;z-index:2}.v-code-block--code-copy-button:hover{opacity:1}.v-code-block--code-copy-button-persist{opacity:.5}.v-code-block--code-copy-button svg{height:1rem;width:1rem}.v-code-block--tab-prism-funky{background:url('data:image/svg+xml;charset=utf-8,<svg%20version%3D\"1.1\"%20xmlns%3D\"http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\"%20width%3D\"100\"%20height%3D\"100\"%20fill%3D\"rgba(0%2C0%2C0%2C.2)\">%0D%0A<polygon%20points%3D\"0%2C50%2050%2C0%200%2C0\"%20%2F>%0D%0A<polygon%20points%3D\"0%2C100%2050%2C100%20100%2C50%20100%2C0\"%20%2F>%0D%0A<%2Fsvg>');background-size:1em 1em}.v-code-block--tab-prism-neon-bunny,.v-code-block--tab-highlightjs-neon-bunny{background-color:hsl(var(--v-cb-tab-neon-bunny-bkg)/100%)!important;color:hsl(var(--v-cb-tab-neon-bunny-text))!important}.v-code-block--tab-prism-neon-bunny:hover,.v-code-block--tab-highlightjs-neon-bunny:hover{background-color:hsl(var(--v-cb-tab-neon-bunny-bkg)/50%)!important}.v-code-block--tab-prism-neon-bunny-icon,.v-code-block--tab-highlightjs-neon-bunny-icon{color:hsl(var(--v-cb-tab-neon-bunny-icon))!important;fill:hsl(var(--v-cb-tab-neon-bunny-icon))!important}.v-code-block--tab-prism-neon-bunny-icon-status-success,.v-code-block--tab-highlightjs-neon-bunny-icon-status-success{color:hsl(var(--v-cb-tab-neon-bunny-icon-success))!important;fill:hsl(var(--v-cb-tab-neon-bunny-icon-success))!important}.v-code-block--tab-prism-neon-bunny-icon-status-failed,.v-code-block--tab-highlightjs-neon-bunny-icon-status-failed{color:hsl(var(--v-cb-tab-neon-bunny-icon-failed))!important;fill:hsl(var(--v-cb-tab-neon-bunny-icon-failed))!important}.v-code-block--tab-prism-neon-bunny>div,.v-code-block--tab-highlightjs-neon-bunny>div{color:hsl(var(--v-cb-tab-neon-bunny-text))}.v-code-block--tab-prism-neon-bunny-carrot,.v-code-block--tab-highlightjs-neon-bunny-carrot{background-color:hsl(var(--v-cb-tab-neon-bunny-carrot-bkg)/100%)!important;color:hsl(var(--v-cb-tab-neon-bunny-carrot-text))!important}.v-code-block--tab-prism-neon-bunny-carrot:hover,.v-code-block--tab-highlightjs-neon-bunny-carrot:hover{background-color:hsl(var(--v-cb-tab-neon-bunny-carrot-bkg)/50%)!important}.v-code-block--tab-prism-neon-bunny-carrot-icon,.v-code-block--tab-highlightjs-neon-bunny-carrot-icon{color:hsl(var(--v-cb-tab-neon-bunny-carrot-icon))!important;fill:hsl(var(--v-cb-tab-neon-bunny-carrot-icon))!important}.v-code-block--tab-prism-neon-bunny-carrot-icon-status-success,.v-code-block--tab-highlightjs-neon-bunny-carrot-icon-status-success{color:hsl(var(--v-cb-tab-neon-bunny-carrot-icon-success))!important;fill:hsl(var(--v-cb-tab-neon-bunny-carrot-icon-success))!important}.v-code-block--tab-prism-neon-bunny-carrot-icon-status-failed,.v-code-block--tab-highlightjs-neon-bunny-carrot-icon-status-failed{color:hsl(var(--v-cb-tab-neon-bunny-carrot-icon-failed))!important;fill:hsl(var(--v-cb-tab-neon-bunny-carrot-icon-failed))!important}.v-code-block--tab-prism-neon-bunny-carrot>div,.v-code-block--tab-highlightjs-neon-bunny-carrot>div{color:hsl(var(--v-cb-tab-neon-bunny-carrot-text))}.v-code-block--tab-prism-coy{background-color:hsl(var(--v-cb-tab-prism-coy-bkg)/10%)!important;border-left:5px solid hsl(var(--v-cb-tab-prism-coy-bkg));border-radius:0}.v-code-block--tab-prism-coy:hover{background-color:hsl(var(--v-cb-tab-prism-coy-bkg)/20%)!important}.v-code-block--tab-prism-coy-icon{color:hsl(var(--v-cb-tab-prism-coy-icon))!important;fill:hsl(var(--v-cb-tab-prism-coy-icon))!important}.v-code-block--tab-prism-coy-icon-status-success{color:hsl(var(--v-cb-tab-prism-coy-icon-success))!important;fill:hsl(var(--v-cb-tab-prism-coy-icon-success))!important}.v-code-block--tab-prism-coy-icon-status-failed{color:hsl(var(--v-cb-tab-prism-coy-icon-failed))!important;fill:hsl(var(--v-cb-tab-prism-coy-icon-failed))!important}.v-code-block--tab-prism-coy>div{color:hsl(var(--v-cb-tab-prism-coy-text))}.v-code-block--tab-prism-dark{background-color:hsl(var(--v-cb-tab-prism-dark-bkg)/100%)!important;border-color:hsl(var(--v-cb-tab-prism-dark-border));border-style:solid;border-width:.3em .3em 0}.v-code-block--tab-prism-dark:hover{background-color:hsl(var(--v-cb-tab-prism-dark-border)/50%)!important}.v-code-block--tab-prism-dark-icon{color:hsl(var(--v-cb-tab-prism-dark-icon))!important;fill:hsl(var(--v-cb-tab-prism-dark-icon))!important}.v-code-block--tab-prism-dark-icon-status-success{color:hsl(var(--v-cb-tab-prism-dark-icon-success))!important;fill:hsl(var(--v-cb-tab-prism-dark-icon-success))!important}.v-code-block--tab-prism-dark-icon-status-failed{color:hsl(var(--v-cb-tab-prism-dark-icon-failed))!important;fill:hsl(var(--v-cb-tab-prism-dark-icon-failed))!important}.v-code-block--tab-prism-dark>div{color:hsl(var(--v-cb-tab-prism-dark-text))}.v-code-block--tab-prism-default{background-color:hsl(var(--v-cb-tab-prism-default-bkg)/100%)!important}.v-code-block--tab-prism-default:hover{background-color:hsl(var(--v-cb-tab-prism-default-bkg)/50%)!important}.v-code-block--tab-prism-default-icon{color:hsl(var(--v-cb-tab-prism-default-icon))!important;fill:hsl(var(--v-cb-tab-prism-default-icon))!important}.v-code-block--tab-prism-default-icon-status-success{color:hsl(var(--v-cb-tab-prism-default-icon-success))!important;fill:hsl(var(--v-cb-tab-prism-default-icon-success))!important}.v-code-block--tab-prism-default-icon-status-failed{color:hsl(var(--v-cb-tab-prism-default-icon-failed))!important;fill:hsl(var(--v-cb-tab-prism-default-icon-failed))!important}.v-code-block--tab-prism-default>div{color:hsl(var(--v-cb-tab-prism-default-text))}.v-code-block--tab-prism-funky{background:url('data:image/svg+xml;charset=utf-8,<svg%20version%3D\"1.1\"%20xmlns%3D\"http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\"%20width%3D\"100\"%20height%3D\"100\"%20fill%3D\"rgba(0%2C0%2C0%2C.2)\">%0D%0A<polygon%20points%3D\"0%2C50%2050%2C0%200%2C0\"%20%2F>%0D%0A<polygon%20points%3D\"0%2C100%2050%2C100%20100%2C50%20100%2C0\"%20%2F>%0D%0A<%2Fsvg>');background-size:1em 1em}.v-code-block--tab-prism-funky:hover{background-color:hsl(var(--v-cb-tab-prism-funky-bkg))!important}.v-code-block--tab-prism-funky-icon{color:hsl(var(--v-cb-tab-prism-funky-icon))!important;fill:hsl(var(--v-cb-tab-prism-funky-icon))!important}.v-code-block--tab-prism-funky-icon-status-success{color:hsl(var(--v-cb-tab-prism-funky-icon-success))!important;fill:hsl(var(--v-cb-tab-prism-funky-icon-success))!important}.v-code-block--tab-prism-funky-icon-status-failed{color:hsl(var(--v-cb-tab-prism-funky-icon-failed))!important;fill:hsl(var(--v-cb-tab-prism-funky-icon-failed))!important}.v-code-block--tab-prism-funky>div{background-color:hsl(var(--v-cb-tab-prism-funky-dark))!important;color:hsl(var(--v-cb-tab-prism-funky-text))}.v-code-block--tab-prism-okaidia{background-color:hsl(var(--v-cb-tab-prism-okaidia-bkg)/100%)!important}.v-code-block--tab-prism-okaidia:hover{background-color:hsl(var(--v-cb-tab-prism-okaidia-bkg)/50%)!important}.v-code-block--tab-prism-okaidia-icon{color:hsl(var(--v-cb-tab-prism-okaidia-icon))!important;fill:hsl(var(--v-cb-tab-prism-okaidia-icon))!important}.v-code-block--tab-prism-okaidia-icon-status-success{color:hsl(var(--v-cb-tab-prism-okaidia-icon-success))!important;fill:hsl(var(--v-cb-tab-prism-okaidia-icon-success))!important}.v-code-block--tab-prism-okaidia-icon-status-failed{color:hsl(var(--v-cb-tab-prism-okaidia-icon-failed))!important;fill:hsl(var(--v-cb-tab-prism-okaidia-icon-failed))!important}.v-code-block--tab-prism-okaidia>div{color:hsl(var(--v-cb-tab-prism-okaidia-text))}.v-code-block--tab-prism-solarizedlight{background-color:hsl(var(--v-cb-tab-prism-solarizedlight-bkg)/100%)!important}.v-code-block--tab-prism-solarizedlight:hover{background-color:hsl(var(--v-cb-tab-prism-solarizedlight-bkg)/50%)!important}.v-code-block--tab-prism-solarizedlight-icon{color:hsl(var(--v-cb-tab-prism-solarizedlight-icon))!important;fill:hsl(var(--v-cb-tab-prism-solarizedlight-icon))!important}.v-code-block--tab-prism-solarizedlight-icon-status-success{color:hsl(var(--v-cb-tab-prism-solarizedlight-icon-success))!important;fill:hsl(var(--v-cb-tab-prism-solarizedlight-icon-success))!important}.v-code-block--tab-prism-solarizedlight-icon-status-failed{color:hsl(var(--v-cb-tab-prism-solarizedlight-icon-failed))!important;fill:hsl(var(--v-cb-tab-prism-solarizedlight-icon-failed))!important}.v-code-block--tab-prism-solarizedlight>div{color:hsl(var(--v-cb-tab-prism-solarizedlight-text))}.v-code-block--tab-prism-tomorrow{background-color:hsl(var(--v-cb-tab-prism-tomorrow-bkg)/100%)!important}.v-code-block--tab-prism-tomorrow:hover{background-color:hsl(var(--v-cb-tab-prism-tomorrow-bkg)/50%)!important}.v-code-block--tab-prism-tomorrow-icon{color:hsl(var(--v-cb-tab-prism-tomorrow-icon))!important;fill:hsl(var(--v-cb-tab-prism-tomorrow-icon))!important}.v-code-block--tab-prism-tomorrow-icon-status-success{color:hsl(var(--v-cb-tab-prism-tomorrow-icon-success))!important;fill:hsl(var(--v-cb-tab-prism-tomorrow-icon-success))!important}.v-code-block--tab-prism-tomorrow-icon-status-failed{color:hsl(var(--v-cb-tab-prism-tomorrow-icon-failed))!important;fill:hsl(var(--v-cb-tab-prism-tomorrow-icon-failed))!important}.v-code-block--tab-prism-tomorrow>div{color:hsl(var(--v-cb-tab-prism-tomorrow-text))}.v-code-block--tab-prism-twilight{background-color:hsl(var(--v-cb-tab-prism-twilight-bkg)/100%)!important;border-color:hsl(var(--v-cb-tab-prism-twilight-border));border-style:solid;border-width:.3em .3em 0}.v-code-block--tab-prism-twilight:hover{background-color:hsl(var(--v-cb-tab-prism-twilight-bkg)/50%)!important}.v-code-block--tab-prism-twilight-icon{color:hsl(var(--v-cb-tab-prism-twilight-icon))!important;fill:hsl(var(--v-cb-tab-prism-twilight-icon))!important}.v-code-block--tab-prism-twilight-icon-status-success{color:hsl(var(--v-cb-tab-prism-twilight-icon-success))!important;fill:hsl(var(--v-cb-tab-prism-twilight-icon-success))!important}.v-code-block--tab-prism-twilight-icon-status-failed{color:hsl(var(--v-cb-tab-prism-twilight-icon-failed))!important;fill:hsl(var(--v-cb-tab-prism-twilight-icon-failed))!important}.v-code-block--tab-prism-twilight>div{color:hsl(var(--v-cb-tab-prism-twilight-text))}.v-code-block--tab-prism-themes-night-owl{background-color:hsl(var(--v-cb-tab-prism-themes-night-owl)/100%)!important}.v-code-block--tab-prism-themes-night-owl:hover{background-color:hsl(var(--v-cb-tab-prism-themes-night-owl)/50%)!important}.v-code-block--tab-prism-themes-night-owl-icon{color:hsl(var(--v-cb-tab-prism-themes-night-owl-icon))!important;fill:hsl(var(--v-cb-tab-prism-themes-night-owl-icon))!important}.v-code-block--tab-prism-themes-night-owl-icon-status-success{color:hsl(var(--v-cb-tab-prism-themes-night-owl-icon-success))!important;fill:hsl(var(--v-cb-tab-prism-themes-night-owl-icon-success))!important}.v-code-block--tab-prism-themes-night-owl-icon-status-failed{color:hsl(var(--v-cb-tab-prism-themes-night-owl-icon-failed))!important;fill:hsl(var(--v-cb-tab-prism-themes-night-owl-icon-failed))!important}.v-code-block--tab-prism-themes-night-owl>div{color:hsl(var(--v-cb-tab-prism-themes-night-owl-text))}.v-code-block--tab-highlightjs-brown-paper{background-color:var(--v-cb-tab-highlightjs-brown-paper-bkg);background-image:var(--v-cb-tab-highlightjs-brown-paper-bkg-img)}.v-code-block--tab-highlightjs-brown-paper:hover{background-color:hsl(var(--v-cb-tab-highlightjs-brown-paper-bkg))!important}.v-code-block--tab-highlightjs-brown-paper-icon{color:hsl(var(--v-cb-tab-highlightjs-brown-paper-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-brown-paper-icon))!important}.v-code-block--tab-highlightjs-brown-paper-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-brown-paper-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-brown-paper-icon-success))!important}.v-code-block--tab-highlightjs-brown-paper-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-brown-paper-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-brown-paper-icon-failed))!important}.v-code-block--tab-highlightjs-brown-paper>div{color:hsl(var(--v-cb-tab-highlightjs-brown-paper-text))}.v-code-block--tab-highlightjs-gradient-dark{background:var(--v-cb-tab-highlightjs-gradient-dark-bkg-gradient);background-color:var(--v-cb-tab-highlightjs-gradient-dark-bkg)}.v-code-block--tab-highlightjs-gradient-dark:hover{background-color:hsl(var(--v-cb-tab-highlightjs-gradient-dark-bkg))!important}.v-code-block--tab-highlightjs-gradient-dark-icon{color:hsl(var(--v-cb-tab-highlightjs-gradient-dark-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-gradient-dark-icon))!important}.v-code-block--tab-highlightjs-gradient-dark-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-gradient-dark-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-gradient-dark-icon-success))!important}.v-code-block--tab-highlightjs-gradient-dark-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-gradient-dark-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-gradient-dark-icon-failed))!important}.v-code-block--tab-highlightjs-gradient-dark>div{color:hsl(var(--v-cb-tab-highlightjs-gradient-dark-text))}.v-code-block--tab-highlightjs-gradient-light{background:var(--v-cb-tab-highlightjs-gradient-light-bkg-gradient);background-color:var(--v-cb-tab-highlightjs-gradient-light-bkg)}.v-code-block--tab-highlightjs-gradient-light:hover{background-color:hsl(var(--v-cb-tab-highlightjs-gradient-light-bkg))!important}.v-code-block--tab-highlightjs-gradient-light-icon{color:hsl(var(--v-cb-tab-highlightjs-gradient-light-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-gradient-light-icon))!important}.v-code-block--tab-highlightjs-gradient-light-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-gradient-light-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-gradient-light-icon-success))!important}.v-code-block--tab-highlightjs-gradient-light-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-gradient-light-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-gradient-light-icon-failed))!important}.v-code-block--tab-highlightjs-gradient-light>div{color:hsl(var(--v-cb-tab-highlightjs-gradient-light-text))}.v-code-block--tab-highlightjs-pojoaque{background:var(--v-cb-tab-highlightjs-pojoaque-bkg-img);background-color:var(--v-cb-tab-highlightjs-pojoaque-bkg)}.v-code-block--tab-highlightjs-pojoaque:hover{background-color:hsl(var(--v-cb-tab-highlightjs-pojoaque-bkg))!important}.v-code-block--tab-highlightjs-pojoaque-icon{color:hsl(var(--v-cb-tab-highlightjs-pojoaque-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-pojoaque-icon))!important}.v-code-block--tab-highlightjs-pojoaque-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-pojoaque-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-v-icon-success))!important}.v-code-block--tab-highlightjs-pojoaque-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-pojoaque-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-pojoaque-icon-failed))!important}.v-code-block--tab-highlightjs-pojoaque>div{color:hsl(var(--v-cb-tab-highlightjs-pojoaque-text))}.v-code-block--tab-highlightjs-default{background-color:hsl(var(--v-cb-tab-highlightjs-default-bkg)/100%)!important}.v-code-block--tab-highlightjs-default:hover{background-color:hsl(var(--v-cb-tab-highlightjs-default-bkg)/50%)!important}.v-code-block--tab-highlightjs-default-icon{color:hsl(var(--v-cb-tab-highlightjs-default-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-default-icon))!important}.v-code-block--tab-highlightjs-default-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-default-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-default-icon-success))!important}.v-code-block--tab-highlightjs-default-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-default-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-default-icon-failed))!important}.v-code-block--tab-highlightjs-default>div{color:hsl(var(--v-cb-tab-highlightjs-default-text))}.v-code-block--tab-highlightjs-a11y-dark{background-color:hsl(var(--v-cb-tab-highlightjs-a11y-dark-bkg)/100%)!important}.v-code-block--tab-highlightjs-a11y-dark:hover{background-color:hsl(var(--v-cb-tab-highlightjs-a11y-dark-bkg)/50%)!important}.v-code-block--tab-highlightjs-a11y-dark-icon{color:hsl(var(--v-cb-tab-highlightjs-a11y-dark-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-a11y-dark-icon))!important}.v-code-block--tab-highlightjs-a11y-dark-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-a11y-dark-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-a11y-dark-icon-success))!important}.v-code-block--tab-highlightjs-a11y-dark-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-a11y-dark-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-a11y-dark-icon-failed))!important}.v-code-block--tab-highlightjs-a11y-dark>div{color:hsl(var(--v-cb-tab-highlightjs-a11y-dark-text))}.v-code-block--tab-highlightjs-a11y-light{background-color:hsl(var(--v-cb-tab-highlightjs-a11y-light-bkg)/100%)!important}.v-code-block--tab-highlightjs-a11y-light:hover{background-color:hsl(var(--v-cb-tab-highlightjs-a11y-light-bkg)/50%)!important}.v-code-block--tab-highlightjs-a11y-light-icon{color:hsl(var(--v-cb-tab-highlightjs-a11y-light-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-a11y-light-icon))!important}.v-code-block--tab-highlightjs-a11y-light-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-a11y-light-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-a11y-light-icon-success))!important}.v-code-block--tab-highlightjs-a11y-light-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-a11y-light-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-a11y-light-icon-failed))!important}.v-code-block--tab-highlightjs-a11y-light>div{color:hsl(var(--v-cb-tab-highlightjs-a11y-light-text))}.v-code-block--tab-highlightjs-agate{background-color:hsl(var(--v-cb-tab-highlightjs-agate-bkg)/100%)!important}.v-code-block--tab-highlightjs-agate:hover{background-color:hsl(var(--v-cb-tab-highlightjs-agate-bkg)/50%)!important}.v-code-block--tab-highlightjs-agate-icon{color:hsl(var(--v-cb-tab-highlightjs-agate-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-agate-icon))!important}.v-code-block--tab-highlightjs-agate-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-agate-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-agate-icon-success))!important}.v-code-block--tab-highlightjs-agate-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-agate-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-agate-icon-failed))!important}.v-code-block--tab-highlightjs-agate>div{color:hsl(var(--v-cb-tab-highlightjs-agate-text))}.v-code-block--tab-highlightjs-an-old-hope{background-color:hsl(var(--v-cb-tab-highlightjs-an-old-hope-bkg)/100%)!important}.v-code-block--tab-highlightjs-an-old-hope:hover{background-color:hsl(var(--v-cb-tab-highlightjs-an-old-hope-bkg)/50%)!important}.v-code-block--tab-highlightjs-an-old-hope-icon{color:hsl(var(--v-cb-tab-highlightjs-an-old-hope-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-an-old-hope-icon))!important}.v-code-block--tab-highlightjs-an-old-hope-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-an-old-hope-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-an-old-hope-icon-success))!important}.v-code-block--tab-highlightjs-an-old-hope-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-an-old-hope-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-an-old-hope-icon-failed))!important}.v-code-block--tab-highlightjs-an-old-hope>div{color:hsl(var(--v-cb-tab-highlightjs-an-old-hope-text))}.v-code-block--tab-highlightjs-androidstudio{background-color:hsl(var(--v-cb-tab-highlightjs-androidstudio-bkg)/100%)!important}.v-code-block--tab-highlightjs-androidstudio:hover{background-color:hsl(var(--v-cb-tab-highlightjs-androidstudio-bkg)/50%)!important}.v-code-block--tab-highlightjs-androidstudio-icon{color:hsl(var(--v-cb-tab-highlightjs-androidstudio-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-androidstudio-icon))!important}.v-code-block--tab-highlightjs-androidstudio-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-androidstudio-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-androidstudio-icon-success))!important}.v-code-block--tab-highlightjs-androidstudio-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-androidstudio-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-androidstudio-icon-failed))!important}.v-code-block--tab-highlightjs-androidstudio>div{color:hsl(var(--v-cb-tab-highlightjs-androidstudio-text))}.v-code-block--tab-highlightjs-arduino-light{background-color:hsl(var(--v-cb-tab-highlightjs-arduino-light-bkg)/100%)!important}.v-code-block--tab-highlightjs-arduino-light:hover{background-color:hsl(var(--v-cb-tab-highlightjs-arduino-light-bkg)/50%)!important}.v-code-block--tab-highlightjs-arduino-light-icon{color:hsl(var(--v-cb-tab-highlightjs-arduino-light-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-arduino-light-icon))!important}.v-code-block--tab-highlightjs-arduino-light-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-arduino-light-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-arduino-light-icon-success))!important}.v-code-block--tab-highlightjs-arduino-light-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-arduino-light-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-arduino-light-icon-failed))!important}.v-code-block--tab-highlightjs-arduino-light>div{color:hsl(var(--v-cb-tab-highlightjs-arduino-light-text))}.v-code-block--tab-highlightjs-arta{background-color:hsl(var(--v-cb-tab-highlightjs-arta-bkg)/100%)!important}.v-code-block--tab-highlightjs-arta:hover{background-color:hsl(var(--v-cb-tab-highlightjs-arta-bkg)/50%)!important}.v-code-block--tab-highlightjs-arta-icon{color:hsl(var(--v-cb-tab-highlightjs-arta-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-arta-icon))!important}.v-code-block--tab-highlightjs-arta-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-arta-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-arta-icon-success))!important}.v-code-block--tab-highlightjs-arta-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-arta-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-arta-icon-failed))!important}.v-code-block--tab-highlightjs-arta>div{color:hsl(var(--v-cb-tab-highlightjs-arta-text))}.v-code-block--tab-highlightjs-ascetic{background-color:hsl(var(--v-cb-tab-highlightjs-ascetic-bkg)/100%)!important}.v-code-block--tab-highlightjs-ascetic:hover{background-color:hsl(var(--v-cb-tab-highlightjs-ascetic-bkg)/50%)!important}.v-code-block--tab-highlightjs-ascetic-icon{color:hsl(var(--v-cb-tab-highlightjs-ascetic-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-ascetic-icon))!important}.v-code-block--tab-highlightjs-ascetic-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-ascetic-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-ascetic-icon-success))!important}.v-code-block--tab-highlightjs-ascetic-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-ascetic-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-ascetic-icon-failed))!important}.v-code-block--tab-highlightjs-ascetic>div{color:hsl(var(--v-cb-tab-highlightjs-ascetic-text))}.v-code-block--tab-highlightjs-atom-one-dark-reasonable{background-color:hsl(var(--v-cb-tab-highlightjs-atom-one-dark-reasonable-bkg)/100%)!important}.v-code-block--tab-highlightjs-atom-one-dark-reasonable:hover{background-color:hsl(var(--v-cb-tab-highlightjs-atom-one-dark-reasonable-bkg)/50%)!important}.v-code-block--tab-highlightjs-atom-one-dark-reasonable-icon{color:hsl(var(--v-cb-tab-highlightjs-atom-one-dark-reasonable-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-atom-one-dark-reasonable-icon))!important}.v-code-block--tab-highlightjs-atom-one-dark-reasonable-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-atom-one-dark-reasonable-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-atom-one-dark-reasonable-icon-success))!important}.v-code-block--tab-highlightjs-atom-one-dark-reasonable-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-atom-one-dark-reasonable-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-atom-one-dark-reasonable-icon-failed))!important}.v-code-block--tab-highlightjs-atom-one-dark-reasonable>div{color:hsl(var(--v-cb-tab-highlightjs-atom-one-dark-reasonable-text))}.v-code-block--tab-highlightjs-atom-one-dark{background-color:hsl(var(--v-cb-tab-highlightjs-atom-one-dark-bkg)/100%)!important}.v-code-block--tab-highlightjs-atom-one-dark:hover{background-color:hsl(var(--v-cb-tab-highlightjs-atom-one-dark-bkg)/50%)!important}.v-code-block--tab-highlightjs-atom-one-dark-icon{color:hsl(var(--v-cb-tab-highlightjs-atom-one-dark-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-atom-one-dark-icon))!important}.v-code-block--tab-highlightjs-atom-one-dark-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-atom-one-dark-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-atom-one-dark-icon-success))!important}.v-code-block--tab-highlightjs-atom-one-dark-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-atom-one-dark-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-atom-one-dark-icon-failed))!important}.v-code-block--tab-highlightjs-atom-one-dark>div{color:hsl(var(--v-cb-tab-highlightjs-atom-one-dark-text))}.v-code-block--tab-highlightjs-atom-one-light{background-color:hsl(var(--v-cb-tab-highlightjs-atom-one-light-bkg)/100%)!important}.v-code-block--tab-highlightjs-atom-one-light:hover{background-color:hsl(var(--v-cb-tab-highlightjs-atom-one-light-bkg)/50%)!important}.v-code-block--tab-highlightjs-atom-one-light-icon{color:hsl(var(--v-cb-tab-highlightjs-atom-one-light-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-atom-one-light-icon))!important}.v-code-block--tab-highlightjs-atom-one-light-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-atom-one-light-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-atom-one-light-icon-success))!important}.v-code-block--tab-highlightjs-atom-one-light-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-atom-one-light-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-atom-one-light-icon-failed))!important}.v-code-block--tab-highlightjs-atom-one-light>div{color:hsl(var(--v-cb-tab-highlightjs-atom-one-light-text))}.v-code-block--tab-highlightjs-codepen-embed{background-color:hsl(var(--v-cb-tab-highlightjs-codepen-embed-bkg)/100%)!important}.v-code-block--tab-highlightjs-codepen-embed:hover{background-color:hsl(var(--v-cb-tab-highlightjs-codepen-embed-bkg)/50%)!important}.v-code-block--tab-highlightjs-codepen-embed-icon{color:hsl(var(--v-cb-tab-highlightjs-codepen-embed-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-codepen-embed-icon))!important}.v-code-block--tab-highlightjs-codepen-embed-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-codepen-embed-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-codepen-embed-icon-success))!important}.v-code-block--tab-highlightjs-codepen-embed-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-codepen-embed-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-codepen-embed-icon-failed))!important}.v-code-block--tab-highlightjs-codepen-embed>div{color:hsl(var(--v-cb-tab-highlightjs-codepen-embed-text))}.v-code-block--tab-highlightjs-color-brewer{background-color:hsl(var(--v-cb-tab-highlightjs-color-brewer-bkg)/100%)!important}.v-code-block--tab-highlightjs-color-brewer:hover{background-color:hsl(var(--v-cb-tab-highlightjs-color-brewer-bkg)/50%)!important}.v-code-block--tab-highlightjs-color-brewer-icon{color:hsl(var(--v-cb-tab-highlightjs-color-brewer-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-color-brewer-icon))!important}.v-code-block--tab-highlightjs-color-brewer-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-color-brewer-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-color-brewer-icon-success))!important}.v-code-block--tab-highlightjs-color-brewer-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-color-brewer-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-color-brewer-icon-failed))!important}.v-code-block--tab-highlightjs-color-brewer>div{color:hsl(var(--v-cb-tab-highlightjs-color-brewer-text))}.v-code-block--tab-highlightjs-dark{background-color:hsl(var(--v-cb-tab-highlightjs-dark-bkg)/100%)!important}.v-code-block--tab-highlightjs-dark:hover{background-color:hsl(var(--v-cb-tab-highlightjs-dark-bkg)/50%)!important}.v-code-block--tab-highlightjs-dark-icon{color:hsl(var(--v-cb-tab-highlightjs-dark-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-dark-icon))!important}.v-code-block--tab-highlightjs-dark-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-dark-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-dark-icon-success))!important}.v-code-block--tab-highlightjs-dark-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-dark-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-dark-icon-failed))!important}.v-code-block--tab-highlightjs-dark>div{color:hsl(var(--v-cb-tab-highlightjs-dark-text))}.v-code-block--tab-highlightjs-devibeans{background-color:hsl(var(--v-cb-tab-highlightjs-devibeans-bkg)/100%)!important}.v-code-block--tab-highlightjs-devibeans:hover{background-color:hsl(var(--v-cb-tab-highlightjs-devibeans-bkg)/50%)!important}.v-code-block--tab-highlightjs-devibeans-icon{color:hsl(var(--v-cb-tab-highlightjs-devibeans-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-devibeans-icon))!important}.v-code-block--tab-highlightjs-devibeans-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-devibeans-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-devibeans-icon-success))!important}.v-code-block--tab-highlightjs-devibeans-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-devibeans-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-devibeans-icon-failed))!important}.v-code-block--tab-highlightjs-devibeans>div{color:hsl(var(--v-cb-tab-highlightjs-devibeans-text))}.v-code-block--tab-highlightjs-docco{background-color:hsl(var(--v-cb-tab-highlightjs-docco-bkg)/100%)!important}.v-code-block--tab-highlightjs-docco:hover{background-color:hsl(var(--v-cb-tab-highlightjs-docco-bkg)/50%)!important}.v-code-block--tab-highlightjs-docco-icon{color:hsl(var(--v-cb-tab-highlightjs-docco-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-docco-icon))!important}.v-code-block--tab-highlightjs-docco-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-docco-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-docco-icon-success))!important}.v-code-block--tab-highlightjs-docco-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-docco-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-docco-icon-failed))!important}.v-code-block--tab-highlightjs-docco>div{color:hsl(var(--v-cb-tab-highlightjs-docco-text))}.v-code-block--tab-highlightjs-far{background-color:hsl(var(--v-cb-tab-highlightjs-far-bkg)/100%)!important}.v-code-block--tab-highlightjs-far:hover{background-color:hsl(var(--v-cb-tab-highlightjs-far-bkg)/50%)!important}.v-code-block--tab-highlightjs-far-icon{color:hsl(var(--v-cb-tab-highlightjs-far-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-far-icon))!important}.v-code-block--tab-highlightjs-far-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-far-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-far-icon-success))!important}.v-code-block--tab-highlightjs-far-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-far-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-far-icon-failed))!important}.v-code-block--tab-highlightjs-far>div{color:hsl(var(--v-cb-tab-highlightjs-far-text))}.v-code-block--tab-highlightjs-felipec{background-color:hsl(var(--v-cb-tab-highlightjs-felipec-bkg)/100%)!important}.v-code-block--tab-highlightjs-felipec:hover{background-color:hsl(var(--v-cb-tab-highlightjs-felipec-bkg)/50%)!important}.v-code-block--tab-highlightjs-felipec-icon{color:hsl(var(--v-cb-tab-highlightjs-felipec-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-felipec-icon))!important}.v-code-block--tab-highlightjs-felipec-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-felipec-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-felipec-icon-success))!important}.v-code-block--tab-highlightjs-felipec-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-felipec-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-felipec-icon-failed))!important}.v-code-block--tab-highlightjs-felipec>div{color:hsl(var(--v-cb-tab-highlightjs-felipec-text))}.v-code-block--tab-highlightjs-foundation{background-color:hsl(var(--v-cb-tab-highlightjs-foundation-bkg)/100%)!important}.v-code-block--tab-highlightjs-foundation:hover{background-color:hsl(var(--v-cb-tab-highlightjs-foundation-bkg)/50%)!important}.v-code-block--tab-highlightjs-foundation-icon{color:hsl(var(--v-cb-tab-highlightjs-foundation-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-foundation-icon))!important}.v-code-block--tab-highlightjs-foundation-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-foundation-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-foundation-icon-success))!important}.v-code-block--tab-highlightjs-foundation-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-foundation-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-foundation-icon-failed))!important}.v-code-block--tab-highlightjs-foundation>div{color:hsl(var(--v-cb-tab-highlightjs-foundation-text))}.v-code-block--tab-highlightjs-github-dark-dimmed{background-color:hsl(var(--v-cb-tab-highlightjs-github-dark-dimmed-bkg)/100%)!important}.v-code-block--tab-highlightjs-github-dark-dimmed:hover{background-color:hsl(var(--v-cb-tab-highlightjs-github-dark-dimmed-bkg)/50%)!important}.v-code-block--tab-highlightjs-github-dark-dimmed-icon{color:hsl(var(--v-cb-tab-highlightjs-github-dark-dimmed-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-github-dark-dimmed-icon))!important}.v-code-block--tab-highlightjs-github-dark-dimmed-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-github-dark-dimmed-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-github-dark-dimmed-icon-success))!important}.v-code-block--tab-highlightjs-github-dark-dimmed-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-github-dark-dimmed-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-github-dark-dimmed-icon-failed))!important}.v-code-block--tab-highlightjs-github-dark-dimmed>div{color:hsl(var(--v-cb-tab-highlightjs-github-dark-dimmed-text))}.v-code-block--tab-highlightjs-github-dark{background-color:hsl(var(--v-cb-tab-highlightjs-github-dark-bkg)/100%)!important}.v-code-block--tab-highlightjs-github-dark:hover{background-color:hsl(var(--v-cb-tab-highlightjs-github-dark-bkg)/50%)!important}.v-code-block--tab-highlightjs-github-dark-icon{color:hsl(var(--v-cb-tab-highlightjs-github-dark-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-github-dark-icon))!important}.v-code-block--tab-highlightjs-github-dark-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-github-dark-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-github-dark-icon-success))!important}.v-code-block--tab-highlightjs-github-dark-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-github-dark-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-github-dark-icon-failed))!important}.v-code-block--tab-highlightjs-github-dark>div{color:hsl(var(--v-cb-tab-highlightjs-github-dark-text))}.v-code-block--tab-highlightjs-github{background-color:hsl(var(--v-cb-tab-highlightjs-github-bkg)/100%)!important}.v-code-block--tab-highlightjs-github:hover{background-color:hsl(var(--v-cb-tab-highlightjs-github-bkg)/50%)!important}.v-code-block--tab-highlightjs-github-icon{color:hsl(var(--v-cb-tab-highlightjs-github-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-github-icon))!important}.v-code-block--tab-highlightjs-github-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-github-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-github-icon-success))!important}.v-code-block--tab-highlightjs-github-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-github-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-github-icon-failed))!important}.v-code-block--tab-highlightjs-github>div{color:hsl(var(--v-cb-tab-highlightjs-github-text))}.v-code-block--tab-highlightjs-gml{background-color:hsl(var(--v-cb-tab-highlightjs-gml-bkg)/100%)!important}.v-code-block--tab-highlightjs-gml:hover{background-color:hsl(var(--v-cb-tab-highlightjs-gml-bkg)/50%)!important}.v-code-block--tab-highlightjs-gml-icon{color:hsl(var(--v-cb-tab-highlightjs-gml-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-gml-icon))!important}.v-code-block--tab-highlightjs-gml-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-gml-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-gml-icon-success))!important}.v-code-block--tab-highlightjs-gml-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-gml-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-gml-icon-failed))!important}.v-code-block--tab-highlightjs-gml>div{color:hsl(var(--v-cb-tab-highlightjs-gml-text))}.v-code-block--tab-highlightjs-googlecode{background-color:hsl(var(--v-cb-tab-highlightjs-googlecode-bkg)/100%)!important}.v-code-block--tab-highlightjs-googlecode:hover{background-color:hsl(var(--v-cb-tab-highlightjs-googlecode-bkg)/50%)!important}.v-code-block--tab-highlightjs-googlecode-icon{color:hsl(var(--v-cb-tab-highlightjs-googlecode-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-googlecode-icon))!important}.v-code-block--tab-highlightjs-googlecode-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-googlecode-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-googlecode-icon-success))!important}.v-code-block--tab-highlightjs-googlecode-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-googlecode-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-googlecode-icon-failed))!important}.v-code-block--tab-highlightjs-googlecode>div{color:hsl(var(--v-cb-tab-highlightjs-googlecode-text))}.v-code-block--tab-highlightjs-grayscale{background-color:hsl(var(--v-cb-tab-highlightjs-grayscale-bkg)/100%)!important}.v-code-block--tab-highlightjs-grayscale:hover{background-color:hsl(var(--v-cb-tab-highlightjs-grayscale-bkg)/50%)!important}.v-code-block--tab-highlightjs-grayscale-icon{color:hsl(var(--v-cb-tab-highlightjs-grayscale-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-grayscale-icon))!important}.v-code-block--tab-highlightjs-grayscale-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-grayscale-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-grayscale-icon-success))!important}.v-code-block--tab-highlightjs-grayscale-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-grayscale-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-grayscale-icon-failed))!important}.v-code-block--tab-highlightjs-grayscale>div{color:hsl(var(--v-cb-tab-highlightjs-grayscale-text))}.v-code-block--tab-highlightjs-hybrid{background-color:hsl(var(--v-cb-tab-highlightjs-hybrid-bkg)/100%)!important}.v-code-block--tab-highlightjs-hybrid:hover{background-color:hsl(var(--v-cb-tab-highlightjs-hybrid-bkg)/50%)!important}.v-code-block--tab-highlightjs-hybrid-icon{color:hsl(var(--v-cb-tab-highlightjs-hybrid-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-hybrid-icon))!important}.v-code-block--tab-highlightjs-hybrid-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-hybrid-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-hybrid-icon-success))!important}.v-code-block--tab-highlightjs-hybrid-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-hybrid-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-hybrid-icon-failed))!important}.v-code-block--tab-highlightjs-hybrid>div{color:hsl(var(--v-cb-tab-highlightjs-hybrid-text))}.v-code-block--tab-highlightjs-idea{background-color:hsl(var(--v-cb-tab-highlightjs-idea-bkg)/100%)!important}.v-code-block--tab-highlightjs-idea:hover{background-color:hsl(var(--v-cb-tab-highlightjs-idea-bkg)/50%)!important}.v-code-block--tab-highlightjs-idea-icon{color:hsl(var(--v-cb-tab-highlightjs-idea-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-idea-icon))!important}.v-code-block--tab-highlightjs-idea-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-idea-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-idea-icon-success))!important}.v-code-block--tab-highlightjs-idea-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-idea-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-idea-icon-failed))!important}.v-code-block--tab-highlightjs-idea>div{color:hsl(var(--v-cb-tab-highlightjs-idea-text))}.v-code-block--tab-highlightjs-intellij-light{background-color:hsl(var(--v-cb-tab-highlightjs-intellij-light-bkg)/100%)!important}.v-code-block--tab-highlightjs-intellij-light:hover{background-color:hsl(var(--v-cb-tab-highlightjs-intellij-light-bkg)/50%)!important}.v-code-block--tab-highlightjs-intellij-light-icon{color:hsl(var(--v-cb-tab-highlightjs-intellij-light-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-intellij-light-icon))!important}.v-code-block--tab-highlightjs-intellij-light-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-intellij-light-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-intellij-light-icon-success))!important}.v-code-block--tab-highlightjs-intellij-light-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-intellij-light-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-intellij-light-icon-failed))!important}.v-code-block--tab-highlightjs-intellij-light>div{color:hsl(var(--v-cb-tab-highlightjs-intellij-light-text))}.v-code-block--tab-highlightjs-ir-black{background-color:hsl(var(--v-cb-tab-highlightjs-ir-black-bkg)/100%)!important}.v-code-block--tab-highlightjs-ir-black:hover{background-color:hsl(var(--v-cb-tab-highlightjs-ir-black-bkg)/50%)!important}.v-code-block--tab-highlightjs-ir-black-icon{color:hsl(var(--v-cb-tab-highlightjs-ir-black-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-ir-black-icon))!important}.v-code-block--tab-highlightjs-ir-black-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-ir-black-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-ir-black-icon-success))!important}.v-code-block--tab-highlightjs-ir-black-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-ir-black-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-ir-black-icon-failed))!important}.v-code-block--tab-highlightjs-ir-black>div{color:hsl(var(--v-cb-tab-highlightjs-ir-black-text))}.v-code-block--tab-highlightjs-isbl-editor-dark{background-color:hsl(var(--v-cb-tab-highlightjs-isbl-editor-dark-bkg)/100%)!important}.v-code-block--tab-highlightjs-isbl-editor-dark:hover{background-color:hsl(var(--v-cb-tab-highlightjs-isbl-editor-dark-bkg)/50%)!important}.v-code-block--tab-highlightjs-isbl-editor-dark-icon{color:hsl(var(--v-cb-tab-highlightjs-isbl-editor-dark-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-isbl-editor-dark-icon))!important}.v-code-block--tab-highlightjs-isbl-editor-dark-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-isbl-editor-dark-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-isbl-editor-dark-icon-success))!important}.v-code-block--tab-highlightjs-isbl-editor-dark-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-isbl-editor-dark-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-isbl-editor-dark-icon-failed))!important}.v-code-block--tab-highlightjs-isbl-editor-dark>div{color:hsl(var(--v-cb-tab-highlightjs-isbl-editor-dark-text))}.v-code-block--tab-highlightjs-isbl-editor-light{background-color:hsl(var(--v-cb-tab-highlightjs-isbl-editor-light-bkg)/100%)!important}.v-code-block--tab-highlightjs-isbl-editor-light:hover{background-color:hsl(var(--v-cb-tab-highlightjs-isbl-editor-light-bkg)/50%)!important}.v-code-block--tab-highlightjs-isbl-editor-light-icon{color:hsl(var(--v-cb-tab-highlightjs-isbl-editor-light-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-isbl-editor-light-icon))!important}.v-code-block--tab-highlightjs-isbl-editor-light-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-isbl-editor-light-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-isbl-editor-light-icon-success))!important}.v-code-block--tab-highlightjs-isbl-editor-light-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-isbl-editor-light-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-isbl-editor-light-icon-failed))!important}.v-code-block--tab-highlightjs-isbl-editor-light>div{color:hsl(var(--v-cb-tab-highlightjs-isbl-editor-light-text))}.v-code-block--tab-highlightjs-kimbie-dark{background-color:hsl(var(--v-cb-tab-highlightjs-kimbie-dark-bkg)/100%)!important}.v-code-block--tab-highlightjs-kimbie-dark:hover{background-color:hsl(var(--v-cb-tab-highlightjs-kimbie-dark-bkg)/50%)!important}.v-code-block--tab-highlightjs-kimbie-dark-icon{color:hsl(var(--v-cb-tab-highlightjs-kimbie-dark-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-kimbie-dark-icon))!important}.v-code-block--tab-highlightjs-kimbie-dark-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-kimbie-dark-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-kimbie-dark-icon-success))!important}.v-code-block--tab-highlightjs-kimbie-dark-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-kimbie-dark-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-kimbie-dark-icon-failed))!important}.v-code-block--tab-highlightjs-kimbie-dark>div{color:hsl(var(--v-cb-tab-highlightjs-kimbie-dark-text))}.v-code-block--tab-highlightjs-kimbie-light{background-color:hsl(var(--v-cb-tab-highlightjs-kimbie-light-bkg)/100%)!important}.v-code-block--tab-highlightjs-kimbie-light:hover{background-color:hsl(var(--v-cb-tab-highlightjs-kimbie-light-bkg)/50%)!important}.v-code-block--tab-highlightjs-kimbie-light-icon{color:hsl(var(--v-cb-tab-highlightjs-kimbie-light-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-kimbie-light-icon))!important}.v-code-block--tab-highlightjs-kimbie-light-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-kimbie-light-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-kimbie-light-icon-success))!important}.v-code-block--tab-highlightjs-kimbie-light-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-kimbie-light-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-kimbie-light-icon-failed))!important}.v-code-block--tab-highlightjs-kimbie-light>div{color:hsl(var(--v-cb-tab-highlightjs-kimbie-light-text))}.v-code-block--tab-highlightjs-lightfair{background-color:hsl(var(--v-cb-tab-highlightjs-lightfair-bkg)/100%)!important}.v-code-block--tab-highlightjs-lightfair:hover{background-color:hsl(var(--v-cb-tab-highlightjs-lightfair-bkg)/50%)!important}.v-code-block--tab-highlightjs-lightfair-icon{color:hsl(var(--v-cb-tab-highlightjs-lightfair-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-lightfair-icon))!important}.v-code-block--tab-highlightjs-lightfair-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-lightfair-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-lightfair-icon-success))!important}.v-code-block--tab-highlightjs-lightfair-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-lightfair-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-lightfair-icon-failed))!important}.v-code-block--tab-highlightjs-lightfair>div{color:hsl(var(--v-cb-tab-highlightjs-lightfair-text))}.v-code-block--tab-highlightjs-lioshi{background-color:hsl(var(--v-cb-tab-highlightjs-lioshi-bkg)/100%)!important}.v-code-block--tab-highlightjs-lioshi:hover{background-color:hsl(var(--v-cb-tab-highlightjs-lioshi-bkg)/50%)!important}.v-code-block--tab-highlightjs-lioshi-icon{color:hsl(var(--v-cb-tab-highlightjs-lioshi-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-lioshi-icon))!important}.v-code-block--tab-highlightjs-lioshi-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-lioshi-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-lioshi-icon-success))!important}.v-code-block--tab-highlightjs-lioshi-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-lioshi-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-lioshi-icon-failed))!important}.v-code-block--tab-highlightjs-lioshi>div{color:hsl(var(--v-cb-tab-highlightjs-lioshi-text))}.v-code-block--tab-highlightjs-magula{background-color:hsl(var(--v-cb-tab-highlightjs-magula-bkg)/100%)!important}.v-code-block--tab-highlightjs-magula:hover{background-color:hsl(var(--v-cb-tab-highlightjs-magula-bkg)/50%)!important}.v-code-block--tab-highlightjs-magula-icon{color:hsl(var(--v-cb-tab-highlightjs-magula-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-magula-icon))!important}.v-code-block--tab-highlightjs-magula-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-magula-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-magula-icon-success))!important}.v-code-block--tab-highlightjs-magula-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-magula-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-magula-icon-failed))!important}.v-code-block--tab-highlightjs-magula>div{color:hsl(var(--v-cb-tab-highlightjs-magula-text))}.v-code-block--tab-highlightjs-mono-blue{background-color:hsl(var(--v-cb-tab-highlightjs-mono-blue-bkg)/100%)!important}.v-code-block--tab-highlightjs-mono-blue:hover{background-color:hsl(var(--v-cb-tab-highlightjs-mono-blue-bkg)/50%)!important}.v-code-block--tab-highlightjs-mono-blue-icon{color:hsl(var(--v-cb-tab-highlightjs-mono-blue-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-mono-blue-icon))!important}.v-code-block--tab-highlightjs-mono-blue-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-mono-blue-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-mono-blue-icon-success))!important}.v-code-block--tab-highlightjs-mono-blue-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-mono-blue-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-mono-blue-icon-failed))!important}.v-code-block--tab-highlightjs-mono-blue>div{color:hsl(var(--v-cb-tab-highlightjs-mono-blue-text))}.v-code-block--tab-highlightjs-monokai-sublime{background-color:hsl(var(--v-cb-tab-highlightjs-monokai-sublime-bkg)/100%)!important}.v-code-block--tab-highlightjs-monokai-sublime:hover{background-color:hsl(var(--v-cb-tab-highlightjs-monokai-sublime-bkg)/50%)!important}.v-code-block--tab-highlightjs-monokai-sublime-icon{color:hsl(var(--v-cb-tab-highlightjs-monokai-sublime-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-monokai-sublime-icon))!important}.v-code-block--tab-highlightjs-monokai-sublime-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-monokai-sublime-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-monokai-sublime-icon-success))!important}.v-code-block--tab-highlightjs-monokai-sublime-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-monokai-sublime-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-monokai-sublime-icon-failed))!important}.v-code-block--tab-highlightjs-monokai-sublime>div{color:hsl(var(--v-cb-tab-highlightjs-monokai-sublime-text))}.v-code-block--tab-highlightjs-monokai{background-color:hsl(var(--v-cb-tab-highlightjs-monokai-bkg)/100%)!important}.v-code-block--tab-highlightjs-monokai:hover{background-color:hsl(var(--v-cb-tab-highlightjs-monokai-bkg)/50%)!important}.v-code-block--tab-highlightjs-monokai-icon{color:hsl(var(--v-cb-tab-highlightjs-monokai-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-monokai-icon))!important}.v-code-block--tab-highlightjs-monokai-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-monokai-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-monokai-icon-success))!important}.v-code-block--tab-highlightjs-monokai-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-monokai-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-monokai-icon-failed))!important}.v-code-block--tab-highlightjs-monokai>div{color:hsl(var(--v-cb-tab-highlightjs-monokai-text))}.v-code-block--tab-highlightjs-night-owl{background-color:hsl(var(--v-cb-tab-highlightjs-night-owl-bkg)/100%)!important}.v-code-block--tab-highlightjs-night-owl:hover{background-color:hsl(var(--v-cb-tab-highlightjs-night-owl-bkg)/50%)!important}.v-code-block--tab-highlightjs-night-owl-icon{color:hsl(var(--v-cb-tab-highlightjs-night-owl-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-night-owl-icon))!important}.v-code-block--tab-highlightjs-night-owl-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-night-owl-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-night-owl-icon-success))!important}.v-code-block--tab-highlightjs-night-owl-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-night-owl-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-night-owl-icon-failed))!important}.v-code-block--tab-highlightjs-night-owl>div{color:hsl(var(--v-cb-tab-highlightjs-night-owl-text))}.v-code-block--tab-highlightjs-nnfx-dark{background-color:hsl(var(--v-cb-tab-highlightjs-nnfx-dark-bkg)/100%)!important}.v-code-block--tab-highlightjs-nnfx-dark:hover{background-color:hsl(var(--v-cb-tab-highlightjs-nnfx-dark-bkg)/50%)!important}.v-code-block--tab-highlightjs-nnfx-dark-icon{color:hsl(var(--v-cb-tab-highlightjs-nnfx-dark-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-nnfx-dark-icon))!important}.v-code-block--tab-highlightjs-nnfx-dark-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-nnfx-dark-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-nnfx-dark-icon-success))!important}.v-code-block--tab-highlightjs-nnfx-dark-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-nnfx-dark-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-nnfx-dark-icon-failed))!important}.v-code-block--tab-highlightjs-nnfx-dark>div{color:hsl(var(--v-cb-tab-highlightjs-nnfx-dark-text))}.v-code-block--tab-highlightjs-nnfx-light{background-color:hsl(var(--v-cb-tab-highlightjs-nnfx-light-bkg)/100%)!important}.v-code-block--tab-highlightjs-nnfx-light:hover{background-color:hsl(var(--v-cb-tab-highlightjs-nnfx-light-bkg)/50%)!important}.v-code-block--tab-highlightjs-nnfx-light-icon{color:hsl(var(--v-cb-tab-highlightjs-nnfx-light-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-nnfx-light-icon))!important}.v-code-block--tab-highlightjs-nnfx-light-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-nnfx-light-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-nnfx-light-icon-success))!important}.v-code-block--tab-highlightjs-nnfx-light-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-nnfx-light-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-nnfx-light-icon-failed))!important}.v-code-block--tab-highlightjs-nnfx-light>div{color:hsl(var(--v-cb-tab-highlightjs-nnfx-light-text))}.v-code-block--tab-highlightjs-nord{background-color:hsl(var(--v-cb-tab-highlightjs-nord-bkg)/100%)!important}.v-code-block--tab-highlightjs-nord:hover{background-color:hsl(var(--v-cb-tab-highlightjs-nord-bkg)/50%)!important}.v-code-block--tab-highlightjs-nord-icon{color:hsl(var(--v-cb-tab-highlightjs-nord-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-nord-icon))!important}.v-code-block--tab-highlightjs-nord-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-nord-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-nord-icon-success))!important}.v-code-block--tab-highlightjs-nord-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-nord-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-nord-icon-failed))!important}.v-code-block--tab-highlightjs-nord>div{color:hsl(var(--v-cb-tab-highlightjs-nord-text))}.v-code-block--tab-highlightjs-obsidian{background-color:hsl(var(--v-cb-tab-highlightjs-obsidian-bkg)/100%)!important}.v-code-block--tab-highlightjs-obsidian:hover{background-color:hsl(var(--v-cb-tab-highlightjs-obsidian-bkg)/50%)!important}.v-code-block--tab-highlightjs-obsidian-icon{color:hsl(var(--v-cb-tab-highlightjs-obsidian-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-obsidian-icon))!important}.v-code-block--tab-highlightjs-obsidian-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-obsidian-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-obsidian-icon-success))!important}.v-code-block--tab-highlightjs-obsidian-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-obsidian-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-obsidian-icon-failed))!important}.v-code-block--tab-highlightjs-obsidian>div{color:hsl(var(--v-cb-tab-highlightjs-obsidian-text))}.v-code-block--tab-highlightjs-panda-syntax-dark{background-color:hsl(var(--v-cb-tab-highlightjs-panda-syntax-dark-bkg)/100%)!important}.v-code-block--tab-highlightjs-panda-syntax-dark:hover{background-color:hsl(var(--v-cb-tab-highlightjs-panda-syntax-dark-bkg)/50%)!important}.v-code-block--tab-highlightjs-panda-syntax-dark-icon{color:hsl(var(--v-cb-tab-highlightjs-panda-syntax-dark-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-panda-syntax-dark-icon))!important}.v-code-block--tab-highlightjs-panda-syntax-dark-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-panda-syntax-dark-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-panda-syntax-dark-icon-success))!important}.v-code-block--tab-highlightjs-panda-syntax-dark-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-panda-syntax-dark-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-panda-syntax-dark-icon-failed))!important}.v-code-block--tab-highlightjs-panda-syntax-dark>div{color:hsl(var(--v-cb-tab-highlightjs-panda-syntax-dark-text))}.v-code-block--tab-highlightjs-panda-syntax-light{background-color:hsl(var(--v-cb-tab-highlightjs-panda-syntax-light-bkg)/100%)!important}.v-code-block--tab-highlightjs-panda-syntax-light:hover{background-color:hsl(var(--v-cb-tab-highlightjs-panda-syntax-light-bkg)/50%)!important}.v-code-block--tab-highlightjs-panda-syntax-light-icon{color:hsl(var(--v-cb-tab-highlightjs-panda-syntax-light-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-panda-syntax-light-icon))!important}.v-code-block--tab-highlightjs-panda-syntax-light-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-panda-syntax-light-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-panda-syntax-light-icon-success))!important}.v-code-block--tab-highlightjs-panda-syntax-light-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-panda-syntax-light-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-panda-syntax-light-icon-failed))!important}.v-code-block--tab-highlightjs-panda-syntax-light>div{color:hsl(var(--v-cb-tab-highlightjs-panda-syntax-light-text))}.v-code-block--tab-highlightjs-paraiso-dark{background-color:hsl(var(--v-cb-tab-highlightjs-paraiso-dark-bkg)/100%)!important}.v-code-block--tab-highlightjs-paraiso-dark:hover{background-color:hsl(var(--v-cb-tab-highlightjs-paraiso-dark-bkg)/50%)!important}.v-code-block--tab-highlightjs-paraiso-dark-icon{color:hsl(var(--v-cb-tab-highlightjs-paraiso-dark-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-paraiso-dark-icon))!important}.v-code-block--tab-highlightjs-paraiso-dark-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-paraiso-dark-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-paraiso-dark-icon-success))!important}.v-code-block--tab-highlightjs-paraiso-dark-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-paraiso-dark-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-paraiso-dark-icon-failed))!important}.v-code-block--tab-highlightjs-paraiso-dark>div{color:hsl(var(--v-cb-tab-highlightjs-paraiso-dark-text))}.v-code-block--tab-highlightjs-paraiso-light{background-color:hsl(var(--v-cb-tab-highlightjs-paraiso-light-bkg)/100%)!important}.v-code-block--tab-highlightjs-paraiso-light:hover{background-color:hsl(var(--v-cb-tab-highlightjs-paraiso-light-bkg)/50%)!important}.v-code-block--tab-highlightjs-paraiso-light-icon{color:hsl(var(--v-cb-tab-highlightjs-paraiso-light-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-paraiso-light-icon))!important}.v-code-block--tab-highlightjs-paraiso-light-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-paraiso-light-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-paraiso-light-icon-success))!important}.v-code-block--tab-highlightjs-paraiso-light-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-paraiso-light-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-paraiso-light-icon-failed))!important}.v-code-block--tab-highlightjs-paraiso-light>div{color:hsl(var(--v-cb-tab-highlightjs-paraiso-light-text))}.v-code-block--tab-highlightjs-purebasic{background-color:hsl(var(--v-cb-tab-highlightjs-purebasic-bkg)/100%)!important}.v-code-block--tab-highlightjs-purebasic:hover{background-color:hsl(var(--v-cb-tab-highlightjs-purebasic-bkg)/50%)!important}.v-code-block--tab-highlightjs-purebasic-icon{color:hsl(var(--v-cb-tab-highlightjs-purebasic-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-purebasic-icon))!important}.v-code-block--tab-highlightjs-purebasic-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-purebasic-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-purebasic-icon-success))!important}.v-code-block--tab-highlightjs-purebasic-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-purebasic-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-purebasic-icon-failed))!important}.v-code-block--tab-highlightjs-purebasic>div{color:hsl(var(--v-cb-tab-highlightjs-purebasic-text))}.v-code-block--tab-highlightjs-qtcreator-dark{background-color:hsl(var(--v-cb-tab-highlightjs-qtcreator-dark-bkg)/100%)!important}.v-code-block--tab-highlightjs-qtcreator-dark:hover{background-color:hsl(var(--v-cb-tab-highlightjs-qtcreator-dark-bkg)/50%)!important}.v-code-block--tab-highlightjs-qtcreator-dark-icon{color:hsl(var(--v-cb-tab-highlightjs-qtcreator-dark-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-qtcreator-dark-icon))!important}.v-code-block--tab-highlightjs-qtcreator-dark-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-qtcreator-dark-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-qtcreator-dark-icon-success))!important}.v-code-block--tab-highlightjs-qtcreator-dark-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-qtcreator-dark-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-qtcreator-dark-icon-failed))!important}.v-code-block--tab-highlightjs-qtcreator-dark>div{color:hsl(var(--v-cb-tab-highlightjs-qtcreator-dark-text))}.v-code-block--tab-highlightjs-qtcreator-light{background-color:hsl(var(--v-cb-tab-highlightjs-qtcreator-light-bkg)/100%)!important}.v-code-block--tab-highlightjs-qtcreator-light:hover{background-color:hsl(var(--v-cb-tab-highlightjs-qtcreator-light-bkg)/50%)!important}.v-code-block--tab-highlightjs-qtcreator-light-icon{color:hsl(var(--v-cb-tab-highlightjs-qtcreator-light-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-qtcreator-light-icon))!important}.v-code-block--tab-highlightjs-qtcreator-light-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-qtcreator-light-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-qtcreator-light-icon-success))!important}.v-code-block--tab-highlightjs-qtcreator-light-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-qtcreator-light-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-qtcreator-light-icon-failed))!important}.v-code-block--tab-highlightjs-qtcreator-light>div{color:hsl(var(--v-cb-tab-highlightjs-qtcreator-light-text))}.v-code-block--tab-highlightjs-rainbow{background-color:hsl(var(--v-cb-tab-highlightjs-rainbow-bkg)/100%)!important}.v-code-block--tab-highlightjs-rainbow:hover{background-color:hsl(var(--v-cb-tab-highlightjs-rainbow-bkg)/50%)!important}.v-code-block--tab-highlightjs-rainbow-icon{color:hsl(var(--v-cb-tab-highlightjs-rainbow-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-rainbow-icon))!important}.v-code-block--tab-highlightjs-rainbow-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-rainbow-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-rainbow-icon-success))!important}.v-code-block--tab-highlightjs-rainbow-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-rainbow-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-rainbow-icon-failed))!important}.v-code-block--tab-highlightjs-rainbow>div{color:hsl(var(--v-cb-tab-highlightjs-rainbow-text))}.v-code-block--tab-highlightjs-routeros{background-color:hsl(var(--v-cb-tab-highlightjs-routeros-bkg)/100%)!important}.v-code-block--tab-highlightjs-routeros:hover{background-color:hsl(var(--v-cb-tab-highlightjs-routeros-bkg)/50%)!important}.v-code-block--tab-highlightjs-routeros-icon{color:hsl(var(--v-cb-tab-highlightjs-routeros-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-routeros-icon))!important}.v-code-block--tab-highlightjs-routeros-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-routeros-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-routeros-icon-success))!important}.v-code-block--tab-highlightjs-routeros-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-routeros-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-routeros-icon-failed))!important}.v-code-block--tab-highlightjs-routeros>div{color:hsl(var(--v-cb-tab-highlightjs-routeros-text))}.v-code-block--tab-highlightjs-school-book{background-color:hsl(var(--v-cb-tab-highlightjs-school-book-bkg)/100%)!important}.v-code-block--tab-highlightjs-school-book:hover{background-color:hsl(var(--v-cb-tab-highlightjs-school-book-bkg)/50%)!important}.v-code-block--tab-highlightjs-school-book-icon{color:hsl(var(--v-cb-tab-highlightjs-school-book-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-school-book-icon))!important}.v-code-block--tab-highlightjs-school-book-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-school-book-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-school-book-icon-success))!important}.v-code-block--tab-highlightjs-school-book-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-school-book-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-school-book-icon-failed))!important}.v-code-block--tab-highlightjs-school-book>div{color:hsl(var(--v-cb-tab-highlightjs-school-book-text))}.v-code-block--tab-highlightjs-shades-of-purple{background-color:hsl(var(--v-cb-tab-highlightjs-shades-of-purple-bkg)/100%)!important}.v-code-block--tab-highlightjs-shades-of-purple:hover{background-color:hsl(var(--v-cb-tab-highlightjs-shades-of-purple-bkg)/50%)!important}.v-code-block--tab-highlightjs-shades-of-purple-icon{color:hsl(var(--v-cb-tab-highlightjs-shades-of-purple-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-shades-of-purple-icon))!important}.v-code-block--tab-highlightjs-shades-of-purple-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-shades-of-purple-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-shades-of-purple-icon-success))!important}.v-code-block--tab-highlightjs-shades-of-purple-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-shades-of-purple-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-shades-of-purple-icon-failed))!important}.v-code-block--tab-highlightjs-shades-of-purple>div{color:hsl(var(--v-cb-tab-highlightjs-shades-of-purple-text))}.v-code-block--tab-highlightjs-srcery{background-color:hsl(var(--v-cb-tab-highlightjs-srcery-bkg)/100%)!important}.v-code-block--tab-highlightjs-srcery:hover{background-color:hsl(var(--v-cb-tab-highlightjs-srcery-bkg)/50%)!important}.v-code-block--tab-highlightjs-srcery-icon{color:hsl(var(--v-cb-tab-highlightjs-srcery-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-srcery-icon))!important}.v-code-block--tab-highlightjs-srcery-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-srcery-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-srcery-icon-success))!important}.v-code-block--tab-highlightjs-srcery-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-srcery-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-srcery-icon-failed))!important}.v-code-block--tab-highlightjs-srcery>div{color:hsl(var(--v-cb-tab-highlightjs-srcery-text))}.v-code-block--tab-highlightjs-stackoverflow-dark{background-color:hsl(var(--v-cb-tab-highlightjs-stackoverflow-dark-bkg)/100%)!important}.v-code-block--tab-highlightjs-stackoverflow-dark:hover{background-color:hsl(var(--v-cb-tab-highlightjs-stackoverflow-dark-bkg)/50%)!important}.v-code-block--tab-highlightjs-stackoverflow-dark-icon{color:hsl(var(--v-cb-tab-highlightjs-stackoverflow-dark-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-stackoverflow-dark-icon))!important}.v-code-block--tab-highlightjs-stackoverflow-dark-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-stackoverflow-dark-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-stackoverflow-dark-icon-success))!important}.v-code-block--tab-highlightjs-stackoverflow-dark-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-stackoverflow-dark-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-stackoverflow-dark-icon-failed))!important}.v-code-block--tab-highlightjs-stackoverflow-dark>div{color:hsl(var(--v-cb-tab-highlightjs-stackoverflow-dark-text))}.v-code-block--tab-highlightjs-stackoverflow-light{background-color:hsl(var(--v-cb-tab-highlightjs-stackoverflow-light-bkg)/100%)!important}.v-code-block--tab-highlightjs-stackoverflow-light:hover{background-color:hsl(var(--v-cb-tab-highlightjs-stackoverflow-light-bkg)/50%)!important}.v-code-block--tab-highlightjs-stackoverflow-light-icon{color:hsl(var(--v-cb-tab-highlightjs-stackoverflow-light-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-stackoverflow-light-icon))!important}.v-code-block--tab-highlightjs-stackoverflow-light-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-stackoverflow-light-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-stackoverflow-light-icon-success))!important}.v-code-block--tab-highlightjs-stackoverflow-light-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-stackoverflow-light-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-stackoverflow-light-icon-failed))!important}.v-code-block--tab-highlightjs-stackoverflow-light>div{color:hsl(var(--v-cb-tab-highlightjs-stackoverflow-light-text))}.v-code-block--tab-highlightjs-sunburst{background-color:hsl(var(--v-cb-tab-highlightjs-sunburst-bkg)/100%)!important}.v-code-block--tab-highlightjs-sunburst:hover{background-color:hsl(var(--v-cb-tab-highlightjs-sunburst-bkg)/50%)!important}.v-code-block--tab-highlightjs-sunburst-icon{color:hsl(var(--v-cb-tab-highlightjs-sunburst-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-sunburst-icon))!important}.v-code-block--tab-highlightjs-sunburst-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-sunburst-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-sunburst-icon-success))!important}.v-code-block--tab-highlightjs-sunburst-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-sunburst-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-sunburst-icon-failed))!important}.v-code-block--tab-highlightjs-sunburst>div{color:hsl(var(--v-cb-tab-highlightjs-sunburst-text))}.v-code-block--tab-highlightjs-tokyo-night-dark{background-color:hsl(var(--v-cb-tab-highlightjs-tokyo-night-dark-bkg)/100%)!important}.v-code-block--tab-highlightjs-tokyo-night-dark:hover{background-color:hsl(var(--v-cb-tab-highlightjs-tokyo-night-dark-bkg)/50%)!important}.v-code-block--tab-highlightjs-tokyo-night-dark-icon{color:hsl(var(--v-cb-tab-highlightjs-tokyo-night-dark-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-tokyo-night-dark-icon))!important}.v-code-block--tab-highlightjs-tokyo-night-dark-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-tokyo-night-dark-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-tokyo-night-dark-icon-success))!important}.v-code-block--tab-highlightjs-tokyo-night-dark-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-tokyo-night-dark-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-tokyo-night-dark-icon-failed))!important}.v-code-block--tab-highlightjs-tokyo-night-dark>div{color:hsl(var(--v-cb-tab-highlightjs-tokyo-night-dark-text))}.v-code-block--tab-highlightjs-tokyo-night-light{background-color:hsl(var(--v-cb-tab-highlightjs-tokyo-night-light-bkg)/100%)!important}.v-code-block--tab-highlightjs-tokyo-night-light:hover{background-color:hsl(var(--v-cb-tab-highlightjs-tokyo-night-light-bkg)/50%)!important}.v-code-block--tab-highlightjs-tokyo-night-light-icon{color:hsl(var(--v-cb-tab-highlightjs-tokyo-night-light-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-tokyo-night-light-icon))!important}.v-code-block--tab-highlightjs-tokyo-night-light-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-tokyo-night-light-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-tokyo-night-light-icon-success))!important}.v-code-block--tab-highlightjs-tokyo-night-light-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-tokyo-night-light-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-tokyo-night-light-icon-failed))!important}.v-code-block--tab-highlightjs-tokyo-night-light>div{color:hsl(var(--v-cb-tab-highlightjs-tokyo-night-light-text))}.v-code-block--tab-highlightjs-tomorrow-night-blue{background-color:hsl(var(--v-cb-tab-highlightjs-tomorrow-night-blue-bkg)/100%)!important}.v-code-block--tab-highlightjs-tomorrow-night-blue:hover{background-color:hsl(var(--v-cb-tab-highlightjs-tomorrow-night-blue-bkg)/50%)!important}.v-code-block--tab-highlightjs-tomorrow-night-blue-icon{color:hsl(var(--v-cb-tab-highlightjs-tomorrow-night-blue-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-tomorrow-night-blue-icon))!important}.v-code-block--tab-highlightjs-tomorrow-night-blue-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-tomorrow-night-blue-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-tomorrow-night-blue-icon-success))!important}.v-code-block--tab-highlightjs-tomorrow-night-blue-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-tomorrow-night-blue-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-tomorrow-night-blue-icon-failed))!important}.v-code-block--tab-highlightjs-tomorrow-night-blue>div{color:hsl(var(--v-cb-tab-highlightjs-tomorrow-night-blue-text))}.v-code-block--tab-highlightjs-tomorrow-night-bright{background-color:hsl(var(--v-cb-tab-highlightjs-tomorrow-night-bright-bkg)/100%)!important}.v-code-block--tab-highlightjs-tomorrow-night-bright:hover{background-color:hsl(var(--v-cb-tab-highlightjs-tomorrow-night-bright-bkg)/50%)!important}.v-code-block--tab-highlightjs-tomorrow-night-bright-icon{color:hsl(var(--v-cb-tab-highlightjs-tomorrow-night-bright-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-tomorrow-night-bright-icon))!important}.v-code-block--tab-highlightjs-tomorrow-night-bright-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-tomorrow-night-bright-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-tomorrow-night-bright-icon-success))!important}.v-code-block--tab-highlightjs-tomorrow-night-bright-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-tomorrow-night-bright-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-tomorrow-night-bright-icon-failed))!important}.v-code-block--tab-highlightjs-tomorrow-night-bright>div{color:hsl(var(--v-cb-tab-highlightjs-tomorrow-night-bright-text))}.v-code-block--tab-highlightjs-vs{background-color:hsl(var(--v-cb-tab-highlightjs-vs-bkg)/100%)!important}.v-code-block--tab-highlightjs-vs:hover{background-color:hsl(var(--v-cb-tab-highlightjs-vs-bkg)/50%)!important}.v-code-block--tab-highlightjs-vs-icon{color:hsl(var(--v-cb-tab-highlightjs-vs-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-vs-icon))!important}.v-code-block--tab-highlightjs-vs-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-vs-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-vs-icon-success))!important}.v-code-block--tab-highlightjs-vs-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-vs-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-vs-icon-failed))!important}.v-code-block--tab-highlightjs-vs>div{color:hsl(var(--v-cb-tab-highlightjs-vs-text))}.v-code-block--tab-highlightjs-vs2015{background-color:hsl(var(--v-cb-tab-highlightjs-vs2015-bkg)/100%)!important}.v-code-block--tab-highlightjs-vs2015:hover{background-color:hsl(var(--v-cb-tab-highlightjs-vs2015-bkg)/50%)!important}.v-code-block--tab-highlightjs-vs2015-icon{color:hsl(var(--v-cb-tab-highlightjs-vs2015-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-vs2015-icon))!important}.v-code-block--tab-highlightjs-vs2015-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-vs2015-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-vs2015-icon-success))!important}.v-code-block--tab-highlightjs-vs2015-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-vs2015-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-vs2015-icon-failed))!important}.v-code-block--tab-highlightjs-vs2015>div{color:hsl(var(--v-cb-tab-highlightjs-vs2015-text))}.v-code-block--tab-highlightjs-xcode{background-color:hsl(var(--v-cb-tab-highlightjs-xcode-bkg)/100%)!important}.v-code-block--tab-highlightjs-xcode:hover{background-color:hsl(var(--v-cb-tab-highlightjs-xcode-bkg)/50%)!important}.v-code-block--tab-highlightjs-xcode-icon{color:hsl(var(--v-cb-tab-highlightjs-xcode-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-xcode-icon))!important}.v-code-block--tab-highlightjs-xcode-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-xcode-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-xcode-icon-success))!important}.v-code-block--tab-highlightjs-xcode-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-xcode-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-xcode-icon-failed))!important}.v-code-block--tab-highlightjs-xcode>div{color:hsl(var(--v-cb-tab-highlightjs-xcode-text))}.v-code-block--tab-highlightjs-xt256{background-color:hsl(var(--v-cb-tab-highlightjs-xt256-bkg)/100%)!important}.v-code-block--tab-highlightjs-xt256:hover{background-color:hsl(var(--v-cb-tab-highlightjs-xt256-bkg)/50%)!important}.v-code-block--tab-highlightjs-xt256-icon{color:hsl(var(--v-cb-tab-highlightjs-xt256-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-xt256-icon))!important}.v-code-block--tab-highlightjs-xt256-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-xt256-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-xt256-icon-success))!important}.v-code-block--tab-highlightjs-xt256-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-xt256-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-xt256-icon-failed))!important}.v-code-block--tab-highlightjs-xt256>div{color:hsl(var(--v-cb-tab-highlightjs-xt256-text))}.v-code-block--tab-highlightjs-base16-onedark{background-color:hsl(var(--v-cb-tab-highlightjs-base16-onedark-bkg)/100%)!important}.v-code-block--tab-highlightjs-base16-onedark:hover{background-color:hsl(var(--v-cb-tab-highlightjs-base16-onedark-bkg)/50%)!important}.v-code-block--tab-highlightjs-base16-onedark-icon{color:hsl(var(--v-cb-tab-highlightjs-base16-onedark-icon))!important;fill:hsl(var(--v-cb-tab-highlightjs-base16-onedark-icon))!important}.v-code-block--tab-highlightjs-base16-onedark-icon-status-success{color:hsl(var(--v-cb-tab-highlightjs-base16-onedark-icon-success))!important;fill:hsl(var(--v-cb-tab-highlightjs-base16-onedark-icon-success))!important}.v-code-block--tab-highlightjs-base16-onedark-icon-status-failed{color:hsl(var(--v-cb-tab-highlightjs-base16-onedark-icon-failed))!important;fill:hsl(var(--v-cb-tab-highlightjs-base16-onedark-icon-failed))!important}.v-code-block--tab-highlightjs-base16-onedark>div{color:hsl(var(--v-cb-tab-highlightjs-base16-onedark-text))}.v-code-block--mt-1{margin-top:.25rem!important}.v-code-block--me-1{margin-right:.25rem!important}.v-code-block--mb-1{margin-bottom:.25rem!important}.v-code-block--ms-1{margin-left:.25rem!important}.v-code-block--pt-1{padding-top:.25rem!important}.v-code-block--pe-1{padding-right:.25rem!important}.v-code-block--pb-1{padding-bottom:.25rem!important}.v-code-block--ps-1{padding-left:.25rem!important}.v-code-block--mt-2{margin-top:.5rem!important}.v-code-block--me-2{margin-right:.5rem!important}.v-code-block--mb-2{margin-bottom:.5rem!important}.v-code-block--ms-2{margin-left:.5rem!important}.v-code-block--pt-2{padding-top:.5rem!important}.v-code-block--pe-2{padding-right:.5rem!important}.v-code-block--pb-2{padding-bottom:.5rem!important}.v-code-block--ps-2{padding-left:.5rem!important}.v-code-block--mt-3{margin-top:.75rem!important}.v-code-block--me-3{margin-right:.75rem!important}.v-code-block--mb-3{margin-bottom:.75rem!important}.v-code-block--ms-3{margin-left:.75rem!important}.v-code-block--pt-3{padding-top:.75rem!important}.v-code-block--pe-3{padding-right:.75rem!important}.v-code-block--pb-3{padding-bottom:.75rem!important}.v-code-block--ps-3{padding-left:.75rem!important}.v-code-block--mt-4{margin-top:1rem!important}.v-code-block--me-4{margin-right:1rem!important}.v-code-block--mb-4{margin-bottom:1rem!important}.v-code-block--ms-4{margin-left:1rem!important}.v-code-block--pt-4{padding-top:1rem!important}.v-code-block--pe-4{padding-right:1rem!important}.v-code-block--pb-4{padding-bottom:1rem!important}.v-code-block--ps-4{padding-left:1rem!important}.v-code-block--mt-5{margin-top:1.25rem!important}.v-code-block--me-5{margin-right:1.25rem!important}.v-code-block--mb-5{margin-bottom:1.25rem!important}.v-code-block--ms-5{margin-left:1.25rem!important}.v-code-block--pt-5{padding-top:1.25rem!important}.v-code-block--pe-5{padding-right:1.25rem!important}.v-code-block--pb-5{padding-bottom:1.25rem!important}.v-code-block--ps-5{padding-left:1.25rem!important}.v-code-block---label-mobile input,.v-code-block---label-mobile select,.v-code-block---label-mobile textarea{display:none}.v-code-block[data-v-51ec5829]{display:block;max-width:100%}.v-code-block--header[data-v-51ec5829]{align-items:end;display:flex;justify-content:space-between;overflow:visible;position:relative;width:100%}.v-code-block--label[data-v-51ec5829]{overflow:auto}.v-code-block--tabs[data-v-51ec5829]{align-items:end;display:flex;justify-content:flex-end}.v-code-block--tab[data-v-51ec5829]{align-items:center;border-radius:5px 5px 0 0;cursor:pointer;display:flex;flex-direction:row;justify-content:flex-start;padding:5px 15px;text-align:center;transition:background-color .35s ease;white-space:nowrap;width:fit-content}.v-code-block--tab svg[data-v-51ec5829]{height:.85rem;width:.85rem}.v-code-block--code[data-v-51ec5829]{position:relative;z-index:1}.v-code-block--code pre[data-v-51ec5829],.v-code-block--code pre[class*=language-][data-v-51ec5829]{margin-top:0}.v-code-block--code pre[class*=language-][data-v-51ec5829]:before,.v-code-block--code pre[class*=language-][data-v-51ec5829]:after{bottom:.95em}.v-code-block--code pre code[data-v-51ec5829]{width:100%}.v-code-block--code-browser[data-v-51ec5829]:before{background-image:url('data:image/svg+xml;utf8, <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"14\" viewBox=\"0 0 54 14\"><g fill=\"none\" fillRule=\"evenodd\" transform=\"translate(1 1)\"><circle cx=\"6\" cy=\"6\" r=\"6\" fill=\"%23FF5F56\" stroke=\"%23E0443E\" strokeWidth=\".5\" /><circle cx=\"26\" cy=\"6\" r=\"6\" fill=\"%23FFBD2E\" stroke=\"%23DEA123\" strokeWidth=\".5\" /><circle cx=\"46\" cy=\"6\" r=\"6\" fill=\"%2327C93F\" stroke=\"%231AAB29\" strokeWidth=\".5\" /></g></svg>');background-position:.5em .5em;background-repeat:no-repeat;content:\"\";display:block;padding-right:10em;padding-top:3rem;width:100%}.v-code-block--code:hover .v-code-block--code-copy-button[data-v-51ec5829]{opacity:1}.v-code-block--code-copy-button[data-v-51ec5829]{align-items:center;color:#ccc;cursor:pointer;display:flex;fill:#ccc;height:1.5em;justify-content:center;opacity:0;position:absolute;right:.9rem;top:.7rem;transition:opacity .2s ease-in-out;width:auto;z-index:2}.v-code-block--code-copy-button[data-v-51ec5829]:hover{opacity:1}.v-code-block--code-copy-button-persist[data-v-51ec5829]{opacity:.5}.v-code-block--code-copy-button svg[data-v-51ec5829]{height:1rem;width:1rem}`)),document.head.appendChild(i)}}catch(t){console.error(\"vite-plugin-css-injected-by-js\",t)}})();\n","import { createVNode as _createVNode } from \"vue\";\n// Composables\nimport { makeComponentProps } from \"../../composables/component.mjs\"; // Utilities\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.mjs\";\nexport const makeVBreadcrumbsDividerProps = propsFactory({\n  divider: [Number, String],\n  ...makeComponentProps()\n}, 'VBreadcrumbsDivider');\nexport const VBreadcrumbsDivider = genericComponent()({\n  name: 'VBreadcrumbsDivider',\n  props: makeVBreadcrumbsDividerProps(),\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    useRender(() => _createVNode(\"li\", {\n      \"class\": ['v-breadcrumbs-divider', props.class],\n      \"style\": props.style\n    }, [slots?.default?.() ?? props.divider]));\n    return {};\n  }\n});\n//# sourceMappingURL=VBreadcrumbsDivider.mjs.map","import { createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\n// Composables\nimport { useTextColor } from \"../../composables/color.mjs\";\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { makeRouterProps, useLink } from \"../../composables/router.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\"; // Utilities\nimport { computed } from 'vue';\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.mjs\";\nexport const makeVBreadcrumbsItemProps = propsFactory({\n  active: Boolean,\n  activeClass: String,\n  activeColor: String,\n  color: String,\n  disabled: Boolean,\n  title: String,\n  ...makeComponentProps(),\n  ...makeRouterProps(),\n  ...makeTagProps({\n    tag: 'li'\n  })\n}, 'VBreadcrumbsItem');\nexport const VBreadcrumbsItem = genericComponent()({\n  name: 'VBreadcrumbsItem',\n  props: makeVBreadcrumbsItemProps(),\n  setup(props, _ref) {\n    let {\n      slots,\n      attrs\n    } = _ref;\n    const link = useLink(props, attrs);\n    const isActive = computed(() => props.active || link.isActive?.value);\n    const color = computed(() => isActive.value ? props.activeColor : props.color);\n    const {\n      textColorClasses,\n      textColorStyles\n    } = useTextColor(color);\n    useRender(() => {\n      return _createVNode(props.tag, {\n        \"class\": ['v-breadcrumbs-item', {\n          'v-breadcrumbs-item--active': isActive.value,\n          'v-breadcrumbs-item--disabled': props.disabled,\n          [`${props.activeClass}`]: isActive.value && props.activeClass\n        }, textColorClasses.value, props.class],\n        \"style\": [textColorStyles.value, props.style],\n        \"aria-current\": isActive.value ? 'page' : undefined\n      }, {\n        default: () => [!link.isLink.value ? slots.default?.() ?? props.title : _createVNode(\"a\", _mergeProps({\n          \"class\": \"v-breadcrumbs-item--link\",\n          \"onClick\": link.navigate\n        }, link.linkProps), [slots.default?.() ?? props.title])]\n      });\n    });\n    return {};\n  }\n});\n//# sourceMappingURL=VBreadcrumbsItem.mjs.map","import { mergeProps as _mergeProps, Fragment as _Fragment, resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VBreadcrumbs.css\";\n\n// Components\nimport { VBreadcrumbsDivider } from \"./VBreadcrumbsDivider.mjs\";\nimport { VBreadcrumbsItem } from \"./VBreadcrumbsItem.mjs\";\nimport { VDefaultsProvider } from \"../VDefaultsProvider/index.mjs\";\nimport { VIcon } from \"../VIcon/index.mjs\"; // Composables\nimport { useBackgroundColor } from \"../../composables/color.mjs\";\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { provideDefaults } from \"../../composables/defaults.mjs\";\nimport { makeDensityProps, useDensity } from \"../../composables/density.mjs\";\nimport { IconValue } from \"../../composables/icons.mjs\";\nimport { makeRoundedProps, useRounded } from \"../../composables/rounded.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\"; // Utilities\nimport { computed, toRef } from 'vue';\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nexport const makeVBreadcrumbsProps = propsFactory({\n  activeClass: String,\n  activeColor: String,\n  bgColor: String,\n  color: String,\n  disabled: Boolean,\n  divider: {\n    type: String,\n    default: '/'\n  },\n  icon: IconValue,\n  items: {\n    type: Array,\n    default: () => []\n  },\n  ...makeComponentProps(),\n  ...makeDensityProps(),\n  ...makeRoundedProps(),\n  ...makeTagProps({\n    tag: 'ul'\n  })\n}, 'VBreadcrumbs');\nexport const VBreadcrumbs = genericComponent()({\n  name: 'VBreadcrumbs',\n  props: makeVBreadcrumbsProps(),\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const {\n      backgroundColorClasses,\n      backgroundColorStyles\n    } = useBackgroundColor(toRef(props, 'bgColor'));\n    const {\n      densityClasses\n    } = useDensity(props);\n    const {\n      roundedClasses\n    } = useRounded(props);\n    provideDefaults({\n      VBreadcrumbsDivider: {\n        divider: toRef(props, 'divider')\n      },\n      VBreadcrumbsItem: {\n        activeClass: toRef(props, 'activeClass'),\n        activeColor: toRef(props, 'activeColor'),\n        color: toRef(props, 'color'),\n        disabled: toRef(props, 'disabled')\n      }\n    });\n    const items = computed(() => props.items.map(item => {\n      return typeof item === 'string' ? {\n        item: {\n          title: item\n        },\n        raw: item\n      } : {\n        item,\n        raw: item\n      };\n    }));\n    useRender(() => {\n      const hasPrepend = !!(slots.prepend || props.icon);\n      return _createVNode(props.tag, {\n        \"class\": ['v-breadcrumbs', backgroundColorClasses.value, densityClasses.value, roundedClasses.value, props.class],\n        \"style\": [backgroundColorStyles.value, props.style]\n      }, {\n        default: () => [hasPrepend && _createVNode(\"li\", {\n          \"key\": \"prepend\",\n          \"class\": \"v-breadcrumbs__prepend\"\n        }, [!slots.prepend ? _createVNode(VIcon, {\n          \"key\": \"prepend-icon\",\n          \"start\": true,\n          \"icon\": props.icon\n        }, null) : _createVNode(VDefaultsProvider, {\n          \"key\": \"prepend-defaults\",\n          \"disabled\": !props.icon,\n          \"defaults\": {\n            VIcon: {\n              icon: props.icon,\n              start: true\n            }\n          }\n        }, slots.prepend)]), items.value.map((_ref2, index, array) => {\n          let {\n            item,\n            raw\n          } = _ref2;\n          return _createVNode(_Fragment, null, [slots.item?.({\n            item,\n            index\n          }) ?? _createVNode(VBreadcrumbsItem, _mergeProps({\n            \"key\": index,\n            \"disabled\": index >= array.length - 1\n          }, typeof item === 'string' ? {\n            title: item\n          } : item), {\n            default: slots.title ? () => slots.title?.({\n              item,\n              index\n            }) : undefined\n          }), index < array.length - 1 && _createVNode(VBreadcrumbsDivider, null, {\n            default: slots.divider ? () => slots.divider?.({\n              item: raw,\n              index\n            }) : undefined\n          })]);\n        }), slots.default?.()]\n      });\n    });\n    return {};\n  }\n});\n//# sourceMappingURL=VBreadcrumbs.mjs.map","// Utilities\nimport { keys } from \"../../util/index.mjs\"; // Types\nconst handleGesture = wrapper => {\n  const {\n    touchstartX,\n    touchendX,\n    touchstartY,\n    touchendY\n  } = wrapper;\n  const dirRatio = 0.5;\n  const minDistance = 16;\n  wrapper.offsetX = touchendX - touchstartX;\n  wrapper.offsetY = touchendY - touchstartY;\n  if (Math.abs(wrapper.offsetY) < dirRatio * Math.abs(wrapper.offsetX)) {\n    wrapper.left && touchendX < touchstartX - minDistance && wrapper.left(wrapper);\n    wrapper.right && touchendX > touchstartX + minDistance && wrapper.right(wrapper);\n  }\n  if (Math.abs(wrapper.offsetX) < dirRatio * Math.abs(wrapper.offsetY)) {\n    wrapper.up && touchendY < touchstartY - minDistance && wrapper.up(wrapper);\n    wrapper.down && touchendY > touchstartY + minDistance && wrapper.down(wrapper);\n  }\n};\nfunction touchstart(event, wrapper) {\n  const touch = event.changedTouches[0];\n  wrapper.touchstartX = touch.clientX;\n  wrapper.touchstartY = touch.clientY;\n  wrapper.start?.({\n    originalEvent: event,\n    ...wrapper\n  });\n}\nfunction touchend(event, wrapper) {\n  const touch = event.changedTouches[0];\n  wrapper.touchendX = touch.clientX;\n  wrapper.touchendY = touch.clientY;\n  wrapper.end?.({\n    originalEvent: event,\n    ...wrapper\n  });\n  handleGesture(wrapper);\n}\nfunction touchmove(event, wrapper) {\n  const touch = event.changedTouches[0];\n  wrapper.touchmoveX = touch.clientX;\n  wrapper.touchmoveY = touch.clientY;\n  wrapper.move?.({\n    originalEvent: event,\n    ...wrapper\n  });\n}\nfunction createHandlers() {\n  let value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const wrapper = {\n    touchstartX: 0,\n    touchstartY: 0,\n    touchendX: 0,\n    touchendY: 0,\n    touchmoveX: 0,\n    touchmoveY: 0,\n    offsetX: 0,\n    offsetY: 0,\n    left: value.left,\n    right: value.right,\n    up: value.up,\n    down: value.down,\n    start: value.start,\n    move: value.move,\n    end: value.end\n  };\n  return {\n    touchstart: e => touchstart(e, wrapper),\n    touchend: e => touchend(e, wrapper),\n    touchmove: e => touchmove(e, wrapper)\n  };\n}\nfunction mounted(el, binding) {\n  const value = binding.value;\n  const target = value?.parent ? el.parentElement : el;\n  const options = value?.options ?? {\n    passive: true\n  };\n  const uid = binding.instance?.$.uid; // TODO: use custom uid generator\n\n  if (!target || !uid) return;\n  const handlers = createHandlers(binding.value);\n  target._touchHandlers = target._touchHandlers ?? Object.create(null);\n  target._touchHandlers[uid] = handlers;\n  keys(handlers).forEach(eventName => {\n    target.addEventListener(eventName, handlers[eventName], options);\n  });\n}\nfunction unmounted(el, binding) {\n  const target = binding.value?.parent ? el.parentElement : el;\n  const uid = binding.instance?.$.uid;\n  if (!target?._touchHandlers || !uid) return;\n  const handlers = target._touchHandlers[uid];\n  keys(handlers).forEach(eventName => {\n    target.removeEventListener(eventName, handlers[eventName]);\n  });\n  delete target._touchHandlers[uid];\n}\nexport const Touch = {\n  mounted,\n  unmounted\n};\nexport default Touch;\n//# sourceMappingURL=index.mjs.map","import { withDirectives as _withDirectives, resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VWindow.css\";\n\n// Components\nimport { VBtn } from \"../VBtn/index.mjs\"; // Composables\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { useGroup } from \"../../composables/group.mjs\";\nimport { useLocale, useRtl } from \"../../composables/locale.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.mjs\"; // Directives\nimport { Touch } from \"../../directives/touch/index.mjs\"; // Utilities\nimport { computed, provide, ref, shallowRef, watch } from 'vue';\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nexport const VWindowSymbol = Symbol.for('vuetify:v-window');\nexport const VWindowGroupSymbol = Symbol.for('vuetify:v-window-group');\nexport const makeVWindowProps = propsFactory({\n  continuous: Boolean,\n  nextIcon: {\n    type: [Boolean, String, Function, Object],\n    default: '$next'\n  },\n  prevIcon: {\n    type: [Boolean, String, Function, Object],\n    default: '$prev'\n  },\n  reverse: Boolean,\n  showArrows: {\n    type: [Boolean, String],\n    validator: v => typeof v === 'boolean' || v === 'hover'\n  },\n  touch: {\n    type: [Object, Boolean],\n    default: undefined\n  },\n  direction: {\n    type: String,\n    default: 'horizontal'\n  },\n  modelValue: null,\n  disabled: Boolean,\n  selectedClass: {\n    type: String,\n    default: 'v-window-item--active'\n  },\n  // TODO: mandatory should probably not be exposed but do this for now\n  mandatory: {\n    type: [Boolean, String],\n    default: 'force'\n  },\n  ...makeComponentProps(),\n  ...makeTagProps(),\n  ...makeThemeProps()\n}, 'VWindow');\nexport const VWindow = genericComponent()({\n  name: 'VWindow',\n  directives: {\n    Touch\n  },\n  props: makeVWindowProps(),\n  emits: {\n    'update:modelValue': value => true\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const {\n      themeClasses\n    } = provideTheme(props);\n    const {\n      isRtl\n    } = useRtl();\n    const {\n      t\n    } = useLocale();\n    const group = useGroup(props, VWindowGroupSymbol);\n    const rootRef = ref();\n    const isRtlReverse = computed(() => isRtl.value ? !props.reverse : props.reverse);\n    const isReversed = shallowRef(false);\n    const transition = computed(() => {\n      const axis = props.direction === 'vertical' ? 'y' : 'x';\n      const reverse = isRtlReverse.value ? !isReversed.value : isReversed.value;\n      const direction = reverse ? '-reverse' : '';\n      return `v-window-${axis}${direction}-transition`;\n    });\n    const transitionCount = shallowRef(0);\n    const transitionHeight = ref(undefined);\n    const activeIndex = computed(() => {\n      return group.items.value.findIndex(item => group.selected.value.includes(item.id));\n    });\n    watch(activeIndex, (newVal, oldVal) => {\n      const itemsLength = group.items.value.length;\n      const lastIndex = itemsLength - 1;\n      if (itemsLength <= 2) {\n        isReversed.value = newVal < oldVal;\n      } else if (newVal === lastIndex && oldVal === 0) {\n        isReversed.value = true;\n      } else if (newVal === 0 && oldVal === lastIndex) {\n        isReversed.value = false;\n      } else {\n        isReversed.value = newVal < oldVal;\n      }\n    });\n    provide(VWindowSymbol, {\n      transition,\n      isReversed,\n      transitionCount,\n      transitionHeight,\n      rootRef\n    });\n    const canMoveBack = computed(() => props.continuous || activeIndex.value !== 0);\n    const canMoveForward = computed(() => props.continuous || activeIndex.value !== group.items.value.length - 1);\n    function prev() {\n      canMoveBack.value && group.prev();\n    }\n    function next() {\n      canMoveForward.value && group.next();\n    }\n    const arrows = computed(() => {\n      const arrows = [];\n      const prevProps = {\n        icon: isRtl.value ? props.nextIcon : props.prevIcon,\n        class: `v-window__${isRtlReverse.value ? 'right' : 'left'}`,\n        onClick: group.prev,\n        'aria-label': t('$vuetify.carousel.prev')\n      };\n      arrows.push(canMoveBack.value ? slots.prev ? slots.prev({\n        props: prevProps\n      }) : _createVNode(VBtn, prevProps, null) : _createVNode(\"div\", null, null));\n      const nextProps = {\n        icon: isRtl.value ? props.prevIcon : props.nextIcon,\n        class: `v-window__${isRtlReverse.value ? 'left' : 'right'}`,\n        onClick: group.next,\n        'aria-label': t('$vuetify.carousel.next')\n      };\n      arrows.push(canMoveForward.value ? slots.next ? slots.next({\n        props: nextProps\n      }) : _createVNode(VBtn, nextProps, null) : _createVNode(\"div\", null, null));\n      return arrows;\n    });\n    const touchOptions = computed(() => {\n      if (props.touch === false) return props.touch;\n      const options = {\n        left: () => {\n          isRtlReverse.value ? prev() : next();\n        },\n        right: () => {\n          isRtlReverse.value ? next() : prev();\n        },\n        start: _ref2 => {\n          let {\n            originalEvent\n          } = _ref2;\n          originalEvent.stopPropagation();\n        }\n      };\n      return {\n        ...options,\n        ...(props.touch === true ? {} : props.touch)\n      };\n    });\n    useRender(() => _withDirectives(_createVNode(props.tag, {\n      \"ref\": rootRef,\n      \"class\": ['v-window', {\n        'v-window--show-arrows-on-hover': props.showArrows === 'hover'\n      }, themeClasses.value, props.class],\n      \"style\": props.style\n    }, {\n      default: () => [_createVNode(\"div\", {\n        \"class\": \"v-window__container\",\n        \"style\": {\n          height: transitionHeight.value\n        }\n      }, [slots.default?.({\n        group\n      }), props.showArrows !== false && _createVNode(\"div\", {\n        \"class\": \"v-window__controls\"\n      }, [arrows.value])]), slots.additional?.({\n        group\n      })]\n    }), [[_resolveDirective(\"touch\"), touchOptions.value]]));\n    return {\n      group\n    };\n  }\n});\n//# sourceMappingURL=VWindow.mjs.map","import { createVNode as _createVNode, mergeProps as _mergeProps, Fragment as _Fragment } from \"vue\";\n// Styles\nimport \"./VCarousel.css\";\n\n// Components\nimport { VBtn } from \"../VBtn/index.mjs\";\nimport { VDefaultsProvider } from \"../VDefaultsProvider/index.mjs\";\nimport { VProgressLinear } from \"../VProgressLinear/index.mjs\";\nimport { makeVWindowProps, VWindow } from \"../VWindow/VWindow.mjs\"; // Composables\nimport { IconValue } from \"../../composables/icons.mjs\";\nimport { useLocale } from \"../../composables/locale.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\"; // Utilities\nimport { onMounted, ref, watch } from 'vue';\nimport { convertToUnit, genericComponent, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nexport const makeVCarouselProps = propsFactory({\n  color: String,\n  cycle: Boolean,\n  delimiterIcon: {\n    type: IconValue,\n    default: '$delimiter'\n  },\n  height: {\n    type: [Number, String],\n    default: 500\n  },\n  hideDelimiters: Boolean,\n  hideDelimiterBackground: Boolean,\n  interval: {\n    type: [Number, String],\n    default: 6000,\n    validator: value => Number(value) > 0\n  },\n  progress: [Boolean, String],\n  verticalDelimiters: [Boolean, String],\n  ...makeVWindowProps({\n    continuous: true,\n    mandatory: 'force',\n    showArrows: true\n  })\n}, 'VCarousel');\nexport const VCarousel = genericComponent()({\n  name: 'VCarousel',\n  props: makeVCarouselProps(),\n  emits: {\n    'update:modelValue': value => true\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const model = useProxiedModel(props, 'modelValue');\n    const {\n      t\n    } = useLocale();\n    const windowRef = ref();\n    let slideTimeout = -1;\n    watch(model, restartTimeout);\n    watch(() => props.interval, restartTimeout);\n    watch(() => props.cycle, val => {\n      if (val) restartTimeout();else window.clearTimeout(slideTimeout);\n    });\n    onMounted(startTimeout);\n    function startTimeout() {\n      if (!props.cycle || !windowRef.value) return;\n      slideTimeout = window.setTimeout(windowRef.value.group.next, +props.interval > 0 ? +props.interval : 6000);\n    }\n    function restartTimeout() {\n      window.clearTimeout(slideTimeout);\n      window.requestAnimationFrame(startTimeout);\n    }\n    useRender(() => {\n      const windowProps = VWindow.filterProps(props);\n      return _createVNode(VWindow, _mergeProps({\n        \"ref\": windowRef\n      }, windowProps, {\n        \"modelValue\": model.value,\n        \"onUpdate:modelValue\": $event => model.value = $event,\n        \"class\": ['v-carousel', {\n          'v-carousel--hide-delimiter-background': props.hideDelimiterBackground,\n          'v-carousel--vertical-delimiters': props.verticalDelimiters\n        }, props.class],\n        \"style\": [{\n          height: convertToUnit(props.height)\n        }, props.style]\n      }), {\n        default: slots.default,\n        additional: _ref2 => {\n          let {\n            group\n          } = _ref2;\n          return _createVNode(_Fragment, null, [!props.hideDelimiters && _createVNode(\"div\", {\n            \"class\": \"v-carousel__controls\",\n            \"style\": {\n              left: props.verticalDelimiters === 'left' && props.verticalDelimiters ? 0 : 'auto',\n              right: props.verticalDelimiters === 'right' ? 0 : 'auto'\n            }\n          }, [group.items.value.length > 0 && _createVNode(VDefaultsProvider, {\n            \"defaults\": {\n              VBtn: {\n                color: props.color,\n                icon: props.delimiterIcon,\n                size: 'x-small',\n                variant: 'text'\n              }\n            },\n            \"scoped\": true\n          }, {\n            default: () => [group.items.value.map((item, index) => {\n              const props = {\n                id: `carousel-item-${item.id}`,\n                'aria-label': t('$vuetify.carousel.ariaLabel.delimiter', index + 1, group.items.value.length),\n                class: ['v-carousel__controls__item', group.isSelected(item.id) && 'v-btn--active'],\n                onClick: () => group.select(item.id, true)\n              };\n              return slots.item ? slots.item({\n                props,\n                item\n              }) : _createVNode(VBtn, _mergeProps(item, props), null);\n            })]\n          })]), props.progress && _createVNode(VProgressLinear, {\n            \"class\": \"v-carousel__progress\",\n            \"color\": typeof props.progress === 'string' ? props.progress : undefined,\n            \"modelValue\": (group.getItemIndex(model.value) + 1) / group.items.value.length * 100\n          }, null)]);\n        },\n        prev: slots.prev,\n        next: slots.next\n      });\n    });\n    return {};\n  }\n});\n//# sourceMappingURL=VCarousel.mjs.map","import { withDirectives as _withDirectives, createVNode as _createVNode, vShow as _vShow } from \"vue\";\n// Composables\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { makeGroupItemProps, useGroupItem } from \"../../composables/group.mjs\";\nimport { makeLazyProps, useLazy } from \"../../composables/lazy.mjs\";\nimport { useSsrBoot } from \"../../composables/ssrBoot.mjs\";\nimport { MaybeTransition } from \"../../composables/transition.mjs\"; // Directives\nimport Touch from \"../../directives/touch/index.mjs\"; // Utilities\nimport { computed, inject, nextTick, shallowRef } from 'vue';\nimport { convertToUnit, genericComponent, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nimport { VWindowGroupSymbol, VWindowSymbol } from \"./VWindow.mjs\";\nexport const makeVWindowItemProps = propsFactory({\n  reverseTransition: {\n    type: [Boolean, String],\n    default: undefined\n  },\n  transition: {\n    type: [Boolean, String],\n    default: undefined\n  },\n  ...makeComponentProps(),\n  ...makeGroupItemProps(),\n  ...makeLazyProps()\n}, 'VWindowItem');\nexport const VWindowItem = genericComponent()({\n  name: 'VWindowItem',\n  directives: {\n    Touch\n  },\n  props: makeVWindowItemProps(),\n  emits: {\n    'group:selected': val => true\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const window = inject(VWindowSymbol);\n    const groupItem = useGroupItem(props, VWindowGroupSymbol);\n    const {\n      isBooted\n    } = useSsrBoot();\n    if (!window || !groupItem) throw new Error('[Vuetify] VWindowItem must be used inside VWindow');\n    const isTransitioning = shallowRef(false);\n    const hasTransition = computed(() => isBooted.value && (window.isReversed.value ? props.reverseTransition !== false : props.transition !== false));\n    function onAfterTransition() {\n      if (!isTransitioning.value || !window) {\n        return;\n      }\n\n      // Finalize transition state.\n      isTransitioning.value = false;\n      if (window.transitionCount.value > 0) {\n        window.transitionCount.value -= 1;\n\n        // Remove container height if we are out of transition.\n        if (window.transitionCount.value === 0) {\n          window.transitionHeight.value = undefined;\n        }\n      }\n    }\n    function onBeforeTransition() {\n      if (isTransitioning.value || !window) {\n        return;\n      }\n\n      // Initialize transition state here.\n      isTransitioning.value = true;\n      if (window.transitionCount.value === 0) {\n        // Set initial height for height transition.\n        window.transitionHeight.value = convertToUnit(window.rootRef.value?.clientHeight);\n      }\n      window.transitionCount.value += 1;\n    }\n    function onTransitionCancelled() {\n      onAfterTransition(); // This should have the same path as normal transition end.\n    }\n    function onEnterTransition(el) {\n      if (!isTransitioning.value) {\n        return;\n      }\n      nextTick(() => {\n        // Do not set height if no transition or cancelled.\n        if (!hasTransition.value || !isTransitioning.value || !window) {\n          return;\n        }\n\n        // Set transition target height.\n        window.transitionHeight.value = convertToUnit(el.clientHeight);\n      });\n    }\n    const transition = computed(() => {\n      const name = window.isReversed.value ? props.reverseTransition : props.transition;\n      return !hasTransition.value ? false : {\n        name: typeof name !== 'string' ? window.transition.value : name,\n        onBeforeEnter: onBeforeTransition,\n        onAfterEnter: onAfterTransition,\n        onEnterCancelled: onTransitionCancelled,\n        onBeforeLeave: onBeforeTransition,\n        onAfterLeave: onAfterTransition,\n        onLeaveCancelled: onTransitionCancelled,\n        onEnter: onEnterTransition\n      };\n    });\n    const {\n      hasContent\n    } = useLazy(props, groupItem.isSelected);\n    useRender(() => _createVNode(MaybeTransition, {\n      \"transition\": transition.value,\n      \"disabled\": !isBooted.value\n    }, {\n      default: () => [_withDirectives(_createVNode(\"div\", {\n        \"class\": ['v-window-item', groupItem.selectedClass.value, props.class],\n        \"style\": props.style\n      }, [hasContent.value && slots.default?.()]), [[_vShow, groupItem.isSelected.value]])]\n    }));\n    return {\n      groupItem\n    };\n  }\n});\n//# sourceMappingURL=VWindowItem.mjs.map","import { createVNode as _createVNode, mergeProps as _mergeProps, resolveDirective as _resolveDirective } from \"vue\";\n// Components\nimport { makeVImgProps, VImg } from \"../VImg/VImg.mjs\";\nimport { makeVWindowItemProps, VWindowItem } from \"../VWindow/VWindowItem.mjs\"; // Utilities\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nexport const makeVCarouselItemProps = propsFactory({\n  ...makeVImgProps(),\n  ...makeVWindowItemProps()\n}, 'VCarouselItem');\nexport const VCarouselItem = genericComponent()({\n  name: 'VCarouselItem',\n  inheritAttrs: false,\n  props: makeVCarouselItemProps(),\n  setup(props, _ref) {\n    let {\n      slots,\n      attrs\n    } = _ref;\n    useRender(() => {\n      const imgProps = VImg.filterProps(props);\n      const windowItemProps = VWindowItem.filterProps(props);\n      return _createVNode(VWindowItem, _mergeProps({\n        \"class\": ['v-carousel-item', props.class]\n      }, windowItemProps), {\n        default: () => [_createVNode(VImg, _mergeProps(attrs, imgProps), slots)]\n      });\n    });\n  }\n});\n//# sourceMappingURL=VCarouselItem.mjs.map","import { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\n// Styles\nimport \"./VGrid.css\";\n\n// Composables\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { makeDimensionProps, useDimension } from \"../../composables/dimensions.mjs\";\nimport { useRtl } from \"../../composables/locale.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\"; // Utilities\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.mjs\";\nexport const makeVContainerProps = propsFactory({\n  fluid: {\n    type: Boolean,\n    default: false\n  },\n  ...makeComponentProps(),\n  ...makeDimensionProps(),\n  ...makeTagProps()\n}, 'VContainer');\nexport const VContainer = genericComponent()({\n  name: 'VContainer',\n  props: makeVContainerProps(),\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const {\n      rtlClasses\n    } = useRtl();\n    const {\n      dimensionStyles\n    } = useDimension(props);\n    useRender(() => _createVNode(props.tag, {\n      \"class\": ['v-container', {\n        'v-container--fluid': props.fluid\n      }, rtlClasses.value, props.class],\n      \"style\": [dimensionStyles.value, props.style]\n    }, slots));\n    return {};\n  }\n});\n//# sourceMappingURL=VContainer.mjs.map","import { createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VLayout.css\";\n\n// Composables\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { makeDimensionProps, useDimension } from \"../../composables/dimensions.mjs\";\nimport { createLayout, makeLayoutProps } from \"../../composables/layout.mjs\"; // Utilities\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.mjs\";\nexport const makeVLayoutProps = propsFactory({\n  ...makeComponentProps(),\n  ...makeDimensionProps(),\n  ...makeLayoutProps()\n}, 'VLayout');\nexport const VLayout = genericComponent()({\n  name: 'VLayout',\n  props: makeVLayoutProps(),\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const {\n      layoutClasses,\n      layoutStyles,\n      getLayoutItem,\n      items,\n      layoutRef\n    } = createLayout(props);\n    const {\n      dimensionStyles\n    } = useDimension(props);\n    useRender(() => _createVNode(\"div\", {\n      \"ref\": layoutRef,\n      \"class\": [layoutClasses.value, props.class],\n      \"style\": [dimensionStyles.value, layoutStyles.value, props.style]\n    }, [slots.default?.()]));\n    return {\n      getLayoutItem,\n      items\n    };\n  }\n});\n//# sourceMappingURL=VLayout.mjs.map","<template>\n  <div class=\"article-viewer\">\n    <div class=\"content-bar\">\n      <div class=\"bread-crumbs\">\n        <v-breadcrumbs :items=\"articleCrumbs\">\n          <template #prepend>\n            <v-icon\n              icon=\"mdi-post\"\n              size=\"small\"\n            />\n          </template>\n        </v-breadcrumbs>\n        <!-- <div\n          v-for=\"(path,i) in articleCrumbs\"\n          :key=\"i\"\n          class=\"crumb\"\n        >\n          <p\n            v-if=\"path =='Blogs'\"\n            class=\"click-back\"\n            @click=\"moveToBlogs()\"\n          >\n            {{ path }}\n          </p>\n          <h2 v-else>\n            {{ path }}\n          </h2>\n        </div> -->\n      </div>\n      <div\n        v-for=\"(comp,t) of articleInfo.getComponents()\"\n        :key=\"t\"\n        class=\"article-content\"\n      >\n        <div\n          v-if=\"comp.mode == 1\"\n          class=\"text\"\n          v-html=\"comp.value\"\n        />\n        <div \n          v-else-if=\"comp.mode == 2\"\n          class=\"figure\"\n        >\n          <section :id=\"'figure-'+ comp.count\">\n            <img\n              :src=\"'/figures/'+comp.path\"\n              :alt=\"comp.alt\"\n            >\n            <p>\n              <a :href=\"'#figure-'+comp.count\">\n                <u>Figure {{ comp.count }}: </u></a> {{ ' '+comp.alt }}\n            </p>\n          </section>\n        </div>\n        <div \n          v-else-if=\"comp.mode == 3\"\n          class=\"quote\"\n        >\n          <section :id=\"'quote-'+comp.count\">\n            <p\n              class=\"quote-text\" \n              v-html=\"comp.value\"\n            />\n            <p class=\"quote-person\">\n              <a :href=\"'#quote-'+comp.count\">\n                <u>{{ comp.label }}</u>\n              </a>\n            </p>\n          </section>\n        </div>\n        <div \n          v-else-if=\"comp.mode == 4\"\n          class=\"code\"\n        >\n          <section :id=\"'snippet-'+comp.count\">\n            <VCodeBlock\n              :code=\"comp.code\"\n              highlightjs\n              :lang=\"comp.lang\"\n              theme=\"github-dark\"\n            />\n            <p>\n              <a :href=\"'#snippet-'+comp.count\">\n                <u>Snippet {{ comp.count }}: </u></a> {{ ' '+comp.label }}\n            </p>\n          </section>\n        </div>\n        <div\n          v-else-if=\"comp.mode == 5\"\n          class=\"profile\"\n        >\n          <div\n            :class=\"{\n              'l-align header' : comp.align == 'L',\n              'r-align header' : comp.align == 'R'\n            }\"\n          >\n            <h3>{{ comp.name }}</h3>\n            <img\n              :src=\"'/profiles/'+comp.photo\"\n              :alt=\"comp.name\"\n            >  \n          </div>\n          <div\n            :class=\"{\n              'r-align blur text' : comp.align == 'L',\n              'l-align blur text' : comp.align == 'R'\n            }\"\n          >\n            <p>{{ comp.blur }}</p>  \n          </div>\n        </div>\n        <div \n          v-else-if=\"comp.mode == 6\"\n          class=\"youtube\"\n        >\n          <p\n            v-if=\"comp.pretext.length > 0\"\n            class=\"pretext text\"\n            v-html=\"comp.pretext\"\n          />\n          <section :id=\"'clip-'+ comp.clipNo\">\n            <p class=\"clip-caption\">\n              <a :href=\"'#clip-'+comp.clipNo\">\n                <u>Clip {{ comp.clipNo }}: </u></a> {{ ' '+comp.title }}\n            </p>\n            <iframe\n              class=\"youtube-clip-frame\" \n              :src=\"comp.youtube\"\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media;gyroscope; picture-in-picture; web-share\" \n              referrerpolicy=\"strict-origin-when-cross-origin\"\n              allowfullscreen\n            />\n          </section>\n          <p\n            v-if=\"comp.posttext.length > 0\"\n            class=\"postext text\"\n            v-html=\"comp.posttext\"\n          />\n        </div>\n        <div \n          v-else-if=\"comp.mode == 7\"\n          class=\"pdf\"\n        >\n          <section :id=\"'file-'+ comp.fileNo\">\n            <p class=\"file-caption\">\n              <a :href=\"'#file-'+comp.fileNo\">\n                <u>File {{ comp.fileNo }}: </u></a> {{ ' '+comp.title }}\n            </p>\n            <object\n              class=\"pdf-embed\"\n              :data=\"'/docs/blog/'+comp.file\"\n              type=\"application/pdf\"\n            >\n              <embed \n                :src=\"'/docs/blog/'+comp.file+'#zoom=FitW'\"\n                type=\"application/pdf\"\n              >\n              <!-- alt : <a :href=\"'/docs/blog/'+comp.file\">{{ comp.title }}.pdf</a> -->\n            </object>\n          </section>\n        </div>\n        <div \n          v-else-if=\"comp.mode == 8\"\n          class=\"carousel\"\n        >\n          <section :id=\"'carousel-'+comp.carouselNo\">\n            <p class=\"carousel-caption\">\n              <a :href=\"'#carousel-'+comp.carouselNo\">\n                <u>Carousel {{ comp.carouselNo }}: </u></a> {{ ' '+comp.title }}\n            </p>\n            <v-carousel\n              :progress=\"true\"\n              :hide-delimiters=\"true\"\n            >\n              <v-carousel-item \n                v-for=\"(pic,t) of comp.photos\"\n                :key=\"t\"\n                :src=\"pic.src\"\n              >\n                <v-responsive dark>\n                  <v-container fill-height>\n                    <v-layout align-center>\n                      <div class=\"flex\">\n                        <h3 class=\"display-3\">\n                          {{ pic.header }}\n                        </h3>\n                        <span class=\"subheading\"> \n                          {{ pic.subtitle }}\n                        </span>\n                      </div>\n                    </v-layout>\n                  </v-container>\n                </v-responsive>\n              </v-carousel-item>\n            </v-carousel>\n          </section>\n        </div>\n        <div\n          v-else-if=\"comp.mode == 9\"\n          class=\"definition text\"\n        >\n          <h4>\n            Definition {{ comp.defNo }}: {{ comp.name }}\n          </h4>\n          <p\n            v-html=\"comp.content\" \n          />\n        </div>\n        <div v-else>\n          <p> {{ comp }}</p>\n        </div>\n      </div>\n      <h2 v-if=\"articleInfo.getReferences().length > 0\">\n        References:\n      </h2>\n      <ol>\n        <section\n          v-for=\"(comp,t) of articleInfo.getReferences()\"\n          :id=\"'ref-'+(t+1)\"\n          :key=\"t\"\n          class=\"reference\"\n        >\n          <li>\n            {{ comp.value }}\n          </li>\n        </section>\n      </ol>\n    </div> \n  </div>\n</template>\n\n<script>\nimport ArticleContent from \"./content/allContent.js\"\nimport VCodeBlock from '@wdns/vue-code-block';\n\nexport default {\n    name: \"ArticleViewer\",\n    components:{\n      VCodeBlock\n    },\n    props: {\n      articleId : {\n        default : \"dummy\",\n        type: String\n      }\n    },\n    data : function() {\n      return {\n        dummy : [\"Article\", \"Article Title\"],\n        contentDict: ArticleContent.contentDict\n      }\n    },\n    computed : {\n      articleInfo: function(){\n        return this.contentDict[this.articleId]\n      },\n      articleCrumbs: function(){\n        if (this.articleInfo == null){\n          return this.dummy\n        }\n        return [\n          {title: \"Blogs\", disabled: false, to : \"/blog\", link: true}, \n          {title: this.articleInfo.title, disabled: false, link: false}\n        ]\n      }\n    },\n    methods: {\n      moveToBlogs() {\n        this.$router.back()\n      }\n    }\n}\n\n</script>\n\n<style lang=\"sass\">\n@use \"@/styles/content.sass\" \n@use \"@/styles/coloursAnt.sass\" as c\n\n.article-viewer\n  .content-bar\n\n    h2\n      color: c.$light-grey\n      margin: 0px\n      padding-top: 8px\n      padding-left: 15px\n      width: 100%\n      text-align: left\n\n    .bread-crumbs\n      display: flex\n      flex-direction: row \n\n      > div\n          margin-top: 20px\n\n      p \n        display: inline-flex\n        justify-content: center\n        align-items: center\n        text-align: center \n\n      .v-breadcrumbs__prepend\n        color: c.$green-3\n        i \n          color: c.$green-5\n      \n      .crumb\n        // background-color: $background\n        border-radius: 5px\n        margin-left: 5px\n        justify-content: center\n        align-items: center\n        padding-left: 2.5px\n        padding-right: 2.5px\n        p \n          color: c.$light-grey\n        h2\n          font-size: larger\n          color: c.$light-grey\n          margin: 0px\n          padding: 0px\n          padding-top: 8px\n          width: 100%\n          text-align: center\n\n        &::after\n          content: \"   >\"\n          color: c.$green-7\n        \n        &:last-child::after\n          content: \"\"\n\n        .click-back \n          color: c.$green-8\n          &:hover\n            cursor: pointer\n\n    \n\n    .article-content\n      margin-top: 0px\n\n      .text\n        border-radius: 10px\n        width: 96%\n        text-align: center \n        margin: 2%\n        padding: 2%\n        background-color: c.$cyan-1\n        color: c.$green-1\n        p\n          text-align: center\n          display: inline\n          color: c.$green-1\n          b \n            color: c.$green-2\n          a\n            color: c.$blue-6\n        a\n          color: c.$blue-6\n\n      .profile\n\n        .text \n          background-color: c.$green-1\n          p\n            color: c.$gray-7\n\n        .l-align\n          justify-content: left\n\n        .r-align\n          justify-content: right \n\n        .header \n          display: inline-flex \n          text-align: center\n          justify-items: center\n          align-items: center\n          margin-top: auto \n          margin-left: 5%\n          margin-right: 5%\n          margin-bottom: auto \n          padding-left: 10px \n          padding-right: 10px\n          max-height: 80px\n          width: 90%\n\n          h3\n            padding-left: 10px\n            padding-right: 10px\n\n          img \n            width: 75px\n            height: 75px\n            border-radius: 15px\n\n\n      .figure\n        border-radius: 10px\n        width: 96%\n        text-align: left \n        margin: 2%\n        padding: 2%\n\n        img \n          width: 100%\n          margin: 0\n        \n        p \n          margin: 0\n          margin-top: 5px\n          width: 100%\n          color: c.$black-blue\n          justify-content: center\n          align-items: flex-start\n\n          a \n            color: c.$black-blue\n            min-width: 75px\n            &::after\n              content: \" \"\n              padding-right: 2px\n\n      .code \n        border-radius: 10px\n        width: 96%\n        text-align: left \n        margin: 2%\n        padding: 2%\n        padding-top: 0%\n\n        p \n          margin: 0\n          margin-top: 5px\n          width: 100%\n          justify-content: center\n          align-items: flex-start\n          color: c.$black-blue\n\n          a \n            color: c.$black-blue\n            min-width: 70px\n            &::after\n              content: \" \"\n            \n\n      .quote\n        border-radius: 10px\n        width: 96%\n        text-align: left \n        margin: 2%\n        padding: 2%\n        padding-top: 0\n\n        .quote-text\n          width: 100%\n          text-align: center\n          margin: 0px\n          padding: 0px\n          padding-left: 5%\n          padding-right: 5%\n          color: c.$green-9\n          justify-content: center\n          display: inline-flex\n          flex-direction: column\n          margin-bottom: 5px\n\n          b \n            display: contents\n\n          &::before\n            align-self: flex-start\n            content: \"''\"\n            padding-right: 10px\n            font-size: xx-large\n            color: c.$black-blue\n            \n          &::after\n            align-self: flex-end\n            content: \"''\"\n            padding-right: 10px\n            transform: rotate(180deg)\n            font-size: xx-large\n            color: c.$black-blue\n        \n        .quote-person\n          margin: 0px\n          padding: 0px\n          width: 85%\n          padding-right: 15%\n          color: c.$black-blue\n          text-align: right\n          justify-content: right\n          font-style: italic\n          font-weight: bold\n\n          a\n            color: c.$black-blue\n\n    .reference \n        li\n          color: c.$black-blue\n    \n    .youtube \n\n      .clip-caption\n        text-align: center\n        padding-top: 10px\n        padding-bottom: 10px\n\n      .youtube-clip-frame\n        width: 90%\n        margin-left: 5% \n        margin-right: auto\n        height: 360px\n        border-radius: 15px\n        border: none\n    \n    .pdf \n\n      .file-caption\n        text-align: center\n        padding-top: 5px\n        padding-bottom: 5px\n\n      .pdf-embed\n        width: 96%\n        height: 800px\n        margin-left: 2%\n        margin-right: 2%\n        border-radius: 15px\n\n    .carousel\n\n      .carousel-caption\n        padding-top: 10px\n        padding-bottom: 10px\n        text-align: center\n\n    .definition\n      background-color: c.$gray-2 !important\n\n      h4 \n        text-align: left\n        color: c.$gray-7\n\n      p\n        color: c.$gray-5 !important\n        text-align: left !important\n\n\n    ol \n      padding: 25px\n      padding-top: 5px\n</style>","<template>\n  <div class=\"pub-card\">\n    <div class=\"pub-card-left\">\n      <div class=\"pub-card-year\">\n        <p> {{ year }} </p>\n      </div>\n    </div>\n    <div class=\"pub-card-right\">\n      <div class=\"pub-card-title\">\n        <h3>{{ title }}</h3>\n      </div>\n      <div class=\"pub-card-venue\">\n        <p>{{ venue }}</p>\n      </div>\n      <div class=\"pub-card-authors\">\n        <p>\n          <i>{{ authors.join(\", \") }}</i> \n        </p>\n      </div>\n      <div\n        class=\"pub-card-abstract\"\n        :class=\"{\n          'hidden' : hidden\n        }\"\n        @click=\"toggleHidden\"\n      >\n        <p> {{ abstract }} </p>\n      </div>\n      <div class=\"pub-card-fill\" />\n      <div\n        class=\"pub-card-download\"\n      >\n        <v-btn\n          v-if=\"doi != false\"\n          prepend-icon=\"mdi-web\"\n          size=\"x-small\"\n          elevation=\"2\"\n          :href=\"doi\"\n          target=\"_black\"\n          variant=\"tonal\"\n        >\n          doi\n        </v-btn>\n        <v-btn\n          v-if=\"file != false\"\n          prepend-icon=\"mdi-file-download-outline\"\n          size=\"x-small\"\n          elevation=\"2\"\n          :href=\"fileURL\"\n          target=\"_black\"\n          variant=\"tonal\"\n        >\n          download\n        </v-btn>\n        <v-btn\n          v-if=\"bibtex != false\"\n          prepend-icon=\"mdi-file-document-outline\"\n          size=\"x-small\"\n          elevation=\"2\"\n          :href=\"bibtexURL\"\n          target=\"_black\"\n          variant=\"tonal\"\n        >\n          bibtex\n        </v-btn>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n    name : \"PubCard\",\n    props: {\n        'title' : {\n            type: String,\n            required: true,\n            default: \"Working Title\"\n        },\n        'authors' : {\n            type: Array,\n            required : true \n        },\n        'year' : {\n            type: [String , Number],\n            required: false,\n            default: \"TBA\"\n        },\n        'venue' : {\n          type: String,\n          required: false,\n          default: \"TBA\"\n        },\n        'abstract' : {\n          type: String,\n          required: true,\n          default: \"Coming soon...\"\n        },\n        'file' : {\n          type: [String,Boolean],\n          required: false,\n          default: false\n        },\n        'doi' : {\n          type: [Boolean, String],\n          required: false,\n          default: false\n        },\n        'bibtex' : {\n          type: [Boolean, String],\n          required: false,\n          default: false\n        }\n    },\n  data: function(){\n    return {\n      hidden: true\n    }\n  },\n  computed: {\n    fileURL: function(){\n      if (this.file == false) return \"\";\n      return this.getPublic(this.file)\n    },\n    bibtexURL: function(){\n      if (this.bibtex == false) return \"\";\n      return this.getPublic(this.bibtex)\n    }\n  },\n  methods: {\n    getPublic : function(file) {\n      return `/${file}`;\n    },\n    toggleHidden : function(){\n      this.hidden = !this.hidden\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n@use \"@/styles/coloursAnt.sass\" as c\n@use \"@/styles/breakpoints.sass\" as brk\n\n.pub-card\n    margin-left: 3%\n    margin-right: 3%\n    min-width: 94%\n    max-width: 94%\n    min-height: 160px\n    background-color: c.$green-10\n    margin-bottom: 10px\n    border-radius: 8px\n    display: flex\n    flex-grow: 1\n    flex-direction: row\n    transition: all 1s ease\n\n    .pub-card-left\n      padding-top: 5px \n      padding-left: 5px\n      padding-right: 5px\n      display: flex\n      width: 25 \n      min-height: 100%\n      background-color: c.$light-grey\n      border-radius: 8px\n      justify-content: center\n      justify-items: center\n\n      .pub-card-year\n        margin: auto\n        p\n          font-size: 16px\n          font-weight: bold\n          color: c.$red-5\n          margin: 0 0 0 0\n          writing-mode: vertical-rl\n\n    .pub-card-right\n      display: flex \n      flex-direction: column\n      flex-grow: 1\n\n      .hidden\n        flex: 0 1 25px !important\n        &:hover\n          &::after\n              content: \"+\" !important\n              font-size: 30px !important\n              top: -15% !important\n\n      .pub-card-title\n          margin-top: 10px\n          width: 100%\n          h3\n              margin: 0 0 0 0\n              font-size: 13px\n              text-align: center\n              color: c.$green-1\n              width: 100%\n      .pub-card-venue\n          margin-top: 2px\n          margin-bottom: 10px\n          width: 90%\n          margin-left: 5%\n          margin-right: 5%\n          min-height: 10px\n          max-height: 20px\n          @media (max-width: calc(brk.$mobile-width - 1px))\n            min-height: 10px\n            max-height: 30px\n          p \n            margin: 0 0 0 0\n            text-align: center\n            width: 100% \n            font-size: 8px\n            color: c.$green-1\n      .pub-card-authors\n          margin-top: 10px\n          width: 80%\n          margin-left: 10%\n          margin-right: 10%\n          min-height: 10px\n          max-height: 25px\n          @media (max-width: calc(brk.$mobile-width - 1px))\n            min-height: 10px\n            max-height: 50px\n            margin-bottom: 10px\n          p\n              margin: 0 0 0 0\n              text-align: center\n              width: 100% \n              font-size: 10px\n              color: c.$green-2\n\n      .pub-card-abstract\n        margin-top: 10px\n        width: 90%\n        margin-left: 5%\n        margin-right: 5%\n        min-height: 10px\n        flex: 1 0 250px\n        background-color: none\n        transition: all 1s ease\n        flex-grow: 20\n        grid-template-rows: 1fr\n        position: relative\n        overflow: hidden\n\n        p \n          color: c.$green-3\n          font-size: 10px\n          \n        &:hover\n          background-color: #bfbfbf5e\n          cursor: pointer\n\n          &::after\n            position: absolute\n            top: 20%\n            left: 46%\n            content: \"-\"\n            color: c.$black-blue\n            font-size: 100px\n            opacity: 0.5\n\n      .pub-card-fill\n        width: 100%\n        min-height: 5px\n      .pub-card-download\n        width: 90%\n        max-width: 90%\n        margin-left: 5%\n        margin-right: 5%\n        min-height: 25px\n        max-height: 50px\n        margin-bottom: 5px\n        padding-top: 5px\n        display: flex\n        justify-content: center\n        justify-items: center\n        font-size: 12px\n\n        .v-btn\n          flex-grow: 1\n          margin-left: 15px\n\n        a \n          text-align: center\n          justify-content: center\n          justify-items: center\n          color: c.$blue-1\n          &:link \n            color: c.$blue-1\n            text-decoration: none\n          &:visited \n              color: c.$blue-1\n          &:hover\n              color: c.$red-5\n              cursor: pointer\n          &:active \n              color: c.$yellow-10\n</style>","\nclass Paper {\n    constructor(key, title, authors, year, abstract, file, venue, doi, bibtex){\n        this.key = key;\n        this.title = title;\n        this.authors = authors;\n        this.year = year;\n        this.abstract = abstract;\n        this.file = file;\n        this.venue = venue;\n        this.doi = doi;\n        this.bibtex = bibtex;\n    }\n}\n\nvar papers = [\n    new Paper(\n        \"ICPM2021-EDBA2021\",\n        \"xPM: A Framework for Process Mining with Exogenous Data\",\n        [\"Adam Banham\", \"Sander J.J. Leemans\", \"Moe T. Wynn\", \"Robert Andrews\"],\n        \"2021\",\n        `Process mining facilitates analysis of business processes using event \n        logs derived from historical records of process executions stored in \n        organisations' information systems. Most existing process mining \n        techniques only consider data  directly related to process execution \n        (endogenous data). Data not directly representable as attributes of \n        either events or traces (which includes exogenous data), are generally\n         not considered. Exogenous data may be used by process participants \n         in making decisions about execution paths. However, as exogenous data\n         is not represented in event logs, its impact on such decision making is\n         opaque and cannot currently be assessed by existing process mining \n        techniques. This paper shows how exogenous data can be used in process \n        mining, in particular discovery and enhancement techniques, to understand\n         its influence on process decisions. In particular, we focus on time series\n         which represent periodic observations of e.g. weather measurements, city \n        health alerts or patient vital signs. We show that exogenous time series can\n         be aligned and transformed into new attributes to annotate events in an \n        event log. Then, we use these attributes to discover preconditions in a \n        Petri net with exogenous data (xDPN), thus revealing the exogenous data's \n        influence on the process.`,\n        \"papers/2021/EDBA/ICPM2021____EDBA___A_Framework_for_Process_Mining_with_Exogenous_Data.pdf\",\n        \"EDBA @ ICPM\",\n        \"https://doi.org/10.1007/978-3-030-98581-3_7\",\n        \"bibtex/2021/ICPM2021.bib\"\n    ),\n    new Paper(\n        \"AIIM2022a\",\n        \"xPM: Enhancing Exogenous Data Visibility\",\n        [\"Adam Banham\", \"Sander J.J. Leemans\", \"Moe T. Wynn\", \"Robert Andrews\",\n         \"Kevin B. Laupland\", \"Lucy Shinners\"],\n        \"2022\",\n        `Process mining is a well-established discipline with applications in \n        many industry sectors, including healthcare.\n        To date, few publications have considered the context in which \n        processes execute. \n        Little consideration has been given as to how contextual data \n        (exogenous data) can be practically included for process mining \n        analysis, beyond including case or event attributes in a typical \n        event log.\n        We show that the combination of process data (endogenous) and \n        exogenous data can generate insights not possible with standard \n        process mining techniques.\n        Our contributions are a framework for process mining with \n        exogenous data and new analyses, where exogenous data and process \n        behaviour are linked to process outcomes.\n        Our new analyses visualise exogenous data, highlighting the trends \n        and variations, to show where overlaps or distinctions exist between \n        outcomes.\n        We applied our analyses in a healthcare setting and show that clinicians\n         could extract insights about differences in patients’ vital signs \n         (exogenous data) relevant to clinical outcomes.\n        We present two evaluations, using a publicly available data set, \n        MIMIC--III, to demonstrate the applicability of our analysis. \n        These evaluations show that process mining can integrate large \n        amounts of physiologic data and interventions, with resulting \n        discrimination and conversion to clinically interpretable information.`,\n        \"papers/2022/AIIM-SI/AIIM___VSI_KRR___Enhancing_Exogenous_Data_Visibility.pdf\",\n        \"Artifical Intelligence in Medicine - Special Issue - Knowledge Representation and Reasoning for Healthcare Processes\",\n        \"https://doi.org/10.1016/j.artmed.2022.102409\",\n        \"bibtex/2022/AIIM2022a.bib\"\n    ),\n    new Paper(\n        \"ACCESS2024\",\n        \"Comparing Conformance Checking for Decision Mining: An Axiomatic Approach\",\n        [\"Adam Banham\", \"Arthur H. M. ter Hofstede\", \"Sander J.J. Leemans\", \n        \"Felix Mannhardt\", \"Robert Andrews\", \"Moe T. Wynn\"],\n        \"2024\",\n        `\n        Process mining uses historical executions of business processes \n        (as recorded in an event log) to uncover and describe the process’ \n        behaviour as a process model. The goal of conformance checking is to\n        ensure that the model is of high quality and is a good representation \n        of the event log, thus assuring the model is a solid foundation for \n        subsequent analysis of the process. To date, few conformance checking \n        approaches have considered model quality beyond what is determined by \n        the execution order of process activities. In data-aware process models, \n        which are generated by decision mining techniques, process activities are\n        annotated with conditions to represent the decision-making of a process.\n         Such models are more expressive than those that represent only process \n         activities. With the current notions of conformance checking, it is\n        unclear what properties determine the quality of these data-aware \n        process models. To address this gap, we introduce desirable properties, \n        as axioms, for conformance checking of data-aware models. Our contribution\n        is threefold: i) we present a generalisation that abstracts from the \n        representation of data-aware models, ii) we present nine axioms of \n        desirable properties for data-aware conformance checking, and iii) we \n        define two measures for model recall and precision. Using our axioms as \n        a yardstick, we compare our proposed recall and precision measures with \n        existing measures. Our experimental results show that existing measures\n        exhibit limited adherence to our axioms; while, our two proposed \n        measures exhibit high adherence to our axioms.\n        `,\n        \"papers/2024/ACCESS2024_Comparing_Conformance_Checking_For_Decision_Mining.pdf\",\n        \"IEEE Access\",\n        \"https://doi.org/10.1109/ACCESS.2024.3391234\",\n        \"bibtex/2024/ACCESS2024.bib\"\n    ),\n    new Paper(\n        \"PetriNet2025\",\n        \"Discovering the Influence of Exogenous Data on Decisions in Processes\",\n        [\"Adam Banham\", \"Yannis Bertrand\", \"Robert Andrews\", \n         \"Moe T. Wynn\", \"Sander J.J. Leemans\"],\n         2025,\n         `Process mining, when applied to data stored in the information systems of businesses, provides insights into the internal performance of their processes.\n        These insights reveal how the behaviour of processes impacts businesses, and can inform planning for various future scenarios by anticipating how processes will perform in these scenarios.\n        However, these scenarios may be influenced by the context of the process, i.e., external data streams (exogenous data) to the process.\n        In these cases, typical process discovery techniques can produce process models that describe what activities could occur next in a given state, but cannot express the effect of external influences on how likely these are to occur.\n        Our contribution presents an extension of stochastic labelled Petri nets and a discovery technique for our new modelling formalism.\n        The proposed formalism can be used to quantify whether the firing likelihood of a transition is influenced by exogenous data when replaying historical process executions over the net.\n        We compare our approach against existing stochastic techniques over several publicly available event logs.\n        Our results show that our approach can outperform existing data-aware techniques in unstructured processes.\n        `,\n        \"papers/2025/Petri_Nets_2025___Exogenous_Influences_on_Processes.pdf\",\n        \"45th International Conference on Application and Theory of Petri Nets and Concurrency (Petri Nets 2025)\"\n    ),\n    new Paper(\n        \"BPMForum2025\",\n        \"A Case for Public Process Documentation: Robodebt an Automated Decision Making System\",\n        [\"Adam Banham\", \"Azumah Mamudu\", \"Rehan Syed\"],\n         2025,\n         `Governments worldwide are embracing the evolution of digital economies and automation for efficiency gains to overcome scarce resourcing.\n            However, achieving efficiencies without burdening the government or community they serve is not trivial.\n            We explore a case study following the creation of an automated system to recover debts from welfare recipients who supposedly misrepresented their income, colloquially known as \"Robodebt\".\n            Business process management was extensively used in the project's design and implementation; however, the owners and agents struggled to achieve their desired outcomes.\n            On the flip side, the recipients of the automated system faced erroneous debts and a faceless system that ignored their existence.\n            The system would ultimately fail; ruled illegal due to its process assumptions and, never came close to the goal of \\thesavings in savings.\n            Our analysis synthesises the project's design choices, deriving how the process mindset failed the owners and agents. \n            We posit that public process documentation is required to prevent similar failures in the future.\n        `,\n        false,\n        \"23rd International Conference on Business Process Management, BPM Forum, 2025 (BPM 2025)\"\n    )\n]\n\npapers = papers.sort((a,b) => b.year- a.year)\n\nexport default {\n    Papers: papers\n}","<template>\n  <div class=\"content-bar\">\n    <div class=\"publications\">\n      <h2> Publication History </h2>\n      <PubCard\n        v-for=\"paper in papers\"\n        :key=\"paper.key\"\n        :title=\"paper.title\"\n        :authors=\"paper.authors\"\n        :year=\"paper.year\" \n        :abstract=\"paper.abstract\"\n        :venue=\"paper.venue\"\n        :file=\"paper.file\"\n        :doi=\"paper.doi\"\n        :bibtex=\"paper.bibtex\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport PubCard from \"@/components/publication/Card.vue\"\nimport PubContent from \"./content.js\"\nexport default {\nname: \"PublicationsPage\",\ncomponents: {\n    PubCard\n},\ndata: function() {\n    return {\n        papers: PubContent.Papers\n    }\n}\n\n}\n</script>\n\n<style lang=\"sass\" scoped>\n@use \"@/styles/coloursAnt.sass\" as c\n@use \"@/styles/content.sass\"\n\n.publications\n    padding-top: 15px\n    padding-left: 2%\n    padding-right: 2%\n    width: 96%\n    h2 \n        color: c.$light-grey \n\n</style>","\nconst getRandomYear = function() {\n    return 1998 + Math.floor(Math.random() * 25)\n}\n\nconst dummyPaper = \"??? (Missing Reference) ???\"\nconst dummyFigure = \"roadfines-technique.svg\"\nconst dummyShortInfo = \"Given the executions of the process, finds a graph.\"\nconst dummyLongInfo = `\nLorem ipsum dolor sit amet, consectetur adipisicing elit. \nLaudantium doloremque, laboriosam officia facere eligendi quam \nreiciendis, rem explicabo dolores tenetur libero minus, facilis \nquibusdam. Consectetur amet beatae fuga, architecto magnam.\n`\n\nclass TimelinePoint {\n\n    constructor(year, title, paper, figure, shortInfo, longInfo, code){\n        this.year = year != null ? year : getRandomYear(); \n        this.title = title != null ? title : \"foo\";\n        this.paper = paper != null ? paper : dummyPaper;\n        this.figure = figure != null ? figure : dummyFigure;\n        this.shortInfo = shortInfo != null ? shortInfo : dummyShortInfo;\n        this.longInfo = longInfo != null ? longInfo : dummyLongInfo;\n        this.code = code\n    }\n}\n\nconst cards = [\nnew TimelinePoint(\n1998, \n\"Agrawal Miner\",\n\"Agrawal, R. and  Gunopulos, D. and Leymann, F., (1998) \\“Mining process models from workflow logs\\”, in EDBT, ser. Lecture Notes in Computer Science, vol. 1377, Springer, pp. 469–483\",\n\"roadfines-agrawal.svg\",\n\"Given the executions of the process, find a conformal graph.\",\n`\nOne of the earliest process discovery techniques, the approach \nconsiders how to represent the eventually follows relations \nobserved in the executions of a process. The graph represents a \nset of constraints that should hold for all executions. The \ntechnique focused on discovering a graph that caters for all \nexecutions, does not include spurious constraints, and is minimal.\nThe technique aims to find a directed acyclic graph, but will \nreturn a directed graph if loops occur in the executions.\n`,\n`\nfrom pmkoalas.discovery.agrawal_miner import AgrawalMinerInstance as Miner\nfrom pmkoalas.read import read_xes_simple\nfrom pmkoalas._logging import setLevel\n\nfrom logging import INFO\n\nsetLevel(INFO)\n\nlog = read_xes_simple(\"Road_Traffic_Fine_Management_Process.xes\")\nminer = Miner(optimise_step_five=True)\ngraph = miner.discover(log)\n\nwith open(\"roadfines-agrawal.net\", \"w\") as f:\n    f.write(repr(graph))\n    f.flush()\n    f.close()\n\n\ndotform = graph.create_dot_form()\nwith open(\"roadfines-agrawal.dot\", \"w\") as f:\n    f.write(dotform)\n    f.flush()\n    f.close()\n`\n),\nnew TimelinePoint(\n2004, \n\"Alpha Miner\",\n'van der Aalst, W.M.P. and Weijters, T. and  Maruster, L., (2004) \\\"Workflow mining: discovering process models from event logs\\\", in IEEE Transactions on Knowledge and Data Engineering, vol. 16, no. 9, pp. 1128-1142, Sept. doi: 10.1109/TKDE.2004.47',\n\"roadfines-alpha.svg\",\n\"Given a workflow log, find a Petri net.\",\n`\nThe common starting point for process discovery, is to revisit the\nalpha miner presented by W.M.P. van der Aalst, T. Weijters and L. \nMaruster. The technique focuses on deriving a Petri net \n(in particular, a workflow net) from the footprint matrix of an \nevent log. The footprint matrix considers three types of relations \nbetween observed activities (a and b): causal dependency between \nthem, independence between them, and parallelism between them. The \nmain computation of the approach (step 4) is deriving tuples of \nsets (A,B) for places, where for all a in A, there is a causal \ndependency between a and all members of B, and a has no causal \ndependency with any other member of A. The technique does have \nsome drawbacks, like handling loops in executions and can often \nderive Petri nets with transitions that are not connected to the \ninitial place. However, the work represents how process discovery \nhas evolved in the modern era to focus on formal properties using \nan abstraction over the event log to derive a process model.\n`,\n`\nfrom pmkoalas.discovery.alpha_miner import AlphaMinerInstance as Miner\nfrom pmkoalas.read import read_xes_simple\nfrom pmkoalas.models.dotutil import lpn_prettier_dot\nfrom pmkoalas._logging import setLevel\n\nfrom logging import INFO\n\nsetLevel(INFO)\n\nlog = read_xes_simple(\"Road_Traffic_Fine_Management_Process.xes\")\nminer = Miner()\ngraph = miner.discover(log)\n\nwith open(\"roadfines-alpha.net\", \"w\") as f:\n    f.write(repr(graph))\n    f.flush()\n    f.close()\n\n\ndotform = lpn_prettier_dot(graph)\nwith open(\"roadfines-alpha.dot\", \"w\") as f:\n    f.write(dotform)\n    f.flush()\n    f.close()\n`\n),\n    new TimelinePoint(\n        2004, \"Alpha+ Miner\",\n        'de Medeiros, A.K.A. and van Dongen, B.F. and van der Aalst, W.M.P., Weijters, A.J.M.M, (2004) \\\"Process mining : extending the alpha-algorithm to mine short loops\\\", BETA publicatie : working papers; Vol. 113). Technische Universiteit Eindhoven.',\n        \"roadfines-alpha-plus.svg\",\n        \"Given an event log, find a net from the class of sound structured workflow nets\",\n`\nThis extension of the alpha miner targets how loops of length one and  \ntwo could be rediscovered using the alpha approach. A loop of length one is \nan activity t that can appear in a trace after itself has been executed, e.g.\n<...tt...>. A loop of length two is between two activities a,b such that the\nactivities can be interwoven during execution, e.g. <...aba....> or \n<...bab...>. To achieve an alpha extension that can mine these\nrelations, the authors propose one additional ordering property be included\nin the footprint matrix and a change in the ordering mechanisms to\ndetermine causal dependencies for alpha. However, to handle loops of length\none, a preprocessing step is introduced after which the original algorithm\nfor alpha can be used to safety mine workflow nets with loops of length one\nand two. This results in an extension of alpha (which calls the original alpha \nadjusted with new ordering relations) that consists of roughly 6-9 steps. A \nnice property of the extension is that is equivalent to calling alpha on logs\nwithout short loops.\n`,\n`\nfrom pmkoalas.discovery.alpha_miner import AlphaMinerPlusInstance as Miner\nfrom pmkoalas.read import read_xes_simple\nfrom pmkoalas.models.dotutil import lpn_prettier_dot\nfrom pmkoalas._logging import setLevel\nfrom os.path import join\n\nfrom logging import INFO\n\nsetLevel(INFO)\n\nlog = read_xes_simple(join(\".\",\"Road_Traffic_Fine_Management_Process.xes\"))\nminer = Miner(optimised=True)\ngraph = miner.discover(log)\n\nwith open(\"roadfines-alpha-plus.net\", \"w\") as f:\n    f.write(repr(graph))\n    f.flush()\n    f.close()\n\n\ndotform = lpn_prettier_dot(graph)\nwith open(\"roadfines-alpha-plus.dot\", \"w\") as f:\n    f.write(dotform)\n    f.flush()\n    f.close()\n`\n    ),\n    new TimelinePoint(1998, \"Induction Miner\",\n        `J. Herbst and D. Karagiannis, \"Integrating Machine Learning and Workflow Management to Support Acquisition and Adaptation of Workflow Models\", in Proceedings of the Ninth International Workshop on Database and Expert Systems Applications, pages 745–752. IEEE, 1998.`,\n        null,\n        \"Given a workflow log, induce a workflow model\"\n    ),\n    new TimelinePoint(1998, \"Modified Biermann-Feldman(k,c) Miner\",\n        `Datta A, \"Automating the discovery of as-is business process models: probabilistic and algorithmic approaches\", Inform Sys Res 9(3):275–301, 1998.`,\n        null,\n        \"Given an activity stream, derive a Process Activity Graph\"\n    ),\n    new TimelinePoint(1998, \"TS-Synthesis Miner\",\n        `J. Cortadella, M. Kishinevsky, L. Lavagno and A. Yakovlev, \"Deriving Petri nets from finite transition systems,\" in IEEE Transactions on Computers, vol. 47, no. 8, pp. 859-882, Aug. 1998, doi: 10.1109/12.707587.`,\n        null,\n        \"Given a transition system, synthesize a Petri net\"\n    ),\n    new TimelinePoint(2004, \"Multi-Phase Miner\",\n        `B.F. van Dongen and W.M.P. van der Aalst, \"Multi-Phase Process Mining: Building Instance Graphs\", in International Conference on Conceptual Modeling (ER 2004), vol. 3288 of Lecture Notes in Computer Science, pages 362-376. Springer-Verlag, Berlin, 2004.`,\n        null,\n        \"Given an instance graph, derive a instance EPC\"\n    )\n    ,\n    new TimelinePoint(2004 ,\"Alpha-&#946; Miner\",\n        'Wen, L. and Wang, J. and van der Aalst , W.M.P. and Wang, Z. and Sun, J., (2004) \\\"A novel approach for process mining based on event types\\\", (BETA publicatie : working papers; Vol. 118). Technische Universiteit Eindhoven.',\n        null,\n        \"Given an event log with start and end events, find a Petri net\"\n    ),\n    new TimelinePoint(2007, \"Alpha++ Miner\",\n        \"Wen, L. and van der Aalst, W.M.P. and Wang, J. et al, (2007) \\\"Mining process models with non-free-choice constructs\\\", Data Min Knowl Disc 15, 145–180.\"\n    ),\n    new TimelinePoint(2003, \"Heuristic Miner\",\n        'Weijters, A. J. M. M. and van der Aalst, W.M.P, (2003) \\\"Rediscovering workflow models from event-based data using Little Thumb\\\", Integrated Computer-Aided Engineering, 10(2), 151-162.',\n        null,\n        \"Given a workflow log, find a WF-net\"\n    ),\n    new TimelinePoint(2011, \"Flexible Heuristic Miner\", \n        'Weijters, A. J. M. M. and Ribeiro, J. T. S., (2011) \\\"Flexible Heuristics Miner (FHM)\\\", 2011 IEEE Symposium on Computational Intelligence and Data Mining (CIDM), Paris, France, pp. 310-317',\n        null\n    ),\n    new TimelinePoint(2005, \"Genetic Process Mining\",\n        'van der Aalst, W.M.P. and de Medeiros, A.K.A. and Weijters, A.J.M.M., (2005) \\\"Genetic Process Mining\\\", In: Ciardo, G., Darondeau, P. (eds) Applications and Theory of Petri Nets 2005. ICATPN 2005. Lecture Notes in Computer Science, vol 3536. Springer',\n        null,\n        \"Given a set of event traces, find a Petri net\"\n    ),\n    new TimelinePoint(1998, \"RNet/Ktail/Markov Miners\", \n        'Cook, J. E. and Wolf,  A. L. (1998) \\\"Discovering models of software processes from event-based data\\\", ACM Trans. Softw. Eng. Methodol. 7, 3 (July 1998), 215–249.',\n        null,\n        \"Given an event stream collected from a software process, find a formal model of the behaviour of the process\"\n    ),\n    new TimelinePoint(2004, \"Social Network Miner\",\n        'van der Aalst, W.M.P. and Song, M., (2004) \\\"Mining Social Networks: Uncovering Interaction Patterns in Business Processes\\\", In: Desel, J., Pernici, B., Weske, M. (eds) Business Process Management. BPM 2004. Lecture Notes in Computer Science, vol 3080. Springer',\n        null,\n        \"Given an event log, find a meaningful sociograms\"\n    ),\n    new TimelinePoint(2004, \"ProcessDiscover\",\n        'Greco, G. and Guzzo, A. and Pontieri, L., Saccà, D., (2004) \\\"Mining Expressive Process Models by Clustering Workflow Traces\\\", In: Dai, H., Srikant, R., Zhang, C. (eds) Advances in Knowledge Discovery and Data Mining. PAKDD 2004. Lecture Notes in Computer Science(), vol 3056. Springer',\n        null,\n        \"Given log data related to some executions of the process, find a workflow model of an unknown process\"\n    ),\n    new TimelinePoint(2023, \"Alpha+++ Miner\",\n        'Küsters, A. and van der Aalst, W.M.P., (2023) \\\"Revisiting the Alpha Algorithm To Enable Real-Life Process Discovery Applications\\\", Algorithms & Theories for the Analysis of Event Data (ATAED) Workshop, CEUR Workshop Proceedings'\n    ),\n    new TimelinePoint(2013, \"Beta Miner\",\n        'Leemans, S.J.J. and Fahland, D. and van der Aalst, W.M.P, (2013) \\\"Discovering Block-Structured Process Models from Event Logs - A Constructive Approach\\\", In: Colom, JM., Desel, J. (eds) Application and Theory of Petri Nets and Concurrency. PETRI NETS 2013. Lecture Notes in Computer Science, vol 7927. Springer',\n        null,\n        \"Given an event log, find a process tree that can rediscover the log\"\n    ),\n    new TimelinePoint(2014, \"Inductive Miner - incompleteness\",\n        'Leemans, S.J.J. and Fahland, D. and van der Aalst, W.M.P, (2014) \\\"Discovering Block-Structured Process Models from Incomplete Event Logs\\\", In: Ciardo, G., Kindler, E. (eds) Application and Theory of Petri Nets and Concurrency. PETRI NETS 2014. Lecture Notes in Computer Science, vol 8489. Springer',\n        null,\n        \"Given an event log, find a process tree that can rediscover the log\"\n    ),\n    new TimelinePoint(2017, \"Inductive Miner Framework\",\n        'Leemans, S.J.J., (2017) \\\"Robust Process Mining with Guarantees\\\", Eindhoven University of Technology, PhD thesis.',\n        null,\n        \"Given an event log, find a process tree that can rediscover the log\"\n    ),\n    new TimelinePoint(2012, \"Evolutionary Tree Miner\",\n        'Buijs, J. C. A. M. and van Dongen, B. F. and van der Aalst,  W. M. P., (2012) \\\"A genetic algorithm for discovering process trees\\\", 2012 IEEE Congress on Evolutionary Computation, Brisbane, QLD, Australia, pp. 1-8',\n        null,\n        \"\"\n    ),\n    new TimelinePoint(2015, \"Evolutionary Miner\",\n        'Molka, T. and Redlich, D. and Gilani, W. and Zeng, XJ. and Drobek, M. (2015) \\\"Evolutionary Computation Based Discovery of Hierarchical Business Process Models\\\", In: Abramowicz, W. (eds) Business Information Systems. BIS 2015. Lecture Notes in Business Information Processing, vol 208. Springe',\n        null,\n        ''\n    ),\n    new TimelinePoint(2014, \"Competition Miner\",\n        'Redlich, D. and Molka, T. and Gilani, W. and Blair, G. and Rashid, A., (2014) \\\"Constructs Competition Miner: Process Control-Flow Discovery of BP-Domain Constructs\\\" In: Sadiq, S., Soffer, P., Völzer, H. (eds) Business Process Management. BPM 2014. Lecture Notes in Computer Science, vol 8659. Springer',\n        null,\n        \"Given an event log, find a set of constructs between x,y pairs of activities in the log\"\n    ),\n    new TimelinePoint(2015, \"Maximal Pattern Miner\",\n        'Liesaputra, V. and Yongchareon, S. and Chaisiri, S., (2015) \\\"Efficient Process Model Discovery Using Maximal Pattern Mining\\\", In: Motahari-Nezhad, H., Recker, J., Weidlich, M. (eds) Business Process Management. BPM 2016. Lecture Notes in Computer Science(), vol 9253. Springer',\n        null,\n        \"Given an event log, find a model that desribes patterns for the behaviour in the log\"\n    ),\n    new TimelinePoint(2004, \"Process Miner\",\n        'Schimm, G., (2004) \\\"Mining exact models of concurrent workflows\\\", Computers in Industry, Vol. 53 (1), pp 265-281',\n        null,\n        \"Given a workflow log, find a process model\"\n    ),\n    new TimelinePoint(2010, \"alpha-\\#\",\n        'Wen, L. and Wang, J. and van der Aalst, W.M.P. and Huang, B. and Sun, J., (2010) \\\"Mining process models with prime invisible tasks\\\", Data & Knowledge Engineering, Vol. 69 (10), pp 999-1021',\n        null,\n        \"Given an event log, find a sound workflow net with invisible tasks\"\n    ),\n    new TimelinePoint(2015, \"alpha-\\$\",\n        'Guo, Q. and Wen, L. and Wang, J. and Yan, Z. and Yu, P.S, (2015) \\\"Mining Invisible Tasks in Non-free-choice Constructs\\\", In: Motahari-Nezhad, H., Recker, J., Weidlich, M. (eds) Business Process Management. BPM 2016. Lecture Notes in Computer Science(), vol 9253. Springer',\n        null,\n        \"Given an event log, find a sound workflow net with invisible tasks\"\n    ),\n    new TimelinePoint(2007, \"Bergenthum-Region Miner\",\n        'Bergenthum, R. and Desel, J. and Lorenz, R. and Mauser, S., (2007) \\\"Process Mining Based on Regions of Languages\\\", In: Alonso, G., Dadam, P., Rosemann, M. (eds) Business Process Management. BPM 2007. Lecture Notes in Computer Science, vol 4714. Springer',\n        null,\n        \"Given an event log, find a marked place/transition net\"\n    ),\n    new TimelinePoint(2010, \"Region Miner\",\n        'van der Aalst, W.M.P. and Rubin, V. and Verbeek, H.M.W. et al., (2010) \\\"Process mining: a two-step approach to balance between underfitting and overfitting\\\". Softw Syst Model 9, 87–111 .',\n        null,\n        \"Given an event log, find a Petri net using the theory of regions\"\n    ),\n    new TimelinePoint(2008, \"ILP Miner\",\n        'van der Werf, J.M.E.M. and van Dongen, B.F. and Hurkens, C.A.J. and Serebrenik, A., (2008). \\\"Process Discovery Using Integer Linear Programming\\\", In: van Hee, K.M., Valk, R. (eds) Applications and Theory of Petri Nets. PETRI NETS 2008. Lecture Notes in Computer Science, vol 5062. Springer',\n        null,\n        \"Given an event log, find a Petri net using Integer Linear Programming\"\n    ),\n    new TimelinePoint(2007, \"Fuzzy Miner\",\n        'Günther, C.W. and van der Aalst, W.M.P, (2007) \\\"Fuzzy Mining – Adaptive Process Simplification Based on Multi-perspective Metrics\\\", In: Alonso, G., Dadam, P., Rosemann, M. (eds) Business Process Management. BPM 2007. Lecture Notes in Computer Science, vol 4714. Springer',\n        null,\n        \"Given an event log, find a simplified and emphasised process model\"\n    ),\n    new TimelinePoint(2011, \"Petri net to C-Net\",\n        'van der Aalst, W.M.P. and Adriansyah, A. and van Dongen, B.F., (2011) \\\"Causal Nets: A Modeling Language Tailored towards Process Discovery\\\" In: Katoen, JP., König, B. (eds) CONCUR 2011 – Concurrency Theory. CONCUR 2011. Lecture Notes in Computer Science, vol 6901. Springer',\n        null,\n        \"Given a Petri net, convert the net to a causal net\"\n    ),\n    new TimelinePoint(2012, \"C-Net SMT Miner\",\n        'Solé, M. and Carmona, J., (2012) \\\"An SMT-Based Discovery Algorithm for C-Nets\\\", In: Haddad, S., Pomello, L. (eds) Application and Theory of Petri Nets. PETRI NETS 2012. Lecture Notes in Computer Science, vol 7347. Springer',\n        null,\n        \"Given an event log, find a minimal causal net\"\n    ),\n    new TimelinePoint(2012, \"C-Net DaC SMT Miner\",\n        'Solé, M. and Carmona, J., (2012) \\\"A High-Level Strategy for C-net Discovery\\\" 2012 12th International Conference on Application of Concurrency to System Design, Hamburg, Germany, pp. 102-111',\n        null,\n        \"Given an event log, find a minimal causal net\"\n    ),\n    new TimelinePoint(2003, \"Little Thumb Miner\",\n        'Weijters, A.J.M.M. and van der Aalst, W.M.P., (2003) \\\"Rediscovering Workflow Models from Event-based Data Using Little Thumb\\\". Integrated Computer-Aided Engineering vol. 10(2), pp. 151–162',\n        null,\n        \"Given an event, find a workflow net\"\n    ),\n    new TimelinePoint(2014, \"Fodina Miner\",\n        'van den Broucke, S.K.L.M., (2014) \\\"Advances in Process Mining: Artificial Negative Events and Other Techniques\\\", Ph.D. thesis, KU Leuven (2014)',\n        null,\n        \"Given a task log, find causal net\"\n    ),\n    new TimelinePoint(2016, \"Structured Miner\", \n        'Augusto, A. and Conforti, R. and Dumas, M. and La Rosa, M. and Bruno, G., (2016) \\\"Automated Discovery of Structured Process Models: Discover Structured vs. Discover and Structure\\\", In: Comyn-Wattiau, I., Tanaka, K., Song, IY., Yamamoto, S., Saeki, M. (eds) Conceptual Modeling. ER 2016. Lecture Notes in Computer Science(), vol 9974. Springer,',\n        null, \n        \"Given a causal net, find a maximally structured BPMN model\"\n    )\n].sort((a,b) => a.year - b.year)\n\nexport default cards;","import { createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\n// Styles\nimport \"./VTooltip.css\";\n\n// Components\nimport { VOverlay } from \"../VOverlay/index.mjs\";\nimport { makeVOverlayProps } from \"../VOverlay/VOverlay.mjs\"; // Composables\nimport { forwardRefs } from \"../../composables/forwardRefs.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\";\nimport { useScopeId } from \"../../composables/scopeId.mjs\"; // Utilities\nimport { computed, mergeProps, ref } from 'vue';\nimport { genericComponent, getUid, omit, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nexport const makeVTooltipProps = propsFactory({\n  id: String,\n  text: String,\n  ...omit(makeVOverlayProps({\n    closeOnBack: false,\n    location: 'end',\n    locationStrategy: 'connected',\n    eager: true,\n    minWidth: 0,\n    offset: 10,\n    openOnClick: false,\n    openOnHover: true,\n    origin: 'auto',\n    scrim: false,\n    scrollStrategy: 'reposition',\n    transition: false\n  }), ['absolute', 'persistent'])\n}, 'VTooltip');\nexport const VTooltip = genericComponent()({\n  name: 'VTooltip',\n  props: makeVTooltipProps(),\n  emits: {\n    'update:modelValue': value => true\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const isActive = useProxiedModel(props, 'modelValue');\n    const {\n      scopeId\n    } = useScopeId();\n    const uid = getUid();\n    const id = computed(() => props.id || `v-tooltip-${uid}`);\n    const overlay = ref();\n    const location = computed(() => {\n      return props.location.split(' ').length > 1 ? props.location : props.location + ' center';\n    });\n    const origin = computed(() => {\n      return props.origin === 'auto' || props.origin === 'overlap' || props.origin.split(' ').length > 1 || props.location.split(' ').length > 1 ? props.origin : props.origin + ' center';\n    });\n    const transition = computed(() => {\n      if (props.transition) return props.transition;\n      return isActive.value ? 'scale-transition' : 'fade-transition';\n    });\n    const activatorProps = computed(() => mergeProps({\n      'aria-describedby': id.value\n    }, props.activatorProps));\n    useRender(() => {\n      const overlayProps = VOverlay.filterProps(props);\n      return _createVNode(VOverlay, _mergeProps({\n        \"ref\": overlay,\n        \"class\": ['v-tooltip', props.class],\n        \"style\": props.style,\n        \"id\": id.value\n      }, overlayProps, {\n        \"modelValue\": isActive.value,\n        \"onUpdate:modelValue\": $event => isActive.value = $event,\n        \"transition\": transition.value,\n        \"absolute\": true,\n        \"location\": location.value,\n        \"origin\": origin.value,\n        \"persistent\": true,\n        \"role\": \"tooltip\",\n        \"activatorProps\": activatorProps.value,\n        \"_disableGlobalStack\": true\n      }, scopeId), {\n        activator: slots.activator,\n        default: function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n          return slots.default?.(...args) ?? props.text;\n        }\n      });\n    });\n    return forwardRefs({}, overlay);\n  }\n});\n//# sourceMappingURL=VTooltip.mjs.map","<template>\n  <div class=\"pm-discovery router-view\">\n    <div class=\"info-header\">\n      <h4>\n        This is a work-in-progress project, where I add more entries once or\n        twice a month with the goal to implement a discovery entry with each \n        update.\n      </h4>\n    </div>\n    <div \n      class=\"timeline-snippets\"\n    >\n      <div\n        class=\"btn-back\"\n        @click=\"moveDecr()\"\n      >\n        <svg\n          width=\"30\"\n          height=\"30\"\n          viewBox=\"0 0 30 30\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        ><path\n          fill=\"none\"\n          d=\"M0 0h30v30H0z\"\n        /><path\n          fill=\"#D8D8D8\"\n          fill-rule=\"evenodd\"\n          d=\"M11.828 15l7.89-7.89-2.83-2.828L6.283 14.89l.11.11-.11.11L16.89 25.72l2.828-2.83\"\n        /></svg>\n      </div>\n      <div class=\"timeline-snippets-holder\">\n        <div\n          class=\"timeline-snippets-content\"\n          :style=\"{\n            transform : 'translateX('+ (snippetOffeset)+'px)'\n          }\"\n        >\n          <section \n            v-for=\"(info, idx) in algos\"\n            :id=\"idx\"\n            :key=\"idx\"\n            :class=\"{\n              hide : idx != curr && idx != (curr - 1) && idx != (curr + 1),\n              prev : idx == (curr - 1),\n              next : idx == (curr + 1)\n            }\"\n            :style=\"{\n              transform: 'translateX('+(0.3*(algos.length - idx)) +'px)'\n            }\"\n          >\n            <h4> {{ info.year }} </h4>\n            <h2\n              :class=\"{\n                'color-swap-1' : (idx % 5 == 0),\n                'color-swap-2' : (idx % 5 == 1),\n                'color-swap-3' : (idx % 5 == 2),\n                'color-swap-4' : (idx % 5 == 3),\n                'color-swap-5' : (idx % 5 == 4)\n              }\"\n              v-html=\"info.title\"\n            />\n            <p> \n              {{ info.shortInfo }}\n            </p>\n          </section>\n        </div>\n      </div>\n      <div\n        class=\"btn-next\"\n        @click=\"moveIncr()\"\n      >\n        <svg\n          width=\"30\"\n          height=\"30\"\n          viewBox=\"0 0 30 30\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        ><path\n          fill=\"none\"\n          d=\"M0 0h30v30H0z\"\n        /><path\n          fill=\"#D8D8D8\"\n          fill-rule=\"evenodd\"\n          d=\"M18.172 14.718l-7.89-7.89L13.112 4l10.606 10.607-.11.11.11.11-10.608 10.61-2.828-2.83 7.89-7.89\"\n        /></svg>\n      </div>\n    </div>\n    <div \n      class=\"timeline-dots-line\"\n    />\n    <div class=\"timeline-hist\">\n      <div> {{ histYearsMin }}</div>\n      <div class=\"timeline-hist-bars\">\n        <div\n          v-for=\"(val,year) of histYears\"\n          :key=\"val\"\n          :class=\"{\n            'timeline-hist-bar' : true,\n            'active' : selectInfo.year == year\n          }\"\n          :style=\"{\n            width: ((100/(histYearsMax - histYearsMin))*0.6) +'%',\n            'margin-left' : ((100/(histYearsMax - histYearsMin))*0.2) +'%',\n            'margin-right' : ((100/(histYearsMax - histYearsMin))*0.2) +'%',\n            height: histYears[year] > 0 ? calcHistBarHeight(histYears[year])+'px' : '0px',\n            'margin-top': calcHistBarMargin(histYears[year])+'px',\n          }\"\n        >\n          <v-tooltip\n            :text=\"'('+year+','+histYears[year]+')'\"\n            activator=\"parent\"\n            opacity=\"0.5\"\n            location=\"top\"\n            width=\"80\"\n            height=\"25\"\n            theme=\"dark\"\n            content-class=\"hist-bar-tooltip\"\n          />\n        </div>\n      </div>\n      <div> {{ histYearsMax }}</div>\n    </div>\n    <div class=\"timeline-dots\">\n      <div\n        class=\"btn-back\"\n        @click=\"moveDecr()\"\n      >\n        <svg\n          width=\"30\"\n          height=\"30\"\n          viewBox=\"0 0 30 30\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        ><path\n          fill=\"none\"\n          d=\"M0 0h30v30H0z\"\n        /><path\n          fill=\"#D8D8D8\"\n          fill-rule=\"evenodd\"\n          d=\"M11.828 15l7.89-7.89-2.83-2.828L6.283 14.89l.11.11-.11.11L16.89 25.72l2.828-2.83\"\n        /></svg>\n      </div>\n      <div\n        class=\"timeline-dots-content\"\n      >\n        <ol\n          :style=\"{\n            transform : 'translateX('+timelineOffset+'px)',\n          }\"\n        >\n          <li \n            v-for=\"(info, idx) in algos\"\n            :key=\"idx\"\n            :class=\"{\n              active : idx == curr\n            }\"\n            @click=\"moveTo(idx)\"\n          />\n        </ol>\n      </div>\n      <div\n        class=\"btn-next\"\n        @click=\"moveIncr()\"\n      >\n        <svg\n          width=\"30\"\n          height=\"30\"\n          viewBox=\"0 0 30 30\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        ><path\n          fill=\"none\"\n          d=\"M0 0h30v30H0z\"\n        /><path\n          fill=\"#D8D8D8\"\n          fill-rule=\"evenodd\"\n          d=\"M18.172 14.718l-7.89-7.89L13.112 4l10.606 10.607-.11.11.11.11-10.608 10.61-2.828-2.83 7.89-7.89\"\n        /></svg>\n      </div>\n    </div>\n    <div class=\"timeline-info\">\n      <div class=\"content-bar\">\n        <section>\n          <h1\n            :class=\"{\n              'color-swap-1' : (curr % 5 == 0),\n              'color-swap-2' : (curr % 5 == 1),\n              'color-swap-3' : (curr % 5 == 2),\n              'color-swap-4' : (curr % 5 == 3),\n              'color-swap-5' : (curr % 5 == 4)\n            }\"\n            v-html=\"selectInfo.title\"\n          />\n          <h3> \n            {{ selectInfo.year }}\n          </h3>\n          <h4>\n            {{ selectInfo.paper }}\n          </h4>\n          <img\n            :src=\"'/figures/process-mining/discovery/'+selectInfo.figure\"\n            :alt=\"selectInfo.title + ' discovery outcome.'\"\n          >\n          <p class=\"figure-caption\">\n            <u>Figure {{ curr+1 }}:</u> \n            {{ selectInfo.title }} applied to the \n            road fines \n            <a\n              href=\"https://doi.org/10.4121/uuid:270fd440-1057-4fb9-89a9-b699b47990f5\"\n              target=\"_blank\"\n            >(found here)</a>\n            event log.\n          </p>\n          <div class=\"long-info\">\n            <p> \n              {{ selectInfo.longInfo }}\n            </p>\n          </div>\n          <div\n            v-if=\"selectInfo.code != null\"\n            class=\"code-snippet\"\n          >\n            <VCodeBlock\n              :code=\"selectInfo.code\"\n              highlightjs\n              lang=\"python\"\n              theme=\"github-dark\"\n            />\n            <p class=\"code-snippet-caption\">\n              <u>Snippet {{ curr+1 }}:</u>\n              Code snippet to run the technique over the road fines log \n              using pmkoalas.\n            </p>\n          </div>\n        </section>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport  discCards  from \"./discovery-data/discoveryData.js\"\nimport VCodeBlock from '@wdns/vue-code-block';\n\nexport default {\n    name: \"PMDiscoveryPage\",\n    components: {\n      VCodeBlock\n    },\n    data: function() {\n        return {\n            curr: 0,//Math.floor(Math.random() * (discCards.length -1 )),\n            algos: discCards,\n            histYearsMin: discCards\n              .map(a => a.year)\n              .reduce((a,b) => a < b ? a : b),\n            histYearsMax: discCards\n              .map(a => a.year)\n              .reduce((a,b) => a > b ? a : b),\n        }\n    },\n    computed: {\n        selectInfo: function(){\n            return this.algos[this.curr]\n        },\n        lineOffset: function(){\n            return 150\n        },\n        timelineOffset: function() {\n            return this.curr * -76\n        },\n        snippetOffeset: function(){\n          var dis = this.curr * - 200\n          if (this.curr > 0){\n            dis = dis + ((this.curr) * -30)\n          }\n          return dis\n        },\n        histYears: function(){\n          var years = {}\n          var min = this.histYearsMin\n          var max = this.histYearsMax\n          years[min] = 0\n          while(min != max){\n            min += 1\n            years[min] = 0\n          }\n          for(var info of this.algos){\n              years[info.year] += 1\n          }\n          return years\n        },\n        histCountMax: function(){\n          if (this.histYears != null){\n            var ret = 0;\n            for(var val in this.histYears){\n              val = this.histYears[val]\n              ret = val > ret ? val : ret\n            }\n            return ret;\n          } else {\n            return 10;\n          }\n        }\n    },\n    methods: {\n        moveTo: function(idx) {\n            this.curr = idx\n        },\n        moveIncr: function() {\n            this.curr += 1 \n            if (this.curr >= this.algos.length){\n                this.curr = 0\n            }\n        },\n        moveDecr: function() {\n            this.curr -= 1\n            if (this.curr < 0){\n                this.curr = this.algos.length - 1\n            }\n        },\n        calcHistBarHeight: function(count){\n          var prec = count / this.histCountMax\n          return 95 * prec\n        },\n        calcHistBarMargin: function(count){\n          var prec = 1 - (count / this.histCountMax)\n          return 95 * prec\n        }\n    }\n}\n</script>\n\n<style lang=\"sass\">\n@use \"@/styles/coloursAnt.sass\" as c\n.hist-bar-tooltip\n  background-color: c.$black-blue !important\n  color: c.$light-grey !important\n  justify-content: center\n  text-align: center\n  padding: 5px\n  font-size: 12px !important\n\n  &::after\n    content: \" \"\n    position: absolute\n    top: 100%\n    left: 50%\n    margin-left: -5px\n    border-width: 5px\n    border-style: solid\n    border-color: black transparent transparent transparent\n\n</style>\n\n<style lang=\"sass\" scoped>\n@use \"@/styles/content.sass\" as cont\n@use \"@/styles/coloursAnt.sass\" as c  \n@use \"@/styles/breakpoints.sass\" as brk\n@use \"sass:color\"\n@use \"sass:list\"\n\n$colors: c.$red-3, c.$cyan-7, c.$orange-7, c.$green-3, c.$blue-3\n$repeat: 5 \n\n.info-header\n  text-align: center\n  margin-bottom: 15px\n  margin-top: 15px\n  margin-left: auto \n  margin-right: auto\n\n  @media (min-width: brk.$desktop-width)\n    width: cont.$content-width-full\n\n  @media (max-width: calc(brk.$desktop-width - 1px)) and (min-width: brk.$tablet-width)\n    width: cont.$content-width-medium\n\n  @media (max-width: calc(brk.$tablet-width - 1px))\n    width: cont.$content-width-small\n\n.timeline-snippets\n    display: inline-flex\n    height: 300px\n    width: cont.$content-width-full\n    margin: auto\n    justify-content: center\n    align-content: center\n    font-family: roboto, helvetica, sans-serif\n    font-size: 12px\n    z-index: 3\n    position: relative\n\n    > div > div \n        padding: 1em 0\n        box-sizing: border-box\n\n    @media (min-width: brk.$desktop-width)\n        width: cont.$content-width-full\n\n    @media (max-width: calc(brk.$desktop-width - 1px)) and (min-width: brk.$tablet-width)\n        width: cont.$content-width-medium\n\n    @media (max-width: calc(brk.$tablet-width - 1px))\n        width: cont.$content-width-small\n\n    @media (min-width: brk.$desktop-width)\n        margin-left: calc(calc(100vw - cont.$content-width-full)/2)\n\n    @media (max-width: calc(brk.$desktop-width - 1px)) and (min-width: brk.$tablet-width)\n        margin-left: calc(calc(100vw - cont.$content-width-medium)/2)\n\n    @media (max-width: calc(brk.$tablet-width - 1px))\n        margin-left: calc(calc(100vw - cont.$content-width-small)/2)\n\n    .timeline-snippets-holder\n      display: inline-block\n      width: auto\n      overflow-x: hidden\n\n    .timeline-snippets-content\n      position: relative\n      display: inline-flex\n      transition: all .3s ease\n\n      section\n          text-align: center\n          background-color: c.$background-light\n          min-width: 200px\n          max-width: 200px\n          min-height: 250px\n          max-height: 250px\n          margin: 0px 15px 0px 15px\n          border-radius: 15px\n          padding: 15px\n          transition: all .3s ease\n\n          &:first-child\n            @media (min-width: brk.$desktop-width)\n              margin-left: calc(((cont.$content-width-full * 0.9)/2) - 100px)\n\n            @media (max-width: calc(brk.$desktop-width - 1px)) and (min-width: brk.$tablet-width)\n              margin-left: calc(((cont.$content-width-medium * 0.9)/2) - 100px)\n\n            @media (max-width: calc(brk.$tablet-width - 1px))\n              margin-left: calc(((cont.$content-width-small * 0.9)/2) - 115px)\n          \n          h2 \n              color: c.$green-9\n              margin: 5px\n\n          h4 \n              color: c.$light-grey\n              margin: 2.5px\n          p\n              color: c.$light-grey\n\n          &.hide \n            opacity: 0\n\n          &.prev \n            opacity: 0.33\n\n          &.next \n            opacity: 0.33\n\n\n    .btn-back, .btn-next\n        width: 30px\n        height: 100%\n        justify-content: center\n        align-content: center\n        cursor: pointer\n        z-index: 10\n        transition: 0.3s ease-in-out\n        &:hover\n            background-color: rgba(0,0,0,.05)\n        &.hide\n            display: none\n    .btn-back\n        left: 0\n    .btn-next\n        right: 0\n\n\n.timeline-info\n    // border: 5px green solid\n    padding-top: 35px\n    z-index: 3\n    position: relative\n\n    .content-bar\n        border-radius: 15px\n        align-content: center \n        text-align: center\n\n        section\n            margin-top: 15px\n\n        h1 \n            color: c.$green-9\n            margin: 2.5px\n        h3 \n            margin: 5px\n            color: c.$light-grey\n        h4\n            margin: 5px\n            font-size: 12px\n            font-weight: lighter\n            width: 80%\n            margin-left: auto\n            margin-right: auto\n            color: c.$light-grey\n\n        img\n            width: 80%\n            margin: 15px 0 0 0\n            color: c.$black-blue\n\n        .long-info\n          padding: 15px\n\n          p\n              color: c.$green-9\n\n        .figure-caption\n            color: c.$black-blue\n            margin-bottom: 15px\n\n        .code-snippet\n          text-align: left\n          padding: 25px\n\n        .code-snippet-caption\n          text-align: center\n          color: c.$black-blue\n          margin-top: 15px\n\n.timeline-dots-line\n    position: absolute\n    height: 250px \n    margin-top: -38px\n    margin-right: 30%\n    min-width: 2.5px\n    background-color: c.$light-grey\n    border-radius: 2px\n    z-index: 1\n\n    @media (min-width: brk.$desktop-width)\n        margin-left: calc(calc(100vw - cont.$content-width-full)/2)\n        transform: translateX(calc(cont.$content-width-full/2))\n\n    @media (max-width: calc(brk.$desktop-width - 1px)) and (min-width: brk.$tablet-width)\n        margin-left: calc(calc(100vw - cont.$content-width-medium)/2)\n        transform: translateX(calc(cont.$content-width-medium/2))\n\n    @media (max-width: calc(brk.$tablet-width - 1px))\n        margin-left: calc(calc(100vw - cont.$content-width-small)/2)\n        transform: translateX(calc(cont.$content-width-small/2))\n\n    \n.timeline-hist\n  margin: auto\n  height: 100px\n  display: flex\n  z-index: 3\n  \n  @media (min-width: brk.$desktop-width)\n      width: cont.$content-width-full\n\n  @media (max-width: calc(brk.$desktop-width - 1px)) and (min-width: brk.$tablet-width)\n      width: cont.$content-width-medium\n\n  @media (max-width: calc(brk.$tablet-width - 1px))\n      width: cont.$content-width-small\n\n  .timeline-hist-bars\n    width: 80%\n    height: 100px\n    margin: auto\n    display: inline-flex\n    z-index: 3\n\n    .timeline-hist-bar \n      background-color: c.$light-grey\n      opacity: 0.5\n      z-index: 2\n\n      &.active\n        background-color: c.$green-8\n\n.timeline-dots\n    // border: 5px blue solid\n    height: 60px\n    margin: auto\n    display: flex\n    overflow-y: hidden\n    transition: left .3s ease-in-out\n    position: relative\n    z-index: 2\n\n    @media (min-width: brk.$desktop-width)\n        width: cont.$content-width-full\n\n    @media (max-width: calc(brk.$desktop-width - 1px)) and (min-width: brk.$tablet-width)\n        width: cont.$content-width-medium\n\n    @media (max-width: calc(brk.$tablet-width - 1px))\n        width: cont.$content-width-small\n\n    .timeline-dots-content\n        width: auto\n        margin: 15px\n        overflow: hidden\n        display: inline-flex\n        transition: all .3s ease\n\n    ol\n      margin-top: 15px\n      display: inline-flex\n      height: 2px\n      background-color: c.$light-grey\n      padding-right: 500px\n      list-style: none\n\n      li\n        display: inline-block\n        padding: 10px\n        margin-top: -12px\n        margin-left: 50px\n        border-radius: 50%\n        border: 3px solid c.$green-5\n        background-color: c.$background\n        position: relative\n        cursor: pointer\n        box-shadow: 0 2px 5px rgba(0,0,0,.2)\n        transition: all .3s ease\n\n\n\n        @for $i from 1 through $repeat \n          &:nth-child(#{list.length($colors)}n+#{$i}) \n            border-color: color.adjust(list.nth($colors, $i), $lightness: 20%)\n\n        &:first-child\n          @media (min-width: brk.$desktop-width)\n            margin-left: calc(((cont.$content-width-full * 0.9)/2) - 100px - 15px + 100px - 1.5px)\n\n          @media (max-width: calc(brk.$desktop-width - 1px)) and (min-width: brk.$tablet-width)\n            margin-left: calc(((cont.$content-width-medium * 0.9)/2) - 100px - 22.5px + 100px - 1.5px)\n\n          @media (max-width: calc(brk.$tablet-width - 1px))\n            margin-left: calc(((cont.$content-width-small * 0.9)/2) - 100px - 27px + 100px - 1.5px)\n\n        &:last-child\n          margin-right: 200px\n\n        &.active\n          box-shadow: none\n          background-color: c.$light-grey\n        &.active:before\n          content: \"\"\n          display: block\n          height: 25px\n          width: 1px\n          position: absolute\n          top: -25px\n          transition: opacity .3s ease-in-out\n        &.active:after\n          content: \"\"\n          display: block\n          height: 25px\n          width: 1px\n          position: absolute\n          bottom: -25px\n          transition: opacity .3s ease-in-out\n    \n    .btn-back, .btn-next\n        justify-content: center\n        align-content: center\n        display: inline-block\n        cursor: pointer\n        margin-top: -2px\n        z-index: 11\n        transition: all .3s ease\n        &:hover\n            background-color: rgba(0,0,0,.05)\n        &.hide\n            display: none\n    .btn-back\n        left: 1em\n    \n    .btn-next\n        right: 1em\n\n.color-swap-1\n  color: color.adjust(list.nth($colors, 1), $lightness: 20%) !important\n.color-swap-2\n  color: color.adjust(list.nth($colors, 2), $lightness: 20%) !important\n.color-swap-3\n  color: color.adjust(list.nth($colors, 3), $lightness: 20%) !important\n.color-swap-4\n  color: color.adjust(list.nth($colors, 4), $lightness: 20%) !important\n.color-swap-5\n  color: color.adjust(list.nth($colors, 5), $lightness: 20%) !important\n</style>","const CLASS_PATTERN = /^class[ {]/;\n\n\n/**\n * @param {function} fn\n *\n * @return {boolean}\n */\nfunction isClass(fn) {\n  return CLASS_PATTERN.test(fn.toString());\n}\n\n/**\n * @param {any} obj\n *\n * @return {boolean}\n */\nfunction isArray(obj) {\n  return Array.isArray(obj);\n}\n\n/**\n * @param {any} obj\n * @param {string} prop\n *\n * @return {boolean}\n */\nfunction hasOwnProp(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n/**\n * @typedef {import('./index.js').InjectAnnotated } InjectAnnotated\n */\n\n/**\n * @template T\n *\n * @params {[...string[], T] | ...string[], T} args\n *\n * @return {T & InjectAnnotated}\n */\nfunction annotate(...args) {\n\n  if (args.length === 1 && isArray(args[0])) {\n    args = args[0];\n  }\n\n  args = [ ...args ];\n\n  const fn = args.pop();\n\n  fn.$inject = args;\n\n  return fn;\n}\n\n\n// Current limitations:\n// - can't put into \"function arg\" comments\n// function /* (no parenthesis like this) */ (){}\n// function abc( /* xx (no parenthesis like this) */ a, b) {}\n//\n// Just put the comment before function or inside:\n// /* (((this is fine))) */ function(a, b) {}\n// function abc(a) { /* (((this is fine))) */}\n//\n// - can't reliably auto-annotate constructor; we'll match the\n// first constructor(...) pattern found which may be the one\n// of a nested class, too.\n\nconst CONSTRUCTOR_ARGS = /constructor\\s*[^(]*\\(\\s*([^)]*)\\)/m;\nconst FN_ARGS = /^(?:async\\s+)?(?:function\\s*[^(]*)?(?:\\(\\s*([^)]*)\\)|(\\w+))/m;\nconst FN_ARG = /\\/\\*([^*]*)\\*\\//m;\n\n/**\n * @param {unknown} fn\n *\n * @return {string[]}\n */\nfunction parseAnnotations(fn) {\n\n  if (typeof fn !== 'function') {\n    throw new Error(`Cannot annotate \"${fn}\". Expected a function!`);\n  }\n\n  const match = fn.toString().match(isClass(fn) ? CONSTRUCTOR_ARGS : FN_ARGS);\n\n  // may parse class without constructor\n  if (!match) {\n    return [];\n  }\n\n  const args = match[1] || match[2];\n\n  return args && args.split(',').map(arg => {\n    const argMatch = arg.match(FN_ARG);\n    return (argMatch && argMatch[1] || arg).trim();\n  }) || [];\n}\n\n/**\n * @typedef { import('./index.js').ModuleDeclaration } ModuleDeclaration\n * @typedef { import('./index.js').ModuleDefinition } ModuleDefinition\n * @typedef { import('./index.js').InjectorContext } InjectorContext\n *\n * @typedef { import('./index.js').TypedDeclaration<any, any> } TypedDeclaration\n */\n\n/**\n * Create a new injector with the given modules.\n *\n * @param {ModuleDefinition[]} modules\n * @param {InjectorContext} [_parent]\n */\nfunction Injector(modules, _parent) {\n\n  const parent = _parent || /** @type InjectorContext */ ({\n    get: function(name, strict) {\n      currentlyResolving.push(name);\n\n      if (strict === false) {\n        return null;\n      } else {\n        throw error(`No provider for \"${ name }\"!`);\n      }\n    }\n  });\n\n  const currentlyResolving = [];\n  const providers = this._providers = Object.create(parent._providers || null);\n  const instances = this._instances = Object.create(null);\n\n  const self = instances.injector = this;\n\n  const error = function(msg) {\n    const stack = currentlyResolving.join(' -> ');\n    currentlyResolving.length = 0;\n    return new Error(stack ? `${ msg } (Resolving: ${ stack })` : msg);\n  };\n\n  /**\n   * Return a named service.\n   *\n   * @param {string} name\n   * @param {boolean} [strict=true] if false, resolve missing services to null\n   *\n   * @return {any}\n   */\n  function get(name, strict) {\n    if (!providers[name] && name.includes('.')) {\n\n      const parts = name.split('.');\n      let pivot = get(/** @type { string } */ (parts.shift()));\n\n      while (parts.length) {\n        pivot = pivot[/** @type { string } */ (parts.shift())];\n      }\n\n      return pivot;\n    }\n\n    if (hasOwnProp(instances, name)) {\n      return instances[name];\n    }\n\n    if (hasOwnProp(providers, name)) {\n      if (currentlyResolving.indexOf(name) !== -1) {\n        currentlyResolving.push(name);\n        throw error('Cannot resolve circular dependency!');\n      }\n\n      currentlyResolving.push(name);\n      instances[name] = providers[name][0](providers[name][1]);\n      currentlyResolving.pop();\n\n      return instances[name];\n    }\n\n    return parent.get(name, strict);\n  }\n\n  function fnDef(fn, locals) {\n\n    if (typeof locals === 'undefined') {\n      locals = {};\n    }\n\n    if (typeof fn !== 'function') {\n      if (isArray(fn)) {\n        fn = annotate(fn.slice());\n      } else {\n        throw error(`Cannot invoke \"${ fn }\". Expected a function!`);\n      }\n    }\n\n    /**\n     * @type {string[]}\n     */\n    const inject = fn.$inject || parseAnnotations(fn);\n    const dependencies = inject.map(dep => {\n      if (hasOwnProp(locals, dep)) {\n        return locals[dep];\n      } else {\n        return get(dep);\n      }\n    });\n\n    return {\n      fn: fn,\n      dependencies\n    };\n  }\n\n  /**\n   * Instantiate the given type, injecting dependencies.\n   *\n   * @template T\n   *\n   * @param { Function | [...string[], Function ]} type\n   *\n   * @return T\n   */\n  function instantiate(type) {\n    const {\n      fn,\n      dependencies\n    } = fnDef(type);\n\n    // instantiate var args constructor\n    const Constructor = Function.prototype.bind.call(fn, null, ...dependencies);\n\n    return new Constructor();\n  }\n\n  /**\n   * Invoke the given function, injecting dependencies. Return the result.\n   *\n   * @template T\n   *\n   * @param { Function | [...string[], Function ]} func\n   * @param { Object } [context]\n   * @param { Object } [locals]\n   *\n   * @return {T} invocation result\n   */\n  function invoke(func, context, locals) {\n    const {\n      fn,\n      dependencies\n    } = fnDef(func, locals);\n\n    return fn.apply(context, dependencies);\n  }\n\n  /**\n   * @param {Injector} childInjector\n   *\n   * @return {Function}\n   */\n  function createPrivateInjectorFactory(childInjector) {\n    return annotate(key => childInjector.get(key));\n  }\n\n  /**\n   * @param {ModuleDefinition[]} modules\n   * @param {string[]} [forceNewInstances]\n   *\n   * @return {Injector}\n   */\n  function createChild(modules, forceNewInstances) {\n    if (forceNewInstances && forceNewInstances.length) {\n      const fromParentModule = Object.create(null);\n      const matchedScopes = Object.create(null);\n\n      const privateInjectorsCache = [];\n      const privateChildInjectors = [];\n      const privateChildFactories = [];\n\n      let provider;\n      let cacheIdx;\n      let privateChildInjector;\n      let privateChildInjectorFactory;\n\n      for (let name in providers) {\n        provider = providers[name];\n\n        if (forceNewInstances.indexOf(name) !== -1) {\n          if (provider[2] === 'private') {\n            cacheIdx = privateInjectorsCache.indexOf(provider[3]);\n            if (cacheIdx === -1) {\n              privateChildInjector = provider[3].createChild([], forceNewInstances);\n              privateChildInjectorFactory = createPrivateInjectorFactory(privateChildInjector);\n              privateInjectorsCache.push(provider[3]);\n              privateChildInjectors.push(privateChildInjector);\n              privateChildFactories.push(privateChildInjectorFactory);\n              fromParentModule[name] = [ privateChildInjectorFactory, name, 'private', privateChildInjector ];\n            } else {\n              fromParentModule[name] = [ privateChildFactories[cacheIdx], name, 'private', privateChildInjectors[cacheIdx] ];\n            }\n          } else {\n            fromParentModule[name] = [ provider[2], provider[1] ];\n          }\n          matchedScopes[name] = true;\n        }\n\n        if ((provider[2] === 'factory' || provider[2] === 'type') && provider[1].$scope) {\n          /* jshint -W083 */\n          forceNewInstances.forEach(scope => {\n            if (provider[1].$scope.indexOf(scope) !== -1) {\n              fromParentModule[name] = [ provider[2], provider[1] ];\n              matchedScopes[scope] = true;\n            }\n          });\n        }\n      }\n\n      forceNewInstances.forEach(scope => {\n        if (!matchedScopes[scope]) {\n          throw new Error('No provider for \"' + scope + '\". Cannot use provider from the parent!');\n        }\n      });\n\n      modules.unshift(fromParentModule);\n    }\n\n    return new Injector(modules, self);\n  }\n\n  const factoryMap = {\n    factory: invoke,\n    type: instantiate,\n    value: function(value) {\n      return value;\n    }\n  };\n\n  /**\n   * @param {ModuleDefinition} moduleDefinition\n   * @param {Injector} injector\n   */\n  function createInitializer(moduleDefinition, injector) {\n\n    const initializers = moduleDefinition.__init__ || [];\n\n    return function() {\n      initializers.forEach(initializer => {\n\n        // eagerly resolve component (fn or string)\n        if (typeof initializer === 'string') {\n          injector.get(initializer);\n        } else {\n          injector.invoke(initializer);\n        }\n      });\n    };\n  }\n\n  /**\n   * @param {ModuleDefinition} moduleDefinition\n   */\n  function loadModule(moduleDefinition) {\n\n    const moduleExports = moduleDefinition.__exports__;\n\n    // private module\n    if (moduleExports) {\n      const nestedModules = moduleDefinition.__modules__;\n\n      const clonedModule = Object.keys(moduleDefinition).reduce((clonedModule, key) => {\n\n        if (key !== '__exports__' && key !== '__modules__' && key !== '__init__' && key !== '__depends__') {\n          clonedModule[key] = moduleDefinition[key];\n        }\n\n        return clonedModule;\n      }, Object.create(null));\n\n      const childModules = (nestedModules || []).concat(clonedModule);\n\n      const privateInjector = createChild(childModules);\n      const getFromPrivateInjector = annotate(function(key) {\n        return privateInjector.get(key);\n      });\n\n      moduleExports.forEach(function(key) {\n        providers[key] = [ getFromPrivateInjector, key, 'private', privateInjector ];\n      });\n\n      // ensure child injector initializes\n      const initializers = (moduleDefinition.__init__ || []).slice();\n\n      initializers.unshift(function() {\n        privateInjector.init();\n      });\n\n      moduleDefinition = Object.assign({}, moduleDefinition, {\n        __init__: initializers\n      });\n\n      return createInitializer(moduleDefinition, privateInjector);\n    }\n\n    // normal module\n    Object.keys(moduleDefinition).forEach(function(key) {\n\n      if (key === '__init__' || key === '__depends__') {\n        return;\n      }\n\n      const typeDeclaration = /** @type { TypedDeclaration } */ (\n        moduleDefinition[key]\n      );\n\n      if (typeDeclaration[2] === 'private') {\n        providers[key] = typeDeclaration;\n        return;\n      }\n\n      const type = typeDeclaration[0];\n      const value = typeDeclaration[1];\n\n      providers[key] = [ factoryMap[type], arrayUnwrap(type, value), type ];\n    });\n\n    return createInitializer(moduleDefinition, self);\n  }\n\n  /**\n   * @param {ModuleDefinition[]} moduleDefinitions\n   * @param {ModuleDefinition} moduleDefinition\n   *\n   * @return {ModuleDefinition[]}\n   */\n  function resolveDependencies(moduleDefinitions, moduleDefinition) {\n\n    if (moduleDefinitions.indexOf(moduleDefinition) !== -1) {\n      return moduleDefinitions;\n    }\n\n    moduleDefinitions = (moduleDefinition.__depends__ || []).reduce(resolveDependencies, moduleDefinitions);\n\n    if (moduleDefinitions.indexOf(moduleDefinition) !== -1) {\n      return moduleDefinitions;\n    }\n\n    return moduleDefinitions.concat(moduleDefinition);\n  }\n\n  /**\n   * @param {ModuleDefinition[]} moduleDefinitions\n   *\n   * @return { () => void } initializerFn\n   */\n  function bootstrap(moduleDefinitions) {\n\n    const initializers = moduleDefinitions\n      .reduce(resolveDependencies, [])\n      .map(loadModule);\n\n    let initialized = false;\n\n    return function() {\n\n      if (initialized) {\n        return;\n      }\n\n      initialized = true;\n\n      initializers.forEach(initializer => initializer());\n    };\n  }\n\n  // public API\n  this.get = get;\n  this.invoke = invoke;\n  this.instantiate = instantiate;\n  this.createChild = createChild;\n\n  // setup\n  this.init = bootstrap(modules);\n}\n\n\n// helpers ///////////////\n\nfunction arrayUnwrap(type, value) {\n  if (type !== 'value' && isArray(value)) {\n    value = annotate(value.slice());\n  }\n\n  return value;\n}\n\nexport { Injector, annotate, parseAnnotations };\n//# sourceMappingURL=index.js.map\n","function e(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}export{e as default};\n//# sourceMappingURL=index.es.js.map\n","var DEFAULT_RENDER_PRIORITY = 1000;\n\n/**\n * @typedef {import('../core/Types').ElementLike} Element\n * @typedef {import('../core/Types').ConnectionLike} Connection\n * @typedef {import('../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../core/EventBus').default} EventBus\n */\n\n/**\n * The base implementation of shape and connection renderers.\n *\n * @param {EventBus} eventBus\n * @param {number} [renderPriority=1000]\n */\nexport default function BaseRenderer(eventBus, renderPriority) {\n  var self = this;\n\n  renderPriority = renderPriority || DEFAULT_RENDER_PRIORITY;\n\n  eventBus.on([ 'render.shape', 'render.connection' ], renderPriority, function(evt, context) {\n    var type = evt.type,\n        element = context.element,\n        visuals = context.gfx,\n        attrs = context.attrs;\n\n    if (self.canRender(element)) {\n      if (type === 'render.shape') {\n        return self.drawShape(visuals, element, attrs);\n      } else {\n        return self.drawConnection(visuals, element, attrs);\n      }\n    }\n  });\n\n  eventBus.on([ 'render.getShapePath', 'render.getConnectionPath' ], renderPriority, function(evt, element) {\n    if (self.canRender(element)) {\n      if (evt.type === 'render.getShapePath') {\n        return self.getShapePath(element);\n      } else {\n        return self.getConnectionPath(element);\n      }\n    }\n  });\n}\n\n/**\n * Checks whether an element can be rendered.\n *\n * @param {Element} element The element to be rendered.\n *\n * @return {boolean} Whether the element can be rendered.\n */\nBaseRenderer.prototype.canRender = function(element) {};\n\n/**\n * Draws a shape.\n *\n * @param {SVGElement} visuals The SVG element to draw the shape into.\n * @param {Shape} shape The shape to be drawn.\n *\n * @return {SVGElement} The SVG element of the shape drawn.\n */\nBaseRenderer.prototype.drawShape = function(visuals, shape) {};\n\n/**\n * Draws a connection.\n *\n * @param {SVGElement} visuals The SVG element to draw the connection into.\n * @param {Connection} connection The connection to be drawn.\n *\n * @return {SVGElement} The SVG element of the connection drawn.\n */\nBaseRenderer.prototype.drawConnection = function(visuals, connection) {};\n\n/**\n * Gets the SVG path of the graphical representation of a shape.\n *\n * @param {Shape} shape The shape.\n *\n * @return {string} The SVG path of the shape.\n */\nBaseRenderer.prototype.getShapePath = function(shape) {};\n\n/**\n * Gets the SVG path of the graphical representation of a connection.\n *\n * @param {Connection} connection The connection.\n *\n * @return {string} The SVG path of the connection.\n */\nBaseRenderer.prototype.getConnectionPath = function(connection) {};\n","/**\n * Flatten array, one level deep.\n *\n * @template T\n *\n * @param {T[][] | T[] | null} [arr]\n *\n * @return {T[]}\n */\nfunction flatten(arr) {\n  return Array.prototype.concat.apply([], arr);\n}\n\nconst nativeToString = Object.prototype.toString;\nconst nativeHasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isUndefined(obj) {\n  return obj === undefined;\n}\n\nfunction isDefined(obj) {\n  return obj !== undefined;\n}\n\nfunction isNil(obj) {\n  return obj == null;\n}\n\nfunction isArray(obj) {\n  return nativeToString.call(obj) === '[object Array]';\n}\n\nfunction isObject(obj) {\n  return nativeToString.call(obj) === '[object Object]';\n}\n\nfunction isNumber(obj) {\n  return nativeToString.call(obj) === '[object Number]';\n}\n\n/**\n * @param {any} obj\n *\n * @return {boolean}\n */\nfunction isFunction(obj) {\n  const tag = nativeToString.call(obj);\n\n  return (\n    tag === '[object Function]' ||\n    tag === '[object AsyncFunction]' ||\n    tag === '[object GeneratorFunction]' ||\n    tag === '[object AsyncGeneratorFunction]' ||\n    tag === '[object Proxy]'\n  );\n}\n\nfunction isString(obj) {\n  return nativeToString.call(obj) === '[object String]';\n}\n\n\n/**\n * Ensure collection is an array.\n *\n * @param {Object} obj\n */\nfunction ensureArray(obj) {\n\n  if (isArray(obj)) {\n    return;\n  }\n\n  throw new Error('must supply array');\n}\n\n/**\n * Return true, if target owns a property with the given key.\n *\n * @param {Object} target\n * @param {String} key\n *\n * @return {Boolean}\n */\nfunction has(target, key) {\n  return !isNil(target) && nativeHasOwnProperty.call(target, key);\n}\n\n/**\n * @template T\n * @typedef { (\n *   ((e: T) => boolean) |\n *   ((e: T, idx: number) => boolean) |\n *   ((e: T, key: string) => boolean) |\n *   string |\n *   number\n * ) } Matcher\n */\n\n/**\n * @template T\n * @template U\n *\n * @typedef { (\n *   ((e: T) => U) | string | number\n * ) } Extractor\n */\n\n\n/**\n * @template T\n * @typedef { (val: T, key: any) => boolean } MatchFn\n */\n\n/**\n * @template T\n * @typedef { T[] } ArrayCollection\n */\n\n/**\n * @template T\n * @typedef { { [key: string]: T } } StringKeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { { [key: number]: T } } NumberKeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { StringKeyValueCollection<T> | NumberKeyValueCollection<T> } KeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { KeyValueCollection<T> | ArrayCollection<T> } Collection\n */\n\n/**\n * Find element in collection.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param {Matcher<T>} matcher\n *\n * @return {Object}\n */\nfunction find(collection, matcher) {\n\n  const matchFn = toMatcher(matcher);\n\n  let match;\n\n  forEach(collection, function(val, key) {\n    if (matchFn(val, key)) {\n      match = val;\n\n      return false;\n    }\n  });\n\n  return match;\n\n}\n\n\n/**\n * Find element index in collection.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param {Matcher<T>} matcher\n *\n * @return {number | string | undefined}\n */\nfunction findIndex(collection, matcher) {\n\n  const matchFn = toMatcher(matcher);\n\n  let idx = isArray(collection) ? -1 : undefined;\n\n  forEach(collection, function(val, key) {\n    if (matchFn(val, key)) {\n      idx = key;\n\n      return false;\n    }\n  });\n\n  return idx;\n}\n\n\n/**\n * Filter elements in collection.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param {Matcher<T>} matcher\n *\n * @return {T[]} result\n */\nfunction filter(collection, matcher) {\n\n  const matchFn = toMatcher(matcher);\n\n  let result = [];\n\n  forEach(collection, function(val, key) {\n    if (matchFn(val, key)) {\n      result.push(val);\n    }\n  });\n\n  return result;\n}\n\n\n/**\n * Iterate over collection; returning something\n * (non-undefined) will stop iteration.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param { ((item: T, idx: number) => (boolean|void)) | ((item: T, key: string) => (boolean|void)) } iterator\n *\n * @return {T} return result that stopped the iteration\n */\nfunction forEach(collection, iterator) {\n\n  let val,\n      result;\n\n  if (isUndefined(collection)) {\n    return;\n  }\n\n  const convertKey = isArray(collection) ? toNum : identity;\n\n  for (let key in collection) {\n\n    if (has(collection, key)) {\n      val = collection[key];\n\n      result = iterator(val, convertKey(key));\n\n      if (result === false) {\n        return val;\n      }\n    }\n  }\n}\n\n/**\n * Return collection without element.\n *\n * @template T\n * @param {ArrayCollection<T>} arr\n * @param {Matcher<T>} matcher\n *\n * @return {T[]}\n */\nfunction without(arr, matcher) {\n\n  if (isUndefined(arr)) {\n    return [];\n  }\n\n  ensureArray(arr);\n\n  const matchFn = toMatcher(matcher);\n\n  return arr.filter(function(el, idx) {\n    return !matchFn(el, idx);\n  });\n\n}\n\n\n/**\n * Reduce collection, returning a single result.\n *\n * @template T\n * @template V\n *\n * @param {Collection<T>} collection\n * @param {(result: V, entry: T, index: any) => V} iterator\n * @param {V} result\n *\n * @return {V} result returned from last iterator\n */\nfunction reduce(collection, iterator, result) {\n\n  forEach(collection, function(value, idx) {\n    result = iterator(result, value, idx);\n  });\n\n  return result;\n}\n\n\n/**\n * Return true if every element in the collection\n * matches the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\nfunction every(collection, matcher) {\n\n  return !!reduce(collection, function(matches, val, key) {\n    return matches && matcher(val, key);\n  }, true);\n}\n\n\n/**\n * Return true if some elements in the collection\n * match the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\nfunction some(collection, matcher) {\n\n  return !!find(collection, matcher);\n}\n\n\n/**\n * Transform a collection into another collection\n * by piping each member through the given fn.\n *\n * @param  {Object|Array}   collection\n * @param  {Function} fn\n *\n * @return {Array} transformed collection\n */\nfunction map(collection, fn) {\n\n  let result = [];\n\n  forEach(collection, function(val, key) {\n    result.push(fn(val, key));\n  });\n\n  return result;\n}\n\n\n/**\n * Get the collections keys.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\nfunction keys(collection) {\n  return collection && Object.keys(collection) || [];\n}\n\n\n/**\n * Shorthand for `keys(o).length`.\n *\n * @param  {Object|Array} collection\n *\n * @return {Number}\n */\nfunction size(collection) {\n  return keys(collection).length;\n}\n\n\n/**\n * Get the values in the collection.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\nfunction values(collection) {\n  return map(collection, (val) => val);\n}\n\n\n/**\n * Group collection members by attribute.\n *\n * @param {Object|Array} collection\n * @param {Extractor} extractor\n *\n * @return {Object} map with { attrValue => [ a, b, c ] }\n */\nfunction groupBy(collection, extractor, grouped = {}) {\n\n  extractor = toExtractor(extractor);\n\n  forEach(collection, function(val) {\n    let discriminator = extractor(val) || '_';\n\n    let group = grouped[discriminator];\n\n    if (!group) {\n      group = grouped[discriminator] = [];\n    }\n\n    group.push(val);\n  });\n\n  return grouped;\n}\n\n\nfunction uniqueBy(extractor, ...collections) {\n\n  extractor = toExtractor(extractor);\n\n  let grouped = {};\n\n  forEach(collections, (c) => groupBy(c, extractor, grouped));\n\n  let result = map(grouped, function(val, key) {\n    return val[0];\n  });\n\n  return result;\n}\n\n\nconst unionBy = uniqueBy;\n\n\n\n/**\n * Sort collection by criteria.\n *\n * @template T\n *\n * @param {Collection<T>} collection\n * @param {Extractor<T, number | string>} extractor\n *\n * @return {Array}\n */\nfunction sortBy(collection, extractor) {\n\n  extractor = toExtractor(extractor);\n\n  let sorted = [];\n\n  forEach(collection, function(value, key) {\n    let disc = extractor(value, key);\n\n    let entry = {\n      d: disc,\n      v: value\n    };\n\n    for (var idx = 0; idx < sorted.length; idx++) {\n      let { d } = sorted[idx];\n\n      if (disc < d) {\n        sorted.splice(idx, 0, entry);\n        return;\n      }\n    }\n\n    // not inserted, append (!)\n    sorted.push(entry);\n  });\n\n  return map(sorted, (e) => e.v);\n}\n\n\n/**\n * Create an object pattern matcher.\n *\n * @example\n *\n * ```javascript\n * const matcher = matchPattern({ id: 1 });\n *\n * let element = find(elements, matcher);\n * ```\n *\n * @template T\n *\n * @param {T} pattern\n *\n * @return { (el: any) =>  boolean } matcherFn\n */\nfunction matchPattern(pattern) {\n\n  return function(el) {\n\n    return every(pattern, function(val, key) {\n      return el[key] === val;\n    });\n\n  };\n}\n\n\n/**\n * @param {string | ((e: any) => any) } extractor\n *\n * @return { (e: any) => any }\n */\nfunction toExtractor(extractor) {\n\n  /**\n   * @satisfies { (e: any) => any }\n   */\n  return isFunction(extractor) ? extractor : (e) => {\n\n    // @ts-ignore: just works\n    return e[extractor];\n  };\n}\n\n\n/**\n * @template T\n * @param {Matcher<T>} matcher\n *\n * @return {MatchFn<T>}\n */\nfunction toMatcher(matcher) {\n  return isFunction(matcher) ? matcher : (e) => {\n    return e === matcher;\n  };\n}\n\n\nfunction identity(arg) {\n  return arg;\n}\n\nfunction toNum(arg) {\n  return Number(arg);\n}\n\n/* global setTimeout clearTimeout */\n\n/**\n * @typedef { {\n *   (...args: any[]): any;\n *   flush: () => void;\n *   cancel: () => void;\n * } } DebouncedFunction\n */\n\n/**\n * Debounce fn, calling it only once if the given time\n * elapsed between calls.\n *\n * Lodash-style the function exposes methods to `#clear`\n * and `#flush` to control internal behavior.\n *\n * @param  {Function} fn\n * @param  {Number} timeout\n *\n * @return {DebouncedFunction} debounced function\n */\nfunction debounce(fn, timeout) {\n\n  let timer;\n\n  let lastArgs;\n  let lastThis;\n\n  let lastNow;\n\n  function fire(force) {\n\n    let now = Date.now();\n\n    let scheduledDiff = force ? 0 : (lastNow + timeout) - now;\n\n    if (scheduledDiff > 0) {\n      return schedule(scheduledDiff);\n    }\n\n    fn.apply(lastThis, lastArgs);\n\n    clear();\n  }\n\n  function schedule(timeout) {\n    timer = setTimeout(fire, timeout);\n  }\n\n  function clear() {\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = lastNow = lastArgs = lastThis = undefined;\n  }\n\n  function flush() {\n    if (timer) {\n      fire(true);\n    }\n\n    clear();\n  }\n\n  /**\n   * @type { DebouncedFunction }\n   */\n  function callback(...args) {\n    lastNow = Date.now();\n\n    lastArgs = args;\n    lastThis = this;\n\n    // ensure an execution is scheduled\n    if (!timer) {\n      schedule(timeout);\n    }\n  }\n\n  callback.flush = flush;\n  callback.cancel = clear;\n\n  return callback;\n}\n\n/**\n * Throttle fn, calling at most once\n * in the given interval.\n *\n * @param  {Function} fn\n * @param  {Number} interval\n *\n * @return {Function} throttled function\n */\nfunction throttle(fn, interval) {\n  let throttling = false;\n\n  return function(...args) {\n\n    if (throttling) {\n      return;\n    }\n\n    fn(...args);\n    throttling = true;\n\n    setTimeout(() => {\n      throttling = false;\n    }, interval);\n  };\n}\n\n/**\n * Bind function against target <this>.\n *\n * @param  {Function} fn\n * @param  {Object}   target\n *\n * @return {Function} bound function\n */\nfunction bind(fn, target) {\n  return fn.bind(target);\n}\n\n/**\n * Convenience wrapper for `Object.assign`.\n *\n * @param {Object} target\n * @param {...Object} others\n *\n * @return {Object} the target\n */\nfunction assign(target, ...others) {\n  return Object.assign(target, ...others);\n}\n\n/**\n * Sets a nested property of a given object to the specified value.\n *\n * This mutates the object and returns it.\n *\n * @template T\n *\n * @param {T} target The target of the set operation.\n * @param {(string|number)[]} path The path to the nested value.\n * @param {any} value The value to set.\n *\n * @return {T}\n */\nfunction set(target, path, value) {\n\n  let currentTarget = target;\n\n  forEach(path, function(key, idx) {\n\n    if (typeof key !== 'number' && typeof key !== 'string') {\n      throw new Error('illegal key type: ' + typeof key + '. Key should be of type number or string.');\n    }\n\n    if (key === 'constructor') {\n      throw new Error('illegal key: constructor');\n    }\n\n    if (key === '__proto__') {\n      throw new Error('illegal key: __proto__');\n    }\n\n    let nextKey = path[idx + 1];\n    let nextTarget = currentTarget[key];\n\n    if (isDefined(nextKey) && isNil(nextTarget)) {\n      nextTarget = currentTarget[key] = isNaN(+nextKey) ? {} : [];\n    }\n\n    if (isUndefined(nextKey)) {\n      if (isUndefined(value)) {\n        delete currentTarget[key];\n      } else {\n        currentTarget[key] = value;\n      }\n    } else {\n      currentTarget = nextTarget;\n    }\n  });\n\n  return target;\n}\n\n\n/**\n * Gets a nested property of a given object.\n *\n * @param {Object} target The target of the get operation.\n * @param {(string|number)[]} path The path to the nested value.\n * @param {any} [defaultValue] The value to return if no value exists.\n *\n * @return {any}\n */\nfunction get(target, path, defaultValue) {\n\n  let currentTarget = target;\n\n  forEach(path, function(key) {\n\n    // accessing nil property yields <undefined>\n    if (isNil(currentTarget)) {\n      currentTarget = undefined;\n\n      return false;\n    }\n\n    currentTarget = currentTarget[key];\n  });\n\n  return isUndefined(currentTarget) ? defaultValue : currentTarget;\n}\n\n/**\n * Pick properties from the given target.\n *\n * @template T\n * @template {any[]} V\n *\n * @param {T} target\n * @param {V} properties\n *\n * @return Pick<T, V>\n */\nfunction pick(target, properties) {\n\n  let result = {};\n\n  let obj = Object(target);\n\n  forEach(properties, function(prop) {\n\n    if (prop in obj) {\n      result[prop] = target[prop];\n    }\n  });\n\n  return result;\n}\n\n/**\n * Pick all target properties, excluding the given ones.\n *\n * @template T\n * @template {any[]} V\n *\n * @param {T} target\n * @param {V} properties\n *\n * @return {Omit<T, V>} target\n */\nfunction omit(target, properties) {\n\n  let result = {};\n\n  let obj = Object(target);\n\n  forEach(obj, function(prop, key) {\n\n    if (properties.indexOf(key) === -1) {\n      result[key] = prop;\n    }\n  });\n\n  return result;\n}\n\n/**\n * Recursively merge `...sources` into given target.\n *\n * Does support merging objects; does not support merging arrays.\n *\n * @param {Object} target\n * @param {...Object} sources\n *\n * @return {Object} the target\n */\nfunction merge(target, ...sources) {\n\n  if (!sources.length) {\n    return target;\n  }\n\n  forEach(sources, function(source) {\n\n    // skip non-obj sources, i.e. null\n    if (!source || !isObject(source)) {\n      return;\n    }\n\n    forEach(source, function(sourceVal, key) {\n\n      if (key === '__proto__') {\n        return;\n      }\n\n      let targetVal = target[key];\n\n      if (isObject(sourceVal)) {\n\n        if (!isObject(targetVal)) {\n\n          // override target[key] with object\n          targetVal = {};\n        }\n\n        target[key] = merge(targetVal, sourceVal);\n      } else {\n        target[key] = sourceVal;\n      }\n\n    });\n  });\n\n  return target;\n}\n\nexport { assign, bind, debounce, ensureArray, every, filter, find, findIndex, flatten, forEach, get, groupBy, has, isArray, isDefined, isFunction, isNil, isNumber, isObject, isString, isUndefined, keys, map, matchPattern, merge, omit, pick, reduce, set, size, some, sortBy, throttle, unionBy, uniqueBy, values, without };\n","function ensureImported(element, target) {\n\n  if (element.ownerDocument !== target.ownerDocument) {\n    try {\n\n      // may fail on webkit\n      return target.ownerDocument.importNode(element, true);\n    } catch (e) {\n\n      // ignore\n    }\n  }\n\n  return element;\n}\n\n/**\n * appendTo utility\n */\n\n\n/**\n * Append a node to a target element and return the appended node.\n *\n * @param  {SVGElement} element\n * @param  {SVGElement} target\n *\n * @return {SVGElement} the appended node\n */\nfunction appendTo(element, target) {\n  return target.appendChild(ensureImported(element, target));\n}\n\n/**\n * append utility\n */\n\n\n/**\n * Append a node to an element\n *\n * @param  {SVGElement} element\n * @param  {SVGElement} node\n *\n * @return {SVGElement} the element\n */\nfunction append(target, node) {\n  appendTo(node, target);\n  return target;\n}\n\n/**\n * attribute accessor utility\n */\n\nvar LENGTH_ATTR = 2;\n\nvar CSS_PROPERTIES = {\n  'alignment-baseline': 1,\n  'baseline-shift': 1,\n  'clip': 1,\n  'clip-path': 1,\n  'clip-rule': 1,\n  'color': 1,\n  'color-interpolation': 1,\n  'color-interpolation-filters': 1,\n  'color-profile': 1,\n  'color-rendering': 1,\n  'cursor': 1,\n  'direction': 1,\n  'display': 1,\n  'dominant-baseline': 1,\n  'enable-background': 1,\n  'fill': 1,\n  'fill-opacity': 1,\n  'fill-rule': 1,\n  'filter': 1,\n  'flood-color': 1,\n  'flood-opacity': 1,\n  'font': 1,\n  'font-family': 1,\n  'font-size': LENGTH_ATTR,\n  'font-size-adjust': 1,\n  'font-stretch': 1,\n  'font-style': 1,\n  'font-variant': 1,\n  'font-weight': 1,\n  'glyph-orientation-horizontal': 1,\n  'glyph-orientation-vertical': 1,\n  'image-rendering': 1,\n  'kerning': 1,\n  'letter-spacing': 1,\n  'lighting-color': 1,\n  'marker': 1,\n  'marker-end': 1,\n  'marker-mid': 1,\n  'marker-start': 1,\n  'mask': 1,\n  'opacity': 1,\n  'overflow': 1,\n  'pointer-events': 1,\n  'shape-rendering': 1,\n  'stop-color': 1,\n  'stop-opacity': 1,\n  'stroke': 1,\n  'stroke-dasharray': 1,\n  'stroke-dashoffset': 1,\n  'stroke-linecap': 1,\n  'stroke-linejoin': 1,\n  'stroke-miterlimit': 1,\n  'stroke-opacity': 1,\n  'stroke-width': LENGTH_ATTR,\n  'text-anchor': 1,\n  'text-decoration': 1,\n  'text-rendering': 1,\n  'unicode-bidi': 1,\n  'visibility': 1,\n  'word-spacing': 1,\n  'writing-mode': 1\n};\n\n\nfunction getAttribute(node, name) {\n  if (CSS_PROPERTIES[name]) {\n    return node.style[name];\n  } else {\n    return node.getAttributeNS(null, name);\n  }\n}\n\nfunction setAttribute(node, name, value) {\n  var hyphenated = name.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n\n  var type = CSS_PROPERTIES[hyphenated];\n\n  if (type) {\n\n    // append pixel unit, unless present\n    if (type === LENGTH_ATTR && typeof value === 'number') {\n      value = String(value) + 'px';\n    }\n\n    node.style[hyphenated] = value;\n  } else {\n    node.setAttributeNS(null, name, value);\n  }\n}\n\nfunction setAttributes(node, attrs) {\n\n  var names = Object.keys(attrs), i, name;\n\n  for (i = 0, name; (name = names[i]); i++) {\n    setAttribute(node, name, attrs[name]);\n  }\n}\n\n/**\n * Gets or sets raw attributes on a node.\n *\n * @param  {SVGElement} node\n * @param  {Object} [attrs]\n * @param  {String} [name]\n * @param  {String} [value]\n *\n * @return {String}\n */\nfunction attr(node, name, value) {\n  if (typeof name === 'string') {\n    if (value !== undefined) {\n      setAttribute(node, name, value);\n    } else {\n      return getAttribute(node, name);\n    }\n  } else {\n    setAttributes(node, name);\n  }\n\n  return node;\n}\n\n/**\r\n * Taken from https://github.com/component/classes\r\n *\r\n * Without the component bits.\r\n */\r\n\r\n/**\r\n * toString reference.\r\n */\r\n\r\nconst toString = Object.prototype.toString;\r\n\r\n/**\r\n  * Wrap `el` in a `ClassList`.\r\n  *\r\n  * @param {Element} el\r\n  * @return {ClassList}\r\n  * @api public\r\n  */\r\n\r\nfunction classes(el) {\r\n  return new ClassList(el);\r\n}\r\n\r\nfunction ClassList(el) {\r\n  if (!el || !el.nodeType) {\r\n    throw new Error('A DOM element reference is required');\r\n  }\r\n  this.el = el;\r\n  this.list = el.classList;\r\n}\r\n\r\n/**\r\n  * Add class `name` if not already present.\r\n  *\r\n  * @param {String} name\r\n  * @return {ClassList}\r\n  * @api public\r\n  */\r\n\r\nClassList.prototype.add = function(name) {\r\n  this.list.add(name);\r\n  return this;\r\n};\r\n\r\n/**\r\n  * Remove class `name` when present, or\r\n  * pass a regular expression to remove\r\n  * any which match.\r\n  *\r\n  * @param {String|RegExp} name\r\n  * @return {ClassList}\r\n  * @api public\r\n  */\r\n\r\nClassList.prototype.remove = function(name) {\r\n  if ('[object RegExp]' == toString.call(name)) {\r\n    return this.removeMatching(name);\r\n  }\r\n\r\n  this.list.remove(name);\r\n  return this;\r\n};\r\n\r\n/**\r\n  * Remove all classes matching `re`.\r\n  *\r\n  * @param {RegExp} re\r\n  * @return {ClassList}\r\n  * @api private\r\n  */\r\n\r\nClassList.prototype.removeMatching = function(re) {\r\n  const arr = this.array();\r\n  for (let i = 0; i < arr.length; i++) {\r\n    if (re.test(arr[i])) {\r\n      this.remove(arr[i]);\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n  * Toggle class `name`, can force state via `force`.\r\n  *\r\n  * For browsers that support classList, but do not support `force` yet,\r\n  * the mistake will be detected and corrected.\r\n  *\r\n  * @param {String} name\r\n  * @param {Boolean} force\r\n  * @return {ClassList}\r\n  * @api public\r\n  */\r\n\r\nClassList.prototype.toggle = function(name, force) {\r\n  if ('undefined' !== typeof force) {\r\n    if (force !== this.list.toggle(name, force)) {\r\n      this.list.toggle(name); // toggle again to correct\r\n    }\r\n  } else {\r\n    this.list.toggle(name);\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n  * Return an array of classes.\r\n  *\r\n  * @return {Array}\r\n  * @api public\r\n  */\r\n\r\nClassList.prototype.array = function() {\r\n  return Array.from(this.list);\r\n};\r\n\r\n/**\r\n  * Check if class `name` is present.\r\n  *\r\n  * @param {String} name\r\n  * @return {ClassList}\r\n  * @api public\r\n  */\r\n\r\nClassList.prototype.has =\r\n ClassList.prototype.contains = function(name) {\r\n   return this.list.contains(name);\r\n };\n\n/**\n * Clear utility\n */\n\n/**\n * Removes all children from the given element\n *\n * @param  {SVGElement} element\n * @return {Element} the element (for chaining)\n */\nfunction clear(element) {\n  var child;\n\n  while ((child = element.firstChild)) {\n    element.removeChild(child);\n  }\n\n  return element;\n}\n\nfunction clone(element) {\n  return element.cloneNode(true);\n}\n\nvar ns = {\n  svg: 'http://www.w3.org/2000/svg'\n};\n\n/**\n * DOM parsing utility\n */\n\n\nvar SVG_START = '<svg xmlns=\"' + ns.svg + '\"';\n\nfunction parse(svg) {\n\n  var unwrap = false;\n\n  // ensure we import a valid svg document\n  if (svg.substring(0, 4) === '<svg') {\n    if (svg.indexOf(ns.svg) === -1) {\n      svg = SVG_START + svg.substring(4);\n    }\n  } else {\n\n    // namespace svg\n    svg = SVG_START + '>' + svg + '</svg>';\n    unwrap = true;\n  }\n\n  var parsed = parseDocument(svg);\n\n  if (!unwrap) {\n    return parsed;\n  }\n\n  var fragment = document.createDocumentFragment();\n\n  var parent = parsed.firstChild;\n\n  while (parent.firstChild) {\n    fragment.appendChild(parent.firstChild);\n  }\n\n  return fragment;\n}\n\nfunction parseDocument(svg) {\n\n  var parser;\n\n  // parse\n  parser = new DOMParser();\n  parser.async = false;\n\n  return parser.parseFromString(svg, 'text/xml');\n}\n\n/**\n * Create utility for SVG elements\n */\n\n\n\n/**\n * Create a specific type from name or SVG markup.\n *\n * @param {String} name the name or markup of the element\n * @param {Object} [attrs] attributes to set on the element\n *\n * @returns {SVGElement}\n */\nfunction create(name, attrs) {\n  var element;\n\n  name = name.trim();\n\n  if (name.charAt(0) === '<') {\n    element = parse(name).firstChild;\n    element = document.importNode(element, true);\n  } else {\n    element = document.createElementNS(ns.svg, name);\n  }\n\n  if (attrs) {\n    attr(element, attrs);\n  }\n\n  return element;\n}\n\n/**\n * Events handling utility\n */\n\nfunction on(node, event, listener, useCapture) {\n  node.addEventListener(event, listener, useCapture);\n}\n\nfunction off(node, event, listener, useCapture) {\n  node.removeEventListener(event, listener, useCapture);\n}\n\n/**\n * Geometry helpers\n */\n\n\n// fake node used to instantiate svg geometry elements\nvar node = null;\n\nfunction getNode() {\n  if (node === null) {\n    node = create('svg');\n  }\n\n  return node;\n}\n\nfunction extend(object, props) {\n  var i, k, keys = Object.keys(props);\n\n  for (i = 0; (k = keys[i]); i++) {\n    object[k] = props[k];\n  }\n\n  return object;\n}\n\n\nfunction createPoint(x, y) {\n  var point = getNode().createSVGPoint();\n\n  switch (arguments.length) {\n  case 0:\n    return point;\n  case 2:\n    x = {\n      x: x,\n      y: y\n    };\n    break;\n  }\n\n  return extend(point, x);\n}\n\n/**\n * Create matrix via args.\n *\n * @example\n *\n * createMatrix({ a: 1, b: 1 });\n * createMatrix();\n * createMatrix(1, 2, 0, 0, 30, 20);\n *\n * @return {SVGMatrix}\n */\nfunction createMatrix(a, b, c, d, e, f) {\n  var matrix = getNode().createSVGMatrix();\n\n  switch (arguments.length) {\n  case 0:\n    return matrix;\n  case 1:\n    return extend(matrix, a);\n  case 6:\n    return extend(matrix, {\n      a: a,\n      b: b,\n      c: c,\n      d: d,\n      e: e,\n      f: f\n    });\n  }\n}\n\nfunction createTransform(matrix) {\n  if (matrix) {\n    return getNode().createSVGTransformFromMatrix(matrix);\n  } else {\n    return getNode().createSVGTransform();\n  }\n}\n\n/**\n * Serialization util\n */\n\nvar TEXT_ENTITIES = /([&<>]{1})/g;\nvar ATTR_ENTITIES = /([&<>\\n\\r\"]{1})/g;\n\nvar ENTITY_REPLACEMENT = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '\\''\n};\n\nfunction escape(str, pattern) {\n\n  function replaceFn(match, entity) {\n    return ENTITY_REPLACEMENT[entity] || entity;\n  }\n\n  return str.replace(pattern, replaceFn);\n}\n\nfunction serialize(node, output) {\n\n  var i, len, attrMap, attrNode, childNodes;\n\n  switch (node.nodeType) {\n\n  // TEXT\n  case 3:\n\n    // replace special XML characters\n    output.push(escape(node.textContent, TEXT_ENTITIES));\n    break;\n\n  // ELEMENT\n  case 1:\n    output.push('<', node.tagName);\n\n    if (node.hasAttributes()) {\n      attrMap = node.attributes;\n      for (i = 0, len = attrMap.length; i < len; ++i) {\n        attrNode = attrMap.item(i);\n        output.push(' ', attrNode.name, '=\"', escape(attrNode.value, ATTR_ENTITIES), '\"');\n      }\n    }\n\n    if (node.hasChildNodes()) {\n      output.push('>');\n      childNodes = node.childNodes;\n      for (i = 0, len = childNodes.length; i < len; ++i) {\n        serialize(childNodes.item(i), output);\n      }\n      output.push('</', node.tagName, '>');\n    } else {\n      output.push('/>');\n    }\n    break;\n\n  // COMMENT\n  case 8:\n    output.push('<!--', escape(node.nodeValue, TEXT_ENTITIES), '-->');\n    break;\n\n  // CDATA\n  case 4:\n    output.push('<![CDATA[', node.nodeValue, ']]>');\n    break;\n\n  default:\n    throw new Error('unable to handle node ' + node.nodeType);\n  }\n\n  return output;\n}\n\n/**\n * innerHTML like functionality for SVG elements.\n * based on innerSVG (https://code.google.com/p/innersvg)\n */\n\n\n\nfunction set(element, svg) {\n\n  var parsed = parse(svg);\n\n  // clear element contents\n  clear(element);\n\n  if (!svg) {\n    return;\n  }\n\n  if (!isFragment(parsed)) {\n\n    // extract <svg> from parsed document\n    parsed = parsed.documentElement;\n  }\n\n  var nodes = slice(parsed.childNodes);\n\n  // import + append each node\n  for (var i = 0; i < nodes.length; i++) {\n    appendTo(nodes[i], element);\n  }\n\n}\n\nfunction get(element) {\n  var child = element.firstChild,\n      output = [];\n\n  while (child) {\n    serialize(child, output);\n    child = child.nextSibling;\n  }\n\n  return output.join('');\n}\n\nfunction isFragment(node) {\n  return node.nodeName === '#document-fragment';\n}\n\nfunction innerSVG(element, svg) {\n\n  if (svg !== undefined) {\n\n    try {\n      set(element, svg);\n    } catch (e) {\n      throw new Error('error parsing SVG: ' + e.message);\n    }\n\n    return element;\n  } else {\n    return get(element);\n  }\n}\n\n\nfunction slice(arr) {\n  return Array.prototype.slice.call(arr);\n}\n\n/**\n * Selection utilities\n */\n\nfunction select(node, selector) {\n  return node.querySelector(selector);\n}\n\nfunction selectAll(node, selector) {\n  var nodes = node.querySelectorAll(selector);\n\n  return [].map.call(nodes, function(element) {\n    return element;\n  });\n}\n\n/**\n * prependTo utility\n */\n\n\n/**\n * Prepend a node to a target element and return the prepended node.\n *\n * @param  {SVGElement} node\n * @param  {SVGElement} target\n *\n * @return {SVGElement} the prepended node\n */\nfunction prependTo(node, target) {\n  return target.insertBefore(ensureImported(node, target), target.firstChild || null);\n}\n\n/**\n * prepend utility\n */\n\n\n/**\n * Prepend a node to a target element\n *\n * @param  {SVGElement} target\n * @param  {SVGElement} node\n *\n * @return {SVGElement} the target element\n */\nfunction prepend(target, node) {\n  prependTo(node, target);\n  return target;\n}\n\nfunction remove(element) {\n  var parent = element.parentNode;\n\n  if (parent) {\n    parent.removeChild(element);\n  }\n\n  return element;\n}\n\n/**\n * Replace utility\n */\n\n\nfunction replace(element, replacement) {\n  element.parentNode.replaceChild(ensureImported(replacement, element), element);\n  return replacement;\n}\n\n/**\n * transform accessor utility\n */\n\nfunction wrapMatrix(transformList, transform) {\n  if (transform instanceof SVGMatrix) {\n    return transformList.createSVGTransformFromMatrix(transform);\n  }\n\n  return transform;\n}\n\n\nfunction setTransforms(transformList, transforms) {\n  var i, t;\n\n  transformList.clear();\n\n  for (i = 0; (t = transforms[i]); i++) {\n    transformList.appendItem(wrapMatrix(transformList, t));\n  }\n}\n\n/**\n * Get or set the transforms on the given node.\n *\n * @param {SVGElement} node\n * @param  {SVGTransform|SVGMatrix|Array<SVGTransform|SVGMatrix>} [transforms]\n *\n * @return {SVGTransform} the consolidated transform\n */\nfunction transform(node, transforms) {\n  var transformList = node.transform.baseVal;\n\n  if (transforms) {\n\n    if (!Array.isArray(transforms)) {\n      transforms = [ transforms ];\n    }\n\n    setTransforms(transformList, transforms);\n  }\n\n  return transformList.consolidate();\n}\n\nexport { append, appendTo, attr, classes, clear, clone, create, createMatrix, createPoint, createTransform, innerSVG, off, on, prepend, prependTo, remove, replace, select, selectAll, transform };\n","import {\n  isNumber\n} from 'min-dash';\n\nimport {\n  attr as svgAttr,\n  create as svgCreate\n} from 'tiny-svg';\n\n\n/**\n * @typedef {(string|number)[]} Component\n *\n * @typedef {import('../util/Types').Point} Point\n */\n\n/**\n * @param {Component[] | Component[][]} elements\n *\n * @return {string}\n */\nexport function componentsToPath(elements) {\n  return elements.flat().join(',').replace(/,?([A-Za-z]),?/g, '$1');\n}\n\n/**\n * @param {Point[]} points\n *\n * @return {string}\n */\nexport function toSVGPoints(points) {\n  var result = '';\n\n  for (var i = 0, p; (p = points[i]); i++) {\n    result += p.x + ',' + p.y + ' ';\n  }\n\n  return result;\n}\n\n/**\n * @param {Point} point\n *\n * @return {Component[]}\n */\nfunction move(point) {\n  return [ 'M', point.x, point.y ];\n}\n\n/**\n * @param {Point} point\n *\n * @return {Component[]}\n */\nfunction lineTo(point) {\n  return [ 'L', point.x, point.y ];\n}\n\n/**\n * @param {Point} p1\n * @param {Point} p2\n * @param {Point} p3\n *\n * @return {Component[]}\n */\nfunction curveTo(p1, p2, p3) {\n  return [ 'C', p1.x, p1.y, p2.x, p2.y, p3.x, p3.y ];\n}\n\n/**\n * @param {Point[]} waypoints\n * @param {number} [cornerRadius]\n * @return {Component[][]}\n */\nfunction drawPath(waypoints, cornerRadius) {\n  const pointCount = waypoints.length;\n\n  const path = [ move(waypoints[0]) ];\n\n  for (let i = 1; i < pointCount; i++) {\n\n    const pointBefore = waypoints[i - 1];\n    const point = waypoints[i];\n    const pointAfter = waypoints[i + 1];\n\n    if (!pointAfter || !cornerRadius) {\n      path.push(lineTo(point));\n\n      continue;\n    }\n\n    const effectiveRadius = Math.min(\n      cornerRadius,\n      vectorLength(point.x - pointBefore.x, point.y - pointBefore.y),\n      vectorLength(pointAfter.x - point.x, pointAfter.y - point.y)\n    );\n\n    if (!effectiveRadius) {\n      path.push(lineTo(point));\n\n      continue;\n    }\n\n    const beforePoint = getPointAtLength(point, pointBefore, effectiveRadius);\n    const beforePoint2 = getPointAtLength(point, pointBefore, effectiveRadius * .5);\n\n    const afterPoint = getPointAtLength(point, pointAfter, effectiveRadius);\n    const afterPoint2 = getPointAtLength(point, pointAfter, effectiveRadius * .5);\n\n    path.push(lineTo(beforePoint));\n    path.push(curveTo(beforePoint2, afterPoint2, afterPoint));\n  }\n\n  return path;\n}\n\nfunction getPointAtLength(start, end, length) {\n\n  const deltaX = end.x - start.x;\n  const deltaY = end.y - start.y;\n\n  const totalLength = vectorLength(deltaX, deltaY);\n\n  const percent = length / totalLength;\n\n  return {\n    x: start.x + deltaX * percent,\n    y: start.y + deltaY * percent\n  };\n}\n\nfunction vectorLength(x, y) {\n  return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n}\n\n/**\n * @param {Point[]} points\n * @param {number|Object} [attrs]\n * @param {number} [radius]\n *\n * @return {SVGElement}\n */\nexport function createLine(points, attrs, radius) {\n\n  if (isNumber(attrs)) {\n    radius = attrs;\n    attrs = null;\n  }\n\n  if (!attrs) {\n    attrs = {};\n  }\n\n  const line = svgCreate('path', attrs);\n\n  if (isNumber(radius)) {\n    line.dataset.cornerRadius = String(radius);\n  }\n\n  return updateLine(line, points);\n}\n\n/**\n * @param {SVGElement} gfx\n * @param {Point[]} points\n *\n * @return {SVGElement}\n */\nexport function updateLine(gfx, points) {\n\n  const cornerRadius = parseInt(gfx.dataset.cornerRadius, 10) || 0;\n\n  svgAttr(gfx, {\n    d: componentsToPath(drawPath(points, cornerRadius))\n  });\n\n  return gfx;\n}\n","import {\n  assign,\n  filter,\n  find,\n  isArray,\n  isNumber,\n  isObject,\n  isUndefined,\n  groupBy,\n  forEach\n} from 'min-dash';\n\n/**\n * @typedef {import('../model/Types').Connection} Connection\n * @typedef {import('../model/Types').Element} Element\n * @typedef {import('../model/Types').Shape} Shape\n *\n * @typedef {import('../util/Types').Rect} Rect\n *\n * @typedef { {\n *   allShapes: Record<string, Shape>,\n *   allConnections: Record<string, Connection>,\n *   topLevel: Record<string, Element>,\n *   enclosedConnections: Record<string, Connection>,\n *   enclosedElements: Record<string, Element>\n * } } Closure\n */\n\n/**\n * Get parent elements.\n *\n * @param {Element[]} elements\n *\n * @return {Element[]}\n */\nexport function getParents(elements) {\n\n  // find elements that are not children of any other elements\n  return filter(elements, function(element) {\n    return !find(elements, function(e) {\n      return e !== element && getParent(element, e);\n    });\n  });\n}\n\n\nfunction getParent(element, parent) {\n  if (!parent) {\n    return;\n  }\n\n  if (element === parent) {\n    return parent;\n  }\n\n  if (!element.parent) {\n    return;\n  }\n\n  return getParent(element.parent, parent);\n}\n\n\n/**\n * Adds an element to a collection and returns true if the\n * element was added.\n *\n * @param {Object[]} elements\n * @param {Object} element\n * @param {boolean} [unique]\n */\nexport function add(elements, element, unique) {\n  var canAdd = !unique || elements.indexOf(element) === -1;\n\n  if (canAdd) {\n    elements.push(element);\n  }\n\n  return canAdd;\n}\n\n\n/**\n * Iterate over each element in a collection, calling the iterator function `fn`\n * with (element, index, recursionDepth).\n *\n * Recurse into all elements that are returned by `fn`.\n *\n * @param {Element|Element[]} elements\n * @param {(element: Element, index: number, depth: number) => Element[] | boolean | undefined} fn\n * @param {number} [depth] maximum recursion depth\n */\nexport function eachElement(elements, fn, depth) {\n\n  depth = depth || 0;\n\n  if (!isArray(elements)) {\n    elements = [ elements ];\n  }\n\n  forEach(elements, function(s, i) {\n    var filter = fn(s, i, depth);\n\n    if (isArray(filter) && filter.length) {\n      eachElement(filter, fn, depth + 1);\n    }\n  });\n}\n\n\n/**\n * Collects self + child elements up to a given depth from a list of elements.\n *\n * @param {Element|Element[]} elements the elements to select the children from\n * @param {boolean} unique whether to return a unique result set (no duplicates)\n * @param {number} maxDepth the depth to search through or -1 for infinite\n *\n * @return {Element[]} found elements\n */\nexport function selfAndChildren(elements, unique, maxDepth) {\n  var result = [],\n      processedChildren = [];\n\n  eachElement(elements, function(element, i, depth) {\n    add(result, element, unique);\n\n    var children = element.children;\n\n    // max traversal depth not reached yet\n    if (maxDepth === -1 || depth < maxDepth) {\n\n      // children exist && children not yet processed\n      if (children && add(processedChildren, children, unique)) {\n        return children;\n      }\n    }\n  });\n\n  return result;\n}\n\n/**\n * Return self + direct children for a number of elements\n *\n * @param {Element[]} elements to query\n * @param {boolean} [allowDuplicates] to allow duplicates in the result set\n *\n * @return {Element[]} the collected elements\n */\nexport function selfAndDirectChildren(elements, allowDuplicates) {\n  return selfAndChildren(elements, !allowDuplicates, 1);\n}\n\n\n/**\n * Return self + ALL children for a number of elements\n *\n * @param {Element[]} elements to query\n * @param {boolean} [allowDuplicates] to allow duplicates in the result set\n *\n * @return {Element[]} the collected elements\n */\nexport function selfAndAllChildren(elements, allowDuplicates) {\n  return selfAndChildren(elements, !allowDuplicates, -1);\n}\n\n\n/**\n * Gets the the closure for all selected elements,\n * their enclosed children and connections.\n *\n * @param {Element[]} elements\n * @param {boolean} [isTopLevel=true]\n * @param {Closure} [closure]\n *\n * @return {Closure} newClosure\n */\nexport function getClosure(elements, isTopLevel, closure) {\n\n  if (isUndefined(isTopLevel)) {\n    isTopLevel = true;\n  }\n\n  if (isObject(isTopLevel)) {\n    closure = isTopLevel;\n    isTopLevel = true;\n  }\n\n\n  closure = closure || {};\n\n  var allShapes = copyObject(closure.allShapes),\n      allConnections = copyObject(closure.allConnections),\n      enclosedElements = copyObject(closure.enclosedElements),\n      enclosedConnections = copyObject(closure.enclosedConnections);\n\n  var topLevel = copyObject(\n    closure.topLevel,\n    isTopLevel && groupBy(elements, function(e) { return e.id; })\n  );\n\n\n  function handleConnection(c) {\n    if (topLevel[c.source.id] && topLevel[c.target.id]) {\n      topLevel[c.id] = [ c ];\n    }\n\n    // not enclosed as a child, but maybe logically\n    // (connecting two moved elements?)\n    if (allShapes[c.source.id] && allShapes[c.target.id]) {\n      enclosedConnections[c.id] = enclosedElements[c.id] = c;\n    }\n\n    allConnections[c.id] = c;\n  }\n\n  function handleElement(element) {\n\n    enclosedElements[element.id] = element;\n\n    if (element.waypoints) {\n\n      // remember connection\n      enclosedConnections[element.id] = allConnections[element.id] = element;\n    } else {\n\n      // remember shape\n      allShapes[element.id] = element;\n\n      // remember all connections\n      forEach(element.incoming, handleConnection);\n\n      forEach(element.outgoing, handleConnection);\n\n      // recurse into children\n      return element.children;\n    }\n  }\n\n  eachElement(elements, handleElement);\n\n  return {\n    allShapes: allShapes,\n    allConnections: allConnections,\n    topLevel: topLevel,\n    enclosedConnections: enclosedConnections,\n    enclosedElements: enclosedElements\n  };\n}\n\n/**\n * Returns the surrounding bbox for all elements in\n * the array or the element primitive.\n *\n * @param {Element|Element[]} elements\n * @param {boolean} [stopRecursion=false]\n *\n * @return {Rect}\n */\nexport function getBBox(elements, stopRecursion) {\n\n  stopRecursion = !!stopRecursion;\n  if (!isArray(elements)) {\n    elements = [ elements ];\n  }\n\n  var minX,\n      minY,\n      maxX,\n      maxY;\n\n  forEach(elements, function(element) {\n\n    // If element is a connection the bbox must be computed first\n    var bbox = element;\n    if (element.waypoints && !stopRecursion) {\n      bbox = getBBox(element.waypoints, true);\n    }\n\n    var x = bbox.x,\n        y = bbox.y,\n        height = bbox.height || 0,\n        width = bbox.width || 0;\n\n    if (x < minX || minX === undefined) {\n      minX = x;\n    }\n    if (y < minY || minY === undefined) {\n      minY = y;\n    }\n\n    if ((x + width) > maxX || maxX === undefined) {\n      maxX = x + width;\n    }\n    if ((y + height) > maxY || maxY === undefined) {\n      maxY = y + height;\n    }\n  });\n\n  return {\n    x: minX,\n    y: minY,\n    height: maxY - minY,\n    width: maxX - minX\n  };\n}\n\n\n/**\n * Returns all elements that are enclosed from the bounding box.\n *\n *   * If bbox.(width|height) is not specified the method returns\n *     all elements with element.x/y > bbox.x/y\n *   * If only bbox.x or bbox.y is specified, method return all elements with\n *     e.x > bbox.x or e.y > bbox.y\n *\n * @param {Element[]} elements List of Elements to search through\n * @param {Rect} bbox the enclosing bbox.\n *\n * @return {Element[]} enclosed elements\n */\nexport function getEnclosedElements(elements, bbox) {\n\n  var filteredElements = {};\n\n  forEach(elements, function(element) {\n\n    var e = element;\n\n    if (e.waypoints) {\n      e = getBBox(e);\n    }\n\n    if (!isNumber(bbox.y) && (e.x > bbox.x)) {\n      filteredElements[element.id] = element;\n    }\n    if (!isNumber(bbox.x) && (e.y > bbox.y)) {\n      filteredElements[element.id] = element;\n    }\n    if (e.x > bbox.x && e.y > bbox.y) {\n      if (isNumber(bbox.width) && isNumber(bbox.height) &&\n          e.width + e.x < bbox.width + bbox.x &&\n          e.height + e.y < bbox.height + bbox.y) {\n\n        filteredElements[element.id] = element;\n      } else if (!isNumber(bbox.width) || !isNumber(bbox.height)) {\n        filteredElements[element.id] = element;\n      }\n    }\n  });\n\n  return filteredElements;\n}\n\n/**\n * Get the element's type\n *\n * @param {Element} element\n *\n * @return {'connection' | 'shape' | 'root'}\n */\nexport function getType(element) {\n\n  if ('waypoints' in element) {\n    return 'connection';\n  }\n\n  if ('x' in element) {\n    return 'shape';\n  }\n\n  return 'root';\n}\n\n/**\n * @param {Element} element\n *\n * @return {boolean}\n */\nexport function isFrameElement(element) {\n  return !!(element && element.isFrame);\n}\n\n// helpers ///////////////////////////////\n\nfunction copyObject(src1, src2) {\n  return assign({}, src1 || {}, src2 || {});\n}\n","import inherits from 'inherits-browser';\n\nimport BaseRenderer from './BaseRenderer';\n\nimport {\n  componentsToPath,\n  createLine\n} from '../util/RenderUtil';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate\n} from 'tiny-svg';\n\nimport { assign } from 'min-dash';\n\nimport {\n  isFrameElement\n} from '../util/Elements';\n\n/**\n * @typedef {import('../core/EventBus').default} EventBus\n * @typedef {import('./Styles').default} Styles\n */\n\n// apply default renderer with lowest possible priority\n// so that it only kicks in if noone else could render\nvar DEFAULT_RENDER_PRIORITY = 1;\n\n/**\n * The default renderer used for shapes and connections.\n *\n * @param {EventBus} eventBus\n * @param {Styles} styles\n */\nexport default function DefaultRenderer(eventBus, styles) {\n\n  BaseRenderer.call(this, eventBus, DEFAULT_RENDER_PRIORITY);\n\n  this.CONNECTION_STYLE = styles.style([ 'no-fill' ], { strokeWidth: 5, stroke: 'fuchsia' });\n  this.SHAPE_STYLE = styles.style({ fill: 'white', stroke: 'fuchsia', strokeWidth: 2 });\n  this.FRAME_STYLE = styles.style([ 'no-fill' ], { stroke: 'fuchsia', strokeDasharray: 4, strokeWidth: 2 });\n}\n\ninherits(DefaultRenderer, BaseRenderer);\n\n\n/**\n * @private\n */\nDefaultRenderer.prototype.canRender = function() {\n  return true;\n};\n\n/**\n * @private\n */\nDefaultRenderer.prototype.drawShape = function drawShape(visuals, element, attrs) {\n  var rect = svgCreate('rect');\n\n  svgAttr(rect, {\n    x: 0,\n    y: 0,\n    width: element.width || 0,\n    height: element.height || 0\n  });\n\n  if (isFrameElement(element)) {\n    svgAttr(rect, assign({}, this.FRAME_STYLE, attrs || {}));\n  } else {\n    svgAttr(rect, assign({}, this.SHAPE_STYLE, attrs || {}));\n  }\n\n  svgAppend(visuals, rect);\n\n  return rect;\n};\n\n/**\n * @private\n */\nDefaultRenderer.prototype.drawConnection = function drawConnection(visuals, connection, attrs) {\n\n  var line = createLine(connection.waypoints, assign({}, this.CONNECTION_STYLE, attrs || {}));\n  svgAppend(visuals, line);\n\n  return line;\n};\n\n/**\n * @private\n */\nDefaultRenderer.prototype.getShapePath = function getShapePath(shape) {\n\n  var x = shape.x,\n      y = shape.y,\n      width = shape.width,\n      height = shape.height;\n\n  var shapePath = [\n    [ 'M', x, y ],\n    [ 'l', width, 0 ],\n    [ 'l', 0, height ],\n    [ 'l', -width, 0 ],\n    [ 'z' ]\n  ];\n\n  return componentsToPath(shapePath);\n};\n\n/**\n * @private\n */\nDefaultRenderer.prototype.getConnectionPath = function getConnectionPath(connection) {\n  var waypoints = connection.waypoints;\n\n  var idx, point, connectionPath = [];\n\n  for (idx = 0; (point = waypoints[idx]); idx++) {\n\n    // take invisible docking into account\n    // when creating the path\n    point = point.original || point;\n\n    connectionPath.push([ idx === 0 ? 'M' : 'L', point.x, point.y ]);\n  }\n\n  return componentsToPath(connectionPath);\n};\n\nDefaultRenderer.$inject = [ 'eventBus', 'styles' ];\n","import {\n  isArray,\n  assign,\n  reduce\n} from 'min-dash';\n\n\n/**\n * A component that manages shape styles\n */\nexport default function Styles() {\n\n  var defaultTraits = {\n\n    'no-fill': {\n      fill: 'none'\n    },\n    'no-border': {\n      strokeOpacity: 0.0\n    },\n    'no-events': {\n      pointerEvents: 'none'\n    }\n  };\n\n  var self = this;\n\n  /**\n   * Builds a style definition from a className, a list of traits and an object\n   * of additional attributes.\n   *\n   * @param {string} className\n   * @param {string[]} [traits]\n   * @param {Object} [additionalAttrs]\n   *\n   * @return {Object} the style definition\n   */\n  this.cls = function(className, traits, additionalAttrs) {\n    var attrs = this.style(traits, additionalAttrs);\n\n    return assign(attrs, { 'class': className });\n  };\n\n  /**\n   * Builds a style definition from a list of traits and an object of additional\n   * attributes.\n   *\n   * @param {string[]} [traits]\n   * @param {Object} additionalAttrs\n   *\n   * @return {Object} the style definition\n   */\n  this.style = function(traits, additionalAttrs) {\n\n    if (!isArray(traits) && !additionalAttrs) {\n      additionalAttrs = traits;\n      traits = [];\n    }\n\n    var attrs = reduce(traits, function(attrs, t) {\n      return assign(attrs, defaultTraits[t] || {});\n    }, {});\n\n    return additionalAttrs ? assign(attrs, additionalAttrs) : attrs;\n  };\n\n\n  /**\n   * Computes a style definition from a list of traits and an object of\n   * additional attributes, with custom style definition object.\n   *\n   * @param {Object} custom\n   * @param {string[]} [traits]\n   * @param {Object} defaultStyles\n   *\n   * @return {Object} the style definition\n   */\n  this.computeStyle = function(custom, traits, defaultStyles) {\n    if (!isArray(traits)) {\n      defaultStyles = traits;\n      traits = [];\n    }\n\n    return self.style(traits || [], assign({}, defaultStyles, custom || {}));\n  };\n}\n","import DefaultRenderer from './DefaultRenderer';\nimport Styles from './Styles';\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __init__: [ 'defaultRenderer' ],\n  defaultRenderer: [ 'type', DefaultRenderer ],\n  styles: [ 'type', Styles ]\n};\n","function _mergeNamespaces(n, m) {\n  m.forEach(function (e) {\n    e && typeof e !== 'string' && !Array.isArray(e) && Object.keys(e).forEach(function (k) {\n      if (k !== 'default' && !(k in n)) {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () { return e[k]; }\n        });\n      }\n    });\n  });\n  return Object.freeze(n);\n}\n\n/**\n * Flatten array, one level deep.\n *\n * @template T\n *\n * @param {T[][] | T[] | null} [arr]\n *\n * @return {T[]}\n */\n\nconst nativeToString = Object.prototype.toString;\nconst nativeHasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isUndefined(obj) {\n  return obj === undefined;\n}\n\nfunction isArray(obj) {\n  return nativeToString.call(obj) === '[object Array]';\n}\n\n/**\n * Return true, if target owns a property with the given key.\n *\n * @param {Object} target\n * @param {String} key\n *\n * @return {Boolean}\n */\nfunction has(target, key) {\n  return nativeHasOwnProperty.call(target, key);\n}\n\n\n/**\n * Iterate over collection; returning something\n * (non-undefined) will stop iteration.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param { ((item: T, idx: number) => (boolean|void)) | ((item: T, key: string) => (boolean|void)) } iterator\n *\n * @return {T} return result that stopped the iteration\n */\nfunction forEach(collection, iterator) {\n\n  let val,\n      result;\n\n  if (isUndefined(collection)) {\n    return;\n  }\n\n  const convertKey = isArray(collection) ? toNum : identity;\n\n  for (let key in collection) {\n\n    if (has(collection, key)) {\n      val = collection[key];\n\n      result = iterator(val, convertKey(key));\n\n      if (result === false) {\n        return val;\n      }\n    }\n  }\n}\n\n\nfunction identity(arg) {\n  return arg;\n}\n\nfunction toNum(arg) {\n  return Number(arg);\n}\n\n/**\n * Assigns style attributes in a style-src compliant way.\n *\n * @param {Element} element\n * @param {...Object} styleSources\n *\n * @return {Element} the element\n */\nfunction assign(element, ...styleSources) {\n  const target = element.style;\n\n  forEach(styleSources, function(style) {\n    if (!style) {\n      return;\n    }\n\n    forEach(style, function(value, key) {\n      target[key] = value;\n    });\n  });\n\n  return element;\n}\n\n/**\n * Set attribute `name` to `val`, or get attr `name`.\n *\n * @param {Element} el\n * @param {String} name\n * @param {String} [val]\n * @api public\n */\nfunction attr(el, name, val) {\n\n  // get\n  if (arguments.length == 2) {\n    return el.getAttribute(name);\n  }\n\n  // remove\n  if (val === null) {\n    return el.removeAttribute(name);\n  }\n\n  // set\n  el.setAttribute(name, val);\n\n  return el;\n}\n\n/**\n * Taken from https://github.com/component/classes\n *\n * Without the component bits.\n */\n\n/**\n * toString reference.\n */\n\nconst toString = Object.prototype.toString;\n\n/**\n * Wrap `el` in a `ClassList`.\n *\n * @param {Element} el\n * @return {ClassList}\n * @api public\n */\n\nfunction classes(el) {\n  return new ClassList(el);\n}\n\n/**\n * Initialize a new ClassList for `el`.\n *\n * @param {Element} el\n * @api private\n */\n\nfunction ClassList(el) {\n  if (!el || !el.nodeType) {\n    throw new Error('A DOM element reference is required');\n  }\n  this.el = el;\n  this.list = el.classList;\n}\n\n/**\n * Add class `name` if not already present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.add = function(name) {\n  this.list.add(name);\n  return this;\n};\n\n/**\n * Remove class `name` when present, or\n * pass a regular expression to remove\n * any which match.\n *\n * @param {String|RegExp} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.remove = function(name) {\n  if ('[object RegExp]' == toString.call(name)) {\n    return this.removeMatching(name);\n  }\n\n  this.list.remove(name);\n  return this;\n};\n\n/**\n * Remove all classes matching `re`.\n *\n * @param {RegExp} re\n * @return {ClassList}\n * @api private\n */\n\nClassList.prototype.removeMatching = function(re) {\n  const arr = this.array();\n  for (let i = 0; i < arr.length; i++) {\n    if (re.test(arr[i])) {\n      this.remove(arr[i]);\n    }\n  }\n  return this;\n};\n\n/**\n * Toggle class `name`, can force state via `force`.\n *\n * For browsers that support classList, but do not support `force` yet,\n * the mistake will be detected and corrected.\n *\n * @param {String} name\n * @param {Boolean} force\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.toggle = function(name, force) {\n  if ('undefined' !== typeof force) {\n    if (force !== this.list.toggle(name, force)) {\n      this.list.toggle(name); // toggle again to correct\n    }\n  } else {\n    this.list.toggle(name);\n  }\n  return this;\n};\n\n/**\n * Return an array of classes.\n *\n * @return {Array}\n * @api public\n */\n\nClassList.prototype.array = function() {\n  return Array.from(this.list);\n};\n\n/**\n * Check if class `name` is present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.has =\nClassList.prototype.contains = function(name) {\n  return this.list.contains(name);\n};\n\n/**\n * Clear utility\n */\n\n/**\n * Removes all children from the given element\n *\n * @param {Element} element\n *\n * @return {Element} the element (for chaining)\n */\nfunction clear(element) {\n  var child;\n\n  while ((child = element.firstChild)) {\n    element.removeChild(child);\n  }\n\n  return element;\n}\n\n/**\n * Closest\n *\n * @param {Element} el\n * @param {string} selector\n * @param {boolean} checkYourSelf (optional)\n */\nfunction closest(element, selector, checkYourSelf) {\n  var actualElement = checkYourSelf ? element : element.parentNode;\n\n  return actualElement && typeof actualElement.closest === 'function' && actualElement.closest(selector) || null;\n}\n\nvar componentEvent = {};\n\nvar bind$1, unbind$1, prefix;\n\nfunction detect () {\n  bind$1 = window.addEventListener ? 'addEventListener' : 'attachEvent';\n  unbind$1 = window.removeEventListener ? 'removeEventListener' : 'detachEvent';\n  prefix = bind$1 !== 'addEventListener' ? 'on' : '';\n}\n\n/**\n * Bind `el` event `type` to `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nvar bind_1 = componentEvent.bind = function(el, type, fn, capture){\n  if (!bind$1) detect();\n  el[bind$1](prefix + type, fn, capture || false);\n  return fn;\n};\n\n/**\n * Unbind `el` event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nvar unbind_1 = componentEvent.unbind = function(el, type, fn, capture){\n  if (!unbind$1) detect();\n  el[unbind$1](prefix + type, fn, capture || false);\n  return fn;\n};\n\nvar event = /*#__PURE__*/_mergeNamespaces({\n  __proto__: null,\n  bind: bind_1,\n  unbind: unbind_1,\n  'default': componentEvent\n}, [componentEvent]);\n\n/**\n * Module dependencies.\n */\n\n/**\n * Delegate event `type` to `selector`\n * and invoke `fn(e)`. A callback function\n * is returned which may be passed to `.unbind()`.\n *\n * @param {Element} el\n * @param {String} selector\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\n// Some events don't bubble, so we want to bind to the capture phase instead\n// when delegating.\nvar forceCaptureEvents = [ 'focus', 'blur' ];\n\nfunction bind(el, selector, type, fn, capture) {\n  if (forceCaptureEvents.indexOf(type) !== -1) {\n    capture = true;\n  }\n\n  return event.bind(el, type, function(e) {\n    var target = e.target || e.srcElement;\n    e.delegateTarget = closest(target, selector, true);\n    if (e.delegateTarget) {\n      fn.call(el, e);\n    }\n  }, capture);\n}\n\n/**\n * Unbind event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @api public\n */\nfunction unbind(el, type, fn, capture) {\n  if (forceCaptureEvents.indexOf(type) !== -1) {\n    capture = true;\n  }\n\n  return event.unbind(el, type, fn, capture);\n}\n\nvar delegate = {\n  bind,\n  unbind\n};\n\n/**\n * Expose `parse`.\n */\n\nvar domify = parse;\n\n/**\n * Tests for browser support.\n */\n\nvar innerHTMLBug = false;\nvar bugTestDiv;\nif (typeof document !== 'undefined') {\n  bugTestDiv = document.createElement('div');\n  // Setup\n  bugTestDiv.innerHTML = '  <link/><table></table><a href=\"/a\">a</a><input type=\"checkbox\"/>';\n  // Make sure that link elements get serialized correctly by innerHTML\n  // This requires a wrapper element in IE\n  innerHTMLBug = !bugTestDiv.getElementsByTagName('link').length;\n  bugTestDiv = undefined;\n}\n\n/**\n * Wrap map from jquery.\n */\n\nvar map = {\n  legend: [1, '<fieldset>', '</fieldset>'],\n  tr: [2, '<table><tbody>', '</tbody></table>'],\n  col: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],\n  // for script/link/style tags to work in IE6-8, you have to wrap\n  // in a div with a non-whitespace character in front, ha!\n  _default: innerHTMLBug ? [1, 'X<div>', '</div>'] : [0, '', '']\n};\n\nmap.td =\nmap.th = [3, '<table><tbody><tr>', '</tr></tbody></table>'];\n\nmap.option =\nmap.optgroup = [1, '<select multiple=\"multiple\">', '</select>'];\n\nmap.thead =\nmap.tbody =\nmap.colgroup =\nmap.caption =\nmap.tfoot = [1, '<table>', '</table>'];\n\nmap.polyline =\nmap.ellipse =\nmap.polygon =\nmap.circle =\nmap.text =\nmap.line =\nmap.path =\nmap.rect =\nmap.g = [1, '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">','</svg>'];\n\n/**\n * Parse `html` and return a DOM Node instance, which could be a TextNode,\n * HTML DOM Node of some kind (<div> for example), or a DocumentFragment\n * instance, depending on the contents of the `html` string.\n *\n * @param {String} html - HTML string to \"domify\"\n * @param {Document} doc - The `document` instance to create the Node for\n * @return {DOMNode} the TextNode, DOM Node, or DocumentFragment instance\n * @api private\n */\n\nfunction parse(html, doc) {\n  if ('string' != typeof html) throw new TypeError('String expected');\n\n  // default to the global `document` object\n  if (!doc) doc = document;\n\n  // tag name\n  var m = /<([\\w:]+)/.exec(html);\n  if (!m) return doc.createTextNode(html);\n\n  html = html.replace(/^\\s+|\\s+$/g, ''); // Remove leading/trailing whitespace\n\n  var tag = m[1];\n\n  // body support\n  if (tag == 'body') {\n    var el = doc.createElement('html');\n    el.innerHTML = html;\n    return el.removeChild(el.lastChild);\n  }\n\n  // wrap map\n  var wrap = Object.prototype.hasOwnProperty.call(map, tag) ? map[tag] : map._default;\n  var depth = wrap[0];\n  var prefix = wrap[1];\n  var suffix = wrap[2];\n  var el = doc.createElement('div');\n  el.innerHTML = prefix + html + suffix;\n  while (depth--) el = el.lastChild;\n\n  // one element\n  if (el.firstChild == el.lastChild) {\n    return el.removeChild(el.firstChild);\n  }\n\n  // several elements\n  var fragment = doc.createDocumentFragment();\n  while (el.firstChild) {\n    fragment.appendChild(el.removeChild(el.firstChild));\n  }\n\n  return fragment;\n}\n\nvar domify$1 = domify;\n\n/**\n * @param { HTMLElement } element\n * @param { String } selector\n *\n * @return { boolean }\n */\nfunction matches(element, selector) {\n  return element && typeof element.matches === 'function' && element.matches(selector) || false;\n}\n\nfunction query(selector, el) {\n  el = el || document;\n\n  return el.querySelector(selector);\n}\n\nfunction all(selector, el) {\n  el = el || document;\n\n  return el.querySelectorAll(selector);\n}\n\nfunction remove(el) {\n  el.parentNode && el.parentNode.removeChild(el);\n}\n\nexport { assign as assignStyle, attr, classes, clear, closest, delegate, domify$1 as domify, event, matches, query, all as queryAll, remove };\n//# sourceMappingURL=index.esm.js.map\n","/**\n * Failsafe remove an element from a collection\n *\n * @param {Array<Object>} [collection]\n * @param {Object} [element]\n *\n * @return {number} the previous index of the element\n */\nexport function remove(collection, element) {\n\n  if (!collection || !element) {\n    return -1;\n  }\n\n  var idx = collection.indexOf(element);\n\n  if (idx !== -1) {\n    collection.splice(idx, 1);\n  }\n\n  return idx;\n}\n\n/**\n * Fail save add an element to the given connection, ensuring\n * it does not yet exist.\n *\n * @param {Array<Object>} collection\n * @param {Object} element\n * @param {number} [idx]\n */\nexport function add(collection, element, idx) {\n\n  if (!collection || !element) {\n    return;\n  }\n\n  if (typeof idx !== 'number') {\n    idx = -1;\n  }\n\n  var currentIdx = collection.indexOf(element);\n\n  if (currentIdx !== -1) {\n\n    if (currentIdx === idx) {\n\n      // nothing to do, position has not changed\n      return;\n    } else {\n\n      if (idx !== -1) {\n\n        // remove from current position\n        collection.splice(currentIdx, 1);\n      } else {\n\n        // already exists in collection\n        return;\n      }\n    }\n  }\n\n  if (idx !== -1) {\n\n    // insert at specified position\n    collection.splice(idx, 0, element);\n  } else {\n\n    // push to end\n    collection.push(element);\n  }\n}\n\n\n/**\n * Fail save get the index of an element in a collection.\n *\n * @param {Array<Object>} collection\n * @param {Object} element\n *\n * @return {number} the index or -1 if collection or element do\n *                  not exist or the element is not contained.\n */\nexport function indexOf(collection, element) {\n\n  if (!collection || !element) {\n    return -1;\n  }\n\n  return collection.indexOf(element);\n}\n","import {\n  every\n} from 'min-dash';\n\n/**\n * @typedef {import('../util/Types').Axis} Axis\n * @typedef {import('../util/Types').Point} Point\n * @typedef {import('../util/Types').Rect} Rect\n */\n\n/**\n * Computes the distance between two points.\n *\n * @param {Point} a\n * @param {Point} b\n *\n * @return {number} The distance between the two points.\n */\nexport function pointDistance(a, b) {\n  if (!a || !b) {\n    return -1;\n  }\n\n  return Math.sqrt(\n    Math.pow(a.x - b.x, 2) +\n    Math.pow(a.y - b.y, 2)\n  );\n}\n\n\n/**\n * Returns true if the point r is on the line between p and q.\n *\n * @param {Point} p\n * @param {Point} q\n * @param {Point} r\n * @param {number} [accuracy=5] The accuracy with which to check (lower is better).\n *\n * @return {boolean}\n */\nexport function pointsOnLine(p, q, r, accuracy) {\n\n  if (typeof accuracy === 'undefined') {\n    accuracy = 5;\n  }\n\n  if (!p || !q || !r) {\n    return false;\n  }\n\n  var val = (q.x - p.x) * (r.y - p.y) - (q.y - p.y) * (r.x - p.x),\n      dist = pointDistance(p, q);\n\n  // @see http://stackoverflow.com/a/907491/412190\n  return Math.abs(val / dist) <= accuracy;\n}\n\n\nvar ALIGNED_THRESHOLD = 2;\n\n/**\n * Check whether two points are horizontally or vertically aligned.\n *\n * @param {Point[]|Point} a\n * @param {Point} [b]\n *\n * @return {string|boolean} If and how the two points are aligned ('h', 'v' or `false`).\n */\nexport function pointsAligned(a, b) {\n  var points = Array.from(arguments).flat();\n\n  const axisMap = {\n    'x': 'v',\n    'y': 'h'\n  };\n\n  for (const [ axis, orientation ] of Object.entries(axisMap)) {\n    if (pointsAlignedOnAxis(axis, points)) {\n      return orientation;\n    }\n  }\n\n  return false;\n}\n\n/**\n * @param {Axis} axis\n * @param {Point[]} points\n *\n * @return {boolean}\n */\nexport function pointsAlignedOnAxis(axis, points) {\n  const referencePoint = points[0];\n\n  return every(points, function(point) {\n    return Math.abs(referencePoint[axis] - point[axis]) <= ALIGNED_THRESHOLD;\n  });\n}\n\n/**\n * Returns true if the point p is inside the rectangle rect\n *\n * @param {Point} p\n * @param {Rect} rect\n * @param {number} tolerance\n *\n * @return {boolean}\n */\nexport function pointInRect(p, rect, tolerance) {\n  tolerance = tolerance || 0;\n\n  return p.x > rect.x - tolerance &&\n         p.y > rect.y - tolerance &&\n         p.x < rect.x + rect.width + tolerance &&\n         p.y < rect.y + rect.height + tolerance;\n}\n\n/**\n * Returns a point in the middle of points p and q\n *\n * @param {Point} p\n * @param {Point} q\n *\n * @return {Point} The mid point between the two points.\n */\nexport function getMidPoint(p, q) {\n  return {\n    x: Math.round(p.x + ((q.x - p.x) / 2.0)),\n    y: Math.round(p.y + ((q.y - p.y) / 2.0))\n  };\n}\n","/**\n * This file contains source code adapted from Snap.svg (licensed Apache-2.0).\n *\n * @see https://github.com/adobe-webplatform/Snap.svg/blob/master/src/path.js\n */\n\n/* eslint no-fallthrough: \"off\" */\n\nvar p2s = /,?([a-z]),?/gi,\n    toFloat = parseFloat,\n    math = Math,\n    PI = math.PI,\n    mmin = math.min,\n    mmax = math.max,\n    pow = math.pow,\n    abs = math.abs,\n    pathCommand = /([a-z])[\\s,]*((-?\\d*\\.?\\d*(?:e[-+]?\\d+)?[\\s]*,?[\\s]*)+)/ig,\n    pathValues = /(-?\\d*\\.?\\d*(?:e[-+]?\\d+)?)[\\s]*,?[\\s]*/ig;\n\nvar isArray = Array.isArray || function(o) { return o instanceof Array; };\n\nfunction hasProperty(obj, property) {\n  return Object.prototype.hasOwnProperty.call(obj, property);\n}\n\nfunction clone(obj) {\n\n  if (typeof obj == 'function' || Object(obj) !== obj) {\n    return obj;\n  }\n\n  var res = new obj.constructor;\n\n  for (var key in obj) {\n    if (hasProperty(obj, key)) {\n      res[key] = clone(obj[key]);\n    }\n  }\n\n  return res;\n}\n\nfunction repush(array, item) {\n  for (var i = 0, ii = array.length; i < ii; i++) if (array[i] === item) {\n    return array.push(array.splice(i, 1)[0]);\n  }\n}\n\nfunction cacher(f) {\n\n  function newf() {\n\n    var arg = Array.prototype.slice.call(arguments, 0),\n        args = arg.join('\\u2400'),\n        cache = newf.cache = newf.cache || {},\n        count = newf.count = newf.count || [];\n\n    if (hasProperty(cache, args)) {\n      repush(count, args);\n      return cache[args];\n    }\n\n    count.length >= 1e3 && delete cache[count.shift()];\n    count.push(args);\n    cache[args] = f(...arguments);\n\n    return cache[args];\n  }\n  return newf;\n}\n\nfunction parsePathString(pathString) {\n\n  if (!pathString) {\n    return null;\n  }\n\n  var pth = paths(pathString);\n\n  if (pth.arr) {\n    return clone(pth.arr);\n  }\n\n  var paramCounts = { a: 7, c: 6, h: 1, l: 2, m: 2, q: 4, s: 4, t: 2, v: 1, z: 0 },\n      data = [];\n\n  if (isArray(pathString) && isArray(pathString[0])) { // rough assumption\n    data = clone(pathString);\n  }\n\n  if (!data.length) {\n\n    String(pathString).replace(pathCommand, function(a, b, c) {\n      var params = [],\n          name = b.toLowerCase();\n\n      c.replace(pathValues, function(a, b) {\n        b && params.push(+b);\n      });\n\n      if (name == 'm' && params.length > 2) {\n        data.push([ b, ...params.splice(0, 2) ]);\n        name = 'l';\n        b = b == 'm' ? 'l' : 'L';\n      }\n\n      while (params.length >= paramCounts[name]) {\n        data.push([ b, ...params.splice(0, paramCounts[name]) ]);\n        if (!paramCounts[name]) {\n          break;\n        }\n      }\n    });\n  }\n\n  data.toString = paths.toString;\n  pth.arr = clone(data);\n\n  return data;\n}\n\nfunction paths(ps) {\n  var p = paths.ps = paths.ps || {};\n\n  if (p[ps]) {\n    p[ps].sleep = 100;\n  } else {\n    p[ps] = {\n      sleep: 100\n    };\n  }\n\n  setTimeout(function() {\n    for (var key in p) {\n      if (hasProperty(p, key) && key != ps) {\n        p[key].sleep--;\n        !p[key].sleep && delete p[key];\n      }\n    }\n  });\n\n  return p[ps];\n}\n\nfunction rectBBox(x, y, width, height) {\n\n  if (arguments.length === 1) {\n    y = x.y;\n    width = x.width;\n    height = x.height;\n    x = x.x;\n  }\n\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    x2: x + width,\n    y2: y + height\n  };\n}\n\nfunction pathToString() {\n  return this.join(',').replace(p2s, '$1');\n}\n\nfunction pathClone(pathArray) {\n  var res = clone(pathArray);\n  res.toString = pathToString;\n  return res;\n}\n\nfunction findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n  var t1 = 1 - t,\n      t13 = pow(t1, 3),\n      t12 = pow(t1, 2),\n      t2 = t * t,\n      t3 = t2 * t,\n      x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x,\n      y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y;\n\n  return {\n    x: fixError(x),\n    y: fixError(y)\n  };\n}\n\nfunction bezierBBox(points) {\n\n  var bbox = curveBBox(...points);\n\n  return rectBBox(\n    bbox.x0,\n    bbox.y0,\n    bbox.x1 - bbox.x0,\n    bbox.y1 - bbox.y0\n  );\n}\n\nfunction isPointInsideBBox(bbox, x, y) {\n  return x >= bbox.x &&\n    x <= bbox.x + bbox.width &&\n    y >= bbox.y &&\n    y <= bbox.y + bbox.height;\n}\n\nfunction isBBoxIntersect(bbox1, bbox2) {\n  bbox1 = rectBBox(bbox1);\n  bbox2 = rectBBox(bbox2);\n  return isPointInsideBBox(bbox2, bbox1.x, bbox1.y)\n    || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y)\n    || isPointInsideBBox(bbox2, bbox1.x, bbox1.y2)\n    || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y2)\n    || isPointInsideBBox(bbox1, bbox2.x, bbox2.y)\n    || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y)\n    || isPointInsideBBox(bbox1, bbox2.x, bbox2.y2)\n    || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y2)\n    || (bbox1.x < bbox2.x2 && bbox1.x > bbox2.x\n        || bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)\n    && (bbox1.y < bbox2.y2 && bbox1.y > bbox2.y\n        || bbox2.y < bbox1.y2 && bbox2.y > bbox1.y);\n}\n\nfunction base3(t, p1, p2, p3, p4) {\n  var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4,\n      t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n  return t * t2 - 3 * p1 + 3 * p2;\n}\n\nfunction bezlen(x1, y1, x2, y2, x3, y3, x4, y4, z) {\n\n  if (z == null) {\n    z = 1;\n  }\n\n  z = z > 1 ? 1 : z < 0 ? 0 : z;\n\n  var z2 = z / 2,\n      n = 12,\n      Tvalues = [ -.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816 ],\n      Cvalues = [ 0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472 ],\n      sum = 0;\n\n  for (var i = 0; i < n; i++) {\n    var ct = z2 * Tvalues[i] + z2,\n        xbase = base3(ct, x1, x2, x3, x4),\n        ybase = base3(ct, y1, y2, y3, y4),\n        comb = xbase * xbase + ybase * ybase;\n\n    sum += Cvalues[i] * math.sqrt(comb);\n  }\n\n  return z2 * sum;\n}\n\n\nfunction intersectLines(x1, y1, x2, y2, x3, y3, x4, y4) {\n\n  if (\n    mmax(x1, x2) < mmin(x3, x4) ||\n      mmin(x1, x2) > mmax(x3, x4) ||\n      mmax(y1, y2) < mmin(y3, y4) ||\n      mmin(y1, y2) > mmax(y3, y4)\n  ) {\n    return;\n  }\n\n  var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\n      ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\n      denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n\n  if (!denominator) {\n    return;\n  }\n\n  var px = fixError(nx / denominator),\n      py = fixError(ny / denominator),\n      px2 = +px.toFixed(2),\n      py2 = +py.toFixed(2);\n\n  if (\n    px2 < +mmin(x1, x2).toFixed(2) ||\n      px2 > +mmax(x1, x2).toFixed(2) ||\n      px2 < +mmin(x3, x4).toFixed(2) ||\n      px2 > +mmax(x3, x4).toFixed(2) ||\n      py2 < +mmin(y1, y2).toFixed(2) ||\n      py2 > +mmax(y1, y2).toFixed(2) ||\n      py2 < +mmin(y3, y4).toFixed(2) ||\n      py2 > +mmax(y3, y4).toFixed(2)\n  ) {\n    return;\n  }\n\n  return { x: px, y: py };\n}\n\nfunction fixError(number) {\n  return Math.round(number * 100000000000) / 100000000000;\n}\n\nfunction findBezierIntersections(bez1, bez2, justCount) {\n  var bbox1 = bezierBBox(bez1),\n      bbox2 = bezierBBox(bez2);\n\n  if (!isBBoxIntersect(bbox1, bbox2)) {\n    return justCount ? 0 : [];\n  }\n\n  // As an optimization, lines will have only 1 segment\n\n  var l1 = bezlen(...bez1),\n      l2 = bezlen(...bez2),\n      n1 = isLine(bez1) ? 1 : ~~(l1 / 5) || 1,\n      n2 = isLine(bez2) ? 1 : ~~(l2 / 5) || 1,\n      dots1 = [],\n      dots2 = [],\n      xy = {},\n      res = justCount ? 0 : [];\n\n  for (var i = 0; i < n1 + 1; i++) {\n    var p = findDotsAtSegment(...bez1, i / n1);\n    dots1.push({ x: p.x, y: p.y, t: i / n1 });\n  }\n\n  for (i = 0; i < n2 + 1; i++) {\n    p = findDotsAtSegment(...bez2, i / n2);\n    dots2.push({ x: p.x, y: p.y, t: i / n2 });\n  }\n\n  for (i = 0; i < n1; i++) {\n\n    for (var j = 0; j < n2; j++) {\n      var di = dots1[i],\n          di1 = dots1[i + 1],\n          dj = dots2[j],\n          dj1 = dots2[j + 1],\n          ci = abs(di1.x - di.x) < .01 ? 'y' : 'x',\n          cj = abs(dj1.x - dj.x) < .01 ? 'y' : 'x',\n          is = intersectLines(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y),\n          key;\n\n      if (is) {\n        key = is.x.toFixed(9) + '#' + is.y.toFixed(9);\n\n        if (xy[key]) {\n          continue;\n        }\n\n        xy[key] = true;\n\n        var t1 = di.t + abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t),\n            t2 = dj.t + abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n\n        if (t1 >= 0 && t1 <= 1 && t2 >= 0 && t2 <= 1) {\n\n          if (justCount) {\n            res++;\n          } else {\n            res.push({\n              x: is.x,\n              y: is.y,\n              t1: t1,\n              t2: t2\n            });\n          }\n        }\n      }\n    }\n  }\n\n  return res;\n}\n\n\n/**\n * Find or counts the intersections between two SVG paths.\n *\n * Returns a number in counting mode and a list of intersections otherwise.\n *\n * A single intersection entry contains the intersection coordinates (x, y)\n * as well as additional information regarding the intersecting segments\n * on each path (segment1, segment2) and the relative location of the\n * intersection on these segments (t1, t2).\n *\n * The path may be an SVG path string or a list of path components\n * such as `[ [ 'M', 0, 10 ], [ 'L', 20, 0 ] ]`.\n *\n * @example\n *\n * var intersections = findPathIntersections(\n *   'M0,0L100,100',\n *   [ [ 'M', 0, 100 ], [ 'L', 100, 0 ] ]\n * );\n *\n * // intersections = [\n * //   { x: 50, y: 50, segment1: 1, segment2: 1, t1: 0.5, t2: 0.5 }\n * // ]\n *\n * @param {String|Array<PathDef>} path1\n * @param {String|Array<PathDef>} path2\n * @param {Boolean} [justCount=false]\n *\n * @return {Array<Intersection>|Number}\n */\nexport default function findPathIntersections(path1, path2, justCount) {\n  path1 = pathToCurve(path1);\n  path2 = pathToCurve(path2);\n\n  var x1, y1, x2, y2, x1m, y1m, x2m, y2m, bez1, bez2,\n      res = justCount ? 0 : [];\n\n  for (var i = 0, ii = path1.length; i < ii; i++) {\n    var pi = path1[i];\n\n    if (pi[0] == 'M') {\n      x1 = x1m = pi[1];\n      y1 = y1m = pi[2];\n    } else {\n\n      if (pi[0] == 'C') {\n        bez1 = [ x1, y1, ...pi.slice(1) ];\n        x1 = bez1[6];\n        y1 = bez1[7];\n      } else {\n        bez1 = [ x1, y1, x1, y1, x1m, y1m, x1m, y1m ];\n        x1 = x1m;\n        y1 = y1m;\n      }\n\n      for (var j = 0, jj = path2.length; j < jj; j++) {\n        var pj = path2[j];\n\n        if (pj[0] == 'M') {\n          x2 = x2m = pj[1];\n          y2 = y2m = pj[2];\n        } else {\n\n          if (pj[0] == 'C') {\n            bez2 = [ x2, y2, ...pj.slice(1) ];\n            x2 = bez2[6];\n            y2 = bez2[7];\n          } else {\n            bez2 = [ x2, y2, x2, y2, x2m, y2m, x2m, y2m ];\n            x2 = x2m;\n            y2 = y2m;\n          }\n\n          var intr = findBezierIntersections(bez1, bez2, justCount);\n\n          if (justCount) {\n            res += intr;\n          } else {\n\n            for (var k = 0, kk = intr.length; k < kk; k++) {\n              intr[k].segment1 = i;\n              intr[k].segment2 = j;\n              intr[k].bez1 = bez1;\n              intr[k].bez2 = bez2;\n            }\n\n            res = res.concat(intr);\n          }\n        }\n      }\n    }\n  }\n\n  return res;\n}\n\n\nfunction pathToAbsolute(pathArray) {\n  var pth = paths(pathArray);\n\n  if (pth.abs) {\n    return pathClone(pth.abs);\n  }\n\n  if (!isArray(pathArray) || !isArray(pathArray && pathArray[0])) { // rough assumption\n    pathArray = parsePathString(pathArray);\n  }\n\n  if (!pathArray || !pathArray.length) {\n    return [ [ 'M', 0, 0 ] ];\n  }\n\n  var res = [],\n      x = 0,\n      y = 0,\n      mx = 0,\n      my = 0,\n      start = 0,\n      pa0;\n\n  if (pathArray[0][0] == 'M') {\n    x = +pathArray[0][1];\n    y = +pathArray[0][2];\n    mx = x;\n    my = y;\n    start++;\n    res[0] = [ 'M', x, y ];\n  }\n\n  for (var r, pa, i = start, ii = pathArray.length; i < ii; i++) {\n    res.push(r = []);\n    pa = pathArray[i];\n    pa0 = pa[0];\n\n    if (pa0 != pa0.toUpperCase()) {\n      r[0] = pa0.toUpperCase();\n\n      switch (r[0]) {\n      case 'A':\n        r[1] = pa[1];\n        r[2] = pa[2];\n        r[3] = pa[3];\n        r[4] = pa[4];\n        r[5] = pa[5];\n        r[6] = +pa[6] + x;\n        r[7] = +pa[7] + y;\n        break;\n      case 'V':\n        r[1] = +pa[1] + y;\n        break;\n      case 'H':\n        r[1] = +pa[1] + x;\n        break;\n      case 'M':\n        mx = +pa[1] + x;\n        my = +pa[2] + y;\n      default:\n        for (var j = 1, jj = pa.length; j < jj; j++) {\n          r[j] = +pa[j] + ((j % 2) ? x : y);\n        }\n      }\n    } else {\n      for (var k = 0, kk = pa.length; k < kk; k++) {\n        r[k] = pa[k];\n      }\n    }\n    pa0 = pa0.toUpperCase();\n\n    switch (r[0]) {\n    case 'Z':\n      x = +mx;\n      y = +my;\n      break;\n    case 'H':\n      x = r[1];\n      break;\n    case 'V':\n      y = r[1];\n      break;\n    case 'M':\n      mx = r[r.length - 2];\n      my = r[r.length - 1];\n    default:\n      x = r[r.length - 2];\n      y = r[r.length - 1];\n    }\n  }\n\n  res.toString = pathToString;\n  pth.abs = pathClone(res);\n\n  return res;\n}\n\nfunction isLine(bez) {\n  return (\n    bez[0] === bez[2] &&\n    bez[1] === bez[3] &&\n    bez[4] === bez[6] &&\n    bez[5] === bez[7]\n  );\n}\n\nfunction lineToCurve(x1, y1, x2, y2) {\n  return [\n    x1, y1, x2,\n    y2, x2, y2\n  ];\n}\n\nfunction qubicToCurve(x1, y1, ax, ay, x2, y2) {\n  var _13 = 1 / 3,\n      _23 = 2 / 3;\n\n  return [\n    _13 * x1 + _23 * ax,\n    _13 * y1 + _23 * ay,\n    _13 * x2 + _23 * ax,\n    _13 * y2 + _23 * ay,\n    x2,\n    y2\n  ];\n}\n\nfunction arcToCurve(x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n\n  // for more information of where this math came from visit:\n  // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n  var _120 = PI * 120 / 180,\n      rad = PI / 180 * (+angle || 0),\n      res = [],\n      xy,\n      rotate = cacher(function(x, y, rad) {\n        var X = x * math.cos(rad) - y * math.sin(rad),\n            Y = x * math.sin(rad) + y * math.cos(rad);\n\n        return { x: X, y: Y };\n      });\n\n  if (!recursive) {\n    xy = rotate(x1, y1, -rad);\n    x1 = xy.x;\n    y1 = xy.y;\n    xy = rotate(x2, y2, -rad);\n    x2 = xy.x;\n    y2 = xy.y;\n\n    var x = (x1 - x2) / 2,\n        y = (y1 - y2) / 2;\n\n    var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\n\n    if (h > 1) {\n      h = math.sqrt(h);\n      rx = h * rx;\n      ry = h * ry;\n    }\n\n    var rx2 = rx * rx,\n        ry2 = ry * ry,\n        k = (large_arc_flag == sweep_flag ? -1 : 1) *\n            math.sqrt(abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x))),\n        cx = k * rx * y / ry + (x1 + x2) / 2,\n        cy = k * -ry * x / rx + (y1 + y2) / 2,\n        f1 = math.asin(((y1 - cy) / ry).toFixed(9)),\n        f2 = math.asin(((y2 - cy) / ry).toFixed(9));\n\n    f1 = x1 < cx ? PI - f1 : f1;\n    f2 = x2 < cx ? PI - f2 : f2;\n    f1 < 0 && (f1 = PI * 2 + f1);\n    f2 < 0 && (f2 = PI * 2 + f2);\n\n    if (sweep_flag && f1 > f2) {\n      f1 = f1 - PI * 2;\n    }\n    if (!sweep_flag && f2 > f1) {\n      f2 = f2 - PI * 2;\n    }\n  } else {\n    f1 = recursive[0];\n    f2 = recursive[1];\n    cx = recursive[2];\n    cy = recursive[3];\n  }\n\n  var df = f2 - f1;\n\n  if (abs(df) > _120) {\n    var f2old = f2,\n        x2old = x2,\n        y2old = y2;\n\n    f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n    x2 = cx + rx * math.cos(f2);\n    y2 = cy + ry * math.sin(f2);\n    res = arcToCurve(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [ f2, f2old, cx, cy ]);\n  }\n\n  df = f2 - f1;\n\n  var c1 = math.cos(f1),\n      s1 = math.sin(f1),\n      c2 = math.cos(f2),\n      s2 = math.sin(f2),\n      t = math.tan(df / 4),\n      hx = 4 / 3 * rx * t,\n      hy = 4 / 3 * ry * t,\n      m1 = [ x1, y1 ],\n      m2 = [ x1 + hx * s1, y1 - hy * c1 ],\n      m3 = [ x2 + hx * s2, y2 - hy * c2 ],\n      m4 = [ x2, y2 ];\n\n  m2[0] = 2 * m1[0] - m2[0];\n  m2[1] = 2 * m1[1] - m2[1];\n\n  if (recursive) {\n    return [ m2, m3, m4 ].concat(res);\n  } else {\n    res = [ m2, m3, m4 ].concat(res).join().split(',');\n    var newres = [];\n\n    for (var i = 0, ii = res.length; i < ii; i++) {\n      newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n    }\n\n    return newres;\n  }\n}\n\n// Returns bounding box of cubic bezier curve.\n// Source: http://blog.hackers-cafe.net/2009/06/how-to-calculate-bezier-curves-bounding.html\n// Original version: NISHIO Hirokazu\n// Modifications: https://github.com/timo22345\nfunction curveBBox(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var tvalues = [],\n      bounds = [ [], [] ],\n      a, b, c, t, t1, t2, b2ac, sqrtb2ac;\n\n  for (var i = 0; i < 2; ++i) {\n\n    if (i == 0) {\n      b = 6 * x0 - 12 * x1 + 6 * x2;\n      a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n      c = 3 * x1 - 3 * x0;\n    } else {\n      b = 6 * y0 - 12 * y1 + 6 * y2;\n      a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n      c = 3 * y1 - 3 * y0;\n    }\n\n    if (abs(a) < 1e-12) {\n\n      if (abs(b) < 1e-12) {\n        continue;\n      }\n\n      t = -c / b;\n\n      if (0 < t && t < 1) {\n        tvalues.push(t);\n      }\n\n      continue;\n    }\n\n    b2ac = b * b - 4 * c * a;\n    sqrtb2ac = math.sqrt(b2ac);\n\n    if (b2ac < 0) {\n      continue;\n    }\n\n    t1 = (-b + sqrtb2ac) / (2 * a);\n\n    if (0 < t1 && t1 < 1) {\n      tvalues.push(t1);\n    }\n\n    t2 = (-b - sqrtb2ac) / (2 * a);\n\n    if (0 < t2 && t2 < 1) {\n      tvalues.push(t2);\n    }\n  }\n\n  var j = tvalues.length,\n      jlen = j,\n      mt;\n\n  while (j--) {\n    t = tvalues[j];\n    mt = 1 - t;\n    bounds[0][j] = (mt * mt * mt * x0) + (3 * mt * mt * t * x1) + (3 * mt * t * t * x2) + (t * t * t * x3);\n    bounds[1][j] = (mt * mt * mt * y0) + (3 * mt * mt * t * y1) + (3 * mt * t * t * y2) + (t * t * t * y3);\n  }\n\n  bounds[0][jlen] = x0;\n  bounds[1][jlen] = y0;\n  bounds[0][jlen + 1] = x3;\n  bounds[1][jlen + 1] = y3;\n  bounds[0].length = bounds[1].length = jlen + 2;\n\n  return {\n    x0: mmin(...bounds[0]),\n    y0: mmin(...bounds[1]),\n    x1: mmax(...bounds[0]),\n    y1: mmax(...bounds[1])\n  };\n}\n\nfunction pathToCurve(path) {\n\n  var pth = paths(path);\n\n  // return cached curve, if existing\n  if (pth.curve) {\n    return pathClone(pth.curve);\n  }\n\n  var curvedPath = pathToAbsolute(path),\n      attrs = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null },\n      processPath = function(path, d, pathCommand) {\n        var nx, ny;\n\n        if (!path) {\n          return [ 'C', d.x, d.y, d.x, d.y, d.x, d.y ];\n        }\n\n        !(path[0] in { T: 1, Q: 1 }) && (d.qx = d.qy = null);\n\n        switch (path[0]) {\n        case 'M':\n          d.X = path[1];\n          d.Y = path[2];\n          break;\n        case 'A':\n          path = [ 'C', ...arcToCurve(d.x, d.y, ...path.slice(1)) ];\n          break;\n        case 'S':\n          if (pathCommand == 'C' || pathCommand == 'S') {\n\n            // In 'S' case we have to take into account, if the previous command is C/S.\n            nx = d.x * 2 - d.bx;\n\n            // And reflect the previous\n            ny = d.y * 2 - d.by;\n\n            // command's control point relative to the current point.\n          }\n          else {\n\n            // or some else or nothing\n            nx = d.x;\n            ny = d.y;\n          }\n          path = [ 'C', nx, ny, ...path.slice(1) ];\n          break;\n        case 'T':\n          if (pathCommand == 'Q' || pathCommand == 'T') {\n\n            // In 'T' case we have to take into account, if the previous command is Q/T.\n            d.qx = d.x * 2 - d.qx;\n\n            // And make a reflection similar\n            d.qy = d.y * 2 - d.qy;\n\n            // to case 'S'.\n          }\n          else {\n\n            // or something else or nothing\n            d.qx = d.x;\n            d.qy = d.y;\n          }\n          path = [ 'C', ...qubicToCurve(d.x, d.y, d.qx, d.qy, path[1], path[2]) ];\n          break;\n        case 'Q':\n          d.qx = path[1];\n          d.qy = path[2];\n          path = [ 'C', ...qubicToCurve(d.x, d.y, path[1], path[2], path[3], path[4]) ];\n          break;\n        case 'L':\n          path = [ 'C', ...lineToCurve(d.x, d.y, path[1], path[2]) ];\n          break;\n        case 'H':\n          path = [ 'C', ...lineToCurve(d.x, d.y, path[1], d.y) ];\n          break;\n        case 'V':\n          path = [ 'C', ...lineToCurve(d.x, d.y, d.x, path[1]) ];\n          break;\n        case 'Z':\n          path = [ 'C', ...lineToCurve(d.x, d.y, d.X, d.Y) ];\n          break;\n        }\n\n        return path;\n      },\n\n      fixArc = function(pp, i) {\n\n        if (pp[i].length > 7) {\n          pp[i].shift();\n          var pi = pp[i];\n\n          while (pi.length) {\n            pathCommands[i] = 'A'; // if created multiple C:s, their original seg is saved\n            pp.splice(i++, 0, [ 'C', ...pi.splice(0, 6) ]);\n          }\n\n          pp.splice(i, 1);\n          ii = curvedPath.length;\n        }\n      },\n\n      pathCommands = [], // path commands of original path p\n      pfirst = '', // temporary holder for original path command\n      pathCommand = ''; // holder for previous path command of original path\n\n  for (var i = 0, ii = curvedPath.length; i < ii; i++) {\n    curvedPath[i] && (pfirst = curvedPath[i][0]); // save current path command\n\n    if (pfirst != 'C') // C is not saved yet, because it may be result of conversion\n    {\n      pathCommands[i] = pfirst; // Save current path command\n      i && (pathCommand = pathCommands[i - 1]); // Get previous path command pathCommand\n    }\n    curvedPath[i] = processPath(curvedPath[i], attrs, pathCommand); // Previous path command is inputted to processPath\n\n    if (pathCommands[i] != 'A' && pfirst == 'C') pathCommands[i] = 'C'; // A is the only command\n    // which may produce multiple C:s\n    // so we have to make sure that C is also C in original path\n\n    fixArc(curvedPath, i); // fixArc adds also the right amount of A:s to pathCommands\n\n    var seg = curvedPath[i],\n        seglen = seg.length;\n\n    attrs.x = seg[seglen - 2];\n    attrs.y = seg[seglen - 1];\n    attrs.bx = toFloat(seg[seglen - 4]) || attrs.x;\n    attrs.by = toFloat(seg[seglen - 3]) || attrs.y;\n  }\n\n  // cache curve\n  pth.curve = pathClone(curvedPath);\n\n  return curvedPath;\n}","import {\n  has,\n  isNil,\n  isObject\n} from 'min-dash';\n\n/**\n * Checks whether a value is an instance of Connection.\n *\n * @param {any} value\n *\n * @return {boolean}\n */\nexport function isConnection(value) {\n  return isObject(value) && has(value, 'waypoints');\n}\n\n/**\n * Checks whether a value is an instance of Label.\n *\n * @param {any} value\n *\n * @return {boolean}\n */\nexport function isLabel(value) {\n  return isObject(value) && has(value, 'labelTarget');\n}\n\n/**\n * Checks whether a value is an instance of Root.\n *\n * @param {any} value\n *\n * @return {boolean}\n */\nexport function isRoot(value) {\n  return isObject(value) && isNil(value.parent);\n}","import {\n  isObject,\n  sortBy\n} from 'min-dash';\n\nimport {\n  pointDistance,\n  pointsOnLine\n} from '../util/Geometry';\n\nimport intersectPaths from 'path-intersection';\n\nimport { isConnection } from '../util/ModelUtil';\n\n/**\n * @typedef {import('../core/Types').ElementLike} Element\n * @typedef {import('../core/Types').ConnectionLike} Connection\n *\n * @typedef {import('../util/Types').DirectionTRBL} DirectionTRBL\n * @typedef {import('../util/Types').Intersection} Intersection\n * @typedef {import('../util/Types').Point} Point\n * @typedef {import('../util/Types').Rect} Rect\n * @typedef {import('../util/Types').RectTRBL} RectTRBL\n */\n\n/**\n * @param {Rect} bounds\n *\n * @returns {Rect}\n */\nexport function roundBounds(bounds) {\n  return {\n    x: Math.round(bounds.x),\n    y: Math.round(bounds.y),\n    width: Math.round(bounds.width),\n    height: Math.round(bounds.height)\n  };\n}\n\n/**\n * @param {Point} point\n *\n * @returns {Point}\n */\nexport function roundPoint(point) {\n\n  return {\n    x: Math.round(point.x),\n    y: Math.round(point.y)\n  };\n}\n\n\n/**\n * Convert the given bounds to a { top, left, bottom, right } descriptor.\n *\n * @param {Point|Rect} bounds\n *\n * @return {RectTRBL}\n */\nexport function asTRBL(bounds) {\n  return {\n    top: bounds.y,\n    right: bounds.x + (bounds.width || 0),\n    bottom: bounds.y + (bounds.height || 0),\n    left: bounds.x\n  };\n}\n\n\n/**\n * Convert a { top, left, bottom, right } to an objects bounds.\n *\n * @param {RectTRBL} trbl\n *\n * @return {Rect}\n */\nexport function asBounds(trbl) {\n  return {\n    x: trbl.left,\n    y: trbl.top,\n    width: trbl.right - trbl.left,\n    height: trbl.bottom - trbl.top\n  };\n}\n\n\n/**\n * Get the mid of the given bounds or point.\n *\n * @param {Point|Rect} bounds\n *\n * @return {Point}\n */\nexport function getBoundsMid(bounds) {\n  return roundPoint({\n    x: bounds.x + (bounds.width || 0) / 2,\n    y: bounds.y + (bounds.height || 0) / 2\n  });\n}\n\n\n/**\n * Get the mid of the given Connection.\n *\n * @param {Connection} connection\n *\n * @return {Point}\n */\nexport function getConnectionMid(connection) {\n  var waypoints = connection.waypoints;\n\n  // calculate total length and length of each segment\n  var parts = waypoints.reduce(function(parts, point, index) {\n\n    var lastPoint = waypoints[index - 1];\n\n    if (lastPoint) {\n      var lastPart = parts[parts.length - 1];\n\n      var startLength = lastPart && lastPart.endLength || 0;\n      var length = distance(lastPoint, point);\n\n      parts.push({\n        start: lastPoint,\n        end: point,\n        startLength: startLength,\n        endLength: startLength + length,\n        length: length\n      });\n    }\n\n    return parts;\n  }, []);\n\n  var totalLength = parts.reduce(function(length, part) {\n    return length + part.length;\n  }, 0);\n\n  // find which segement contains middle point\n  var midLength = totalLength / 2;\n\n  var i = 0;\n  var midSegment = parts[i];\n\n  while (midSegment.endLength < midLength) {\n    midSegment = parts[++i];\n  }\n\n  // calculate relative position on mid segment\n  var segmentProgress = (midLength - midSegment.startLength) / midSegment.length;\n\n  var midPoint = {\n    x: midSegment.start.x + (midSegment.end.x - midSegment.start.x) * segmentProgress,\n    y: midSegment.start.y + (midSegment.end.y - midSegment.start.y) * segmentProgress\n  };\n\n  return midPoint;\n}\n\n\n/**\n * Get the mid of the given Element.\n *\n * @param {Element} element\n *\n * @return {Point}\n */\nexport function getMid(element) {\n  if (isConnection(element)) {\n    return getConnectionMid(element);\n  }\n\n  return getBoundsMid(element);\n}\n\n// orientation utils //////////////////////\n\n/**\n * Get orientation of the given rectangle with respect to\n * the reference rectangle.\n *\n * A padding (positive or negative) may be passed to influence\n * horizontal / vertical orientation and intersection.\n *\n * @param {Rect} rect\n * @param {Rect} reference\n * @param {Point|number} padding\n *\n * @return {DirectionTRBL|Intersection} the orientation; one of top, top-left, left, ..., bottom, right or intersect.\n */\nexport function getOrientation(rect, reference, padding) {\n\n  padding = padding || 0;\n\n  // make sure we can use an object, too\n  // for individual { x, y } padding\n  if (!isObject(padding)) {\n    padding = { x: padding, y: padding };\n  }\n\n\n  var rectOrientation = asTRBL(rect),\n      referenceOrientation = asTRBL(reference);\n\n  var top = rectOrientation.bottom + padding.y <= referenceOrientation.top,\n      right = rectOrientation.left - padding.x >= referenceOrientation.right,\n      bottom = rectOrientation.top - padding.y >= referenceOrientation.bottom,\n      left = rectOrientation.right + padding.x <= referenceOrientation.left;\n\n  var vertical = top ? 'top' : (bottom ? 'bottom' : null),\n      horizontal = left ? 'left' : (right ? 'right' : null);\n\n  if (horizontal && vertical) {\n    return vertical + '-' + horizontal;\n  } else {\n    return horizontal || vertical || 'intersect';\n  }\n}\n\n\n// intersection utils //////////////////////\n\n/**\n * Get intersection between an element and a line path.\n *\n * @param {string} elementPath\n * @param {string} linePath\n * @param {boolean} cropStart Whether to crop start or end.\n *\n * @return {Point}\n */\nexport function getElementLineIntersection(elementPath, linePath, cropStart) {\n\n  var intersections = getIntersections(elementPath, linePath);\n\n  // recognize intersections\n  // only one -> choose\n  // two close together -> choose first\n  // two or more distinct -> pull out appropriate one\n  // none -> ok (fallback to point itself)\n  if (intersections.length === 1) {\n    return roundPoint(intersections[0]);\n  } else if (intersections.length === 2 && pointDistance(intersections[0], intersections[1]) < 1) {\n    return roundPoint(intersections[0]);\n  } else if (intersections.length > 1) {\n\n    // sort by intersections based on connection segment +\n    // distance from start\n    intersections = sortBy(intersections, function(i) {\n      var distance = Math.floor(i.t2 * 100) || 1;\n\n      distance = 100 - distance;\n\n      distance = (distance < 10 ? '0' : '') + distance;\n\n      // create a sort string that makes sure we sort\n      // line segment ASC + line segment position DESC (for cropStart)\n      // line segment ASC + line segment position ASC (for cropEnd)\n      return i.segment2 + '#' + distance;\n    });\n\n    return roundPoint(intersections[cropStart ? 0 : intersections.length - 1]);\n  }\n\n  return null;\n}\n\n\nexport function getIntersections(a, b) {\n  return intersectPaths(a, b);\n}\n\n\nexport function filterRedundantWaypoints(waypoints) {\n\n  // alter copy of waypoints, not original\n  waypoints = waypoints.slice();\n\n  var idx = 0,\n      point,\n      previousPoint,\n      nextPoint;\n\n  while (waypoints[idx]) {\n    point = waypoints[idx];\n    previousPoint = waypoints[idx - 1];\n    nextPoint = waypoints[idx + 1];\n\n    if (pointDistance(point, nextPoint) === 0 ||\n        pointsOnLine(previousPoint, nextPoint, point)) {\n\n      // remove point, if overlapping with {nextPoint}\n      // or on line with {previousPoint} -> {point} -> {nextPoint}\n      waypoints.splice(idx, 1);\n    } else {\n      idx++;\n    }\n  }\n\n  return waypoints;\n}\n\n// helpers //////////////////////\n\nfunction distance(a, b) {\n  return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));\n}","import {\n  isNumber,\n  assign,\n  forEach,\n  every,\n  debounce,\n  bind,\n  reduce,\n  find\n} from 'min-dash';\n\nimport {\n  assignStyle,\n  attr as domAttr\n} from 'min-dom';\n\nimport {\n  add as collectionAdd,\n  remove as collectionRemove\n} from '../util/Collections';\n\nimport {\n  getType,\n  getBBox as getBoundingBox\n} from '../util/Elements';\n\nimport { asTRBL } from '../layout/LayoutUtil';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate,\n  transform as svgTransform,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport { createMatrix as createMatrix } from 'tiny-svg';\n\n\n/**\n * @typedef {import('./Types').ConnectionLike} ConnectionLike\n * @typedef {import('./Types').RootLike} RootLike\n * @typedef {import('./Types').ParentLike } ParentLike\n * @typedef {import('./Types').ShapeLike} ShapeLike\n *\n * @typedef { {\n *   container?: HTMLElement;\n *   deferUpdate?: boolean;\n *   width?: number;\n *   height?: number;\n *   autoFocus?: boolean;\n * } } CanvasConfig\n * @typedef { {\n *   group: SVGElement;\n *   index: number;\n *   visible: boolean;\n * } } CanvasLayer\n * @typedef { {\n *   [key: string]: CanvasLayer;\n * } } CanvasLayers\n * @typedef { {\n *   rootElement: ShapeLike;\n *   layer: CanvasLayer;\n * } } CanvasPlane\n * @typedef { {\n *   scale: number;\n *   inner: Rect;\n *   outer: Dimensions;\n * } & Rect } CanvasViewbox\n *\n * @typedef {import('./ElementRegistry').default} ElementRegistry\n * @typedef {import('./EventBus').default} EventBus\n * @typedef {import('./GraphicsFactory').default} GraphicsFactory\n *\n * @typedef {import('../util/Types').Dimensions} Dimensions\n * @typedef {import('../util/Types').Point} Point\n * @typedef {import('../util/Types').Rect} Rect\n * @typedef {import('../util/Types').RectTRBL} RectTRBL\n * @typedef {import('../util/Types').ScrollDelta} ScrollDelta\n */\n\nfunction round(number, resolution) {\n  return Math.round(number * resolution) / resolution;\n}\n\nfunction ensurePx(number) {\n  return isNumber(number) ? number + 'px' : number;\n}\n\nfunction findRoot(element) {\n  while (element.parent) {\n    element = element.parent;\n  }\n\n  return element;\n}\n\n/**\n * Creates a HTML container element for a SVG element with\n * the given configuration\n *\n * @param {CanvasConfig} options\n *\n * @return {HTMLElement} the container element\n */\nfunction createContainer(options) {\n\n  options = assign({}, { width: '100%', height: '100%' }, options);\n\n  const container = options.container || document.body;\n\n  // create a <div> around the svg element with the respective size\n  // this way we can always get the correct container size\n  // (this is impossible for <svg> elements at the moment)\n  const parent = document.createElement('div');\n  parent.setAttribute('class', 'djs-container djs-parent');\n\n  assignStyle(parent, {\n    position: 'relative',\n    overflow: 'hidden',\n    width: ensurePx(options.width),\n    height: ensurePx(options.height)\n  });\n\n  container.appendChild(parent);\n\n  return parent;\n}\n\nfunction createGroup(parent, cls, childIndex) {\n  const group = svgCreate('g');\n  svgClasses(group).add(cls);\n\n  const index = childIndex !== undefined ? childIndex : parent.childNodes.length - 1;\n\n  // must ensure second argument is node or _null_\n  // cf. https://developer.mozilla.org/en-US/docs/Web/API/Node/insertBefore\n  parent.insertBefore(group, parent.childNodes[index] || null);\n\n  return group;\n}\n\nconst BASE_LAYER = 'base';\n\n// render plane contents behind utility layers\nconst PLANE_LAYER_INDEX = 0;\nconst UTILITY_LAYER_INDEX = 1;\n\n\nconst REQUIRED_MODEL_ATTRS = {\n  shape: [ 'x', 'y', 'width', 'height' ],\n  connection: [ 'waypoints' ]\n};\n\n/**\n * The main drawing canvas.\n *\n * @class\n * @constructor\n *\n * @emits Canvas#canvas.init\n *\n * @param {CanvasConfig|null} config\n * @param {EventBus} eventBus\n * @param {GraphicsFactory} graphicsFactory\n * @param {ElementRegistry} elementRegistry\n */\nexport default function Canvas(config, eventBus, graphicsFactory, elementRegistry) {\n  this._eventBus = eventBus;\n  this._elementRegistry = elementRegistry;\n  this._graphicsFactory = graphicsFactory;\n\n  /**\n   * @type {number}\n   */\n  this._rootsIdx = 0;\n\n  /**\n   * @type {CanvasLayers}\n   */\n  this._layers = {};\n\n  /**\n   * @type {CanvasPlane[]}\n   */\n  this._planes = [];\n\n  /**\n   * @type {RootLike|null}\n   */\n  this._rootElement = null;\n\n  /**\n   * @type {boolean}\n   */\n  this._focused = false;\n\n  this._init(config || {});\n}\n\nCanvas.$inject = [\n  'config.canvas',\n  'eventBus',\n  'graphicsFactory',\n  'elementRegistry'\n];\n\n/**\n * Creates a <svg> element that is wrapped into a <div>.\n * This way we are always able to correctly figure out the size of the svg element\n * by querying the parent node.\n\n * (It is not possible to get the size of a svg element cross browser @ 2014-04-01)\n\n * <div class=\"djs-container\" style=\"width: {desired-width}, height: {desired-height}\">\n *   <svg width=\"100%\" height=\"100%\">\n *    ...\n *   </svg>\n * </div>\n *\n * @param {CanvasConfig} config\n */\nCanvas.prototype._init = function(config) {\n  const eventBus = this._eventBus;\n\n  // html container\n  const container = this._container = createContainer(config);\n\n  const svg = this._svg = svgCreate('svg');\n\n  svgAttr(svg, {\n    width: '100%',\n    height: '100%'\n  });\n\n  domAttr(svg, 'tabindex', 0);\n\n  config.autoFocus && eventBus.on('element.hover', () => {\n    this.restoreFocus();\n  });\n\n  eventBus.on('element.mousedown', 500, (event) => {\n    this.focus();\n  });\n\n  svg.addEventListener('focusin', () => {\n    this._setFocused(true);\n  });\n\n  svg.addEventListener('focusout', () => {\n    this._setFocused(false);\n  });\n\n  svgAppend(container, svg);\n\n  const viewport = this._viewport = createGroup(svg, 'viewport');\n\n  // debounce canvas.viewbox.changed events when deferUpdate is set\n  // to help with potential performance issues\n  if (config.deferUpdate) {\n    this._viewboxChanged = debounce(bind(this._viewboxChanged, this), 300);\n  }\n\n  eventBus.on('diagram.init', () => {\n\n    /**\n     * An event indicating that the canvas is ready to be drawn on.\n     *\n     * @memberOf Canvas\n     *\n     * @event canvas.init\n     *\n     * @type {Object}\n     * @property {SVGElement} svg the created svg element\n     * @property {SVGElement} viewport the direct parent of diagram elements and shapes\n     */\n    eventBus.fire('canvas.init', {\n      svg: svg,\n      viewport: viewport\n    });\n\n  });\n\n  // reset viewbox on shape changes to\n  // recompute the viewbox\n  eventBus.on([\n    'shape.added',\n    'connection.added',\n    'shape.removed',\n    'connection.removed',\n    'elements.changed',\n    'root.set'\n  ], () => {\n    delete this._cachedViewbox;\n  });\n\n  eventBus.on('diagram.destroy', 500, this._destroy, this);\n  eventBus.on('diagram.clear', 500, this._clear, this);\n};\n\nCanvas.prototype._destroy = function() {\n  this._eventBus.fire('canvas.destroy', {\n    svg: this._svg,\n    viewport: this._viewport\n  });\n\n  const parent = this._container.parentNode;\n\n  if (parent) {\n    parent.removeChild(this._container);\n  }\n\n  delete this._svg;\n  delete this._container;\n  delete this._layers;\n  delete this._planes;\n  delete this._rootElement;\n  delete this._viewport;\n};\n\nCanvas.prototype._setFocused = function(focused) {\n\n  if (focused == this._focused) {\n    return;\n  }\n\n  this._focused = focused;\n\n  this._eventBus.fire('canvas.focus.changed', { focused });\n};\n\nCanvas.prototype._clear = function() {\n\n  const allElements = this._elementRegistry.getAll();\n\n  // remove all elements\n  allElements.forEach(element => {\n    const type = getType(element);\n\n    if (type === 'root') {\n      this.removeRootElement(element);\n    } else {\n      this._removeElement(element, type);\n    }\n  });\n\n  // remove all planes\n  this._planes = [];\n  this._rootElement = null;\n\n  // force recomputation of view box\n  delete this._cachedViewbox;\n};\n\n/**\n * Sets focus on the canvas SVG element.\n */\nCanvas.prototype.focus = function() {\n  this._svg.focus({ preventScroll: true });\n\n  this._setFocused(true);\n};\n\n/**\n* Sets focus on the canvas SVG element if `document.body` is currently focused.\n*/\nCanvas.prototype.restoreFocus = function() {\n  if (document.activeElement === document.body) {\n    this.focus();\n  }\n};\n\n/**\n* Returns true if the canvas is focused.\n*\n* @return {boolean}\n*/\nCanvas.prototype.isFocused = function() {\n  return this._focused;\n};\n\n/**\n * Returns the default layer on which\n * all elements are drawn.\n *\n * @return {SVGElement}  The SVG element of the layer.\n */\nCanvas.prototype.getDefaultLayer = function() {\n  return this.getLayer(BASE_LAYER, PLANE_LAYER_INDEX);\n};\n\n/**\n * Returns a layer that is used to draw elements\n * or annotations on it.\n *\n * Non-existing layers retrieved through this method\n * will be created. During creation, the optional index\n * may be used to create layers below or above existing layers.\n * A layer with a certain index is always created above all\n * existing layers with the same index.\n *\n * @param {string} name The name of the layer.\n * @param {number} [index] The index of the layer.\n *\n * @return {SVGElement} The SVG element of the layer.\n */\nCanvas.prototype.getLayer = function(name, index) {\n\n  if (!name) {\n    throw new Error('must specify a name');\n  }\n\n  let layer = this._layers[name];\n\n  if (!layer) {\n    layer = this._layers[name] = this._createLayer(name, index);\n  }\n\n  // throw an error if layer creation / retrival is\n  // requested on different index\n  if (typeof index !== 'undefined' && layer.index !== index) {\n    throw new Error('layer <' + name + '> already created at index <' + index + '>');\n  }\n\n  return layer.group;\n};\n\n/**\n * For a given index, return the number of layers that have a higher index and\n * are visible.\n *\n * This is used to determine the node a layer should be inserted at.\n *\n * @param {number} index\n *\n * @return {number}\n */\nCanvas.prototype._getChildIndex = function(index) {\n  return reduce(this._layers, function(childIndex, layer) {\n    if (layer.visible && index >= layer.index) {\n      childIndex++;\n    }\n\n    return childIndex;\n  }, 0);\n};\n\n/**\n * Creates a given layer and returns it.\n *\n * @param {string} name\n * @param {number} [index=0]\n *\n * @return {CanvasLayer}\n */\nCanvas.prototype._createLayer = function(name, index) {\n\n  if (typeof index === 'undefined') {\n    index = UTILITY_LAYER_INDEX;\n  }\n\n  const childIndex = this._getChildIndex(index);\n\n  return {\n    group: createGroup(this._viewport, 'layer-' + name, childIndex),\n    index: index,\n    visible: true\n  };\n};\n\n\n/**\n * Shows a given layer.\n *\n * @param {string} name The name of the layer.\n *\n * @return {SVGElement} The SVG element of the layer.\n */\nCanvas.prototype.showLayer = function(name) {\n\n  if (!name) {\n    throw new Error('must specify a name');\n  }\n\n  const layer = this._layers[name];\n\n  if (!layer) {\n    throw new Error('layer <' + name + '> does not exist');\n  }\n\n  const viewport = this._viewport;\n  const group = layer.group;\n  const index = layer.index;\n\n  if (layer.visible) {\n    return group;\n  }\n\n  const childIndex = this._getChildIndex(index);\n\n  viewport.insertBefore(group, viewport.childNodes[childIndex] || null);\n\n  layer.visible = true;\n\n  return group;\n};\n\n/**\n * Hides a given layer.\n *\n * @param {string} name The name of the layer.\n *\n * @return {SVGElement} The SVG element of the layer.\n */\nCanvas.prototype.hideLayer = function(name) {\n\n  if (!name) {\n    throw new Error('must specify a name');\n  }\n\n  const layer = this._layers[name];\n\n  if (!layer) {\n    throw new Error('layer <' + name + '> does not exist');\n  }\n\n  const group = layer.group;\n\n  if (!layer.visible) {\n    return group;\n  }\n\n  svgRemove(group);\n\n  layer.visible = false;\n\n  return group;\n};\n\n\nCanvas.prototype._removeLayer = function(name) {\n\n  const layer = this._layers[name];\n\n  if (layer) {\n    delete this._layers[name];\n\n    svgRemove(layer.group);\n  }\n};\n\n/**\n * Returns the currently active layer. Can be null.\n *\n * @return {CanvasLayer|null} The active layer of `null`.\n */\nCanvas.prototype.getActiveLayer = function() {\n  const plane = this._findPlaneForRoot(this.getRootElement());\n\n  if (!plane) {\n    return null;\n  }\n\n  return plane.layer;\n};\n\n\n/**\n * Returns the plane which contains the given element.\n *\n * @param {ShapeLike|ConnectionLike|string} element The element or its ID.\n *\n * @return {RootLike|undefined} The root of the element.\n */\nCanvas.prototype.findRoot = function(element) {\n  if (typeof element === 'string') {\n    element = this._elementRegistry.get(element);\n  }\n\n  if (!element) {\n    return;\n  }\n\n  const plane = this._findPlaneForRoot(\n    findRoot(element)\n  ) || {};\n\n  return plane.rootElement;\n};\n\n/**\n * Return a list of all root elements on the diagram.\n *\n * @return {(RootLike)[]} The list of root elements.\n */\nCanvas.prototype.getRootElements = function() {\n  return this._planes.map(function(plane) {\n    return plane.rootElement;\n  });\n};\n\nCanvas.prototype._findPlaneForRoot = function(rootElement) {\n  return find(this._planes, function(plane) {\n    return plane.rootElement === rootElement;\n  });\n};\n\n\n/**\n * Returns the html element that encloses the\n * drawing canvas.\n *\n * @return {HTMLElement} The HTML element of the container.\n */\nCanvas.prototype.getContainer = function() {\n  return this._container;\n};\n\n\n// markers //////////////////////\n\nCanvas.prototype._updateMarker = function(element, marker, add) {\n  let container;\n\n  if (!element.id) {\n    element = this._elementRegistry.get(element);\n  }\n\n  element.markers = element.markers || new Set();\n\n  // we need to access all\n  container = this._elementRegistry._elements[element.id];\n\n  if (!container) {\n    return;\n  }\n\n  forEach([ container.gfx, container.secondaryGfx ], function(gfx) {\n    if (gfx) {\n\n      // invoke either addClass or removeClass based on mode\n      if (add) {\n        element.markers.add(marker);\n        svgClasses(gfx).add(marker);\n      } else {\n        element.markers.delete(marker);\n        svgClasses(gfx).remove(marker);\n      }\n    }\n  });\n\n  /**\n   * An event indicating that a marker has been updated for an element\n   *\n   * @event element.marker.update\n   * @type {Object}\n   * @property {Element} element the shape\n   * @property {SVGElement} gfx the graphical representation of the shape\n   * @property {string} marker\n   * @property {boolean} add true if the marker was added, false if it got removed\n   */\n  this._eventBus.fire('element.marker.update', { element: element, gfx: container.gfx, marker: marker, add: !!add });\n};\n\n\n/**\n * Adds a marker to an element (basically a css class).\n *\n * Fires the element.marker.update event, making it possible to\n * integrate extension into the marker life-cycle, too.\n *\n * @example\n *\n * ```javascript\n * canvas.addMarker('foo', 'some-marker');\n *\n * const fooGfx = canvas.getGraphics('foo');\n *\n * fooGfx; // <g class=\"... some-marker\"> ... </g>\n * ```\n *\n * @param {ShapeLike|ConnectionLike|string} element The element or its ID.\n * @param {string} marker The marker.\n */\nCanvas.prototype.addMarker = function(element, marker) {\n  this._updateMarker(element, marker, true);\n};\n\n\n/**\n * Remove a marker from an element.\n *\n * Fires the element.marker.update event, making it possible to\n * integrate extension into the marker life-cycle, too.\n *\n * @param {ShapeLike|ConnectionLike|string} element The element or its ID.\n * @param {string} marker The marker.\n */\nCanvas.prototype.removeMarker = function(element, marker) {\n  this._updateMarker(element, marker, false);\n};\n\n/**\n * Check whether an element has a given marker.\n *\n * @param {ShapeLike|ConnectionLike|string} element The element or its ID.\n * @param {string} marker The marker.\n */\nCanvas.prototype.hasMarker = function(element, marker) {\n  if (!element.id) {\n    element = this._elementRegistry.get(element);\n  }\n\n  if (!element.markers) {\n    return false;\n  }\n\n  return element.markers.has(marker);\n};\n\n/**\n * Toggles a marker on an element.\n *\n * Fires the element.marker.update event, making it possible to\n * integrate extension into the marker life-cycle, too.\n *\n * @param {ShapeLike|ConnectionLike|string} element The element or its ID.\n * @param {string} marker The marker.\n */\nCanvas.prototype.toggleMarker = function(element, marker) {\n  if (this.hasMarker(element, marker)) {\n    this.removeMarker(element, marker);\n  } else {\n    this.addMarker(element, marker);\n  }\n};\n\n/**\n * Returns the current root element.\n *\n * Supports two different modes for handling root elements:\n *\n * 1. if no root element has been added before, an implicit root will be added\n * and returned. This is used in applications that don't require explicit\n * root elements.\n *\n * 2. when root elements have been added before calling `getRootElement`,\n * root elements can be null. This is used for applications that want to manage\n * root elements themselves.\n *\n * @return {RootLike} The current root element.\n */\nCanvas.prototype.getRootElement = function() {\n  const rootElement = this._rootElement;\n\n  // can return null if root elements are present but none was set yet\n  if (rootElement || this._planes.length) {\n    return rootElement;\n  }\n\n  return this.setRootElement(this.addRootElement(null));\n};\n\n/**\n * Adds a given root element and returns it.\n *\n * @param {RootLike} [rootElement] The root element to be added.\n *\n * @return {RootLike} The added root element or an implicit root element.\n */\nCanvas.prototype.addRootElement = function(rootElement) {\n  const idx = this._rootsIdx++;\n\n  if (!rootElement) {\n    rootElement = {\n      id: '__implicitroot_' + idx,\n      children: [],\n      isImplicit: true\n    };\n  }\n\n  const layerName = rootElement.layer = 'root-' + idx;\n\n  this._ensureValid('root', rootElement);\n\n  const layer = this.getLayer(layerName, PLANE_LAYER_INDEX);\n\n  this.hideLayer(layerName);\n\n  this._addRoot(rootElement, layer);\n\n  this._planes.push({\n    rootElement: rootElement,\n    layer: layer\n  });\n\n  return rootElement;\n};\n\n/**\n * Removes a given root element and returns it.\n *\n * @param {RootLike|string} rootElement element or element ID\n *\n * @return {RootLike|undefined} removed element\n */\nCanvas.prototype.removeRootElement = function(rootElement) {\n\n  if (typeof rootElement === 'string') {\n    rootElement = this._elementRegistry.get(rootElement);\n  }\n\n  const plane = this._findPlaneForRoot(rootElement);\n\n  if (!plane) {\n    return;\n  }\n\n  // hook up life-cycle events\n  this._removeRoot(rootElement);\n\n  // clean up layer\n  this._removeLayer(rootElement.layer);\n\n  // clean up plane\n  this._planes = this._planes.filter(function(plane) {\n    return plane.rootElement !== rootElement;\n  });\n\n  // clean up active root\n  if (this._rootElement === rootElement) {\n    this._rootElement = null;\n  }\n\n  return rootElement;\n};\n\n\n/**\n * Sets a given element as the new root element for the canvas\n * and returns the new root element.\n *\n * @param {RootLike} rootElement The root element to be set.\n *\n * @return {RootLike} The set root element.\n */\nCanvas.prototype.setRootElement = function(rootElement) {\n\n  if (rootElement === this._rootElement) {\n    return rootElement;\n  }\n\n  let plane;\n\n  if (!rootElement) {\n    throw new Error('rootElement required');\n  }\n\n  plane = this._findPlaneForRoot(rootElement);\n\n  // give set add semantics for backwards compatibility\n  if (!plane) {\n    rootElement = this.addRootElement(rootElement);\n  }\n\n  this._setRoot(rootElement);\n\n  return rootElement;\n};\n\n\nCanvas.prototype._removeRoot = function(element) {\n  const elementRegistry = this._elementRegistry,\n        eventBus = this._eventBus;\n\n  // simulate element remove event sequence\n  eventBus.fire('root.remove', { element: element });\n  eventBus.fire('root.removed', { element: element });\n\n  elementRegistry.remove(element);\n};\n\n\nCanvas.prototype._addRoot = function(element, gfx) {\n  const elementRegistry = this._elementRegistry,\n        eventBus = this._eventBus;\n\n  // resemble element add event sequence\n  eventBus.fire('root.add', { element: element });\n\n  elementRegistry.add(element, gfx);\n\n  eventBus.fire('root.added', { element: element, gfx: gfx });\n};\n\n\nCanvas.prototype._setRoot = function(rootElement, layer) {\n\n  const currentRoot = this._rootElement;\n\n  if (currentRoot) {\n\n    // un-associate previous root element <svg>\n    this._elementRegistry.updateGraphics(currentRoot, null, true);\n\n    // hide previous layer\n    this.hideLayer(currentRoot.layer);\n  }\n\n  if (rootElement) {\n\n    if (!layer) {\n      layer = this._findPlaneForRoot(rootElement).layer;\n    }\n\n    // associate element with <svg>\n    this._elementRegistry.updateGraphics(rootElement, this._svg, true);\n\n    // show root layer\n    this.showLayer(rootElement.layer);\n  }\n\n  this._rootElement = rootElement;\n\n  this._eventBus.fire('root.set', { element: rootElement });\n};\n\nCanvas.prototype._ensureValid = function(type, element) {\n  if (!element.id) {\n    throw new Error('element must have an id');\n  }\n\n  if (this._elementRegistry.get(element.id)) {\n    throw new Error('element <' + element.id + '> already exists');\n  }\n\n  const requiredAttrs = REQUIRED_MODEL_ATTRS[type];\n\n  const valid = every(requiredAttrs, function(attr) {\n    return typeof element[attr] !== 'undefined';\n  });\n\n  if (!valid) {\n    throw new Error(\n      'must supply { ' + requiredAttrs.join(', ') + ' } with ' + type);\n  }\n};\n\nCanvas.prototype._setParent = function(element, parent, parentIndex) {\n  collectionAdd(parent.children, element, parentIndex);\n  element.parent = parent;\n};\n\n/**\n * Adds an element to the canvas.\n *\n * This wires the parent <-> child relationship between the element and\n * a explicitly specified parent or an implicit root element.\n *\n * During add it emits the events\n *\n *  * <{type}.add> (element, parent)\n *  * <{type}.added> (element, gfx)\n *\n * Extensions may hook into these events to perform their magic.\n *\n * @param {string} type\n * @param {ConnectionLike|ShapeLike} element\n * @param {ShapeLike} [parent]\n * @param {number} [parentIndex]\n *\n * @return {ConnectionLike|ShapeLike} The added element.\n */\nCanvas.prototype._addElement = function(type, element, parent, parentIndex) {\n\n  parent = parent || this.getRootElement();\n\n  const eventBus = this._eventBus,\n        graphicsFactory = this._graphicsFactory;\n\n  this._ensureValid(type, element);\n\n  eventBus.fire(type + '.add', { element: element, parent: parent });\n\n  this._setParent(element, parent, parentIndex);\n\n  // create graphics\n  const gfx = graphicsFactory.create(type, element, parentIndex);\n\n  this._elementRegistry.add(element, gfx);\n\n  // update its visual\n  graphicsFactory.update(type, element, gfx);\n\n  eventBus.fire(type + '.added', { element: element, gfx: gfx });\n\n  return element;\n};\n\n/**\n * Adds a shape to the canvas.\n *\n * @param {ShapeLike} shape The shape to be added\n * @param {ParentLike} [parent] The shape's parent.\n * @param {number} [parentIndex] The index at which to add the shape to the parent's children.\n *\n * @return {ShapeLike} The added shape.\n */\nCanvas.prototype.addShape = function(shape, parent, parentIndex) {\n  return this._addElement('shape', shape, parent, parentIndex);\n};\n\n/**\n * Adds a connection to the canvas.\n *\n * @param {ConnectionLike} connection The connection to be added.\n * @param {ParentLike} [parent] The connection's parent.\n * @param {number} [parentIndex] The index at which to add the connection to the parent's children.\n *\n * @return {ConnectionLike} The added connection.\n */\nCanvas.prototype.addConnection = function(connection, parent, parentIndex) {\n  return this._addElement('connection', connection, parent, parentIndex);\n};\n\n\n/**\n * Internal remove element\n */\nCanvas.prototype._removeElement = function(element, type) {\n\n  const elementRegistry = this._elementRegistry,\n        graphicsFactory = this._graphicsFactory,\n        eventBus = this._eventBus;\n\n  element = elementRegistry.get(element.id || element);\n\n  if (!element) {\n\n    // element was removed already\n    return;\n  }\n\n  eventBus.fire(type + '.remove', { element: element });\n\n  graphicsFactory.remove(element);\n\n  // unset parent <-> child relationship\n  collectionRemove(element.parent && element.parent.children, element);\n  element.parent = null;\n\n  eventBus.fire(type + '.removed', { element: element });\n\n  elementRegistry.remove(element);\n\n  return element;\n};\n\n\n/**\n * Removes a shape from the canvas.\n *\n * @fires ShapeRemoveEvent\n * @fires ShapeRemovedEvent\n *\n * @param {ShapeLike|string} shape The shape or its ID.\n *\n * @return {ShapeLike} The removed shape.\n */\nCanvas.prototype.removeShape = function(shape) {\n\n  /**\n   * An event indicating that a shape is about to be removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event ShapeRemoveEvent\n   * @type {Object}\n   * @property {ShapeLike} element The shape.\n   * @property {SVGElement} gfx The graphical element.\n   */\n\n  /**\n   * An event indicating that a shape has been removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event ShapeRemovedEvent\n   * @type {Object}\n   * @property {ShapeLike} element The shape.\n   * @property {SVGElement} gfx The graphical element.\n   */\n  return this._removeElement(shape, 'shape');\n};\n\n\n/**\n * Removes a connection from the canvas.\n *\n * @fires ConnectionRemoveEvent\n * @fires ConnectionRemovedEvent\n *\n * @param {ConnectionLike|string} connection The connection or its ID.\n *\n * @return {ConnectionLike} The removed connection.\n */\nCanvas.prototype.removeConnection = function(connection) {\n\n  /**\n   * An event indicating that a connection is about to be removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event ConnectionRemoveEvent\n   * @type {Object}\n   * @property {ConnectionLike} element The connection.\n   * @property {SVGElement} gfx The graphical element.\n   */\n\n  /**\n   * An event indicating that a connection has been removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event ConnectionRemovedEvent\n   * @type {Object}\n   * @property {ConnectionLike} element The connection.\n   * @property {SVGElement} gfx The graphical element.\n   */\n  return this._removeElement(connection, 'connection');\n};\n\n\n/**\n * Returns the graphical element of an element.\n *\n * @param {ShapeLike|ConnectionLike|string} element The element or its ID.\n * @param {boolean} [secondary=false] Whether to return the secondary graphical element.\n *\n * @return {SVGElement} The graphical element.\n */\nCanvas.prototype.getGraphics = function(element, secondary) {\n  return this._elementRegistry.getGraphics(element, secondary);\n};\n\n\n/**\n * Perform a viewbox update via a given change function.\n *\n * @param {Function} changeFn\n */\nCanvas.prototype._changeViewbox = function(changeFn) {\n\n  // notify others of the upcoming viewbox change\n  this._eventBus.fire('canvas.viewbox.changing');\n\n  // perform actual change\n  changeFn.apply(this);\n\n  // reset the cached viewbox so that\n  // a new get operation on viewbox or zoom\n  // triggers a viewbox re-computation\n  this._cachedViewbox = null;\n\n  // notify others of the change; this step\n  // may or may not be debounced\n  this._viewboxChanged();\n};\n\nCanvas.prototype._viewboxChanged = function() {\n  this._eventBus.fire('canvas.viewbox.changed', { viewbox: this.viewbox() });\n};\n\n\n/**\n * Gets or sets the view box of the canvas, i.e. the\n * area that is currently displayed.\n *\n * The getter may return a cached viewbox (if it is currently\n * changing). To force a recomputation, pass `false` as the first argument.\n *\n * @example\n *\n * ```javascript\n * canvas.viewbox({ x: 100, y: 100, width: 500, height: 500 })\n *\n * // sets the visible area of the diagram to (100|100) -> (600|100)\n * // and and scales it according to the diagram width\n *\n * const viewbox = canvas.viewbox(); // pass `false` to force recomputing the box.\n *\n * console.log(viewbox);\n * // {\n * //   inner: Dimensions,\n * //   outer: Dimensions,\n * //   scale,\n * //   x, y,\n * //   width, height\n * // }\n *\n * // if the current diagram is zoomed and scrolled, you may reset it to the\n * // default zoom via this method, too:\n *\n * const zoomedAndScrolledViewbox = canvas.viewbox();\n *\n * canvas.viewbox({\n *   x: 0,\n *   y: 0,\n *   width: zoomedAndScrolledViewbox.outer.width,\n *   height: zoomedAndScrolledViewbox.outer.height\n * });\n * ```\n *\n * @param {Rect} [box] The viewbox to be set.\n *\n * @return {CanvasViewbox} The set viewbox.\n */\nCanvas.prototype.viewbox = function(box) {\n\n  if (box === undefined && this._cachedViewbox) {\n    return structuredClone(this._cachedViewbox);\n  }\n\n  const viewport = this._viewport,\n        outerBox = this.getSize();\n  let innerBox,\n      matrix,\n      activeLayer,\n      transform,\n      scale,\n      x, y;\n\n  if (!box) {\n\n    // compute the inner box based on the\n    // diagrams active layer. This allows us to exclude\n    // external components, such as overlays\n\n    activeLayer = this._rootElement ? this.getActiveLayer() : null;\n    innerBox = activeLayer && activeLayer.getBBox() || {};\n\n    transform = svgTransform(viewport);\n    matrix = transform ? transform.matrix : createMatrix();\n    scale = round(matrix.a, 1000);\n\n    x = round(-matrix.e || 0, 1000);\n    y = round(-matrix.f || 0, 1000);\n\n    box = this._cachedViewbox = {\n      x: x ? x / scale : 0,\n      y: y ? y / scale : 0,\n      width: outerBox.width / scale,\n      height: outerBox.height / scale,\n      scale: scale,\n      inner: {\n        width: innerBox.width || 0,\n        height: innerBox.height || 0,\n        x: innerBox.x || 0,\n        y: innerBox.y || 0\n      },\n      outer: outerBox\n    };\n\n    return box;\n  } else {\n\n    this._changeViewbox(function() {\n      scale = Math.min(outerBox.width / box.width, outerBox.height / box.height);\n\n      const matrix = this._svg.createSVGMatrix()\n        .scale(scale)\n        .translate(-box.x, -box.y);\n\n      svgTransform(viewport, matrix);\n    });\n  }\n\n  return box;\n};\n\n\n/**\n * Gets or sets the scroll of the canvas.\n *\n * @param {ScrollDelta} [delta] The scroll to be set.\n *\n * @return {Point}\n */\nCanvas.prototype.scroll = function(delta) {\n\n  const node = this._viewport;\n  let matrix = node.getCTM();\n\n  if (delta) {\n    this._changeViewbox(function() {\n      delta = assign({ dx: 0, dy: 0 }, delta || {});\n\n      matrix = this._svg.createSVGMatrix().translate(delta.dx, delta.dy).multiply(matrix);\n\n      setCTM(node, matrix);\n    });\n  }\n\n  return { x: matrix.e, y: matrix.f };\n};\n\n/**\n * Scrolls the viewbox to contain the given element.\n * Optionally specify a padding to be applied to the edges.\n *\n * @param {ShapeLike|ConnectionLike|string} element The element to scroll to or its ID.\n * @param {RectTRBL|number} [padding=100] The padding to be applied. Can also specify top, bottom, left and right.\n */\nCanvas.prototype.scrollToElement = function(element, padding) {\n  let defaultPadding = 100;\n\n  if (typeof element === 'string') {\n    element = this._elementRegistry.get(element);\n  }\n\n  // set to correct rootElement\n  const rootElement = this.findRoot(element);\n\n  if (rootElement !== this.getRootElement()) {\n    this.setRootElement(rootElement);\n  }\n\n  // element is rootElement, do not change viewport\n  if (rootElement === element) {\n    return;\n  }\n\n  if (!padding) {\n    padding = {};\n  }\n  if (typeof padding === 'number') {\n    defaultPadding = padding;\n  }\n\n  padding = {\n    top: padding.top || defaultPadding,\n    right: padding.right || defaultPadding,\n    bottom: padding.bottom || defaultPadding,\n    left: padding.left || defaultPadding\n  };\n\n  const elementBounds = getBoundingBox(element),\n        elementTrbl = asTRBL(elementBounds),\n        viewboxBounds = this.viewbox(),\n        zoom = this.zoom();\n  let dx, dy;\n\n  // shrink viewboxBounds with padding\n  viewboxBounds.y += padding.top / zoom;\n  viewboxBounds.x += padding.left / zoom;\n  viewboxBounds.width -= (padding.right + padding.left) / zoom;\n  viewboxBounds.height -= (padding.bottom + padding.top) / zoom;\n\n  const viewboxTrbl = asTRBL(viewboxBounds);\n\n  const canFit = elementBounds.width < viewboxBounds.width && elementBounds.height < viewboxBounds.height;\n\n  if (!canFit) {\n\n    // top-left when element can't fit\n    dx = elementBounds.x - viewboxBounds.x;\n    dy = elementBounds.y - viewboxBounds.y;\n\n  } else {\n\n    const dRight = Math.max(0, elementTrbl.right - viewboxTrbl.right),\n          dLeft = Math.min(0, elementTrbl.left - viewboxTrbl.left),\n          dBottom = Math.max(0, elementTrbl.bottom - viewboxTrbl.bottom),\n          dTop = Math.min(0, elementTrbl.top - viewboxTrbl.top);\n\n    dx = dRight || dLeft;\n    dy = dBottom || dTop;\n\n  }\n\n  this.scroll({ dx: -dx * zoom, dy: -dy * zoom });\n};\n\n/**\n * Gets or sets the current zoom of the canvas, optionally zooming to the\n * specified position.\n *\n * The getter may return a cached zoom level. Call it with `false` as the first\n * argument to force recomputation of the current level.\n *\n * @param {number|'fit-viewport'} [newScale] The new zoom level, either a number,\n * i.e. 0.9, or `fit-viewport` to adjust the size to fit the current viewport.\n * @param {Point} [center] The reference point { x: ..., y: ...} to zoom to.\n *\n * @return {number} The set zoom level.\n */\nCanvas.prototype.zoom = function(newScale, center) {\n\n  if (!newScale) {\n    return this.viewbox(newScale).scale;\n  }\n\n  if (newScale === 'fit-viewport') {\n    return this._fitViewport(center);\n  }\n\n  let outer,\n      matrix;\n\n  this._changeViewbox(function() {\n\n    if (typeof center !== 'object') {\n      outer = this.viewbox().outer;\n\n      center = {\n        x: outer.width / 2,\n        y: outer.height / 2\n      };\n    }\n\n    matrix = this._setZoom(newScale, center);\n  });\n\n  return round(matrix.a, 1000);\n};\n\nfunction setCTM(node, m) {\n  const mstr = 'matrix(' + m.a + ',' + m.b + ',' + m.c + ',' + m.d + ',' + m.e + ',' + m.f + ')';\n  node.setAttribute('transform', mstr);\n}\n\nCanvas.prototype._fitViewport = function(center) {\n\n  const vbox = this.viewbox(),\n        outer = vbox.outer,\n        inner = vbox.inner;\n  let newScale,\n      newViewbox;\n\n  // display the complete diagram without zooming in.\n  // instead of relying on internal zoom, we perform a\n  // hard reset on the canvas viewbox to realize this\n  //\n  // if diagram does not need to be zoomed in, we focus it around\n  // the diagram origin instead\n\n  if (inner.x >= 0 &&\n      inner.y >= 0 &&\n      inner.x + inner.width <= outer.width &&\n      inner.y + inner.height <= outer.height &&\n      !center) {\n\n    newViewbox = {\n      x: 0,\n      y: 0,\n      width: Math.max(inner.width + inner.x, outer.width),\n      height: Math.max(inner.height + inner.y, outer.height)\n    };\n  } else {\n\n    newScale = Math.min(1, outer.width / inner.width, outer.height / inner.height);\n    newViewbox = {\n      x: inner.x + (center ? inner.width / 2 - outer.width / newScale / 2 : 0),\n      y: inner.y + (center ? inner.height / 2 - outer.height / newScale / 2 : 0),\n      width: outer.width / newScale,\n      height: outer.height / newScale\n    };\n  }\n\n  this.viewbox(newViewbox);\n\n  return this.viewbox(false).scale;\n};\n\n\nCanvas.prototype._setZoom = function(scale, center) {\n\n  const svg = this._svg,\n        viewport = this._viewport;\n\n  const matrix = svg.createSVGMatrix();\n  const point = svg.createSVGPoint();\n\n  let centerPoint,\n      originalPoint,\n      currentMatrix,\n      scaleMatrix,\n      newMatrix;\n\n  currentMatrix = viewport.getCTM();\n\n  const currentScale = currentMatrix.a;\n\n  if (center) {\n    centerPoint = assign(point, center);\n\n    // revert applied viewport transformations\n    originalPoint = centerPoint.matrixTransform(currentMatrix.inverse());\n\n    // create scale matrix\n    scaleMatrix = matrix\n      .translate(originalPoint.x, originalPoint.y)\n      .scale(1 / currentScale * scale)\n      .translate(-originalPoint.x, -originalPoint.y);\n\n    newMatrix = currentMatrix.multiply(scaleMatrix);\n  } else {\n    newMatrix = matrix.scale(scale);\n  }\n\n  setCTM(this._viewport, newMatrix);\n\n  return newMatrix;\n};\n\n\n/**\n * Returns the size of the canvas.\n *\n * @return {Dimensions} The size of the canvas.\n */\nCanvas.prototype.getSize = function() {\n  return {\n    width: this._container.clientWidth,\n    height: this._container.clientHeight\n  };\n};\n\n\n/**\n * Returns the absolute bounding box of an element.\n *\n * The absolute bounding box may be used to display overlays in the callers\n * (browser) coordinate system rather than the zoomed in/out canvas coordinates.\n *\n * @param {ShapeLike|ConnectionLike} element The element.\n *\n * @return {Rect} The element's absolute bounding box.\n */\nCanvas.prototype.getAbsoluteBBox = function(element) {\n  const vbox = this.viewbox();\n  let bbox;\n\n  // connection\n  // use svg bbox\n  if (element.waypoints) {\n    const gfx = this.getGraphics(element);\n\n    bbox = gfx.getBBox();\n  }\n\n  // shapes\n  // use data\n  else {\n    bbox = element;\n  }\n\n  const x = bbox.x * vbox.scale - vbox.x * vbox.scale;\n  const y = bbox.y * vbox.scale - vbox.y * vbox.scale;\n\n  const width = bbox.width * vbox.scale;\n  const height = bbox.height * vbox.scale;\n\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  };\n};\n\n/**\n * Fires an event so other modules can react to the canvas resizing.\n */\nCanvas.prototype.resized = function() {\n\n  // force recomputation of view box\n  delete this._cachedViewbox;\n\n  this._eventBus.fire('canvas.resized');\n};\n","var ELEMENT_ID = 'data-element-id';\n\nimport { attr as svgAttr } from 'tiny-svg';\n\n/**\n * @typedef {import('./Types').ElementLike} ElementLike\n *\n * @typedef {import('./EventBus').default} EventBus\n *\n * @typedef { (element: ElementLike, gfx: SVGElement) => boolean|any } ElementRegistryFilterCallback\n * @typedef { (element: ElementLike, gfx: SVGElement) => any } ElementRegistryForEachCallback\n */\n\n/**\n * A registry that keeps track of all shapes in the diagram.\n *\n * @class\n * @constructor\n *\n * @param {EventBus} eventBus\n */\nexport default function ElementRegistry(eventBus) {\n\n  /**\n   * @type { {\n   *   [id: string]: {\n   *     element: ElementLike;\n   *     gfx?: SVGElement;\n   *     secondaryGfx?: SVGElement;\n   *   }\n   * } }\n   */\n  this._elements = {};\n\n  this._eventBus = eventBus;\n}\n\nElementRegistry.$inject = [ 'eventBus' ];\n\n/**\n * Add an element and its graphical representation(s) to the registry.\n *\n * @param {ElementLike} element The element to be added.\n * @param {SVGElement} gfx The primary graphical representation.\n * @param {SVGElement} [secondaryGfx] The secondary graphical representation.\n */\nElementRegistry.prototype.add = function(element, gfx, secondaryGfx) {\n\n  var id = element.id;\n\n  this._validateId(id);\n\n  // associate dom node with element\n  svgAttr(gfx, ELEMENT_ID, id);\n\n  if (secondaryGfx) {\n    svgAttr(secondaryGfx, ELEMENT_ID, id);\n  }\n\n  this._elements[id] = { element: element, gfx: gfx, secondaryGfx: secondaryGfx };\n};\n\n/**\n * Remove an element from the registry.\n *\n * @param {ElementLike|string} element\n */\nElementRegistry.prototype.remove = function(element) {\n  var elements = this._elements,\n      id = element.id || element,\n      container = id && elements[id];\n\n  if (container) {\n\n    // unset element id on gfx\n    svgAttr(container.gfx, ELEMENT_ID, '');\n\n    if (container.secondaryGfx) {\n      svgAttr(container.secondaryGfx, ELEMENT_ID, '');\n    }\n\n    delete elements[id];\n  }\n};\n\n/**\n * Update an elements ID.\n *\n * @param {ElementLike|string} element The element or its ID.\n * @param {string} newId The new ID.\n */\nElementRegistry.prototype.updateId = function(element, newId) {\n\n  this._validateId(newId);\n\n  if (typeof element === 'string') {\n    element = this.get(element);\n  }\n\n  this._eventBus.fire('element.updateId', {\n    element: element,\n    newId: newId\n  });\n\n  var gfx = this.getGraphics(element),\n      secondaryGfx = this.getGraphics(element, true);\n\n  this.remove(element);\n\n  element.id = newId;\n\n  this.add(element, gfx, secondaryGfx);\n};\n\n/**\n * Update the graphical representation of an element.\n *\n * @param {ElementLike|string} filter The element or its ID.\n * @param {SVGElement} gfx The new graphical representation.\n * @param {boolean} [secondary=false] Whether to update the secondary graphical representation.\n */\nElementRegistry.prototype.updateGraphics = function(filter, gfx, secondary) {\n  var id = filter.id || filter;\n\n  var container = this._elements[id];\n\n  if (secondary) {\n    container.secondaryGfx = gfx;\n  } else {\n    container.gfx = gfx;\n  }\n\n  if (gfx) {\n    svgAttr(gfx, ELEMENT_ID, id);\n  }\n\n  return gfx;\n};\n\n/**\n * Get the element with the given ID or graphical representation.\n *\n * @example\n *\n * ```javascript\n * elementRegistry.get('SomeElementId_1');\n *\n * elementRegistry.get(gfx);\n * ```\n *\n * @param {string|SVGElement} filter The elements ID or graphical representation.\n *\n * @return {ElementLike|undefined} The element.\n */\nElementRegistry.prototype.get = function(filter) {\n  var id;\n\n  if (typeof filter === 'string') {\n    id = filter;\n  } else {\n    id = filter && svgAttr(filter, ELEMENT_ID);\n  }\n\n  var container = this._elements[id];\n  return container && container.element;\n};\n\n/**\n * Return all elements that match a given filter function.\n *\n * @param {ElementRegistryFilterCallback} fn The filter function.\n *\n * @return {ElementLike[]} The matching elements.\n */\nElementRegistry.prototype.filter = function(fn) {\n\n  var filtered = [];\n\n  this.forEach(function(element, gfx) {\n    if (fn(element, gfx)) {\n      filtered.push(element);\n    }\n  });\n\n  return filtered;\n};\n\n/**\n * Return the first element that matches the given filter function.\n *\n * @param {ElementRegistryFilterCallback} fn The filter function.\n *\n * @return {ElementLike|undefined} The matching element.\n */\nElementRegistry.prototype.find = function(fn) {\n  var map = this._elements,\n      keys = Object.keys(map);\n\n  for (var i = 0; i < keys.length; i++) {\n    var id = keys[i],\n        container = map[id],\n        element = container.element,\n        gfx = container.gfx;\n\n    if (fn(element, gfx)) {\n      return element;\n    }\n  }\n};\n\n/**\n * Get all elements.\n *\n * @return {ElementLike[]} All elements.\n */\nElementRegistry.prototype.getAll = function() {\n  return this.filter(function(e) { return e; });\n};\n\n/**\n * Execute a given function for each element.\n *\n * @param {ElementRegistryForEachCallback} fn The function to execute.\n */\nElementRegistry.prototype.forEach = function(fn) {\n\n  var map = this._elements;\n\n  Object.keys(map).forEach(function(id) {\n    var container = map[id],\n        element = container.element,\n        gfx = container.gfx;\n\n    return fn(element, gfx);\n  });\n};\n\n/**\n * Return the graphical representation of an element.\n *\n * @example\n *\n * ```javascript\n * elementRegistry.getGraphics('SomeElementId_1');\n *\n * elementRegistry.getGraphics(rootElement); // <g ...>\n *\n * elementRegistry.getGraphics(rootElement, true); // <svg ...>\n * ```\n *\n * @param {ElementLike|string} filter The element or its ID.\n * @param {boolean} [secondary=false] Whether to return the secondary graphical representation.\n *\n * @return {SVGElement} The graphical representation.\n */\nElementRegistry.prototype.getGraphics = function(filter, secondary) {\n  var id = filter.id || filter;\n\n  var container = this._elements[id];\n  return container && (secondary ? container.secondaryGfx : container.gfx);\n};\n\n/**\n * Validate an ID and throw an error if invalid.\n *\n * @param {string} id\n *\n * @throws {Error} Error indicating that the ID is invalid or already assigned.\n */\nElementRegistry.prototype._validateId = function(id) {\n  if (!id) {\n    throw new Error('element must have an id');\n  }\n\n  if (this._elements[id]) {\n    throw new Error('element with id ' + id + ' already added');\n  }\n};\n","/**\n * Extends a collection with {@link Refs} aware methods\n *\n * @param {Array<Object>} collection\n * @param {Refs} refs instance\n * @param {Object} property represented by the collection\n * @param {Object} target object the collection is attached to\n *\n * @return {RefsCollection<Object>} the extended array\n */\nfunction extend(collection, refs, property, target) {\n  var inverseProperty = property.inverse;\n\n  /**\n   * Removes the given element from the array and returns it.\n   *\n   * @method RefsCollection#remove\n   *\n   * @param {Object} element the element to remove\n   */\n  Object.defineProperty(collection, 'remove', {\n    value: function (element) {\n      var idx = this.indexOf(element);\n      if (idx !== -1) {\n        this.splice(idx, 1);\n\n        // unset inverse\n        refs.unset(element, inverseProperty, target);\n      }\n      return element;\n    }\n  });\n\n  /**\n   * Returns true if the collection contains the given element\n   *\n   * @method RefsCollection#contains\n   *\n   * @param {Object} element the element to check for\n   */\n  Object.defineProperty(collection, 'contains', {\n    value: function (element) {\n      return this.indexOf(element) !== -1;\n    }\n  });\n\n  /**\n   * Adds an element to the array, unless it exists already (set semantics).\n   *\n   * @method RefsCollection#add\n   *\n   * @param {Object} element the element to add\n   * @param {Number} optional index to add element to\n   *                 (possibly moving other elements around)\n   */\n  Object.defineProperty(collection, 'add', {\n    value: function (element, idx) {\n      var currentIdx = this.indexOf(element);\n      if (typeof idx === 'undefined') {\n        if (currentIdx !== -1) {\n          // element already in collection (!)\n          return;\n        }\n\n        // add to end of array, as no idx is specified\n        idx = this.length;\n      }\n\n      // handle already in collection\n      if (currentIdx !== -1) {\n        // remove element from currentIdx\n        this.splice(currentIdx, 1);\n      }\n\n      // add element at idx\n      this.splice(idx, 0, element);\n      if (currentIdx === -1) {\n        // set inverse, unless element was\n        // in collection already\n        refs.set(element, inverseProperty, target);\n      }\n    }\n  });\n\n  // a simple marker, identifying this element\n  // as being a refs collection\n  Object.defineProperty(collection, '__refs_collection', {\n    value: true\n  });\n  return collection;\n}\n\n/**\n * Checks if a given collection is extended\n *\n * @param {Array<Object>} collection\n *\n * @return {boolean}\n */\nfunction isExtended(collection) {\n  return collection.__refs_collection === true;\n}\n\nvar collection = {\n  __proto__: null,\n  extend: extend,\n  isExtended: isExtended\n};\n\nfunction hasOwnProperty(e, property) {\n  return Object.prototype.hasOwnProperty.call(e, property.name || property);\n}\nfunction defineCollectionProperty(ref, property, target) {\n  var collection = extend(target[property.name] || [], ref, property, target);\n  Object.defineProperty(target, property.name, {\n    enumerable: property.enumerable,\n    value: collection\n  });\n  if (collection.length) {\n    collection.forEach(function (o) {\n      ref.set(o, property.inverse, target);\n    });\n  }\n}\nfunction defineProperty(ref, property, target) {\n  var inverseProperty = property.inverse;\n  var _value = target[property.name];\n  Object.defineProperty(target, property.name, {\n    configurable: property.configurable,\n    enumerable: property.enumerable,\n    get: function () {\n      return _value;\n    },\n    set: function (value) {\n      // return if we already performed all changes\n      if (value === _value) {\n        return;\n      }\n      var old = _value;\n\n      // temporary set null\n      _value = null;\n      if (old) {\n        ref.unset(old, inverseProperty, target);\n      }\n\n      // set new value\n      _value = value;\n\n      // set inverse value\n      ref.set(_value, inverseProperty, target);\n    }\n  });\n}\n\n/**\n * Creates a new references object defining two inversly related\n * attribute descriptors a and b.\n *\n * <p>\n *   When bound to an object using {@link Refs#bind} the references\n *   get activated and ensure that add and remove operations are applied\n *   reversely, too.\n * </p>\n *\n * <p>\n *   For attributes represented as collections {@link Refs} provides the\n *   {@link RefsCollection#add}, {@link RefsCollection#remove} and {@link RefsCollection#contains} extensions\n *   that must be used to properly hook into the inverse change mechanism.\n * </p>\n *\n * @class Refs\n *\n * @classdesc A bi-directional reference between two attributes.\n *\n * @param {Refs.AttributeDescriptor} a property descriptor\n * @param {Refs.AttributeDescriptor} b property descriptor\n *\n * @example\n *\n * var refs = Refs({ name: 'wheels', collection: true, enumerable: true }, { name: 'car' });\n *\n * var car = { name: 'toyota' };\n * var wheels = [{ pos: 'front-left' }, { pos: 'front-right' }];\n *\n * refs.bind(car, 'wheels');\n *\n * car.wheels // []\n * car.wheels.add(wheels[0]);\n * car.wheels.add(wheels[1]);\n *\n * car.wheels // [{ pos: 'front-left' }, { pos: 'front-right' }]\n *\n * wheels[0].car // { name: 'toyota' };\n * car.wheels.remove(wheels[0]);\n *\n * wheels[0].car // undefined\n */\nfunction Refs(a, b) {\n  if (!(this instanceof Refs)) {\n    return new Refs(a, b);\n  }\n\n  // link\n  a.inverse = b;\n  b.inverse = a;\n  this.props = {};\n  this.props[a.name] = a;\n  this.props[b.name] = b;\n}\n\n/**\n * Binds one side of a bi-directional reference to a\n * target object.\n *\n * @memberOf Refs\n *\n * @param  {Object} target\n * @param  {String} property\n */\nRefs.prototype.bind = function (target, property) {\n  if (typeof property === 'string') {\n    if (!this.props[property]) {\n      throw new Error('no property <' + property + '> in ref');\n    }\n    property = this.props[property];\n  }\n  if (property.collection) {\n    defineCollectionProperty(this, property, target);\n  } else {\n    defineProperty(this, property, target);\n  }\n};\nRefs.prototype.ensureRefsCollection = function (target, property) {\n  var collection = target[property.name];\n  if (!isExtended(collection)) {\n    defineCollectionProperty(this, property, target);\n  }\n  return collection;\n};\nRefs.prototype.ensureBound = function (target, property) {\n  if (!hasOwnProperty(target, property)) {\n    this.bind(target, property);\n  }\n};\nRefs.prototype.unset = function (target, property, value) {\n  if (target) {\n    this.ensureBound(target, property);\n    if (property.collection) {\n      this.ensureRefsCollection(target, property).remove(value);\n    } else {\n      target[property.name] = undefined;\n    }\n  }\n};\nRefs.prototype.set = function (target, property, value) {\n  if (target) {\n    this.ensureBound(target, property);\n    if (property.collection) {\n      this.ensureRefsCollection(target, property).add(value);\n    } else {\n      target[property.name] = value;\n    }\n  }\n};\n\n/**\n * An attribute descriptor to be used specify an attribute in a {@link Refs} instance\n *\n * @typedef {Object} Refs.AttributeDescriptor\n * @property {String} name\n * @property {boolean} [collection=false]\n * @property {boolean} [enumerable=false]\n */\n\nexport { collection as Collection, Refs };\n","import { assign } from 'min-dash';\nimport inherits from 'inherits-browser';\n\nimport { Refs } from 'object-refs';\n\nvar parentRefs = new Refs({ name: 'children', enumerable: true, collection: true }, { name: 'parent' }),\n    labelRefs = new Refs({ name: 'labels', enumerable: true, collection: true }, { name: 'labelTarget' }),\n    attacherRefs = new Refs({ name: 'attachers', collection: true }, { name: 'host' }),\n    outgoingRefs = new Refs({ name: 'outgoing', collection: true }, { name: 'source' }),\n    incomingRefs = new Refs({ name: 'incoming', collection: true }, { name: 'target' });\n\n/**\n * @typedef {import('./Types').Element} Element\n * @typedef {import('./Types').Shape} Shape\n * @typedef {import('./Types').Root} Root\n * @typedef {import('./Types').Label} Label\n * @typedef {import('./Types').Connection} Connection\n */\n\n/**\n * The basic graphical representation\n *\n * @class\n * @constructor\n */\nfunction ElementImpl() {\n\n  /**\n   * The object that backs up the shape\n   *\n   * @name Element#businessObject\n   * @type Object\n   */\n  Object.defineProperty(this, 'businessObject', {\n    writable: true\n  });\n\n\n  /**\n   * Single label support, will mapped to multi label array\n   *\n   * @name Element#label\n   * @type Object\n   */\n  Object.defineProperty(this, 'label', {\n    get: function() {\n      return this.labels[0];\n    },\n    set: function(newLabel) {\n\n      var label = this.label,\n          labels = this.labels;\n\n      if (!newLabel && label) {\n        labels.remove(label);\n      } else {\n        labels.add(newLabel, 0);\n      }\n    }\n  });\n\n  /**\n   * The parent shape\n   *\n   * @name Element#parent\n   * @type Shape\n   */\n  parentRefs.bind(this, 'parent');\n\n  /**\n   * The list of labels\n   *\n   * @name Element#labels\n   * @type Label\n   */\n  labelRefs.bind(this, 'labels');\n\n  /**\n   * The list of outgoing connections\n   *\n   * @name Element#outgoing\n   * @type Array<Connection>\n   */\n  outgoingRefs.bind(this, 'outgoing');\n\n  /**\n   * The list of incoming connections\n   *\n   * @name Element#incoming\n   * @type Array<Connection>\n   */\n  incomingRefs.bind(this, 'incoming');\n}\n\n\n/**\n * A graphical object\n *\n * @class\n * @constructor\n *\n * @extends ElementImpl\n */\nfunction ShapeImpl() {\n  ElementImpl.call(this);\n\n  /**\n   * Indicates frame shapes\n   *\n   * @name ShapeImpl#isFrame\n   * @type boolean\n   */\n\n  /**\n   * The list of children\n   *\n   * @name ShapeImpl#children\n   * @type Element[]\n   */\n  parentRefs.bind(this, 'children');\n\n  /**\n   * @name ShapeImpl#host\n   * @type Shape\n   */\n  attacherRefs.bind(this, 'host');\n\n  /**\n   * @name ShapeImpl#attachers\n   * @type Shape\n   */\n  attacherRefs.bind(this, 'attachers');\n}\n\ninherits(ShapeImpl, ElementImpl);\n\n\n/**\n * A root graphical object\n *\n * @class\n * @constructor\n *\n * @extends ElementImpl\n */\nfunction RootImpl() {\n  ElementImpl.call(this);\n\n  /**\n   * The list of children\n   *\n   * @name RootImpl#children\n   * @type Element[]\n   */\n  parentRefs.bind(this, 'children');\n}\n\ninherits(RootImpl, ShapeImpl);\n\n\n/**\n * A label for an element\n *\n * @class\n * @constructor\n *\n * @extends ShapeImpl\n */\nfunction LabelImpl() {\n  ShapeImpl.call(this);\n\n  /**\n   * The labeled element\n   *\n   * @name LabelImpl#labelTarget\n   * @type Element\n   */\n  labelRefs.bind(this, 'labelTarget');\n}\n\ninherits(LabelImpl, ShapeImpl);\n\n\n/**\n * A connection between two elements\n *\n * @class\n * @constructor\n *\n * @extends ElementImpl\n */\nfunction ConnectionImpl() {\n  ElementImpl.call(this);\n\n  /**\n   * The element this connection originates from\n   *\n   * @name ConnectionImpl#source\n   * @type Element\n   */\n  outgoingRefs.bind(this, 'source');\n\n  /**\n   * The element this connection points to\n   *\n   * @name ConnectionImpl#target\n   * @type Element\n   */\n  incomingRefs.bind(this, 'target');\n}\n\ninherits(ConnectionImpl, ElementImpl);\n\n\nvar types = {\n  connection: ConnectionImpl,\n  shape: ShapeImpl,\n  label: LabelImpl,\n  root: RootImpl\n};\n\n/**\n * Creates a root element.\n *\n * @overlord\n *\n * @example\n *\n * ```javascript\n * import * as Model from 'diagram-js/lib/model';\n *\n * const root = Model.create('root', {\n *   x: 100,\n *   y: 100,\n *   width: 100,\n *   height: 100\n * });\n * ```\n *\n * @param {'root'} type\n * @param {any} [attrs]\n *\n * @return {Root}\n */\n\n/**\n * Creates a connection.\n *\n * @overlord\n *\n * @example\n *\n * ```javascript\n * import * as Model from 'diagram-js/lib/model';\n *\n * const connection = Model.create('connection', {\n *   waypoints: [\n *     { x: 100, y: 100 },\n *     { x: 200, y: 100 }\n *   ]\n * });\n * ```\n *\n * @param {'connection'} type\n * @param {any} [attrs]\n *\n * @return {Connection}\n */\n\n/**\n * Creates a shape.\n *\n * @overlord\n *\n * @example\n *\n * ```javascript\n * import * as Model from 'diagram-js/lib/model';\n *\n * const shape = Model.create('shape', {\n *   x: 100,\n *   y: 100,\n *   width: 100,\n *   height: 100\n * });\n * ```\n *\n * @param {'shape'} type\n * @param {any} [attrs]\n *\n * @return {Shape}\n */\n\n/**\n * Creates a label.\n *\n * @example\n *\n * ```javascript\n * import * as Model from 'diagram-js/lib/model';\n *\n * const label = Model.create('label', {\n *   x: 100,\n *   y: 100,\n *   width: 100,\n *   height: 100,\n *   labelTarget: shape\n * });\n * ```\n *\n * @param {'label'} type\n * @param {Object} [attrs]\n *\n * @return {Label}\n */\nexport function create(type, attrs) {\n  var Type = types[type];\n  if (!Type) {\n    throw new Error('unknown type: <' + type + '>');\n  }\n  return assign(new Type(), attrs);\n}\n\n/**\n * Checks whether an object is a model instance.\n *\n * @param {any} obj\n *\n * @return {boolean}\n */\nexport function isModelElement(obj) {\n  return obj instanceof ElementImpl;\n}","import {\n  create\n} from '../model';\n\nimport { assign } from 'min-dash';\n\n/**\n * @typedef {import('../model/Types').Element} Element\n * @typedef {import('../model/Types').Connection} Connection\n * @typedef {import('../model/Types').Label} Label\n * @typedef {import('../model/Types').Root} Root\n * @typedef {import('../model/Types').Shape} Shape\n */\n\n/**\n * A factory for model elements.\n *\n * @template {Connection} [T=Connection]\n * @template {Label} [U=Label]\n * @template {Root} [V=Root]\n * @template {Shape} [W=Shape]\n */\nexport default function ElementFactory() {\n  this._uid = 12;\n}\n\n/**\n * Create a root element.\n *\n * @param {Partial<Root>} [attrs]\n *\n * @return {V} The created root element.\n */\nElementFactory.prototype.createRoot = function(attrs) {\n  return this.create('root', attrs);\n};\n\n/**\n * Create a label.\n *\n * @param {Partial<Label>} [attrs]\n *\n * @return {U} The created label.\n */\nElementFactory.prototype.createLabel = function(attrs) {\n  return this.create('label', attrs);\n};\n\n/**\n * Create a shape.\n *\n * @param {Partial<Shape>} [attrs]\n *\n * @return {W} The created shape.\n */\nElementFactory.prototype.createShape = function(attrs) {\n  return this.create('shape', attrs);\n};\n\n/**\n * Create a connection.\n *\n * @param {Partial<Connection>} [attrs]\n *\n * @return {T} The created connection.\n */\nElementFactory.prototype.createConnection = function(attrs) {\n  return this.create('connection', attrs);\n};\n\n/**\n * Create a root element.\n *\n * @overlord\n * @param {'root'} type\n * @param {Partial<Root>} [attrs]\n * @return {V}\n */\n/**\n * Create a shape.\n *\n * @overlord\n * @param {'shape'} type\n * @param {Partial<Shape>} [attrs]\n * @return {W}\n */\n/**\n * Create a connection.\n *\n * @overlord\n * @param {'connection'} type\n * @param {Partial<Connection>} [attrs]\n * @return {T}\n */\n/**\n * Create a label.\n *\n * @param {'label'} type\n * @param {Partial<Label>} [attrs]\n * @return {U}\n */\nElementFactory.prototype.create = function(type, attrs) {\n\n  attrs = assign({}, attrs || {});\n\n  if (!attrs.id) {\n    attrs.id = type + '_' + (this._uid++);\n  }\n\n  return create(type, attrs);\n};","import {\n  isFunction,\n  isArray,\n  isNumber,\n  bind,\n  assign\n} from 'min-dash';\n\nvar FN_REF = '__fn';\n\nvar DEFAULT_PRIORITY = 1000;\n\nvar slice = Array.prototype.slice;\n\n/**\n * @typedef { {\n *   stopPropagation(): void;\n *   preventDefault(): void;\n *   cancelBubble: boolean;\n *   defaultPrevented: boolean;\n *   returnValue: any;\n * } } Event\n */\n\n/**\n * @template E\n *\n * @typedef { (event: E & Event, ...any) => any } EventBusEventCallback\n */\n\n/**\n * @typedef { {\n *  priority: number;\n *  next: EventBusListener | null;\n *  callback: EventBusEventCallback<any>;\n * } } EventBusListener\n */\n\n/**\n * A general purpose event bus.\n *\n * This component is used to communicate across a diagram instance.\n * Other parts of a diagram can use it to listen to and broadcast events.\n *\n *\n * ## Registering for Events\n *\n * The event bus provides the {@link EventBus#on} and {@link EventBus#once}\n * methods to register for events. {@link EventBus#off} can be used to\n * remove event registrations. Listeners receive an instance of {@link Event}\n * as the first argument. It allows them to hook into the event execution.\n *\n * ```javascript\n *\n * // listen for event\n * eventBus.on('foo', function(event) {\n *\n *   // access event type\n *   event.type; // 'foo'\n *\n *   // stop propagation to other listeners\n *   event.stopPropagation();\n *\n *   // prevent event default\n *   event.preventDefault();\n * });\n *\n * // listen for event with custom payload\n * eventBus.on('bar', function(event, payload) {\n *   console.log(payload);\n * });\n *\n * // listen for event returning value\n * eventBus.on('foobar', function(event) {\n *\n *   // stop event propagation + prevent default\n *   return false;\n *\n *   // stop event propagation + return custom result\n *   return {\n *     complex: 'listening result'\n *   };\n * });\n *\n *\n * // listen with custom priority (default=1000, higher is better)\n * eventBus.on('priorityfoo', 1500, function(event) {\n *   console.log('invoked first!');\n * });\n *\n *\n * // listen for event and pass the context (`this`)\n * eventBus.on('foobar', function(event) {\n *   this.foo();\n * }, this);\n * ```\n *\n *\n * ## Emitting Events\n *\n * Events can be emitted via the event bus using {@link EventBus#fire}.\n *\n * ```javascript\n *\n * // false indicates that the default action\n * // was prevented by listeners\n * if (eventBus.fire('foo') === false) {\n *   console.log('default has been prevented!');\n * };\n *\n *\n * // custom args + return value listener\n * eventBus.on('sum', function(event, a, b) {\n *   return a + b;\n * });\n *\n * // you can pass custom arguments + retrieve result values.\n * var sum = eventBus.fire('sum', 1, 2);\n * console.log(sum); // 3\n * ```\n *\n * @template [EventMap=null]\n */\nexport default function EventBus() {\n\n  /**\n   * @type { Record<string, EventBusListener> }\n   */\n  this._listeners = {};\n\n  // cleanup on destroy on lowest priority to allow\n  // message passing until the bitter end\n  this.on('diagram.destroy', 1, this._destroy, this);\n}\n\n/**\n * @overlord\n *\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @template T\n *\n * @param {string|string[]} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<T>} callback\n * @param {any} [that] callback context\n */\n/**\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @template {keyof EventMap} EventName\n *\n * @param {EventName} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<EventMap[EventName]>} callback\n * @param {any} [that] callback context\n */\nEventBus.prototype.on = function(events, priority, callback, that) {\n\n  events = isArray(events) ? events : [ events ];\n\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  var actualCallback = callback;\n\n  if (that) {\n    actualCallback = bind(callback, that);\n\n    // make sure we remember and are able to remove\n    // bound callbacks via {@link #off} using the original\n    // callback\n    actualCallback[FN_REF] = callback[FN_REF] || callback;\n  }\n\n  var self = this;\n\n  events.forEach(function(e) {\n    self._addListener(e, {\n      priority: priority,\n      callback: actualCallback,\n      next: null\n    });\n  });\n};\n\n/**\n * @overlord\n *\n * Register an event listener that is called only once.\n *\n * @template T\n *\n * @param {string|string[]} events to subscribe to\n * @param {number} [priority=1000] the listen priority\n * @param {EventBusEventCallback<T>} callback\n * @param {any} [that] callback context\n */\n/**\n * Register an event listener that is called only once.\n *\n * @template {keyof EventMap} EventName\n *\n * @param {EventName} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<EventMap[EventName]>} callback\n * @param {any} [that] callback context\n */\nEventBus.prototype.once = function(events, priority, callback, that) {\n  var self = this;\n\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  function wrappedCallback() {\n    wrappedCallback.__isTomb = true;\n\n    var result = callback.apply(that, arguments);\n\n    self.off(events, wrappedCallback);\n\n    return result;\n  }\n\n  // make sure we remember and are able to remove\n  // bound callbacks via {@link #off} using the original\n  // callback\n  wrappedCallback[FN_REF] = callback;\n\n  this.on(events, priority, wrappedCallback);\n};\n\n\n/**\n * Removes event listeners by event and callback.\n *\n * If no callback is given, all listeners for a given event name are being removed.\n *\n * @param {string|string[]} events\n * @param {EventBusEventCallback} [callback]\n */\nEventBus.prototype.off = function(events, callback) {\n\n  events = isArray(events) ? events : [ events ];\n\n  var self = this;\n\n  events.forEach(function(event) {\n    self._removeListener(event, callback);\n  });\n\n};\n\n\n/**\n * Create an event recognized be the event bus.\n *\n * @param {Object} data Event data.\n *\n * @return {Event} An event that will be recognized by the event bus.\n */\nEventBus.prototype.createEvent = function(data) {\n  var event = new InternalEvent();\n\n  event.init(data);\n\n  return event;\n};\n\n\n/**\n * Fires an event.\n *\n * @example\n *\n * ```javascript\n * // fire event by name\n * events.fire('foo');\n *\n * // fire event object with nested type\n * var event = { type: 'foo' };\n * events.fire(event);\n *\n * // fire event with explicit type\n * var event = { x: 10, y: 20 };\n * events.fire('element.moved', event);\n *\n * // pass additional arguments to the event\n * events.on('foo', function(event, bar) {\n *   alert(bar);\n * });\n *\n * events.fire({ type: 'foo' }, 'I am bar!');\n * ```\n *\n * @param {string} [type] event type\n * @param {Object} [data] event or event data\n * @param {...any} [args] additional arguments the callback will be called with.\n *\n * @return {any} The return value. Will be set to `false` if the default was prevented.\n */\nEventBus.prototype.fire = function(type, data) {\n  var event,\n      firstListener,\n      returnValue,\n      args;\n\n  args = slice.call(arguments);\n\n  if (typeof type === 'object') {\n    data = type;\n    type = data.type;\n  }\n\n  if (!type) {\n    throw new Error('no event type specified');\n  }\n\n  firstListener = this._listeners[type];\n\n  if (!firstListener) {\n    return;\n  }\n\n  // we make sure we fire instances of our home made\n  // events here. We wrap them only once, though\n  if (data instanceof InternalEvent) {\n\n    // we are fine, we alread have an event\n    event = data;\n  } else {\n    event = this.createEvent(data);\n  }\n\n  // ensure we pass the event as the first parameter\n  args[0] = event;\n\n  // original event type (in case we delegate)\n  var originalType = event.type;\n\n  // update event type before delegation\n  if (type !== originalType) {\n    event.type = type;\n  }\n\n  try {\n    returnValue = this._invokeListeners(event, args, firstListener);\n  } finally {\n\n    // reset event type after delegation\n    if (type !== originalType) {\n      event.type = originalType;\n    }\n  }\n\n  // set the return value to false if the event default\n  // got prevented and no other return value exists\n  if (returnValue === undefined && event.defaultPrevented) {\n    returnValue = false;\n  }\n\n  return returnValue;\n};\n\n/**\n * Handle an error by firing an event.\n *\n * @param {Error} error The error to be handled.\n *\n * @return {boolean} Whether the error was handled.\n */\nEventBus.prototype.handleError = function(error) {\n  return this.fire('error', { error: error }) === false;\n};\n\n\nEventBus.prototype._destroy = function() {\n  this._listeners = {};\n};\n\n/**\n * @param {Event} event\n * @param {any[]} args\n * @param {EventBusListener} listener\n *\n * @return {any}\n */\nEventBus.prototype._invokeListeners = function(event, args, listener) {\n\n  var returnValue;\n\n  while (listener) {\n\n    // handle stopped propagation\n    if (event.cancelBubble) {\n      break;\n    }\n\n    returnValue = this._invokeListener(event, args, listener);\n\n    listener = listener.next;\n  }\n\n  return returnValue;\n};\n\n/**\n * @param {Event} event\n * @param {any[]} args\n * @param {EventBusListener} listener\n *\n * @return {any}\n */\nEventBus.prototype._invokeListener = function(event, args, listener) {\n\n  var returnValue;\n\n  if (listener.callback.__isTomb) {\n    return returnValue;\n  }\n\n  try {\n\n    // returning false prevents the default action\n    returnValue = invokeFunction(listener.callback, args);\n\n    // stop propagation on return value\n    if (returnValue !== undefined) {\n      event.returnValue = returnValue;\n      event.stopPropagation();\n    }\n\n    // prevent default on return false\n    if (returnValue === false) {\n      event.preventDefault();\n    }\n  } catch (error) {\n    if (!this.handleError(error)) {\n      console.error('unhandled error in event listener', error);\n\n      throw error;\n    }\n  }\n\n  return returnValue;\n};\n\n/**\n * Add new listener with a certain priority to the list\n * of listeners (for the given event).\n *\n * The semantics of listener registration / listener execution are\n * first register, first serve: New listeners will always be inserted\n * after existing listeners with the same priority.\n *\n * Example: Inserting two listeners with priority 1000 and 1300\n *\n *    * before: [ 1500, 1500, 1000, 1000 ]\n *    * after: [ 1500, 1500, (new=1300), 1000, 1000, (new=1000) ]\n *\n * @param {string} event\n * @param {EventBusListener} newListener\n */\nEventBus.prototype._addListener = function(event, newListener) {\n\n  var listener = this._getListeners(event),\n      previousListener;\n\n  // no prior listeners\n  if (!listener) {\n    this._setListeners(event, newListener);\n\n    return;\n  }\n\n  // ensure we order listeners by priority from\n  // 0 (high) to n > 0 (low)\n  while (listener) {\n\n    if (listener.priority < newListener.priority) {\n\n      newListener.next = listener;\n\n      if (previousListener) {\n        previousListener.next = newListener;\n      } else {\n        this._setListeners(event, newListener);\n      }\n\n      return;\n    }\n\n    previousListener = listener;\n    listener = listener.next;\n  }\n\n  // add new listener to back\n  previousListener.next = newListener;\n};\n\n\n/**\n * @param {string} name\n *\n * @return {EventBusListener}\n */\nEventBus.prototype._getListeners = function(name) {\n  return this._listeners[name];\n};\n\n/**\n * @param {string} name\n * @param {EventBusListener} listener\n */\nEventBus.prototype._setListeners = function(name, listener) {\n  this._listeners[name] = listener;\n};\n\nEventBus.prototype._removeListener = function(event, callback) {\n\n  var listener = this._getListeners(event),\n      nextListener,\n      previousListener,\n      listenerCallback;\n\n  if (!callback) {\n\n    // clear listeners\n    this._setListeners(event, null);\n\n    return;\n  }\n\n  while (listener) {\n\n    nextListener = listener.next;\n\n    listenerCallback = listener.callback;\n\n    if (listenerCallback === callback || listenerCallback[FN_REF] === callback) {\n      if (previousListener) {\n        previousListener.next = nextListener;\n      } else {\n\n        // new first listener\n        this._setListeners(event, nextListener);\n      }\n    }\n\n    previousListener = listener;\n    listener = nextListener;\n  }\n};\n\n/**\n * A event that is emitted via the event bus.\n */\nfunction InternalEvent() { }\n\nInternalEvent.prototype.stopPropagation = function() {\n  this.cancelBubble = true;\n};\n\nInternalEvent.prototype.preventDefault = function() {\n  this.defaultPrevented = true;\n};\n\nInternalEvent.prototype.init = function(data) {\n  assign(this, data || {});\n};\n\n\n/**\n * Invoke function. Be fast...\n *\n * @param {Function} fn\n * @param {any[]} args\n *\n * @return {any}\n */\nfunction invokeFunction(fn, args) {\n  return fn.apply(null, args);\n}\n","/**\n * SVGs for elements are generated by the {@link GraphicsFactory}.\n *\n * This utility gives quick access to the important semantic\n * parts of an element.\n */\n\n/**\n * Returns the visual part of a diagram element.\n *\n * @param {SVGElement} gfx\n *\n * @return {SVGElement}\n */\nexport function getVisual(gfx) {\n  return gfx.childNodes[0];\n}\n\n/**\n * Returns the children for a given diagram element.\n *\n * @param {SVGElement} gfx\n * @return {SVGElement}\n */\nexport function getChildren(gfx) {\n  return gfx.parentNode.childNodes[1];\n}","import {\r\n  transform as svgTransform,\r\n  createTransform\r\n} from 'tiny-svg';\r\n\r\n\r\n/**\r\n * @param {SVGElement} gfx\r\n * @param {number} x\r\n * @param {number} y\r\n * @param {number} [angle]\r\n * @param {number} [amount]\r\n */\r\nexport function transform(gfx, x, y, angle, amount) {\r\n  var translate = createTransform();\r\n  translate.setTranslate(x, y);\r\n\r\n  var rotate = createTransform();\r\n  rotate.setRotate(angle || 0, 0, 0);\r\n\r\n  var scale = createTransform();\r\n  scale.setScale(amount || 1, amount || 1);\r\n\r\n  svgTransform(gfx, [ translate, rotate, scale ]);\r\n}\r\n\r\n\r\n/**\r\n * @param {SVGElement} gfx\r\n * @param {number} x\r\n * @param {number} y\r\n */\r\nexport function translate(gfx, x, y) {\r\n  var translate = createTransform();\r\n  translate.setTranslate(x, y);\r\n\r\n  svgTransform(gfx, translate);\r\n}\r\n\r\n\r\n/**\r\n * @param {SVGElement} gfx\r\n * @param {number} angle\r\n */\r\nexport function rotate(gfx, angle) {\r\n  var rotate = createTransform();\r\n  rotate.setRotate(angle, 0, 0);\r\n\r\n  svgTransform(gfx, rotate);\r\n}\r\n\r\n\r\n/**\r\n * @param {SVGElement} gfx\r\n * @param {number} amount\r\n */\r\nexport function scale(gfx, amount) {\r\n  var scale = createTransform();\r\n  scale.setScale(amount, amount);\r\n\r\n  svgTransform(gfx, scale);\r\n}\r\n","import {\n  forEach,\n  reduce\n} from 'min-dash';\n\nimport {\n  getChildren,\n  getVisual\n} from '../util/GraphicsUtil';\n\nimport { translate } from '../util/SvgTransformUtil';\n\nimport { clear as domClear } from 'min-dom';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport {\n  isFrameElement\n} from '../util/Elements';\n\n/**\n * @typedef {import('./Types').ConnectionLike} ConnectionLike\n * @typedef {import('./Types').ElementLike} ElementLike\n * @typedef {import('./Types').ShapeLike} ShapeLike\n *\n * @typedef {import('./ElementRegistry').default} ElementRegistry\n * @typedef {import('./EventBus').default} EventBus\n */\n\n/**\n * A factory that creates graphical elements.\n *\n * @param {EventBus} eventBus\n * @param {ElementRegistry} elementRegistry\n */\nexport default function GraphicsFactory(eventBus, elementRegistry) {\n  this._eventBus = eventBus;\n  this._elementRegistry = elementRegistry;\n}\n\nGraphicsFactory.$inject = [ 'eventBus' , 'elementRegistry' ];\n\n/**\n * @param { { parent?: any } } element\n * @return {SVGElement}\n */\nGraphicsFactory.prototype._getChildrenContainer = function(element) {\n\n  var gfx = this._elementRegistry.getGraphics(element);\n\n  var childrenGfx;\n\n  // root element\n  if (!element.parent) {\n    childrenGfx = gfx;\n  } else {\n    childrenGfx = getChildren(gfx);\n    if (!childrenGfx) {\n      childrenGfx = svgCreate('g');\n      svgClasses(childrenGfx).add('djs-children');\n\n      svgAppend(gfx.parentNode, childrenGfx);\n    }\n  }\n\n  return childrenGfx;\n};\n\n/**\n * Clears the graphical representation of the element and returns the\n * cleared visual (the <g class=\"djs-visual\" /> element).\n */\nGraphicsFactory.prototype._clear = function(gfx) {\n  var visual = getVisual(gfx);\n\n  domClear(visual);\n\n  return visual;\n};\n\n/**\n * Creates a gfx container for shapes and connections\n *\n * The layout is as follows:\n *\n * <g class=\"djs-group\">\n *\n *   <!-- the gfx -->\n *   <g class=\"djs-element djs-(shape|connection|frame)\">\n *     <g class=\"djs-visual\">\n *       <!-- the renderer draws in here -->\n *     </g>\n *\n *     <!-- extensions (overlays, click box, ...) goes here\n *   </g>\n *\n *   <!-- the gfx child nodes -->\n *   <g class=\"djs-children\"></g>\n * </g>\n *\n * @param {string} type the type of the element, i.e. shape | connection\n * @param {SVGElement} childrenGfx\n * @param {number} [parentIndex] position to create container in parent\n * @param {boolean} [isFrame] is frame element\n *\n * @return {SVGElement}\n */\nGraphicsFactory.prototype._createContainer = function(\n    type, childrenGfx, parentIndex, isFrame\n) {\n  var outerGfx = svgCreate('g');\n  svgClasses(outerGfx).add('djs-group');\n\n  // insert node at position\n  if (typeof parentIndex !== 'undefined') {\n    prependTo(outerGfx, childrenGfx, childrenGfx.childNodes[parentIndex]);\n  } else {\n    svgAppend(childrenGfx, outerGfx);\n  }\n\n  var gfx = svgCreate('g');\n  svgClasses(gfx).add('djs-element');\n  svgClasses(gfx).add('djs-' + type);\n\n  if (isFrame) {\n    svgClasses(gfx).add('djs-frame');\n  }\n\n  svgAppend(outerGfx, gfx);\n\n  // create visual\n  var visual = svgCreate('g');\n  svgClasses(visual).add('djs-visual');\n\n  svgAppend(gfx, visual);\n\n  return gfx;\n};\n\n/**\n * Create a graphical element.\n *\n * @param { 'shape' | 'connection' | 'label' | 'root' } type The type of the element.\n * @param {ElementLike} element The element.\n * @param {number} [parentIndex] The index at which to add the graphical element to its parent's children.\n *\n * @return {SVGElement} The graphical element.\n */\nGraphicsFactory.prototype.create = function(type, element, parentIndex) {\n  var childrenGfx = this._getChildrenContainer(element.parent);\n  return this._createContainer(type, childrenGfx, parentIndex, isFrameElement(element));\n};\n\n/**\n * Update the containments of the given elements.\n *\n * @param {ElementLike[]} elements The elements.\n */\nGraphicsFactory.prototype.updateContainments = function(elements) {\n\n  var self = this,\n      elementRegistry = this._elementRegistry,\n      parents;\n\n  parents = reduce(elements, function(map, e) {\n\n    if (e.parent) {\n      map[e.parent.id] = e.parent;\n    }\n\n    return map;\n  }, {});\n\n  // update all parents of changed and reorganized their children\n  // in the correct order (as indicated in our model)\n  forEach(parents, function(parent) {\n\n    var children = parent.children;\n\n    if (!children) {\n      return;\n    }\n\n    var childrenGfx = self._getChildrenContainer(parent);\n\n    forEach(children.slice().reverse(), function(child) {\n      var childGfx = elementRegistry.getGraphics(child);\n\n      prependTo(childGfx.parentNode, childrenGfx);\n    });\n  });\n};\n\n/**\n * Draw a shape.\n *\n * @param {SVGElement} visual The graphical element.\n * @param {ShapeLike} element The shape.\n * @param {Object} attrs Optional attributes.\n *\n * @return {SVGElement}\n */\nGraphicsFactory.prototype.drawShape = function(visual, element, attrs = {}) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.shape', { gfx: visual, element, attrs });\n};\n\n/**\n * Get the path of a shape.\n *\n * @param {ShapeLike} element The shape.\n *\n * @return {string} The path of the shape.\n */\nGraphicsFactory.prototype.getShapePath = function(element) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.getShapePath', element);\n};\n\n/**\n * Draw a connection.\n *\n * @param {SVGElement} visual The graphical element.\n * @param {ConnectionLike} element The connection.\n * @param {Object} attrs Optional attributes.\n *\n * @return {SVGElement}\n */\nGraphicsFactory.prototype.drawConnection = function(visual, element, attrs = {}) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.connection', { gfx: visual, element, attrs });\n};\n\n/**\n * Get the path of a connection.\n *\n * @param {ConnectionLike} connection The connection.\n *\n * @return {string} The path of the connection.\n */\nGraphicsFactory.prototype.getConnectionPath = function(connection) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.getConnectionPath', connection);\n};\n\n/**\n * Update an elements graphical representation.\n *\n * @param {'shape'|'connection'} type\n * @param {ElementLike} element\n * @param {SVGElement} gfx\n */\nGraphicsFactory.prototype.update = function(type, element, gfx) {\n\n  // do NOT update root element\n  if (!element.parent) {\n    return;\n  }\n\n  var visual = this._clear(gfx);\n\n  // redraw\n  if (type === 'shape') {\n    this.drawShape(visual, element);\n\n    // update positioning\n    translate(gfx, element.x, element.y);\n  } else if (type === 'connection') {\n    this.drawConnection(visual, element);\n  } else {\n    throw new Error('unknown type: ' + type);\n  }\n\n  if (element.hidden) {\n    svgAttr(gfx, 'display', 'none');\n  } else {\n    svgAttr(gfx, 'display', 'block');\n  }\n};\n\n/**\n * Remove a graphical element.\n *\n * @param {ElementLike} element The element.\n */\nGraphicsFactory.prototype.remove = function(element) {\n  var gfx = this._elementRegistry.getGraphics(element);\n\n  // remove\n  svgRemove(gfx.parentNode);\n};\n\n\n// helpers //////////\n\nfunction prependTo(newNode, parentNode, siblingNode) {\n  var node = siblingNode || parentNode.firstChild;\n\n  // do not prepend node to itself to prevent IE from crashing\n  // https://github.com/bpmn-io/bpmn-js/issues/746\n  if (newNode === node) {\n    return;\n  }\n\n  parentNode.insertBefore(newNode, node);\n}\n","import DrawModule from '../draw';\n\nimport Canvas from './Canvas';\nimport ElementRegistry from './ElementRegistry';\nimport ElementFactory from './ElementFactory';\nimport EventBus from './EventBus';\nimport GraphicsFactory from './GraphicsFactory';\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __depends__: [ DrawModule ],\n  __init__: [ 'canvas' ],\n  canvas: [ 'type', Canvas ],\n  elementRegistry: [ 'type', ElementRegistry ],\n  elementFactory: [ 'type', ElementFactory ],\n  eventBus: [ 'type', EventBus ],\n  graphicsFactory: [ 'type', GraphicsFactory ]\n};","import { Injector } from 'didi';\n\nimport CoreModule from './core';\n\n/**\n * @typedef {import('didi').InjectionContext} InjectionContext\n * @typedef {import('didi').LocalsMap} LocalsMap\n * @typedef {import('didi').ModuleDeclaration} ModuleDeclaration\n *\n * @typedef { {\n *   modules?: ModuleDeclaration[];\n * } & Record<string, any> } DiagramOptions\n */\n\n/**\n * @template T\n * @typedef {import('didi').FactoryFunction<T>} FactoryFunction\n */\n\n/**\n * @template T\n * @typedef {import('didi').ArrayFunc<T>} ArrayFunc\n */\n\n/**\n * Bootstrap an injector from a list of modules, instantiating a number of default components\n *\n * @param {ModuleDeclaration[]} modules\n *\n * @return {Injector} a injector to use to access the components\n */\nfunction bootstrap(modules) {\n  var injector = new Injector(modules);\n\n  injector.init();\n\n  return injector;\n}\n\n/**\n * Creates an injector from passed options.\n *\n * @template ServiceMap\n * @param {DiagramOptions} [options]\n *\n * @return {Injector<ServiceMap>}\n */\nfunction createInjector(options) {\n\n  options = options || {};\n\n  /**\n   * @type { ModuleDeclaration }\n   */\n  var configModule = {\n    'config': [ 'value', options ]\n  };\n\n  var modules = [ configModule, CoreModule ].concat(options.modules || []);\n\n  return bootstrap(modules);\n}\n\n\n/**\n * The main diagram-js entry point that bootstraps the diagram with the given\n * configuration.\n *\n * To register extensions with the diagram, pass them as Array<Module> to the constructor.\n *\n * @class\n * @constructor\n * @template [ServiceMap=null]\n *\n * @example Creating a plug-in that logs whenever a shape is added to the canvas.\n *\n * ```javascript\n * // plug-in implementation\n * function MyLoggingPlugin(eventBus) {\n *   eventBus.on('shape.added', function(event) {\n *     console.log('shape ', event.shape, ' was added to the diagram');\n *   });\n * }\n *\n * // export as module\n * export default {\n *   __init__: [ 'myLoggingPlugin' ],\n *     myLoggingPlugin: [ 'type', MyLoggingPlugin ]\n * };\n * ```\n *\n * Use the plug-in in a Diagram instance:\n *\n * ```javascript\n * import MyLoggingModule from 'path-to-my-logging-plugin';\n *\n * var diagram = new Diagram({\n *   modules: [\n *     MyLoggingModule\n *   ]\n * });\n *\n * diagram.invoke([ 'canvas', function(canvas) {\n *   // add shape to drawing canvas\n *   canvas.addShape({ x: 10, y: 10 });\n * });\n *\n * // 'shape ... was added to the diagram' logged to console\n * ```\n *\n * @param {DiagramOptions} [options]\n * @param {Injector<ServiceMap>} [injector] An (optional) injector to bootstrap the diagram with.\n */\nexport default function Diagram(options, injector) {\n\n  /**\n   * @type {Injector<ServiceMap>}\n   */\n  this._injector = injector || createInjector(options);\n\n  // init\n\n  /**\n   * An event indicating that all plug-ins are loaded.\n   *\n   * Use this event to fire other events to interested plug-ins\n   *\n   * @memberOf Diagram\n   *\n   * @event diagram.init\n   *\n   * @example\n   *\n   * ```javascript\n   * eventBus.on('diagram.init', function() {\n   *   eventBus.fire('my-custom-event', { foo: 'BAR' });\n   * });\n   * ```\n   *\n   * @type {Object}\n   */\n  this.get('eventBus').fire('diagram.init');\n}\n\n/**\n * @overlord\n *\n * Resolves a diagram service.\n *\n * @template T\n *\n * @param {string} name The name of the service to get.\n *\n * @return {T}\n */\n/**\n * @overlord\n *\n * Resolves a diagram service.\n *\n * @template T\n *\n * @param {string} name The name of the service to get.\n * @param {true} strict If false, resolve missing services to null.\n *\n * @return {T}\n */\n/**\n * @overlord\n *\n * Resolves a diagram service.\n *\n * @template T\n *\n * @param {string} name The name of the service to get.\n * @param {boolean} strict If false, resolve missing services to null.\n *\n * @return {T|null}\n */\n/**\n * Resolves a diagram service.\n *\n * @template {keyof ServiceMap} Name\n *\n * @param {Name} name The name of the service to get.\n *\n * @return {ServiceMap[Name]}\n */\nDiagram.prototype.get = function(name, strict) {\n  return this._injector.get(name, strict);\n};\n\n/**\n * @overlord\n *\n * Invoke the given function, injecting dependencies. Return the result.\n *\n * @template T\n *\n * @param {FactoryFunction<T>} func\n * @param {InjectionContext} [context]\n * @param {LocalsMap} [locals]\n *\n * @return {T}\n */\n/**\n * Invoke the given function, injecting dependencies provided in\n * array notation. Return the result.\n *\n * @template T\n *\n * @param {ArrayFunc<T>} func function to be invoked\n * @param {InjectionContext} [context] context of the invocation\n * @param {LocalsMap} [locals] locals provided\n *\n * @return {T}\n */\nDiagram.prototype.invoke = function(func, context, locals) {\n  return this._injector.invoke(func, context, locals);\n};\n\n/**\n * Destroys the diagram\n */\nDiagram.prototype.destroy = function() {\n  this.get('eventBus').fire('diagram.destroy');\n};\n\n/**\n * Clear the diagram, removing all contents.\n */\nDiagram.prototype.clear = function() {\n  this.get('eventBus').fire('diagram.clear');\n};\n","/**\n * @typedef {import('../util/Types').Point} Point\n */\n\nfunction __stopPropagation(event) {\n  if (!event || typeof event.stopPropagation !== 'function') {\n    return;\n  }\n\n  event.stopPropagation();\n}\n\n/**\n * @param {import('../core/EventBus').Event} event\n *\n * @return {Event}\n */\nexport function getOriginal(event) {\n  return event.originalEvent || event.srcEvent;\n}\n\n/**\n * @param {Event|import('../core/EventBus').Event} event\n */\nexport function stopPropagation(event) {\n  __stopPropagation(event);\n  __stopPropagation(getOriginal(event));\n}\n\n/**\n * @param {Event} event\n *\n * @return {Point|null}\n */\nexport function toPoint(event) {\n\n  if (event.pointers && event.pointers.length) {\n    event = event.pointers[0];\n  }\n\n  if (event.touches && event.touches.length) {\n    event = event.touches[0];\n  }\n\n  return event ? {\n    x: event.clientX,\n    y: event.clientY\n  } : null;\n}","export function isMac() {\n  return (/mac/i).test(navigator.platform);\n}","import {\n  getOriginal as getOriginalEvent\n} from './Event';\n\nimport {\n  isMac\n} from './Platform';\n\nexport {\n  isMac\n} from './Platform';\n\n/**\n * @param {MouseEvent} event\n * @param {string} button\n *\n * @return {boolean}\n */\nexport function isButton(event, button) {\n  return (getOriginalEvent(event) || event).button === button;\n}\n\n/**\n * @param {MouseEvent} event\n *\n * @return {boolean}\n */\nexport function isPrimaryButton(event) {\n\n  // button === 0 -> left áka primary mouse button\n  return isButton(event, 0);\n}\n\n/**\n * @param {MouseEvent} event\n *\n * @return {boolean}\n */\nexport function isAuxiliaryButton(event) {\n\n  // button === 1 -> auxiliary áka wheel button\n  return isButton(event, 1);\n}\n\n/**\n * @param {MouseEvent} event\n *\n * @return {boolean}\n */\nexport function isSecondaryButton(event) {\n\n  // button === 2 -> right áka secondary button\n  return isButton(event, 2);\n}\n\n/**\n * @param {MouseEvent} event\n *\n * @return {boolean}\n */\nexport function hasPrimaryModifier(event) {\n  var originalEvent = getOriginalEvent(event) || event;\n\n  if (!isPrimaryButton(event)) {\n    return false;\n  }\n\n  // Use cmd as primary modifier key for mac OS\n  if (isMac()) {\n    return originalEvent.metaKey;\n  } else {\n    return originalEvent.ctrlKey;\n  }\n}\n\n/**\n * @param {MouseEvent} event\n *\n * @return {boolean}\n */\nexport function hasSecondaryModifier(event) {\n  var originalEvent = getOriginalEvent(event) || event;\n\n  return isPrimaryButton(event) && originalEvent.shiftKey;\n}\n","import {\n  forEach,\n  assign\n} from 'min-dash';\n\nimport {\n  delegate as domDelegate,\n  query as domQuery,\n  queryAll as domQueryAll\n} from 'min-dom';\n\nimport {\n  isPrimaryButton,\n  isAuxiliaryButton\n} from '../../util/Mouse';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport {\n  createLine,\n  updateLine\n} from '../../util/RenderUtil';\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../../draw/Styles').default} Styles\n *\n * @typedef {import('../../util/Types').Point} Point\n */\n\nfunction allowAll(event) { return true; }\n\nfunction allowPrimaryAndAuxiliary(event) {\n  return isPrimaryButton(event) || isAuxiliaryButton(event);\n}\n\nvar LOW_PRIORITY = 500;\n\n\n/**\n * A plugin that provides interaction events for diagram elements.\n *\n * It emits the following events:\n *\n *   * element.click\n *   * element.contextmenu\n *   * element.dblclick\n *   * element.hover\n *   * element.mousedown\n *   * element.mousemove\n *   * element.mouseup\n *   * element.out\n *\n * Each event is a tuple { element, gfx, originalEvent }.\n *\n * Canceling the event via Event#preventDefault()\n * prevents the original DOM operation.\n *\n * @param {EventBus} eventBus\n * @param {ElementRegistry} elementRegistry\n * @param {Styles} styles\n */\nexport default function InteractionEvents(eventBus, elementRegistry, styles) {\n\n  var self = this;\n\n  /**\n   * Fire an interaction event.\n   *\n   * @param {string} type local event name, e.g. element.click.\n   * @param {MouseEvent|TouchEvent} event native event\n   * @param {Element} [element] the diagram element to emit the event on;\n   *                                   defaults to the event target\n   */\n  function fire(type, event, element) {\n\n    if (isIgnored(type, event)) {\n      return;\n    }\n\n    var target, gfx, returnValue;\n\n    if (!element) {\n      target = event.delegateTarget || event.target;\n\n      if (target) {\n        gfx = target;\n        element = elementRegistry.get(gfx);\n      }\n    } else {\n      gfx = elementRegistry.getGraphics(element);\n    }\n\n    if (!gfx || !element) {\n      return;\n    }\n\n    returnValue = eventBus.fire(type, {\n      element: element,\n      gfx: gfx,\n      originalEvent: event\n    });\n\n    if (returnValue === false) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }\n\n  // TODO(nikku): document this\n  var handlers = {};\n\n  function mouseHandler(localEventName) {\n    return handlers[localEventName];\n  }\n\n  function isIgnored(localEventName, event) {\n\n    var filter = ignoredFilters[localEventName] || isPrimaryButton;\n\n    // only react on left mouse button interactions\n    // except for interaction events that are enabled\n    // for secundary mouse button\n    return !filter(event);\n  }\n\n  var bindings = {\n    click: 'element.click',\n    contextmenu: 'element.contextmenu',\n    dblclick: 'element.dblclick',\n    mousedown: 'element.mousedown',\n    mousemove: 'element.mousemove',\n    mouseover: 'element.hover',\n    mouseout: 'element.out',\n    mouseup: 'element.mouseup',\n  };\n\n  var ignoredFilters = {\n    'element.contextmenu': allowAll,\n    'element.mousedown': allowPrimaryAndAuxiliary,\n    'element.mouseup': allowPrimaryAndAuxiliary,\n    'element.click': allowPrimaryAndAuxiliary,\n    'element.dblclick': allowPrimaryAndAuxiliary\n  };\n\n\n  // manual event trigger //////////\n\n  /**\n   * Trigger an interaction event (based on a native dom event)\n   * on the target shape or connection.\n   *\n   * @param {string} eventName the name of the triggered DOM event\n   * @param {MouseEvent|TouchEvent} event\n   * @param {Element} targetElement\n   */\n  function triggerMouseEvent(eventName, event, targetElement) {\n\n    // i.e. element.mousedown...\n    var localEventName = bindings[eventName];\n\n    if (!localEventName) {\n      throw new Error('unmapped DOM event name <' + eventName + '>');\n    }\n\n    return fire(localEventName, event, targetElement);\n  }\n\n\n  var ELEMENT_SELECTOR = 'svg, .djs-element';\n\n  // event handling ///////\n\n  function registerEvent(node, event, localEvent, ignoredFilter) {\n\n    var handler = handlers[localEvent] = function(event) {\n      fire(localEvent, event);\n    };\n\n    if (ignoredFilter) {\n      ignoredFilters[localEvent] = ignoredFilter;\n    }\n\n    handler.$delegate = domDelegate.bind(node, ELEMENT_SELECTOR, event, handler);\n  }\n\n  function unregisterEvent(node, event, localEvent) {\n\n    var handler = mouseHandler(localEvent);\n\n    if (!handler) {\n      return;\n    }\n\n    domDelegate.unbind(node, event, handler.$delegate);\n  }\n\n  function registerEvents(svg) {\n    forEach(bindings, function(val, key) {\n      registerEvent(svg, key, val);\n    });\n  }\n\n  function unregisterEvents(svg) {\n    forEach(bindings, function(val, key) {\n      unregisterEvent(svg, key, val);\n    });\n  }\n\n  eventBus.on('canvas.destroy', function(event) {\n    unregisterEvents(event.svg);\n  });\n\n  eventBus.on('canvas.init', function(event) {\n    registerEvents(event.svg);\n  });\n\n\n  // hit box updating ////////////////\n\n  eventBus.on([ 'shape.added', 'connection.added' ], function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    eventBus.fire('interactionEvents.createHit', { element: element, gfx: gfx });\n  });\n\n  // Update djs-hit on change.\n  // A low priortity is necessary, because djs-hit of labels has to be updated\n  // after the label bounds have been updated in the renderer.\n  eventBus.on([\n    'shape.changed',\n    'connection.changed'\n  ], LOW_PRIORITY, function(event) {\n\n    var element = event.element,\n        gfx = event.gfx;\n\n    eventBus.fire('interactionEvents.updateHit', { element: element, gfx: gfx });\n  });\n\n  eventBus.on('interactionEvents.createHit', LOW_PRIORITY, function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    self.createDefaultHit(element, gfx);\n  });\n\n  eventBus.on('interactionEvents.updateHit', function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    self.updateDefaultHit(element, gfx);\n  });\n\n\n  // hit styles ////////////\n\n  var STROKE_HIT_STYLE = createHitStyle('djs-hit djs-hit-stroke');\n\n  var CLICK_STROKE_HIT_STYLE = createHitStyle('djs-hit djs-hit-click-stroke');\n\n  var ALL_HIT_STYLE = createHitStyle('djs-hit djs-hit-all');\n\n  var NO_MOVE_HIT_STYLE = createHitStyle('djs-hit djs-hit-no-move');\n\n  var HIT_TYPES = {\n    'all': ALL_HIT_STYLE,\n    'click-stroke': CLICK_STROKE_HIT_STYLE,\n    'stroke': STROKE_HIT_STYLE,\n    'no-move': NO_MOVE_HIT_STYLE\n  };\n\n  function createHitStyle(classNames, attrs) {\n\n    attrs = assign({\n      stroke: 'white',\n      strokeWidth: 15\n    }, attrs || {});\n\n    return styles.cls(classNames, [ 'no-fill', 'no-border' ], attrs);\n  }\n\n\n  // style helpers ///////////////\n\n  function applyStyle(hit, type) {\n\n    var attrs = HIT_TYPES[type];\n\n    if (!attrs) {\n      throw new Error('invalid hit type <' + type + '>');\n    }\n\n    svgAttr(hit, attrs);\n\n    return hit;\n  }\n\n  function appendHit(gfx, hit) {\n    svgAppend(gfx, hit);\n  }\n\n\n  // API\n\n  /**\n   * Remove hints on the given graphics.\n   *\n   * @param {SVGElement} gfx\n   */\n  this.removeHits = function(gfx) {\n    var hits = domQueryAll('.djs-hit', gfx);\n\n    forEach(hits, svgRemove);\n  };\n\n  /**\n   * Create default hit for the given element.\n   *\n   * @param {Element} element\n   * @param {SVGElement} gfx\n   *\n   * @return {SVGElement} created hit\n   */\n  this.createDefaultHit = function(element, gfx) {\n    var waypoints = element.waypoints,\n        isFrame = element.isFrame,\n        boxType;\n\n    if (waypoints) {\n      return this.createWaypointsHit(gfx, waypoints);\n    } else {\n\n      boxType = isFrame ? 'stroke' : 'all';\n\n      return this.createBoxHit(gfx, boxType, {\n        width: element.width,\n        height: element.height\n      });\n    }\n  };\n\n  /**\n   * Create hits for the given waypoints.\n   *\n   * @param {SVGElement} gfx\n   * @param {Point[]} waypoints\n   *\n   * @return {SVGElement}\n   */\n  this.createWaypointsHit = function(gfx, waypoints) {\n\n    var hit = createLine(waypoints);\n\n    applyStyle(hit, 'stroke');\n\n    appendHit(gfx, hit);\n\n    return hit;\n  };\n\n  /**\n   * Create hits for a box.\n   *\n   * @param {SVGElement} gfx\n   * @param {string} type\n   * @param {Object} attrs\n   *\n   * @return {SVGElement}\n   */\n  this.createBoxHit = function(gfx, type, attrs) {\n\n    attrs = assign({\n      x: 0,\n      y: 0\n    }, attrs);\n\n    var hit = svgCreate('rect');\n\n    applyStyle(hit, type);\n\n    svgAttr(hit, attrs);\n\n    appendHit(gfx, hit);\n\n    return hit;\n  };\n\n  /**\n   * Update default hit of the element.\n   *\n   * @param {Element} element\n   * @param {SVGElement} gfx\n   *\n   * @return {SVGElement} updated hit\n   */\n  this.updateDefaultHit = function(element, gfx) {\n\n    var hit = domQuery('.djs-hit', gfx);\n\n    if (!hit) {\n      return;\n    }\n\n    if (element.waypoints) {\n      updateLine(hit, element.waypoints);\n    } else {\n      svgAttr(hit, {\n        width: element.width,\n        height: element.height\n      });\n    }\n\n    return hit;\n  };\n\n  this.fire = fire;\n\n  this.triggerMouseEvent = triggerMouseEvent;\n\n  this.mouseHandler = mouseHandler;\n\n  this.registerEvent = registerEvent;\n  this.unregisterEvent = unregisterEvent;\n}\n\n\nInteractionEvents.$inject = [\n  'eventBus',\n  'elementRegistry',\n  'styles'\n];\n\n\n/**\n * An event indicating that the mouse hovered over an element\n *\n * @event element.hover\n *\n * @type {Object}\n * @property {Element} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has left an element\n *\n * @event element.out\n *\n * @type {Object}\n * @property {Element} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has clicked an element\n *\n * @event element.click\n *\n * @type {Object}\n * @property {Element} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has double clicked an element\n *\n * @event element.dblclick\n *\n * @type {Object}\n * @property {Element} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has gone down on an element.\n *\n * @event element.mousedown\n *\n * @type {Object}\n * @property {Element} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has gone up on an element.\n *\n * @event element.mouseup\n *\n * @type {Object}\n * @property {Element} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the context menu action is triggered\n * via mouse or touch controls.\n *\n * @event element.contextmenu\n *\n * @type {Object}\n * @property {Element} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */","import InteractionEvents from './InteractionEvents';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __init__: [ 'interactionEvents' ],\n  interactionEvents: [ 'type', InteractionEvents ]\n};","import {\n  isArray,\n  forEach\n} from 'min-dash';\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\n/**\n * A service that offers the current selection in a diagram.\n * Offers the api to control the selection, too.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nexport default function Selection(eventBus, canvas) {\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n\n  /**\n   * @type {Object[]}\n   */\n  this._selectedElements = [];\n\n  var self = this;\n\n  eventBus.on([ 'shape.remove', 'connection.remove' ], function(e) {\n    var element = e.element;\n    self.deselect(element);\n  });\n\n  eventBus.on([ 'diagram.clear', 'root.set' ], function(e) {\n    self.select(null);\n  });\n}\n\nSelection.$inject = [ 'eventBus', 'canvas' ];\n\n/**\n * Deselect an element.\n *\n * @param {Object} element The element to deselect.\n */\nSelection.prototype.deselect = function(element) {\n  var selectedElements = this._selectedElements;\n\n  var idx = selectedElements.indexOf(element);\n\n  if (idx !== -1) {\n    var oldSelection = selectedElements.slice();\n\n    selectedElements.splice(idx, 1);\n\n    this._eventBus.fire('selection.changed', { oldSelection: oldSelection, newSelection: selectedElements });\n  }\n};\n\n/**\n * Get the selected elements.\n *\n * @return {Object[]} The selected elements.\n */\nSelection.prototype.get = function() {\n  return this._selectedElements;\n};\n\n/**\n * Check whether an element is selected.\n *\n * @param {Object} element The element.\n *\n * @return {boolean} Whether the element is selected.\n */\nSelection.prototype.isSelected = function(element) {\n  return this._selectedElements.indexOf(element) !== -1;\n};\n\n\n/**\n * Select one or many elements.\n *\n * @param {Object|Object[]} elements The element(s) to select.\n * @param {boolean} [add] Whether to add the element(s) to the selected elements.\n * Defaults to `false`.\n */\nSelection.prototype.select = function(elements, add) {\n  var selectedElements = this._selectedElements,\n      oldSelection = selectedElements.slice();\n\n  if (!isArray(elements)) {\n    elements = elements ? [ elements ] : [];\n  }\n\n  var canvas = this._canvas;\n\n  var rootElement = canvas.getRootElement();\n\n  elements = elements.filter(function(element) {\n    var elementRoot = canvas.findRoot(element);\n\n    return rootElement === elementRoot;\n  });\n\n  // selection may be cleared by passing an empty array or null\n  // to the method\n  if (add) {\n    forEach(elements, function(element) {\n      if (selectedElements.indexOf(element) !== -1) {\n\n        // already selected\n        return;\n      } else {\n        selectedElements.push(element);\n      }\n    });\n  } else {\n    this._selectedElements = selectedElements = elements.slice();\n  }\n\n  this._eventBus.fire('selection.changed', { oldSelection: oldSelection, newSelection: selectedElements });\n};\n","import {\n  forEach\n} from 'min-dash';\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\nvar MARKER_HOVER = 'hover',\n    MARKER_SELECTED = 'selected';\n\n/**\n * A plugin that adds a visible selection UI to shapes and connections\n * by appending the <code>hover</code> and <code>selected</code> classes to them.\n *\n * @class\n *\n * Makes elements selectable, too.\n *\n * @param {Canvas} canvas\n * @param {EventBus} eventBus\n */\nexport default function SelectionVisuals(canvas, eventBus) {\n  this._canvas = canvas;\n\n  function addMarker(e, cls) {\n    canvas.addMarker(e, cls);\n  }\n\n  function removeMarker(e, cls) {\n    canvas.removeMarker(e, cls);\n  }\n\n  eventBus.on('element.hover', function(event) {\n    addMarker(event.element, MARKER_HOVER);\n  });\n\n  eventBus.on('element.out', function(event) {\n    removeMarker(event.element, MARKER_HOVER);\n  });\n\n  eventBus.on('selection.changed', function(event) {\n\n    function deselect(s) {\n      removeMarker(s, MARKER_SELECTED);\n    }\n\n    function select(s) {\n      addMarker(s, MARKER_SELECTED);\n    }\n\n    var oldSelection = event.oldSelection,\n        newSelection = event.newSelection;\n\n    forEach(oldSelection, function(e) {\n      if (newSelection.indexOf(e) === -1) {\n        deselect(e);\n      }\n    });\n\n    forEach(newSelection, function(e) {\n      if (oldSelection.indexOf(e) === -1) {\n        select(e);\n      }\n    });\n  });\n}\n\nSelectionVisuals.$inject = [\n  'canvas',\n  'eventBus'\n];\n","import {\n  hasSecondaryModifier,\n  isPrimaryButton\n} from '../../util/Mouse';\n\nimport {\n  find,\n  isArray\n} from 'min-dash';\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('./Selection').default} Selection\n */\n\n/**\n * @param {EventBus} eventBus\n * @param {Selection} selection\n * @param {Canvas} canvas\n * @param {ElementRegistry} elementRegistry\n */\nexport default function SelectionBehavior(eventBus, selection, canvas, elementRegistry) {\n\n  // Select elements on create\n  eventBus.on('create.end', 500, function(event) {\n    var context = event.context,\n        canExecute = context.canExecute,\n        elements = context.elements,\n        hints = context.hints || {},\n        autoSelect = hints.autoSelect;\n\n    if (canExecute) {\n      if (autoSelect === false) {\n\n        // Select no elements\n        return;\n      }\n\n      if (isArray(autoSelect)) {\n        selection.select(autoSelect);\n      } else {\n\n        // Select all elements by default\n        selection.select(elements.filter(isShown));\n      }\n    }\n  });\n\n  // Select connection targets on connect\n  eventBus.on('connect.end', 500, function(event) {\n    var context = event.context,\n        connection = context.connection;\n\n    if (connection) {\n      selection.select(connection);\n    }\n  });\n\n  // Select shapes on move\n  eventBus.on('shape.move.end', 500, function(event) {\n    var previousSelection = event.previousSelection || [];\n\n    var shape = elementRegistry.get(event.context.shape.id);\n\n    // Always select main shape on move\n    var isSelected = find(previousSelection, function(selectedShape) {\n      return shape.id === selectedShape.id;\n    });\n\n    if (!isSelected) {\n      selection.select(shape);\n    }\n  });\n\n  // Select elements on click\n  eventBus.on('element.click', function(event) {\n\n    if (!isPrimaryButton(event)) {\n      return;\n    }\n\n    var element = event.element;\n\n    if (element === canvas.getRootElement()) {\n      element = null;\n    }\n\n    var isSelected = selection.isSelected(element),\n        isMultiSelect = selection.get().length > 1;\n\n    // Add to selection if SHIFT pressed\n    var add = hasSecondaryModifier(event);\n\n    if (isSelected && isMultiSelect) {\n      if (add) {\n\n        // Deselect element\n        return selection.deselect(element);\n      } else {\n\n        // Select element only\n        return selection.select(element);\n      }\n    } else if (!isSelected) {\n\n      // Select element\n      selection.select(element, add);\n    } else {\n\n      // Deselect element\n      selection.deselect(element);\n    }\n  });\n}\n\nSelectionBehavior.$inject = [\n  'eventBus',\n  'selection',\n  'canvas',\n  'elementRegistry'\n];\n\n\nfunction isShown(element) {\n  return !element.hidden;\n}\n","import InteractionEventsModule from '../interaction-events';\n\nimport Selection from './Selection';\nimport SelectionVisuals from './SelectionVisuals';\nimport SelectionBehavior from './SelectionBehavior';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __init__: [ 'selectionVisuals', 'selectionBehavior' ],\n  __depends__: [\n    InteractionEventsModule,\n  ],\n  selection: [ 'type', Selection ],\n  selectionVisuals: [ 'type', SelectionVisuals ],\n  selectionBehavior: [ 'type', SelectionBehavior ]\n};\n","/**\n * @typedef {import('didi').Injector} Injector\n */\n\n/**\n * A service that provides rules for certain diagram actions.\n *\n * The default implementation will hook into the {@link CommandStack}\n * to perform the actual rule evaluation. Make sure to provide the\n * `commandStack` service with this module if you plan to use it.\n *\n * Together with this implementation you may use the {@link import('./RuleProvider').default}\n * to implement your own rule checkers.\n *\n * This module is ment to be easily replaced, thus the tiny foot print.\n *\n * @param {Injector} injector\n */\nexport default function Rules(injector) {\n  this._commandStack = injector.get('commandStack', false);\n}\n\nRules.$inject = [ 'injector' ];\n\n\n/**\n * Returns whether or not a given modeling action can be executed\n * in the specified context.\n *\n * This implementation will respond with allow unless anyone\n * objects.\n *\n * @param {string} action The action to be allowed or disallowed.\n * @param {Object} [context] The context for allowing or disallowing the action.\n *\n * @return {boolean|null} Wether the action is allowed. Returns `null` if the action\n * is to be ignored.\n */\nRules.prototype.allowed = function(action, context) {\n  var allowed = true;\n\n  var commandStack = this._commandStack;\n\n  if (commandStack) {\n    allowed = commandStack.canExecute(action, context);\n  }\n\n  // map undefined to true, i.e. no rules\n  return allowed === undefined ? true : allowed;\n};","import Rules from './Rules';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __init__: [ 'rules' ],\n  rules: [ 'type', Rules ]\n};\n","import {\n  closest as domClosest\n} from 'min-dom';\n\nimport {\n  toPoint\n} from '../../util/Event';\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\nvar HIGH_PRIORITY = 1500;\n\n\n/**\n * Browsers may swallow certain events (hover, out ...) if users are to\n * fast with the mouse.\n *\n * @see http://stackoverflow.com/questions/7448468/why-cant-i-reliably-capture-a-mouseout-event\n *\n * The fix implemented in this component ensure that we\n *\n * 1) have a hover state after a successful drag.move event\n * 2) have an out event when dragging leaves an element\n *\n * @param {ElementRegistry} elementRegistry\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nexport default function HoverFix(elementRegistry, eventBus, injector) {\n\n  var self = this;\n\n  var dragging = injector.get('dragging', false);\n\n  /**\n   * Make sure we are god damn hovering!\n   *\n   * @param {Event} dragging event\n   */\n  function ensureHover(event) {\n\n    if (event.hover) {\n      return;\n    }\n\n    var originalEvent = event.originalEvent;\n\n    var gfx = self._findTargetGfx(originalEvent);\n\n    var element = gfx && elementRegistry.get(gfx);\n\n    if (gfx && element) {\n\n      // 1) cancel current mousemove\n      event.stopPropagation();\n\n      // 2) emit fake hover for new target\n      dragging.hover({ element: element, gfx: gfx });\n\n      // 3) re-trigger move event\n      dragging.move(originalEvent);\n    }\n  }\n\n\n  if (dragging) {\n\n    /**\n     * We wait for a specific sequence of events before\n     * emitting a fake drag.hover event.\n     *\n     * Event Sequence:\n     *\n     * drag.start\n     * drag.move >> ensure we are hovering\n     */\n    eventBus.on('drag.start', function(event) {\n\n      eventBus.once('drag.move', HIGH_PRIORITY, function(event) {\n\n        ensureHover(event);\n\n      });\n\n    });\n  }\n\n\n  /**\n   * We make sure that element.out is always fired, even if the\n   * browser swallows an element.out event.\n   *\n   * Event sequence:\n   *\n   * element.hover\n   * (element.out >> sometimes swallowed)\n   * element.hover >> ensure we fired element.out\n   */\n  (function() {\n    var hoverGfx;\n    var hover;\n\n    eventBus.on('element.hover', function(event) {\n\n      // (1) remember current hover element\n      hoverGfx = event.gfx;\n      hover = event.element;\n    });\n\n    eventBus.on('element.hover', HIGH_PRIORITY, function(event) {\n\n      // (3) am I on an element still?\n      if (hover) {\n\n        // (4) that is a problem, gotta \"simulate the out\"\n        eventBus.fire('element.out', {\n          element: hover,\n          gfx: hoverGfx\n        });\n      }\n\n    });\n\n    eventBus.on('element.out', function() {\n\n      // (2) unset hover state if we correctly outed us *GG*\n      hoverGfx = null;\n      hover = null;\n    });\n\n  })();\n\n  this._findTargetGfx = function(event) {\n    var position,\n        target;\n\n    if (!(event instanceof MouseEvent)) {\n      return;\n    }\n\n    position = toPoint(event);\n\n    // damn expensive operation, ouch!\n    target = document.elementFromPoint(position.x, position.y);\n\n    return getGfx(target);\n  };\n\n}\n\nHoverFix.$inject = [\n  'elementRegistry',\n  'eventBus',\n  'injector'\n];\n\n\n// helpers /////////////////////\n\nfunction getGfx(target) {\n  return domClosest(target, 'svg, .djs-element', true);\n}","import HoverFix from './HoverFix';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __init__: [\n    'hoverFix'\n  ],\n  hoverFix: [ 'type', HoverFix ],\n};","import {\n  classes as domClasses\n} from 'min-dom';\n\nvar CURSOR_CLS_PATTERN = /^djs-cursor-.*$/;\n\n/**\n * @param {string} mode\n */\nexport function set(mode) {\n  var classes = domClasses(document.body);\n\n  classes.removeMatching(CURSOR_CLS_PATTERN);\n\n  if (mode) {\n    classes.add('djs-cursor-' + mode);\n  }\n}\n\nexport function unset() {\n  set(null);\n}\n\n/**\n * @param {string} mode\n *\n * @return {boolean}\n */\nexport function has(mode) {\n  var classes = domClasses(document.body);\n\n  return classes.has('djs-cursor-' + mode);\n}\n","/**\n * @typedef {import('../core/EventBus').default} EventBus\n */\n\nvar TRAP_PRIORITY = 5000;\n\n/**\n * Installs a click trap that prevents a ghost click following a dragging operation.\n *\n * @param {EventBus} eventBus\n * @param {string} [eventName='element.click']\n *\n * @return {() => void} a function to immediately remove the installed trap.\n */\nexport function install(eventBus, eventName) {\n\n  eventName = eventName || 'element.click';\n\n  function trap() {\n    return false;\n  }\n\n  eventBus.once(eventName, TRAP_PRIORITY, trap);\n\n  return function() {\n    eventBus.off(eventName, trap);\n  };\n}","/**\n * @typedef {import('../util/Types').Point} Point\n * @typedef {import('../util/Types').Rect} Rect\n */\n\n/**\n * @param {Rect} bounds\n * @return {Point}\n */\nexport function center(bounds) {\n  return {\n    x: bounds.x + (bounds.width / 2),\n    y: bounds.y + (bounds.height / 2)\n  };\n}\n\n\n/**\n * @param {Point} a\n * @param {Point} b\n * @return {Point}\n */\nexport function delta(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n","import { isArray } from 'min-dash';\r\n\r\nexport var KEYS_COPY = [ 'c', 'C' ];\r\nexport var KEYS_PASTE = [ 'v', 'V' ];\r\nexport var KEYS_REDO = [ 'y', 'Y' ];\r\nexport var KEYS_UNDO = [ 'z', 'Z' ];\r\n\r\n/**\r\n * Returns true if event was triggered with any modifier\r\n * @param {KeyboardEvent} event\r\n */\r\nexport function hasModifier(event) {\r\n  return (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey);\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n * @return {boolean}\r\n */\r\nexport function isCmd(event) {\r\n\r\n  // ensure we don't react to AltGr\r\n  // (mapped to CTRL + ALT)\r\n  if (event.altKey) {\r\n    return false;\r\n  }\r\n\r\n  return event.ctrlKey || event.metaKey;\r\n}\r\n\r\n/**\r\n * Checks if key pressed is one of provided keys.\r\n *\r\n * @param {string|string[]} keys\r\n * @param {KeyboardEvent} event\r\n * @return {boolean}\r\n */\r\nexport function isKey(keys, event) {\r\n  keys = isArray(keys) ? keys : [ keys ];\r\n\r\n  return keys.indexOf(event.key) !== -1 || keys.indexOf(event.code) !== -1;\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n */\r\nexport function isShift(event) {\r\n  return event.shiftKey;\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n */\r\nexport function isCopy(event) {\r\n  return isCmd(event) && isKey(KEYS_COPY, event);\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n */\r\nexport function isPaste(event) {\r\n  return isCmd(event) && isKey(KEYS_PASTE, event);\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n */\r\nexport function isUndo(event) {\r\n  return isCmd(event) && !isShift(event) && isKey(KEYS_UNDO, event);\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n */\r\nexport function isRedo(event) {\r\n  return isCmd(event) && (\r\n    isKey(KEYS_REDO, event) || (\r\n      isKey(KEYS_UNDO, event) && isShift(event)\r\n    )\r\n  );\r\n}\r\n","var round = Math.round;\n\nimport { assign } from 'min-dash';\n\nimport {\n  event as domEvent\n} from 'min-dom';\n\nimport {\n  getOriginal,\n  toPoint,\n  stopPropagation\n} from '../../util/Event';\n\nimport {\n  set as cursorSet,\n  unset as cursorUnset\n} from '../../util/Cursor';\n\nimport {\n  install as installClickTrap\n} from '../../util/ClickTrap';\n\nimport {\n  delta as deltaPos\n} from '../../util/PositionUtil';\n\nimport { isKey } from '../keyboard/KeyboardUtil';\n\n/**\n * @typedef {import('../../util/Types').Point} Point\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../selection/Selection').default} Selection\n */\n\nvar DRAG_ACTIVE_CLS = 'djs-drag-active';\n\n\nfunction preventDefault(event) {\n  event.preventDefault();\n}\n\nfunction isTouchEvent(event) {\n\n  // check for TouchEvent being available first\n  // (i.e. not available on desktop Firefox)\n  return typeof TouchEvent !== 'undefined' && event instanceof TouchEvent;\n}\n\nfunction getLength(point) {\n  return Math.sqrt(Math.pow(point.x, 2) + Math.pow(point.y, 2));\n}\n\n/**\n * A helper that fires canvas localized drag events and realizes\n * the general \"drag-and-drop\" look and feel.\n *\n * Calling {@link Dragging#activate} activates dragging on a canvas.\n *\n * It provides the following:\n *\n *   * emits life cycle events, namespaced with a prefix assigned\n *     during dragging activation\n *   * sets and restores the cursor\n *   * sets and restores the selection if elements still exist\n *   * ensures there can be only one drag operation active at a time\n *\n * Dragging may be canceled manually by calling {@link Dragging#cancel}\n * or by pressing ESC.\n *\n *\n * ## Life-cycle events\n *\n * Dragging can be in three different states, off, initialized\n * and active.\n *\n * (1) off: no dragging operation is in progress\n * (2) initialized: a new drag operation got initialized but not yet\n *                  started (i.e. because of no initial move)\n * (3) started: dragging is in progress\n *\n * Eventually dragging will be off again after a drag operation has\n * been ended or canceled via user click or ESC key press.\n *\n * To indicate transitions between these states dragging emits generic\n * life-cycle events with the `drag.` prefix _and_ events namespaced\n * to a prefix choosen by a user during drag initialization.\n *\n * The following events are emitted (appropriately prefixed) via\n * the {@link EventBus}.\n *\n * * `init`\n * * `start`\n * * `move`\n * * `end`\n * * `ended` (dragging already in off state)\n * * `cancel` (only if previously started)\n * * `canceled` (dragging already in off state, only if previously started)\n * * `cleanup`\n *\n *\n * @example\n *\n * ```javascript\n * function MyDragComponent(eventBus, dragging) {\n *\n *   eventBus.on('mydrag.start', function(event) {\n *     console.log('yes, we start dragging');\n *   });\n *\n *   eventBus.on('mydrag.move', function(event) {\n *     console.log('canvas local coordinates', event.x, event.y, event.dx, event.dy);\n *\n *     // local drag data is passed with the event\n *     event.context.foo; // \"BAR\"\n *\n *     // the original mouse event, too\n *     event.originalEvent; // MouseEvent(...)\n *   });\n *\n *   eventBus.on('element.click', function(event) {\n *     dragging.init(event, 'mydrag', {\n *       cursor: 'grabbing',\n *       data: {\n *         context: {\n *           foo: \"BAR\"\n *         }\n *       }\n *     });\n *   });\n * }\n * ```\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {Selection} selection\n * @param {ElementRegistry} elementRegistry\n */\nexport default function Dragging(eventBus, canvas, selection, elementRegistry) {\n\n  var defaultOptions = {\n    threshold: 5,\n    trapClick: true\n  };\n\n  // the currently active drag operation\n  // dragging is active as soon as this context exists.\n  //\n  // it is visually _active_ only when a context.active flag is set to true.\n  var context;\n\n  /* convert a global event into local coordinates */\n  function toLocalPoint(globalPosition) {\n\n    var viewbox = canvas.viewbox();\n\n    var clientRect = canvas._container.getBoundingClientRect();\n\n    return {\n      x: viewbox.x + (globalPosition.x - clientRect.left) / viewbox.scale,\n      y: viewbox.y + (globalPosition.y - clientRect.top) / viewbox.scale\n    };\n  }\n\n  // helpers\n\n  function fire(type, dragContext) {\n    dragContext = dragContext || context;\n\n    var event = eventBus.createEvent(\n      assign(\n        {},\n        dragContext.payload,\n        dragContext.data,\n        { isTouch: dragContext.isTouch }\n      )\n    );\n\n    // default integration\n    if (eventBus.fire('drag.' + type, event) === false) {\n      return false;\n    }\n\n    return eventBus.fire(dragContext.prefix + '.' + type, event);\n  }\n\n  function restoreSelection(previousSelection) {\n    var existingSelection = previousSelection.filter(function(element) {\n      return elementRegistry.get(element.id);\n    });\n\n    existingSelection.length && selection.select(existingSelection);\n  }\n\n  // event listeners\n\n  function move(event, activate) {\n    var payload = context.payload,\n        displacement = context.displacement;\n\n    var globalStart = context.globalStart,\n        globalCurrent = toPoint(event),\n        globalDelta = deltaPos(globalCurrent, globalStart);\n\n    var localStart = context.localStart,\n        localCurrent = toLocalPoint(globalCurrent),\n        localDelta = deltaPos(localCurrent, localStart);\n\n\n    // activate context explicitly or once threshold is reached\n    if (!context.active && (activate || getLength(globalDelta) > context.threshold)) {\n\n      // fire start event with original\n      // starting coordinates\n\n      assign(payload, {\n        x: round(localStart.x + displacement.x),\n        y: round(localStart.y + displacement.y),\n        dx: 0,\n        dy: 0\n      }, { originalEvent: event });\n\n      if (false === fire('start')) {\n        return cancel();\n      }\n\n      context.active = true;\n\n      // unset selection and remember old selection\n      // the previous (old) selection will always passed\n      // with the event via the event.previousSelection property\n      if (!context.keepSelection) {\n        payload.previousSelection = selection.get();\n        selection.select(null);\n      }\n\n      // allow custom cursor\n      if (context.cursor) {\n        cursorSet(context.cursor);\n      }\n\n      // indicate dragging via marker on root element\n      canvas.addMarker(canvas.getRootElement(), DRAG_ACTIVE_CLS);\n    }\n\n    stopPropagation(event);\n\n    if (context.active) {\n\n      // update payload with actual coordinates\n      assign(payload, {\n        x: round(localCurrent.x + displacement.x),\n        y: round(localCurrent.y + displacement.y),\n        dx: round(localDelta.x),\n        dy: round(localDelta.y)\n      }, { originalEvent: event });\n\n      // emit move event\n      fire('move');\n    }\n  }\n\n  function end(event) {\n    var previousContext,\n        returnValue = true;\n\n    if (context.active) {\n\n      if (event) {\n        context.payload.originalEvent = event;\n\n        // suppress original event (click, ...)\n        // because we just ended a drag operation\n        stopPropagation(event);\n      }\n\n      // implementations may stop restoring the\n      // original state (selections, ...) by preventing the\n      // end events default action\n      returnValue = fire('end');\n    }\n\n    if (returnValue === false) {\n      fire('rejected');\n    }\n\n    previousContext = cleanup(returnValue !== true);\n\n    // last event to be fired when all drag operations are done\n    // at this point in time no drag operation is in progress anymore\n    fire('ended', previousContext);\n  }\n\n\n  // cancel active drag operation if the user presses\n  // the ESC key on the keyboard\n\n  function checkCancel(event) {\n\n    if (isKey('Escape', event)) {\n      preventDefault(event);\n\n      cancel();\n    }\n  }\n\n\n  // prevent ghost click that might occur after a finished\n  // drag and drop session\n\n  function trapClickAndEnd(event) {\n\n    var untrap;\n\n    // trap the click in case we are part of an active\n    // drag operation. This will effectively prevent\n    // the ghost click that cannot be canceled otherwise.\n    if (context.active) {\n\n      untrap = installClickTrap(eventBus);\n\n      // remove trap after minimal delay\n      setTimeout(untrap, 400);\n\n      // prevent default action (click)\n      preventDefault(event);\n    }\n\n    end(event);\n  }\n\n  function trapTouch(event) {\n    move(event);\n  }\n\n  // update the drag events model element (`hover`) and graphical element (`hoverGfx`)\n  // properties during hover and out and fire {prefix}.hover and {prefix}.out properties\n  // respectively\n\n  function hover(event) {\n    var payload = context.payload;\n\n    payload.hoverGfx = event.gfx;\n    payload.hover = event.element;\n\n    fire('hover');\n  }\n\n  function out(event) {\n    fire('out');\n\n    var payload = context.payload;\n\n    payload.hoverGfx = null;\n    payload.hover = null;\n  }\n\n\n  // life-cycle methods\n\n  function cancel(restore) {\n    var previousContext;\n\n    if (!context) {\n      return;\n    }\n\n    var wasActive = context.active;\n\n    if (wasActive) {\n      fire('cancel');\n    }\n\n    previousContext = cleanup(restore);\n\n    if (wasActive) {\n\n      // last event to be fired when all drag operations are done\n      // at this point in time no drag operation is in progress anymore\n      fire('canceled', previousContext);\n    }\n  }\n\n  function cleanup(restore) {\n    var previousContext,\n        endDrag;\n\n    fire('cleanup');\n\n    // reset cursor\n    cursorUnset();\n\n    if (context.trapClick) {\n      endDrag = trapClickAndEnd;\n    } else {\n      endDrag = end;\n    }\n\n    // reset dom listeners\n    domEvent.unbind(document, 'mousemove', move);\n\n    domEvent.unbind(document, 'dragstart', preventDefault);\n    domEvent.unbind(document, 'selectstart', preventDefault);\n\n    domEvent.unbind(document, 'mousedown', endDrag, true);\n    domEvent.unbind(document, 'mouseup', endDrag, true);\n\n    domEvent.unbind(document, 'keyup', checkCancel);\n\n    domEvent.unbind(document, 'touchstart', trapTouch, true);\n    domEvent.unbind(document, 'touchcancel', cancel, true);\n    domEvent.unbind(document, 'touchmove', move, true);\n    domEvent.unbind(document, 'touchend', end, true);\n\n    eventBus.off('element.hover', hover);\n    eventBus.off('element.out', out);\n\n    // remove drag marker on root element\n    canvas.removeMarker(canvas.getRootElement(), DRAG_ACTIVE_CLS);\n\n    // restore selection, unless it has changed\n    var previousSelection = context.payload.previousSelection;\n\n    if (restore !== false && previousSelection && !selection.get().length) {\n      restoreSelection(previousSelection);\n    }\n\n    previousContext = context;\n\n    context = null;\n\n    return previousContext;\n  }\n\n  /**\n   * Initialize a drag operation.\n   *\n   * If `localPosition` is given, drag events will be emitted\n   * relative to it.\n   *\n   * @param {MouseEvent|TouchEvent} [event]\n   * @param {Point} [relativeTo] actual diagram local position this drag operation should start at\n   * @param {string} prefix\n   * @param {Object} [options]\n   */\n  function init(event, relativeTo, prefix, options) {\n\n    // only one drag operation may be active, at a time\n    if (context) {\n      cancel(false);\n    }\n\n    if (typeof relativeTo === 'string') {\n      options = prefix;\n      prefix = relativeTo;\n      relativeTo = null;\n    }\n\n    options = assign({}, defaultOptions, options || {});\n\n    var data = options.data || {},\n        originalEvent,\n        globalStart,\n        localStart,\n        endDrag,\n        isTouch;\n\n    if (options.trapClick) {\n      endDrag = trapClickAndEnd;\n    } else {\n      endDrag = end;\n    }\n\n    if (event) {\n      originalEvent = getOriginal(event) || event;\n      globalStart = toPoint(event);\n\n      stopPropagation(event);\n\n      // prevent default browser dragging behavior\n      if (originalEvent.type === 'dragstart') {\n        preventDefault(originalEvent);\n      }\n    } else {\n      originalEvent = null;\n      globalStart = { x: 0, y: 0 };\n    }\n\n    localStart = toLocalPoint(globalStart);\n\n    if (!relativeTo) {\n      relativeTo = localStart;\n    }\n\n    isTouch = isTouchEvent(originalEvent);\n\n    context = assign({\n      prefix: prefix,\n      data: data,\n      payload: {},\n      globalStart: globalStart,\n      displacement: deltaPos(relativeTo, localStart),\n      localStart: localStart,\n      isTouch: isTouch\n    }, options);\n\n    // skip dom registration if trigger\n    // is set to manual (during testing)\n    if (!options.manual) {\n\n      // add dom listeners\n\n      if (isTouch) {\n        domEvent.bind(document, 'touchstart', trapTouch, true);\n        domEvent.bind(document, 'touchcancel', cancel, true);\n        domEvent.bind(document, 'touchmove', move, true);\n        domEvent.bind(document, 'touchend', end, true);\n      } else {\n\n        // assume we use the mouse to interact per default\n        domEvent.bind(document, 'mousemove', move);\n\n        // prevent default browser drag and text selection behavior\n        domEvent.bind(document, 'dragstart', preventDefault);\n        domEvent.bind(document, 'selectstart', preventDefault);\n\n        domEvent.bind(document, 'mousedown', endDrag, true);\n        domEvent.bind(document, 'mouseup', endDrag, true);\n      }\n\n      domEvent.bind(document, 'keyup', checkCancel);\n\n      eventBus.on('element.hover', hover);\n      eventBus.on('element.out', out);\n    }\n\n    fire('init');\n\n    if (options.autoActivate) {\n      move(event, true);\n    }\n  }\n\n  // cancel on diagram destruction\n  eventBus.on('diagram.destroy', cancel);\n\n\n  // API\n\n  this.init = init;\n  this.move = move;\n  this.hover = hover;\n  this.out = out;\n  this.end = end;\n\n  this.cancel = cancel;\n\n  // for introspection\n\n  this.context = function() {\n    return context;\n  };\n\n  this.setOptions = function(options) {\n    assign(defaultOptions, options);\n  };\n}\n\nDragging.$inject = [\n  'eventBus',\n  'canvas',\n  'selection',\n  'elementRegistry'\n];\n","import HoverFixModule from '../hover-fix';\nimport SelectionModule from '../selection';\n\nimport Dragging from './Dragging';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __depends__: [\n    HoverFixModule,\n    SelectionModule,\n  ],\n  dragging: [ 'type', Dragging ],\n};","import {\n  getMid\n} from '../../layout/LayoutUtil';\n\nimport {\n  isNil,\n  isObject\n} from 'min-dash';\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../../util/Types').Point} Point\n *\n * @typedef {import('../dragging/Dragging').default} Dragging\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('../rules/Rules').default} Rules\n */\n\n/**\n * @param {EventBus} eventBus\n * @param {Dragging} dragging\n * @param {Modeling} modeling\n * @param {Rules} rules\n */\nexport default function Connect(eventBus, dragging, modeling, rules) {\n\n  // rules\n\n  function canConnect(source, target) {\n    return rules.allowed('connection.create', {\n      source: source,\n      target: target\n    });\n  }\n\n  function canConnectReverse(source, target) {\n    return canConnect(target, source);\n  }\n\n\n  // event handlers\n\n  eventBus.on('connect.hover', function(event) {\n    var context = event.context,\n        start = context.start,\n        hover = event.hover,\n        canExecute;\n\n    // cache hover state\n    context.hover = hover;\n\n    canExecute = context.canExecute = canConnect(start, hover);\n\n    // ignore hover\n    if (isNil(canExecute)) {\n      return;\n    }\n\n    if (canExecute !== false) {\n      context.source = start;\n      context.target = hover;\n\n      return;\n    }\n\n    canExecute = context.canExecute = canConnectReverse(start, hover);\n\n    // ignore hover\n    if (isNil(canExecute)) {\n      return;\n    }\n\n    if (canExecute !== false) {\n      context.source = hover;\n      context.target = start;\n    }\n  });\n\n  eventBus.on([ 'connect.out', 'connect.cleanup' ], function(event) {\n    var context = event.context;\n\n    context.hover = null;\n    context.source = null;\n    context.target = null;\n\n    context.canExecute = false;\n  });\n\n  eventBus.on('connect.end', function(event) {\n    var context = event.context,\n        canExecute = context.canExecute,\n        connectionStart = context.connectionStart,\n        connectionEnd = {\n          x: event.x,\n          y: event.y\n        },\n        source = context.source,\n        target = context.target;\n\n    if (!canExecute) {\n      return false;\n    }\n\n    var attrs = null,\n        hints = {\n          connectionStart: isReverse(context) ? connectionEnd : connectionStart,\n          connectionEnd: isReverse(context) ? connectionStart : connectionEnd\n        };\n\n    if (isObject(canExecute)) {\n      attrs = canExecute;\n    }\n\n    context.connection = modeling.connect(source, target, attrs, hints);\n  });\n\n\n  // API\n\n  /**\n   * Start connect operation.\n   *\n   * @param {MouseEvent|TouchEvent} event\n   * @param {Element} start\n   * @param {Point} [connectionStart]\n   * @param {boolean} [autoActivate=false]\n   */\n  this.start = function(event, start, connectionStart, autoActivate) {\n    if (!isObject(connectionStart)) {\n      autoActivate = connectionStart;\n      connectionStart = getMid(start);\n    }\n\n    dragging.init(event, 'connect', {\n      autoActivate: autoActivate,\n      data: {\n        shape: start,\n        context: {\n          start: start,\n          connectionStart: connectionStart\n        }\n      }\n    });\n  };\n}\n\nConnect.$inject = [\n  'eventBus',\n  'dragging',\n  'modeling',\n  'rules'\n];\n\n\n// helpers //////////\n\nexport function isReverse(context) {\n  var hover = context.hover,\n      source = context.source,\n      target = context.target;\n\n  return hover && source && hover === source && source !== target;\n}","import { isReverse } from './Connect';\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\nvar HIGH_PRIORITY = 1100,\n    LOW_PRIORITY = 900;\n\nvar MARKER_OK = 'connect-ok',\n    MARKER_NOT_OK = 'connect-not-ok';\n\n/**\n * Shows connection preview during connect.\n *\n * @param {Injector} injector\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nexport default function ConnectPreview(injector, eventBus, canvas) {\n  var connectionPreview = injector.get('connectionPreview', false);\n\n  connectionPreview && eventBus.on('connect.move', function(event) {\n    var context = event.context,\n        canConnect = context.canExecute,\n        hover = context.hover,\n        source = context.source,\n        start = context.start,\n        startPosition = context.startPosition,\n        target = context.target,\n        connectionStart = context.connectionStart || startPosition,\n        connectionEnd = context.connectionEnd || {\n          x: event.x,\n          y: event.y\n        },\n        previewStart = connectionStart,\n        previewEnd = connectionEnd;\n\n    if (isReverse(context)) {\n      previewStart = connectionEnd;\n      previewEnd = connectionStart;\n    }\n\n    connectionPreview.drawPreview(context, canConnect, {\n      source: source || start,\n      target: target || hover,\n      connectionStart: previewStart,\n      connectionEnd: previewEnd\n    });\n  });\n\n  eventBus.on('connect.hover', LOW_PRIORITY, function(event) {\n    var context = event.context,\n        hover = event.hover,\n        canExecute = context.canExecute;\n\n    // ignore hover\n    if (canExecute === null) {\n      return;\n    }\n\n    canvas.addMarker(hover, canExecute ? MARKER_OK : MARKER_NOT_OK);\n  });\n\n  eventBus.on([\n    'connect.out',\n    'connect.cleanup'\n  ], HIGH_PRIORITY, function(event) {\n    var hover = event.hover;\n\n    if (hover) {\n      canvas.removeMarker(hover, MARKER_OK);\n      canvas.removeMarker(hover, MARKER_NOT_OK);\n    }\n  });\n\n  connectionPreview && eventBus.on('connect.cleanup', function(event) {\n    connectionPreview.cleanUp(event.context);\n  });\n}\n\nConnectPreview.$inject = [\n  'injector',\n  'eventBus',\n  'canvas'\n];\n","import SelectionModule from '../selection';\nimport RulesModule from '../rules';\nimport DraggingModule from '../dragging';\n\nimport Connect from './Connect';\nimport ConnectPreview from './ConnectPreview';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __depends__: [\n    SelectionModule,\n    RulesModule,\n    DraggingModule\n  ],\n  __init__: [\n    'connectPreview'\n  ],\n  connect: [ 'type', Connect ],\n  connectPreview: [ 'type', ConnectPreview ]\n};\n","import {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate,\n  remove as svgRemove,\n  clear as svgClear\n} from 'tiny-svg';\n\nimport {\n  isObject\n} from 'min-dash';\n\nimport {\n  getElementLineIntersection,\n  getMid\n} from '../../layout/LayoutUtil';\n\nimport {\n  createLine\n} from '../../util/RenderUtil';\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n * @typedef {import('../../model/Types').Connection} Connection\n * @typedef {import('../../model/Types').Shape} Shape\n *\n * @typedef {import('../../util/Types').Point} Point\n *\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/ElementFactory').default} ElementFactory\n * @typedef {import('../../core/GraphicsFactory').default} GraphicsFactory\n */\n\nvar MARKER_CONNECTION_PREVIEW = 'djs-dragger';\n\n/**\n * Draws connection preview. Optionally, this can use layouter and connection docking to draw\n * better looking previews.\n *\n * @param {Injector} injector\n * @param {Canvas} canvas\n * @param {GraphicsFactory} graphicsFactory\n * @param {ElementFactory} elementFactory\n */\nexport default function ConnectionPreview(\n    injector,\n    canvas,\n    graphicsFactory,\n    elementFactory\n) {\n  this._canvas = canvas;\n  this._graphicsFactory = graphicsFactory;\n  this._elementFactory = elementFactory;\n\n  // optional components\n  this._connectionDocking = injector.get('connectionDocking', false);\n  this._layouter = injector.get('layouter', false);\n}\n\nConnectionPreview.$inject = [\n  'injector',\n  'canvas',\n  'graphicsFactory',\n  'elementFactory'\n];\n\n/**\n * Draw connection preview.\n *\n * Provide at least one of <source, connectionStart> and <target, connectionEnd> to create a preview.\n * In the clean up stage, call `connectionPreview#cleanUp` with the context to remove preview.\n *\n * @param {Object} context\n * @param {Object|boolean} canConnect\n * @param {Object} hints\n * @param {Element} [hints.source] source element\n * @param {Element} [hints.target] target element\n * @param {Point} [hints.connectionStart] connection preview start\n * @param {Point} [hints.connectionEnd] connection preview end\n * @param {Point[]} [hints.waypoints] provided waypoints for preview\n * @param {boolean} [hints.noLayout] true if preview should not be laid out\n * @param {boolean} [hints.noCropping] true if preview should not be cropped\n * @param {boolean} [hints.noNoop] true if simple connection should not be drawn\n */\nConnectionPreview.prototype.drawPreview = function(context, canConnect, hints) {\n\n  hints = hints || {};\n\n  var connectionPreviewGfx = context.connectionPreviewGfx,\n      getConnection = context.getConnection,\n      source = hints.source,\n      target = hints.target,\n      waypoints = hints.waypoints,\n      connectionStart = hints.connectionStart,\n      connectionEnd = hints.connectionEnd,\n      noLayout = hints.noLayout,\n      noCropping = hints.noCropping,\n      noNoop = hints.noNoop,\n      connection;\n\n  var self = this;\n\n  if (!connectionPreviewGfx) {\n    connectionPreviewGfx = context.connectionPreviewGfx = this.createConnectionPreviewGfx();\n  }\n\n  svgClear(connectionPreviewGfx);\n\n  if (!getConnection) {\n    getConnection = context.getConnection = cacheReturnValues(function(canConnect, source, target) {\n      return self.getConnection(canConnect, source, target);\n    });\n  }\n\n  if (canConnect) {\n    connection = getConnection(canConnect, source, target);\n  }\n\n  if (!connection) {\n    !noNoop && this.drawNoopPreview(connectionPreviewGfx, hints);\n    return;\n  }\n\n  connection.waypoints = waypoints || [];\n\n  // optional layout\n  if (this._layouter && !noLayout) {\n    connection.waypoints = this._layouter.layoutConnection(connection, {\n      source: source,\n      target: target,\n      connectionStart: connectionStart,\n      connectionEnd: connectionEnd,\n      waypoints: hints.waypoints || connection.waypoints\n    });\n  }\n\n  // fallback if no waypoints were provided nor created with layouter\n  if (!connection.waypoints || !connection.waypoints.length) {\n    connection.waypoints = [\n      source ? getMid(source) : connectionStart,\n      target ? getMid(target) : connectionEnd\n    ];\n  }\n\n  // optional cropping\n  if (this._connectionDocking && (source || target) && !noCropping) {\n    connection.waypoints = this._connectionDocking.getCroppedWaypoints(connection, source, target);\n  }\n\n  this._graphicsFactory.drawConnection(connectionPreviewGfx, connection, {\n    stroke: 'var(--element-dragger-color)'\n  });\n};\n\n/**\n * Draw simple connection between source and target or provided points.\n *\n * @param {SVGElement} connectionPreviewGfx container for the connection\n * @param {Object} hints\n * @param {Element} [hints.source] source element\n * @param {Element} [hints.target] target element\n * @param {Point} [hints.connectionStart] required if source is not provided\n * @param {Point} [hints.connectionEnd] required if target is not provided\n */\nConnectionPreview.prototype.drawNoopPreview = function(connectionPreviewGfx, hints) {\n  var source = hints.source,\n      target = hints.target,\n      start = hints.connectionStart || getMid(source),\n      end = hints.connectionEnd || getMid(target);\n\n  var waypoints = this.cropWaypoints(start, end, source, target);\n\n  var connection = this.createNoopConnection(waypoints[0], waypoints[1]);\n\n  svgAppend(connectionPreviewGfx, connection);\n};\n\n/**\n * Return cropped waypoints.\n *\n * @param {Point} start\n * @param {Point} end\n * @param {Element} source\n * @param {Element} target\n *\n * @return {Point[]}\n */\nConnectionPreview.prototype.cropWaypoints = function(start, end, source, target) {\n  var graphicsFactory = this._graphicsFactory,\n      sourcePath = source && graphicsFactory.getShapePath(source),\n      targetPath = target && graphicsFactory.getShapePath(target),\n      connectionPath = graphicsFactory.getConnectionPath({ waypoints: [ start, end ] });\n\n  start = (source && getElementLineIntersection(sourcePath, connectionPath, true)) || start;\n  end = (target && getElementLineIntersection(targetPath, connectionPath, false)) || end;\n\n  return [ start, end ];\n};\n\n/**\n * Remove connection preview container if it exists.\n *\n * @param {Object} [context]\n * @param {SVGElement} [context.connectionPreviewGfx] preview container\n */\nConnectionPreview.prototype.cleanUp = function(context) {\n  if (context && context.connectionPreviewGfx) {\n    svgRemove(context.connectionPreviewGfx);\n  }\n};\n\n/**\n * Get connection that connects source and target.\n *\n * @param {Object|boolean} canConnect\n *\n * @return {Connection}\n */\nConnectionPreview.prototype.getConnection = function(canConnect) {\n  var attrs = ensureConnectionAttrs(canConnect);\n\n  return this._elementFactory.createConnection(attrs);\n};\n\n\n/**\n * Add and return preview graphics.\n *\n * @return {SVGElement}\n */\nConnectionPreview.prototype.createConnectionPreviewGfx = function() {\n  var gfx = svgCreate('g');\n\n  svgAttr(gfx, {\n    pointerEvents: 'none'\n  });\n\n  svgClasses(gfx).add(MARKER_CONNECTION_PREVIEW);\n\n  svgAppend(this._canvas.getActiveLayer(), gfx);\n\n  return gfx;\n};\n\n/**\n * Create and return simple connection.\n *\n * @param {Point} start\n * @param {Point} end\n *\n * @return {SVGElement}\n */\nConnectionPreview.prototype.createNoopConnection = function(start, end) {\n  return createLine([ start, end ], {\n    'stroke': '#333',\n    'strokeDasharray': [ 1 ],\n    'strokeWidth': 2,\n    'pointer-events': 'none'\n  });\n};\n\n// helpers //////////\n\n/**\n * Returns function that returns cached return values referenced by stringified first argument.\n *\n * @param {Function} fn\n *\n * @return {Function}\n */\nfunction cacheReturnValues(fn) {\n  var returnValues = {};\n\n  /**\n   * Return cached return value referenced by stringified first argument.\n   *\n   * @return {*}\n   */\n  return function(firstArgument) {\n    var key = JSON.stringify(firstArgument);\n\n    var returnValue = returnValues[key];\n\n    if (!returnValue) {\n      returnValue = returnValues[key] = fn.apply(null, arguments);\n    }\n\n    return returnValue;\n  };\n}\n\n/**\n * Ensure connection attributes is object.\n *\n * @param {Object|boolean} canConnect\n *\n * @return {Object}\n */\nfunction ensureConnectionAttrs(canConnect) {\n  if (isObject(canConnect)) {\n    return canConnect;\n  } else {\n    return {};\n  }\n}\n","import ConnectionPreview from './ConnectionPreview';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __init__: [ 'connectionPreview' ],\n  connectionPreview: [ 'type', ConnectionPreview ]\n};\n","/**\n * Util that provides unique IDs.\n *\n * @class\n * @constructor\n *\n * The ids can be customized via a given prefix and contain a random value to avoid collisions.\n *\n * @param {string} [prefix] a prefix to prepend to generated ids (for better readability)\n */\nexport default function IdGenerator(prefix) {\n\n  this._counter = 0;\n  this._prefix = (prefix ? prefix + '-' : '') + Math.floor(Math.random() * 1000000000) + '-';\n}\n\n/**\n * Returns a next unique ID.\n *\n * @return {string} the id\n */\nIdGenerator.prototype.next = function() {\n  return this._prefix + (++this._counter);\n};\n","import {\n  isArray,\n  isString,\n  isObject,\n  assign,\n  forEach,\n  find,\n  filter,\n  matchPattern,\n  isDefined\n} from 'min-dash';\n\nimport {\n  assignStyle,\n  domify,\n  classes as domClasses,\n  attr as domAttr,\n  remove as domRemove,\n  clear as domClear\n} from 'min-dom';\n\nimport {\n  getBBox\n} from '../../util/Elements';\n\nimport Ids from '../../util/IdGenerator';\n\n// document wide unique overlay ids\nvar ids = new Ids('ov');\n\nvar LOW_PRIORITY = 500;\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n *\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef { {\n *   minZoom?: number,\n *   maxZoom?: number\n * } } OverlaysConfigShow\n *\n * @typedef { {\n *   min?: number,\n *   max?: number\n * } } OverlaysConfigScale\n *\n * @typedef { {\n*   id: string,\n*   type: string | null,\n*   element: Element | string\n* } & OverlayAttrs } Overlay\n*\n * @typedef { {\n *   html: HTMLElement | string,\n *   position: {\n *     top?: number,\n *     right?: number,\n *     bottom?: number,\n *     left?: number\n *   }\n * } & OverlaysConfigDefault } OverlayAttrs\n *\n * @typedef { {\n *   html: HTMLElement,\n *   element: Element,\n *   overlays: Overlay[]\n * } } OverlayContainer\n *\n * @typedef {{\n *   defaults?: OverlaysConfigDefault\n * }} OverlaysConfig\n *\n * @typedef { {\n *  show?: OverlaysConfigShow,\n *  scale?: OverlaysConfigScale | boolean\n * } } OverlaysConfigDefault\n *\n * @typedef { {\n *   id?: string;\n *   element?: Element | string;\n *   type?: string;\n * } | string } OverlaysFilter\n */\n\n/**\n * A service that allows users to attach overlays to diagram elements.\n *\n * The overlay service will take care of overlay positioning during updates.\n *\n * @example\n *\n * ```javascript\n * // add a pink badge on the top left of the shape\n *\n * overlays.add(someShape, {\n *   position: {\n *     top: -5,\n *     left: -5\n *   },\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n *\n * // or add via shape id\n *\n * overlays.add('some-element-id', {\n *   position: {\n *     top: -5,\n *     left: -5\n *   }\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n *\n * // or add with optional type\n *\n * overlays.add(someShape, 'badge', {\n *   position: {\n *     top: -5,\n *     left: -5\n *   }\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n * ```\n *\n * ```javascript\n * // remove an overlay\n *\n * var id = overlays.add(...);\n * overlays.remove(id);\n *\n *\n * You may configure overlay defaults during tool by providing a `config` module\n * with `overlays.defaults` as an entry:\n *\n * {\n *   overlays: {\n *     defaults: {\n *       show: {\n *         minZoom: 0.7,\n *         maxZoom: 5.0\n *       },\n *       scale: {\n *         min: 1\n *       }\n *     }\n * }\n * ```\n *\n * @param {OverlaysConfig} config\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {ElementRegistry} elementRegistry\n */\nexport default function Overlays(config, eventBus, canvas, elementRegistry) {\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n  this._elementRegistry = elementRegistry;\n\n  this._ids = ids;\n\n  /**\n   * @type {OverlaysConfigDefault}\n   */\n  this._overlayDefaults = assign({\n\n    // no show constraints\n    show: null,\n\n    // always scale\n    scale: true\n  }, config && config.defaults);\n\n  /**\n   * @type {Record<string, Overlay>}\n   */\n  this._overlays = {};\n\n  /**\n   * @type {OverlayContainer[]}\n   */\n  this._overlayContainers = [];\n\n  /**\n   * @type {HTMLElement}\n   */\n  this._overlayRoot = createRoot(canvas.getContainer());\n\n  this._init();\n}\n\n\nOverlays.$inject = [\n  'config.overlays',\n  'eventBus',\n  'canvas',\n  'elementRegistry'\n];\n\n\n/**\n * Returns the overlay with the specified ID or a list of overlays\n * for an element with a given type.\n *\n * @example\n *\n * ```javascript\n * // return the single overlay with the given ID\n * overlays.get('some-id');\n *\n * // return all overlays for the shape\n * overlays.get({ element: someShape });\n *\n * // return all overlays on shape with type 'badge'\n * overlays.get({ element: someShape, type: 'badge' });\n *\n * // shape can also be specified as ID\n * overlays.get({ element: 'element-id', type: 'badge' });\n * ```\n *\n * @param {OverlaysFilter} search The filter to be used to find the overlay(s).\n *\n * @return {Overlay|Overlay[]} The overlay(s).\n */\nOverlays.prototype.get = function(search) {\n\n  if (isString(search)) {\n    search = { id: search };\n  }\n\n  if (isString(search.element)) {\n    search.element = this._elementRegistry.get(search.element);\n  }\n\n  if (search.element) {\n    var container = this._getOverlayContainer(search.element, true);\n\n    // return a list of overlays when searching by element (+type)\n    if (container) {\n      return search.type ? filter(container.overlays, matchPattern({ type: search.type })) : container.overlays.slice();\n    } else {\n      return [];\n    }\n  } else if (search.type) {\n    return filter(this._overlays, matchPattern({ type: search.type }));\n  } else {\n\n    // return single element when searching by id\n    return search.id ? this._overlays[search.id] : null;\n  }\n};\n\n/**\n * Adds an HTML overlay to an element.\n *\n * @param {Element|string} element The element to add the overlay to.\n * @param {string} [type] An optional type that can be used to filter.\n * @param {OverlayAttrs} overlay The overlay.\n *\n * @return {string} The overlay's ID that can be used to get or remove it.\n */\nOverlays.prototype.add = function(element, type, overlay) {\n\n  if (isObject(type)) {\n    overlay = type;\n    type = null;\n  }\n\n  if (!element.id) {\n    element = this._elementRegistry.get(element);\n  }\n\n  if (!overlay.position) {\n    throw new Error('must specifiy overlay position');\n  }\n\n  if (!overlay.html) {\n    throw new Error('must specifiy overlay html');\n  }\n\n  if (!element) {\n    throw new Error('invalid element specified');\n  }\n\n  var id = this._ids.next();\n\n  overlay = assign({}, this._overlayDefaults, overlay, {\n    id: id,\n    type: type,\n    element: element,\n    html: overlay.html\n  });\n\n  this._addOverlay(overlay);\n\n  return id;\n};\n\n\n/**\n * Remove an overlay with the given ID or all overlays matching the given filter.\n *\n * @see Overlays#get for filter options.\n *\n * @param {OverlaysFilter} filter The filter to be used to find the overlay.\n */\nOverlays.prototype.remove = function(filter) {\n\n  var overlays = this.get(filter) || [];\n\n  if (!isArray(overlays)) {\n    overlays = [ overlays ];\n  }\n\n  var self = this;\n\n  forEach(overlays, function(overlay) {\n\n    var container = self._getOverlayContainer(overlay.element, true);\n\n    if (overlay) {\n      domRemove(overlay.html);\n      domRemove(overlay.htmlContainer);\n\n      delete overlay.htmlContainer;\n      delete overlay.element;\n\n      delete self._overlays[overlay.id];\n    }\n\n    if (container) {\n      var idx = container.overlays.indexOf(overlay);\n      if (idx !== -1) {\n        container.overlays.splice(idx, 1);\n      }\n    }\n  });\n\n};\n\n/**\n * Checks whether overlays are shown.\n *\n * @return {boolean} Whether overlays are shown.\n */\nOverlays.prototype.isShown = function() {\n  return this._overlayRoot.style.display !== 'none';\n};\n\n/**\n * Show all overlays.\n */\nOverlays.prototype.show = function() {\n  setVisible(this._overlayRoot);\n};\n\n/**\n * Hide all overlays.\n */\nOverlays.prototype.hide = function() {\n  setVisible(this._overlayRoot, false);\n};\n\n/**\n * Remove all overlays and their container.\n */\nOverlays.prototype.clear = function() {\n  this._overlays = {};\n\n  this._overlayContainers = [];\n\n  domClear(this._overlayRoot);\n};\n\nOverlays.prototype._updateOverlayContainer = function(container) {\n  var element = container.element,\n      html = container.html;\n\n  // update container left,top according to the elements x,y coordinates\n  // this ensures we can attach child elements relative to this container\n\n  var x = element.x,\n      y = element.y;\n\n  if (element.waypoints) {\n    var bbox = getBBox(element);\n    x = bbox.x;\n    y = bbox.y;\n  }\n\n  setPosition(html, x, y);\n\n  domAttr(container.html, 'data-container-id', element.id);\n};\n\n\nOverlays.prototype._updateOverlay = function(overlay) {\n\n  var position = overlay.position,\n      htmlContainer = overlay.htmlContainer,\n      element = overlay.element;\n\n  // update overlay html relative to shape because\n  // it is already positioned on the element\n\n  // update relative\n  var left = position.left,\n      top = position.top;\n\n  if (position.right !== undefined) {\n\n    var width;\n\n    if (element.waypoints) {\n      width = getBBox(element).width;\n    } else {\n      width = element.width;\n    }\n\n    left = position.right * -1 + width;\n  }\n\n  if (position.bottom !== undefined) {\n\n    var height;\n\n    if (element.waypoints) {\n      height = getBBox(element).height;\n    } else {\n      height = element.height;\n    }\n\n    top = position.bottom * -1 + height;\n  }\n\n  setPosition(htmlContainer, left || 0, top || 0);\n  this._updateOverlayVisibilty(overlay, this._canvas.viewbox());\n};\n\n\nOverlays.prototype._createOverlayContainer = function(element) {\n  var html = domify('<div class=\"djs-overlays\" />');\n  assignStyle(html, { position: 'absolute' });\n\n  this._overlayRoot.appendChild(html);\n\n  var container = {\n    html: html,\n    element: element,\n    overlays: []\n  };\n\n  this._updateOverlayContainer(container);\n\n  this._overlayContainers.push(container);\n\n  return container;\n};\n\n\nOverlays.prototype._updateRoot = function(viewbox) {\n  var scale = viewbox.scale || 1;\n\n  var matrix = 'matrix(' +\n  [\n    scale,\n    0,\n    0,\n    scale,\n    -1 * viewbox.x * scale,\n    -1 * viewbox.y * scale\n  ].join(',') +\n  ')';\n\n  setTransform(this._overlayRoot, matrix);\n};\n\n\nOverlays.prototype._getOverlayContainer = function(element, raw) {\n  var container = find(this._overlayContainers, function(c) {\n    return c.element === element;\n  });\n\n\n  if (!container && !raw) {\n    return this._createOverlayContainer(element);\n  }\n\n  return container;\n};\n\n\nOverlays.prototype._addOverlay = function(overlay) {\n\n  var id = overlay.id,\n      element = overlay.element,\n      html = overlay.html,\n      htmlContainer,\n      overlayContainer;\n\n  // unwrap jquery (for those who need it)\n  if (html.get && html.constructor.prototype.jquery) {\n    html = html.get(0);\n  }\n\n  // create proper html elements from\n  // overlay HTML strings\n  if (isString(html)) {\n    html = domify(html);\n  }\n\n  overlayContainer = this._getOverlayContainer(element);\n\n  htmlContainer = domify('<div class=\"djs-overlay\" data-overlay-id=\"' + id + '\">');\n  assignStyle(htmlContainer, { position: 'absolute' });\n\n  htmlContainer.appendChild(html);\n\n  if (overlay.type) {\n    domClasses(htmlContainer).add('djs-overlay-' + overlay.type);\n  }\n\n  var elementRoot = this._canvas.findRoot(element);\n  var activeRoot = this._canvas.getRootElement();\n\n  setVisible(htmlContainer, elementRoot === activeRoot);\n\n  overlay.htmlContainer = htmlContainer;\n\n  overlayContainer.overlays.push(overlay);\n  overlayContainer.html.appendChild(htmlContainer);\n\n  this._overlays[id] = overlay;\n\n  this._updateOverlay(overlay);\n  this._updateOverlayVisibilty(overlay, this._canvas.viewbox());\n};\n\n\nOverlays.prototype._updateOverlayVisibilty = function(overlay, viewbox) {\n  var show = overlay.show,\n      rootElement = this._canvas.findRoot(overlay.element),\n      minZoom = show && show.minZoom,\n      maxZoom = show && show.maxZoom,\n      htmlContainer = overlay.htmlContainer,\n      activeRootElement = this._canvas.getRootElement(),\n      visible = true;\n\n  if (rootElement !== activeRootElement) {\n    visible = false;\n  } else if (show) {\n    if (\n      (isDefined(minZoom) && minZoom > viewbox.scale) ||\n      (isDefined(maxZoom) && maxZoom < viewbox.scale)\n    ) {\n      visible = false;\n    }\n  }\n\n  setVisible(htmlContainer, visible);\n\n  this._updateOverlayScale(overlay, viewbox);\n};\n\n\nOverlays.prototype._updateOverlayScale = function(overlay, viewbox) {\n  var shouldScale = overlay.scale,\n      minScale,\n      maxScale,\n      htmlContainer = overlay.htmlContainer;\n\n  var scale, transform = '';\n\n  if (shouldScale !== true) {\n\n    if (shouldScale === false) {\n      minScale = 1;\n      maxScale = 1;\n    } else {\n      minScale = shouldScale.min;\n      maxScale = shouldScale.max;\n    }\n\n    if (isDefined(minScale) && viewbox.scale < minScale) {\n      scale = (1 / viewbox.scale || 1) * minScale;\n    }\n\n    if (isDefined(maxScale) && viewbox.scale > maxScale) {\n      scale = (1 / viewbox.scale || 1) * maxScale;\n    }\n  }\n\n  if (isDefined(scale)) {\n    transform = 'scale(' + scale + ',' + scale + ')';\n  }\n\n  setTransform(htmlContainer, transform);\n};\n\n\nOverlays.prototype._updateOverlaysVisibilty = function(viewbox) {\n\n  var self = this;\n\n  forEach(this._overlays, function(overlay) {\n    self._updateOverlayVisibilty(overlay, viewbox);\n  });\n};\n\n\nOverlays.prototype._init = function() {\n\n  var eventBus = this._eventBus;\n\n  var self = this;\n\n\n  // scroll/zoom integration\n\n  function updateViewbox(viewbox) {\n    self._updateRoot(viewbox);\n    self._updateOverlaysVisibilty(viewbox);\n\n    self.show();\n  }\n\n  eventBus.on('canvas.viewbox.changing', function(event) {\n    self.hide();\n  });\n\n  eventBus.on('canvas.viewbox.changed', function(event) {\n    updateViewbox(event.viewbox);\n  });\n\n\n  // remove integration\n\n  eventBus.on([ 'shape.remove', 'connection.remove' ], function(e) {\n    var element = e.element;\n    var overlays = self.get({ element: element });\n\n    forEach(overlays, function(o) {\n      self.remove(o.id);\n    });\n\n    var container = self._getOverlayContainer(element);\n\n    if (container) {\n      domRemove(container.html);\n      var i = self._overlayContainers.indexOf(container);\n      if (i !== -1) {\n        self._overlayContainers.splice(i, 1);\n      }\n    }\n  });\n\n\n  // move integration\n\n  eventBus.on('element.changed', LOW_PRIORITY, function(e) {\n    var element = e.element;\n\n    var container = self._getOverlayContainer(element, true);\n\n    if (container) {\n      forEach(container.overlays, function(overlay) {\n        self._updateOverlay(overlay);\n      });\n\n      self._updateOverlayContainer(container);\n    }\n  });\n\n\n  // marker integration, simply add them on the overlays as classes, too.\n\n  eventBus.on('element.marker.update', function(e) {\n    var container = self._getOverlayContainer(e.element, true);\n    if (container) {\n      domClasses(container.html)[e.add ? 'add' : 'remove'](e.marker);\n    }\n  });\n\n\n  eventBus.on('root.set', function() {\n    self._updateOverlaysVisibilty(self._canvas.viewbox());\n  });\n\n  // clear overlays with diagram\n\n  eventBus.on('diagram.clear', this.clear, this);\n};\n\n\n\n// helpers /////////////////////////////\n\nfunction createRoot(parentNode) {\n  var root = domify(\n    '<div class=\"djs-overlay-container\" />'\n  );\n\n  assignStyle(root, {\n    position: 'absolute',\n    width: 0,\n    height: 0\n  });\n\n  parentNode.insertBefore(root, parentNode.firstChild);\n\n  return root;\n}\n\nfunction setPosition(el, x, y) {\n  assignStyle(el, { left: x + 'px', top: y + 'px' });\n}\n\n/**\n * Set element visible\n *\n * @param {DOMElement} el\n * @param {boolean} [visible=true]\n */\nfunction setVisible(el, visible) {\n  el.style.display = visible === false ? 'none' : '';\n}\n\nfunction setTransform(el, transform) {\n\n  el.style['transform-origin'] = 'top left';\n\n  [ '', '-ms-', '-webkit-' ].forEach(function(prefix) {\n    el.style[prefix + 'transform'] = transform;\n  });\n}","import Overlays from './Overlays';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __init__: [ 'overlays' ],\n  overlays: [ 'type', Overlays ]\n};","import IdGenerator from '../../util/IdGenerator';\n\nconst Ids = new IdGenerator();\n\n\n/**\n * @typedef { {\n *   promise: Promise<unknown>,\n *   executionId: number\n * } } ScheduledTask\n */\n\n/**\n * A utility that allows you to schedule async tasks.\n *\n * @class\n * @constructor\n *\n * @param { import('../core/EventBus').default } eventBus\n */\nexport default function Scheduler(eventBus) {\n\n  /**\n   * @type { Record<string, ScheduledTask> }\n   */\n  this._scheduled = {};\n\n  eventBus.on('diagram.destroy', () => {\n    Object.keys(this._scheduled).forEach(id => {\n      this.cancel(id);\n    });\n  });\n}\n\nScheduler.$inject = [ 'eventBus' ];\n\n/**\n * Schedule execution of a task in the next tick.\n *\n * Call with an id to ensure only the latest call will be executed.\n *\n * @template T\n\n * @param {(...args: any[]) => T} taskFn function to be executed\n * @param {string} [id] identifying the task to ensure uniqueness\n *\n * @return Promise<T> result of the executed task\n */\nScheduler.prototype.schedule = function(taskFn, id = Ids.next()) {\n\n  this.cancel(id);\n\n  const newScheduled = this._schedule(taskFn, id);\n\n  this._scheduled[id] = newScheduled;\n\n  return newScheduled.promise;\n};\n\nScheduler.prototype._schedule = function(taskFn, id) {\n\n  const deferred = defer();\n\n  const executionId = setTimeout(() => {\n\n    try {\n      this._scheduled[id] = null;\n\n      try {\n        deferred.resolve(taskFn());\n      } catch (error) {\n        deferred.reject(error);\n      }\n    } catch (error) {\n      console.error('Scheduler#_schedule execution failed', error);\n    }\n  });\n\n  return {\n    executionId,\n    promise: deferred.promise\n  };\n};\n\n/**\n * Cancel a previously scheduled task.\n *\n * @param {string} id\n */\nScheduler.prototype.cancel = function(id) {\n\n  const scheduled = this._scheduled[id];\n\n  if (scheduled) {\n    this._cancel(scheduled);\n\n    this._scheduled[id] = null;\n  }\n};\n\nScheduler.prototype._cancel = function(scheduled) {\n  clearTimeout(scheduled.executionId);\n};\n\n/**\n * @return { {\n *   promise: Promise,\n *   resolve: Function,\n *   reject: Function\n * } }\n */\nfunction defer() {\n\n  const deferred = {};\n\n  deferred.promise = new Promise((resolve, reject) => {\n    deferred.resolve = resolve;\n    deferred.reject = reject;\n  });\n\n  return deferred;\n}","import Scheduler from './Scheduler';\n\nexport default {\n  scheduler: [ 'type', Scheduler ]\n};","/**\n * @param {string} str\n *\n * @return {string}\n */\nexport function escapeCSS(str) {\n  return CSS.escape(str);\n}\n\nvar HTML_ESCAPE_MAP = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  '\\'': '&#39;'\n};\n\n/**\n * @param {string} str\n *\n * @return {string}\n */\nexport function escapeHTML(str) {\n  str = '' + str;\n\n  return str && str.replace(/[&<>\"']/g, function(match) {\n    return HTML_ESCAPE_MAP[match];\n  });\n}\n","import {\n  every,\n  forEach,\n  isArray,\n  isFunction\n} from 'min-dash';\n\nimport {\n  delegate as domDelegate,\n  event as domEvent,\n  attr as domAttr,\n  query as domQuery,\n  classes as domClasses,\n  domify as domify\n} from 'min-dom';\n\nimport {\n  escapeCSS\n} from '../../util/EscapeUtil';\n\nimport { isConnection } from '../../util/ModelUtil';\n\nvar MARKER_HIDDEN = 'djs-element-hidden';\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../../util/Types').Rect} Rect\n * @typedef {import('../../util/Types').RectTRBL} RectTRBL\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../../scheduler/Scheduler').default} Scheduler\n *\n * @typedef {import('./ContextPadProvider').default} ContextPadProvider\n * @typedef {import('./ContextPadProvider').ContextPadEntries} ContextPadEntries\n *\n */\n\n/**\n * @template {Element} [ElementType=Element]\n *\n * @typedef {ElementType|ElementType[]} ContextPadTarget\n */\n\nvar entrySelector = '.entry';\n\nvar DEFAULT_PRIORITY = 1000;\nvar CONTEXT_PAD_MARGIN = 8;\nvar HOVER_DELAY = 300;\n\n/**\n * A context pad that displays element specific, contextual actions next\n * to a diagram element.\n *\n * @param {Canvas} canvas\n * @param {ElementRegistry} elementRegistry\n * @param {EventBus} eventBus\n * @param {Scheduler} scheduler\n */\nexport default function ContextPad(canvas, elementRegistry, eventBus, scheduler) {\n\n  this._canvas = canvas;\n  this._elementRegistry = elementRegistry;\n  this._eventBus = eventBus;\n  this._scheduler = scheduler;\n\n  this._current = null;\n\n  this._init();\n}\n\nContextPad.$inject = [\n  'canvas',\n  'elementRegistry',\n  'eventBus',\n  'scheduler'\n];\n\n\n/**\n * Registers events needed for interaction with other components.\n */\nContextPad.prototype._init = function() {\n  var self = this;\n\n  this._eventBus.on('selection.changed', function(event) {\n\n    var selection = event.newSelection;\n\n    var target = selection.length\n      ? selection.length === 1\n        ? selection[0]\n        : selection\n      : null;\n\n    if (target) {\n      self.open(target, true);\n    } else {\n      self.close();\n    }\n  });\n\n  this._eventBus.on('elements.changed', function(event) {\n    var elements = event.elements,\n        current = self._current;\n\n    if (!current) {\n      return;\n    }\n\n    var target = current.target;\n\n    var targets = isArray(target) ? target : [ target ];\n\n    var targetsChanged = targets.filter(function(element) {\n      return elements.includes(element);\n    });\n\n    if (targetsChanged.length) {\n\n      // (1) close\n      self.close();\n\n      var targetsNew = targets.filter(function(element) {\n        return self._elementRegistry.get(element.id);\n      });\n\n      if (targetsNew.length) {\n\n        // (2) re-open with new targets being all previous targets that still\n        // exist\n        self._updateAndOpen(targetsNew.length > 1 ? targetsNew : targetsNew[ 0 ]);\n      }\n    }\n  });\n\n  this._eventBus.on('canvas.viewbox.changed', function() {\n    self._updatePosition();\n  });\n\n  this._eventBus.on('element.marker.update', function(event) {\n    if (!self.isOpen()) {\n      return;\n    }\n\n    var element = event.element;\n\n    var current = self._current;\n\n    var targets = isArray(current.target) ? current.target : [ current.target ];\n\n    if (!targets.includes(element)) {\n      return;\n    }\n\n    self._updateVisibility();\n  });\n\n  this._container = this._createContainer();\n};\n\nContextPad.prototype._createContainer = function() {\n  var container = domify('<div class=\"djs-context-pad-parent\"></div>');\n\n  this._canvas.getContainer().appendChild(container);\n\n  return container;\n};\n\n/**\n * @overlord\n *\n * Register a context pad provider with the default priority. See\n * {@link ContextPadProvider} for examples.\n *\n * @param {ContextPadProvider} provider\n */\n\n/**\n * Register a context pad provider with the given priority. See\n * {@link ContextPadProvider} for examples.\n *\n * @param {number} priority\n * @param {ContextPadProvider} provider\n */\nContextPad.prototype.registerProvider = function(priority, provider) {\n  if (!provider) {\n    provider = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  this._eventBus.on('contextPad.getProviders', priority, function(event) {\n    event.providers.push(provider);\n  });\n};\n\n\n/**\n * Get context pad entries for given elements.\n *\n * @param {ContextPadTarget} target\n *\n * @return {ContextPadEntries} list of entries\n */\nContextPad.prototype.getEntries = function(target) {\n  var providers = this._getProviders();\n\n  var provideFn = isArray(target)\n    ? 'getMultiElementContextPadEntries'\n    : 'getContextPadEntries';\n\n  var entries = {};\n\n  // loop through all providers and their entries.\n  // group entries by id so that overriding an entry is possible\n  forEach(providers, function(provider) {\n\n    if (!isFunction(provider[provideFn])) {\n      return;\n    }\n\n    var entriesOrUpdater = provider[provideFn](target);\n\n    if (isFunction(entriesOrUpdater)) {\n      entries = entriesOrUpdater(entries);\n    } else {\n      forEach(entriesOrUpdater, function(entry, id) {\n        entries[id] = entry;\n      });\n    }\n  });\n\n  return entries;\n};\n\n\n/**\n * Trigger context pad via DOM event.\n *\n * The entry to trigger is determined by the target element.\n *\n * @param {string} action\n * @param {Event} event\n * @param {boolean} [autoActivate=false]\n */\nContextPad.prototype.trigger = function(action, event, autoActivate) {\n  var self = this;\n\n  var entry,\n      originalEvent,\n      button = event.delegateTarget || event.target;\n\n  if (!button) {\n    return event.preventDefault();\n  }\n\n  entry = domAttr(button, 'data-action');\n  originalEvent = event.originalEvent || event;\n\n  if (action === 'mouseover') {\n    this._timeout = setTimeout(function() {\n      self._mouseout = self.triggerEntry(entry, 'hover', originalEvent, autoActivate);\n    }, HOVER_DELAY);\n\n    return;\n  } else if (action === 'mouseout') {\n    clearTimeout(this._timeout);\n\n    if (this._mouseout) {\n      this._mouseout();\n\n      this._mouseout = null;\n    }\n\n    return;\n  }\n\n  return this.triggerEntry(entry, action, originalEvent, autoActivate);\n};\n\n/**\n * Trigger action on context pad entry entry, e.g. click, mouseover or mouseout.\n *\n * @param {string} entryId\n * @param {string} action\n * @param {Event} event\n * @param {boolean} [autoActivate=false]\n */\nContextPad.prototype.triggerEntry = function(entryId, action, event, autoActivate) {\n\n  if (!this.isShown()) {\n    return;\n  }\n\n  var target = this._current.target,\n      entries = this._current.entries;\n\n  var entry = entries[entryId];\n\n  if (!entry) {\n    return;\n  }\n\n  var handler = entry.action;\n\n  if (this._eventBus.fire('contextPad.trigger', { entry, event }) === false) {\n    return;\n  }\n\n  // simple action (via callback function)\n  if (isFunction(handler)) {\n    if (action === 'click') {\n      return handler(event, target, autoActivate);\n    }\n  } else {\n    if (handler[action]) {\n      return handler[action](event, target, autoActivate);\n    }\n  }\n\n  // silence other actions\n  event.preventDefault();\n};\n\n\n/**\n * Open the context pad for given elements.\n *\n * @param {ContextPadTarget} target\n * @param {boolean} [force=false] - Force re-opening context pad.\n */\nContextPad.prototype.open = function(target, force) {\n  if (!force && this.isOpen(target)) {\n    return;\n  }\n\n  this.close();\n\n  this._updateAndOpen(target);\n};\n\nContextPad.prototype._getProviders = function() {\n\n  var event = this._eventBus.createEvent({\n    type: 'contextPad.getProviders',\n    providers: []\n  });\n\n  this._eventBus.fire(event);\n\n  return event.providers;\n};\n\n\n/**\n * @param {ContextPadTarget} target\n */\nContextPad.prototype._updateAndOpen = function(target) {\n  var entries = this.getEntries(target),\n      html = this._createHtml(target),\n      image;\n\n  forEach(entries, function(entry, id) {\n    var grouping = entry.group || 'default',\n        control = domify(entry.html || '<div class=\"entry\" draggable=\"true\"></div>'),\n        container;\n\n    domAttr(control, 'data-action', id);\n\n    container = domQuery('[data-group=' + escapeCSS(grouping) + ']', html);\n    if (!container) {\n      container = domify('<div class=\"group\"></div>');\n      domAttr(container, 'data-group', grouping);\n\n      html.appendChild(container);\n    }\n\n    container.appendChild(control);\n\n    if (entry.className) {\n      addClasses(control, entry.className);\n    }\n\n    if (entry.title) {\n      domAttr(control, 'title', entry.title);\n    }\n\n    if (entry.imageUrl) {\n      image = domify('<img>');\n      domAttr(image, 'src', entry.imageUrl);\n      image.style.width = '100%';\n      image.style.height = '100%';\n\n      control.appendChild(image);\n    }\n  });\n\n  domClasses(html).add('open');\n\n  this._current = {\n    entries,\n    html,\n    target,\n  };\n\n  this._updatePosition();\n\n  this._updateVisibility();\n\n  this._eventBus.fire('contextPad.open', { current: this._current });\n};\n\n/**\n * @param {ContextPadTarget} target\n *\n * @return {HTMLElement}\n */\nContextPad.prototype._createHtml = function(target) {\n  var self = this;\n\n  var html = domify('<div class=\"djs-context-pad\"></div>');\n\n  domDelegate.bind(html, entrySelector, 'click', function(event) {\n    self.trigger('click', event);\n  });\n\n  domDelegate.bind(html, entrySelector, 'dragstart', function(event) {\n    self.trigger('dragstart', event);\n  });\n\n  domDelegate.bind(html, entrySelector, 'mouseover', function(event) {\n    self.trigger('mouseover', event);\n  });\n\n  domDelegate.bind(html, entrySelector, 'mouseout', function(event) {\n    self.trigger('mouseout', event);\n  });\n\n  // stop propagation of mouse events\n  domEvent.bind(html, 'mousedown', function(event) {\n    event.stopPropagation();\n  });\n\n  this._container.appendChild(html);\n\n  this._eventBus.fire('contextPad.create', {\n    target: target,\n    pad: html\n  });\n\n  return html;\n};\n\n/**\n * @param {ContextPadTarget} target\n *\n * @return { { html: HTMLElement } }\n */\nContextPad.prototype.getPad = function(target) {\n  console.warn(new Error('ContextPad#getPad is deprecated and will be removed in future library versions, cf. https://github.com/bpmn-io/diagram-js/pull/888'));\n\n  let html;\n\n  if (this.isOpen() && targetsEqual(this._current.target, target)) {\n    html = this._current.html;\n  } else {\n    html = this._createHtml(target);\n  }\n\n  return { html };\n};\n\n\n/**\n * Close the context pad\n */\nContextPad.prototype.close = function() {\n  if (!this.isOpen()) {\n    return;\n  }\n\n  clearTimeout(this._timeout);\n\n  this._container.innerHTML = '';\n\n  this._eventBus.fire('contextPad.close', { current: this._current });\n\n  this._current = null;\n};\n\n/**\n * Check if pad is open.\n *\n * If target is provided, check if it is opened\n * for the given target (single or multiple elements).\n *\n * @param {ContextPadTarget} [target]\n * @return {boolean}\n */\nContextPad.prototype.isOpen = function(target) {\n  var current = this._current;\n\n  if (!current) {\n    return false;\n  }\n\n  // basic no-args is open check\n  if (!target) {\n    return true;\n  }\n\n  var currentTarget = current.target;\n\n  // strict handling of single vs. multi-selection\n  if (isArray(target) !== isArray(currentTarget)) {\n    return false;\n  }\n\n  if (isArray(target)) {\n    return (\n      target.length === currentTarget.length &&\n      every(target, function(element) {\n        return currentTarget.includes(element);\n      })\n    );\n  } else {\n    return currentTarget === target;\n  }\n};\n\n\n/**\n * Check if pad is open and not hidden.\n *\n * @return {boolean}\n */\nContextPad.prototype.isShown = function() {\n  return this.isOpen() && domClasses(this._current.html).has('open');\n};\n\n/**\n * Show context pad.\n */\nContextPad.prototype.show = function() {\n  if (!this.isOpen()) {\n    return;\n  }\n\n  domClasses(this._current.html).add('open');\n\n  this._updatePosition();\n\n  this._eventBus.fire('contextPad.show', { current: this._current });\n};\n\n/**\n * Hide context pad.\n */\nContextPad.prototype.hide = function() {\n  if (!this.isOpen()) {\n    return;\n  }\n\n  domClasses(this._current.html).remove('open');\n\n  this._eventBus.fire('contextPad.hide', { current: this._current });\n};\n\n/**\n * Get context pad position.\n *\n * If target is connection context pad will be positioned at connection end.\n *\n * If multiple targets context pad will be placed at top right corner bounding\n * box.\n *\n * @param {ContextPadTarget} target\n *\n * @return {RectTRBL & { x: number, y: number }}\n */\nContextPad.prototype._getPosition = function(target) {\n  if (!isArray(target) && isConnection(target)) {\n    var viewbox = this._canvas.viewbox();\n\n    var lastWaypoint = getLastWaypoint(target);\n\n    var x = lastWaypoint.x * viewbox.scale - viewbox.x * viewbox.scale,\n        y = lastWaypoint.y * viewbox.scale - viewbox.y * viewbox.scale;\n\n    return {\n      left: x + CONTEXT_PAD_MARGIN * this._canvas.zoom(),\n      top: y\n    };\n  }\n\n  var container = this._canvas.getContainer();\n\n  var containerBounds = container.getBoundingClientRect();\n\n  var targetBounds = this._getTargetBounds(target);\n\n  return {\n    left: targetBounds.right - containerBounds.left + CONTEXT_PAD_MARGIN * this._canvas.zoom(),\n    top: targetBounds.top - containerBounds.top\n  };\n};\n\n/**\n * Update context pad position.\n */\nContextPad.prototype._updatePosition = function() {\n\n  const updateFn = () => {\n    if (!this.isOpen()) {\n      return;\n    }\n\n    var html = this._current.html;\n\n    var position = this._getPosition(this._current.target);\n\n    if ('x' in position && 'y' in position) {\n      html.style.left = position.x + 'px';\n      html.style.top = position.y + 'px';\n    } else {\n      [\n        'top',\n        'right',\n        'bottom',\n        'left'\n      ].forEach(function(key) {\n        if (key in position) {\n          html.style[ key ] = position[ key ] + 'px';\n        }\n      });\n    }\n  };\n\n  this._scheduler.schedule(updateFn, 'ContextPad#_updatePosition');\n};\n\n/**\n * Update context pad visibility. Hide if any of the target elements is hidden\n * using the `djs-element-hidden` or `djs-label-hidden` markers.\n */\nContextPad.prototype._updateVisibility = function() {\n\n  const updateFn = () => {\n    if (!this.isOpen()) {\n      return;\n    }\n\n    var self = this;\n\n    var target = this._current.target;\n\n    var targets = isArray(target) ? target : [ target ];\n\n    var isHidden = targets.some(function(target) {\n      return self._canvas.hasMarker(target, MARKER_HIDDEN);\n    });\n\n    if (isHidden) {\n      self.hide();\n    } else {\n      self.show();\n    }\n  };\n\n  this._scheduler.schedule(updateFn, 'ContextPad#_updateVisibility');\n};\n\n/**\n * Get bounding client rect of target element(s).\n *\n * @param {ContextPadTarget} target\n *\n * @returns {Rect & RectTRBL}\n */\nContextPad.prototype._getTargetBounds = function(target) {\n  var self = this;\n\n  var elements = isArray(target) ? target : [ target ];\n\n  var elementsGfx = elements.map(function(element) {\n    return self._canvas.getGraphics(element);\n  });\n\n  return elementsGfx.reduce(function(bounds, elementGfx) {\n    const elementBounds = elementGfx.getBoundingClientRect();\n\n    bounds.top = Math.min(bounds.top, elementBounds.top);\n    bounds.right = Math.max(bounds.right, elementBounds.right);\n    bounds.bottom = Math.max(bounds.bottom, elementBounds.bottom);\n    bounds.left = Math.min(bounds.left, elementBounds.left);\n\n    bounds.x = bounds.left;\n    bounds.y = bounds.top;\n\n    bounds.width = bounds.right - bounds.left;\n    bounds.height = bounds.bottom - bounds.top;\n\n    return bounds;\n  }, {\n    top: Infinity,\n    right: -Infinity,\n    bottom: -Infinity,\n    left: Infinity\n  });\n};\n\n// helpers //////////\n\nfunction addClasses(element, classNames) {\n  var classes = domClasses(element);\n\n  classNames = isArray(classNames) ? classNames : classNames.split(/\\s+/g);\n\n  classNames.forEach(function(cls) {\n    classes.add(cls);\n  });\n}\n\nfunction getLastWaypoint(connection) {\n  return connection.waypoints[connection.waypoints.length - 1];\n}\n\n/**\n * @param {ContextPadTarget} target\n * @param {ContextPadTarget} otherTarget\n *\n * @return {boolean}\n */\nfunction targetsEqual(target, otherTarget) {\n  target = isArray(target) ? target : [ target ];\n  otherTarget = isArray(otherTarget) ? otherTarget : [ otherTarget ];\n\n  return target.length === otherTarget.length\n    && every(target, function(element) {\n      return otherTarget.includes(element);\n    });\n}","import InteractionEventsModule from '../interaction-events';\nimport OverlaysModule from '../overlays';\nimport SchedulerModule from '../scheduler';\n\nimport ContextPad from './ContextPad';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __depends__: [\n    InteractionEventsModule,\n    SchedulerModule,\n    OverlaysModule\n  ],\n  contextPad: [ 'type', ContextPad ]\n};","import {\r\n  append as svgAppend,\r\n  attr as svgAttr,\r\n  classes as svgClasses,\r\n  clone as svgClone,\r\n  create as svgCreate,\r\n} from 'tiny-svg';\r\n\r\nimport { query as domQuery } from 'min-dom';\r\n\r\nimport { getVisual } from '../../util/GraphicsUtil';\r\n\r\nimport Ids from '../../util/IdGenerator';\r\n\r\n/**\r\n * @typedef {import('../../core/Types').ElementLike} Element\r\n * @typedef {import('../../core/Types').ShapeLike} Shape\r\n *\r\n * @typedef {import('../../core/Canvas').default} Canvas\r\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\r\n * @typedef {import('../../core/EventBus').default} EventBus\r\n * @typedef {import('../../draw/Styles').default} Styles\r\n */\r\n\r\nconst cloneIds = new Ids('ps');\r\n\r\nvar MARKER_TYPES = [\r\n  'marker-start',\r\n  'marker-mid',\r\n  'marker-end'\r\n];\r\n\r\nvar NODES_CAN_HAVE_MARKER = [\r\n  'circle',\r\n  'ellipse',\r\n  'line',\r\n  'path',\r\n  'polygon',\r\n  'polyline',\r\n  'path',\r\n  'rect'\r\n];\r\n\r\n\r\n/**\r\n * Adds support for previews of moving/resizing elements.\r\n *\r\n * @param {ElementRegistry} elementRegistry\r\n * @param {EventBus} eventBus\r\n * @param {Canvas} canvas\r\n * @param {Styles} styles\r\n */\r\nexport default function PreviewSupport(elementRegistry, eventBus, canvas, styles) {\r\n  this._elementRegistry = elementRegistry;\r\n  this._canvas = canvas;\r\n  this._styles = styles;\r\n}\r\n\r\nPreviewSupport.$inject = [\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'canvas',\r\n  'styles'\r\n];\r\n\r\n// Markers are cleaned up with visuals, keep stub for compatibility\r\n// cf. https://github.com/camunda/camunda-modeler/issues/4307\r\nPreviewSupport.prototype.cleanUp = function() {\r\n  console.warn('PreviewSupport#cleanUp is deprecated and will be removed in future versions. You do not need to manually clean up previews anymore. cf. https://github.com/bpmn-io/diagram-js/pull/906');\r\n};\r\n\r\n/**\r\n * Returns graphics of an element.\r\n *\r\n * @param {Element} element\r\n *\r\n * @return {SVGElement}\r\n */\r\nPreviewSupport.prototype.getGfx = function(element) {\r\n  return this._elementRegistry.getGraphics(element);\r\n};\r\n\r\n/**\r\n * Adds a move preview of a given shape to a given SVG group.\r\n *\r\n * @param {Element} element The element to be moved.\r\n * @param {SVGElement} group The SVG group to add the preview to.\r\n * @param {SVGElement} [gfx] The optional graphical element of the element.\r\n * @param {string} [className=\"djs-dragger\"] The optional class name to add to the preview.\r\n *\r\n * @return {SVGElement} The preview.\r\n */\r\nPreviewSupport.prototype.addDragger = function(element, group, gfx, className = 'djs-dragger') {\r\n  gfx = gfx || this.getGfx(element);\r\n\r\n  var dragger = svgClone(gfx);\r\n  var bbox = gfx.getBoundingClientRect();\r\n\r\n  this._cloneMarkers(getVisual(dragger), className);\r\n\r\n  svgAttr(dragger, this._styles.cls(className, [], {\r\n    x: bbox.top,\r\n    y: bbox.left\r\n  }));\r\n\r\n  svgAppend(group, dragger);\r\n\r\n  svgAttr(dragger, 'data-preview-support-element-id', element.id);\r\n\r\n  return dragger;\r\n};\r\n\r\n/**\r\n * Adds a resize preview of a given shape to a given SVG group.\r\n *\r\n * @param {Shape} shape The element to be resized.\r\n * @param {SVGElement} group The SVG group to add the preview to.\r\n *\r\n * @return {SVGElement} The preview.\r\n */\r\nPreviewSupport.prototype.addFrame = function(shape, group) {\r\n\r\n  var frame = svgCreate('rect', {\r\n    class: 'djs-resize-overlay',\r\n    width:  shape.width,\r\n    height: shape.height,\r\n    x: shape.x,\r\n    y: shape.y\r\n  });\r\n\r\n  svgAppend(group, frame);\r\n\r\n  svgAttr(frame, 'data-preview-support-element-id', shape.id);\r\n\r\n  return frame;\r\n};\r\n\r\n/**\r\n * Clone all markers referenced by a node and its child nodes.\r\n *\r\n * @param {SVGElement} gfx\r\n * @param {string} [className=\"djs-dragger\"]\r\n */\r\nPreviewSupport.prototype._cloneMarkers = function(gfx, className = 'djs-dragger', rootGfx = gfx) {\r\n  var self = this;\r\n\r\n  if (gfx.childNodes) {\r\n\r\n    gfx.childNodes.forEach((childNode) => {\r\n      self._cloneMarkers(childNode, className, rootGfx);\r\n    });\r\n\r\n  }\r\n\r\n  if (!canHaveMarker(gfx)) {\r\n    return;\r\n  }\r\n\r\n  MARKER_TYPES.forEach(function(markerType) {\r\n    if (svgAttr(gfx, markerType)) {\r\n      var marker = getMarker(gfx, markerType, self._canvas.getContainer());\r\n\r\n      // Only clone marker if it is already present on the DOM\r\n      marker && self._cloneMarker(rootGfx, gfx, marker, markerType, className);\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * Clone marker referenced by an element.\r\n *\r\n * @param {SVGElement} gfx\r\n * @param {SVGElement} marker\r\n * @param {string} markerType\r\n * @param {string} [className=\"djs-dragger\"]\r\n */\r\nPreviewSupport.prototype._cloneMarker = function(parentGfx, gfx, marker, markerType, className = 'djs-dragger') {\r\n\r\n  // Add a random suffix to the marker ID in case the same marker is previewed multiple times\r\n  var clonedMarkerId = [ marker.id, className, cloneIds.next() ].join('-');\r\n\r\n  // reuse marker if it was part of original gfx\r\n  var copiedMarker = domQuery('marker#' + marker.id, parentGfx);\r\n\r\n  parentGfx = parentGfx || this._canvas._svg;\r\n\r\n  var clonedMarker = copiedMarker || svgClone(marker);\r\n\r\n  clonedMarker.id = clonedMarkerId;\r\n\r\n  svgClasses(clonedMarker).add(className);\r\n\r\n  var defs = domQuery(':scope > defs', parentGfx);\r\n\r\n  if (!defs) {\r\n    defs = svgCreate('defs');\r\n\r\n    svgAppend(parentGfx, defs);\r\n  }\r\n\r\n  svgAppend(defs, clonedMarker);\r\n\r\n  var reference = idToReference(clonedMarker.id);\r\n\r\n  svgAttr(gfx, markerType, reference);\r\n};\r\n\r\n// helpers //////////\r\n\r\n/**\r\n * Get marker of given type referenced by node.\r\n *\r\n * @param {HTMLElement} node\r\n * @param {string} markerType\r\n * @param {HTMLElement} [parentNode]\r\n *\r\n * @param {HTMLElement}\r\n */\r\nfunction getMarker(node, markerType, parentNode) {\r\n  var id = referenceToId(svgAttr(node, markerType));\r\n\r\n  return domQuery('marker#' + id, parentNode || document);\r\n}\r\n\r\n/**\r\n * Get ID of fragment within current document from its functional IRI reference.\r\n * References may use single or double quotes.\r\n *\r\n * @param {string} reference\r\n *\r\n * @return {string}\r\n */\r\nfunction referenceToId(reference) {\r\n  return reference.match(/url\\(['\"]?#([^'\"]*)['\"]?\\)/)[1];\r\n}\r\n\r\n/**\r\n * Get functional IRI reference for given ID of fragment within current document.\r\n *\r\n * @param {string} id\r\n *\r\n * @return {string}\r\n */\r\nfunction idToReference(id) {\r\n  return 'url(#' + id + ')';\r\n}\r\n\r\n/**\r\n * Check wether node type can have marker attributes.\r\n *\r\n * @param {HTMLElement} node\r\n *\r\n * @return {boolean}\r\n */\r\nfunction canHaveMarker(node) {\r\n  return NODES_CAN_HAVE_MARKER.indexOf(node.nodeName) !== -1;\r\n}","import PreviewSupport from './PreviewSupport';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __init__: [ 'previewSupport' ],\n  previewSupport: [ 'type', PreviewSupport ]\n};\n","var MARKER_OK = 'drop-ok',\n    MARKER_NOT_OK = 'drop-not-ok',\n    MARKER_ATTACH = 'attach-ok',\n    MARKER_NEW_PARENT = 'new-parent';\n\nimport {\n  assign,\n  filter,\n  find,\n  forEach,\n  isArray,\n  isNumber,\n  map\n} from 'min-dash';\n\nimport { getBBox } from '../../util/Elements';\n\nimport {\n  isConnection,\n  isLabel\n} from '../../util/ModelUtil';\n\n/**\n * @typedef {import('../../core/Types').ElementLike} Element\n * @typedef {import('../../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../../util/Types').Point} Point\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../dragging/Dragging').default} Dragging\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('../rules/Rules').default} Rules\n */\n\nvar PREFIX = 'create';\n\nvar HIGH_PRIORITY = 2000;\n\n\n/**\n * Create new elements through drag and drop.\n *\n * @param {Canvas} canvas\n * @param {Dragging} dragging\n * @param {EventBus} eventBus\n * @param {Modeling} modeling\n * @param {Rules} rules\n */\nexport default function Create(\n    canvas,\n    dragging,\n    eventBus,\n    modeling,\n    rules\n) {\n\n  // rules //////////\n\n  /**\n   * Check wether elements can be created.\n   *\n   * @param {Element[]} elements\n   * @param {Shape} target\n   * @param {Point} position\n   * @param {Element} [source]\n   *\n   * @return {boolean|null|Object}\n   */\n  function canCreate(elements, target, position, source, hints) {\n    if (!target) {\n      return false;\n    }\n\n    // ignore child elements and external labels\n    elements = filter(elements, function(element) {\n      var labelTarget = element.labelTarget;\n\n      return !element.parent && !(isLabel(element) && elements.indexOf(labelTarget) !== -1);\n    });\n\n    var shape = find(elements, function(element) {\n      return !isConnection(element);\n    });\n\n    var attach = false,\n        connect = false,\n        create = false;\n\n    // (1) attaching single shapes\n    if (isSingleShape(elements)) {\n      attach = rules.allowed('shape.attach', {\n        position: position,\n        shape: shape,\n        target: target\n      });\n    }\n\n    if (!attach) {\n\n      // (2) creating elements\n      if (isSingleShape(elements)) {\n        create = rules.allowed('shape.create', {\n          position: position,\n          shape: shape,\n          source: source,\n          target: target\n        });\n      } else {\n        create = rules.allowed('elements.create', {\n          elements: elements,\n          position: position,\n          target: target\n        });\n      }\n\n    }\n\n    var connectionTarget = hints.connectionTarget;\n\n    // (3) appending single shapes\n    if (create || attach) {\n      if (shape && source) {\n        connect = rules.allowed('connection.create', {\n          source: connectionTarget === source ? shape : source,\n          target: connectionTarget === source ? source : shape,\n          hints: {\n            targetParent: target,\n            targetAttach: attach\n          }\n        });\n      }\n\n      return {\n        attach: attach,\n        connect: connect\n      };\n    }\n\n    // ignore wether or not elements can be created\n    if (create === null || attach === null) {\n      return null;\n    }\n\n    return false;\n  }\n\n  function setMarker(element, marker) {\n    [ MARKER_ATTACH, MARKER_OK, MARKER_NOT_OK, MARKER_NEW_PARENT ].forEach(function(m) {\n\n      if (m === marker) {\n        canvas.addMarker(element, m);\n      } else {\n        canvas.removeMarker(element, m);\n      }\n    });\n  }\n\n  // event handling //////////\n\n  eventBus.on([ 'create.move', 'create.hover' ], function(event) {\n    var context = event.context,\n        elements = context.elements,\n        hover = event.hover,\n        source = context.source,\n        hints = context.hints || {};\n\n    if (!hover) {\n      context.canExecute = false;\n      context.target = null;\n\n      return;\n    }\n\n    ensureConstraints(event);\n\n    var position = {\n      x: event.x,\n      y: event.y\n    };\n\n    var canExecute = context.canExecute = hover && canCreate(elements, hover, position, source, hints);\n\n    if (hover && canExecute !== null) {\n      context.target = hover;\n\n      if (canExecute && canExecute.attach) {\n        setMarker(hover, MARKER_ATTACH);\n      } else {\n        setMarker(hover, canExecute ? MARKER_NEW_PARENT : MARKER_NOT_OK);\n      }\n    }\n  });\n\n  eventBus.on([ 'create.end', 'create.out', 'create.cleanup' ], function(event) {\n    var hover = event.hover;\n\n    if (hover) {\n      setMarker(hover, null);\n    }\n  });\n\n  eventBus.on('create.end', function(event) {\n    var context = event.context,\n        source = context.source,\n        shape = context.shape,\n        elements = context.elements,\n        target = context.target,\n        canExecute = context.canExecute,\n        attach = canExecute && canExecute.attach,\n        connect = canExecute && canExecute.connect,\n        hints = context.hints || {};\n\n    if (canExecute === false || !target) {\n      return false;\n    }\n\n    ensureConstraints(event);\n\n    var position = {\n      x: event.x,\n      y: event.y\n    };\n\n    if (connect) {\n      shape = modeling.appendShape(source, shape, position, target, {\n        attach: attach,\n        connection: connect === true ? {} : connect,\n        connectionTarget: hints.connectionTarget\n      });\n    } else {\n      elements = modeling.createElements(elements, position, target, assign({}, hints, {\n        attach: attach\n      }));\n\n      // update shape\n      shape = find(elements, function(element) {\n        return !isConnection(element);\n      });\n    }\n\n    // update elements and shape\n    assign(context, {\n      elements: elements,\n      shape: shape\n    });\n\n    assign(event, {\n      elements: elements,\n      shape: shape\n    });\n  });\n\n  function cancel() {\n    var context = dragging.context();\n\n    if (context && context.prefix === PREFIX) {\n      dragging.cancel();\n    }\n  }\n\n  // cancel on <elements.changed> that is not result of <drag.end>\n  eventBus.on('create.init', function() {\n    eventBus.on('elements.changed', cancel);\n\n    eventBus.once([ 'create.cancel', 'create.end' ], HIGH_PRIORITY, function() {\n      eventBus.off('elements.changed', cancel);\n    });\n  });\n\n  // API //////////\n\n  /**\n   * @param event\n   * @param elements\n   * @param {any} [context={}]\n   */\n  this.start = function(event, elements, context) {\n    if (!isArray(elements)) {\n      elements = [ elements ];\n    }\n\n    var shape = find(elements, function(element) {\n      return !isConnection(element);\n    });\n\n    if (!shape) {\n\n      // at least one shape is required\n      return;\n    }\n\n    context = assign({\n      elements: elements,\n      hints: {},\n      shape: shape\n    }, context || {});\n\n    // make sure each element has x and y\n    forEach(elements, function(element) {\n      if (!isNumber(element.x)) {\n        element.x = 0;\n      }\n\n      if (!isNumber(element.y)) {\n        element.y = 0;\n      }\n    });\n\n    var visibleElements = filter(elements, function(element) {\n      return !element.hidden;\n    });\n\n    var bbox = getBBox(visibleElements);\n\n    // center elements around cursor\n    forEach(elements, function(element) {\n      if (isConnection(element)) {\n        element.waypoints = map(element.waypoints, function(waypoint) {\n          return {\n            x: waypoint.x - bbox.x - bbox.width / 2,\n            y: waypoint.y - bbox.y - bbox.height / 2\n          };\n        });\n      }\n\n      assign(element, {\n        x: element.x - bbox.x - bbox.width / 2,\n        y: element.y - bbox.y - bbox.height / 2\n      });\n    });\n\n    dragging.init(event, PREFIX, {\n      cursor: 'grabbing',\n      autoActivate: true,\n      data: {\n        shape: shape,\n        elements: elements,\n        context: context\n      }\n    });\n  };\n}\n\nCreate.$inject = [\n  'canvas',\n  'dragging',\n  'eventBus',\n  'modeling',\n  'rules'\n];\n\n// helpers //////////\n\nfunction ensureConstraints(event) {\n  var context = event.context,\n      createConstraints = context.createConstraints;\n\n  if (!createConstraints) {\n    return;\n  }\n\n  if (createConstraints.left) {\n    event.x = Math.max(event.x, createConstraints.left);\n  }\n\n  if (createConstraints.right) {\n    event.x = Math.min(event.x, createConstraints.right);\n  }\n\n  if (createConstraints.top) {\n    event.y = Math.max(event.y, createConstraints.top);\n  }\n\n  if (createConstraints.bottom) {\n    event.y = Math.min(event.y, createConstraints.bottom);\n  }\n}\n\nfunction isSingleShape(elements) {\n  return elements && elements.length === 1 && !isConnection(elements[ 0 ]);\n}","import {\r\n  translate\r\n} from '../../util/SvgTransformUtil';\r\n\r\nimport { getVisual } from '../../util/GraphicsUtil';\r\n\r\nimport {\r\n  append as svgAppend,\r\n  attr as svgAttr,\r\n  create as svgCreate,\r\n  remove as svgRemove\r\n} from 'tiny-svg';\r\n\r\n/**\r\n * @typedef {import('../../core/Canvas').default} Canvas\r\n * @typedef {import('../../core/EventBus').default} EventBus\r\n * @typedef {import('../../core/GraphicsFactory').default} GraphicsFactory\r\n * @typedef {import('../preview-support/PreviewSupport').default} PreviewSupport\r\n * @typedef {import('../../draw/Styles').default} Styles\r\n */\r\n\r\nvar LOW_PRIORITY = 750;\r\n\r\n/**\r\n * @param {Canvas} canvas\r\n * @param {EventBus} eventBus\r\n * @param {GraphicsFactory} graphicsFactory\r\n * @param {PreviewSupport} previewSupport\r\n * @param {Styles} styles\r\n */\r\nexport default function CreatePreview(\r\n    canvas,\r\n    eventBus,\r\n    graphicsFactory,\r\n    previewSupport,\r\n    styles\r\n) {\r\n  function createDragGroup(elements) {\r\n    var dragGroup = svgCreate('g');\r\n\r\n    svgAttr(dragGroup, styles.cls('djs-drag-group', [ 'no-events' ]));\r\n\r\n    var childrenGfx = svgCreate('g');\r\n\r\n    elements.forEach(function(element) {\r\n\r\n      // create graphics\r\n      var gfx;\r\n\r\n      if (element.hidden) {\r\n        return;\r\n      }\r\n\r\n      if (element.waypoints) {\r\n        gfx = graphicsFactory._createContainer('connection', childrenGfx);\r\n\r\n        graphicsFactory.drawConnection(getVisual(gfx), element);\r\n      } else {\r\n        gfx = graphicsFactory._createContainer('shape', childrenGfx);\r\n\r\n        graphicsFactory.drawShape(getVisual(gfx), element);\r\n\r\n        translate(gfx, element.x, element.y);\r\n      }\r\n\r\n      // add preview\r\n      previewSupport.addDragger(element, dragGroup, gfx);\r\n    });\r\n\r\n    return dragGroup;\r\n  }\r\n\r\n  eventBus.on('create.move', LOW_PRIORITY, function(event) {\r\n\r\n    var hover = event.hover,\r\n        context = event.context,\r\n        elements = context.elements,\r\n        dragGroup = context.dragGroup;\r\n\r\n    // lazily create previews\r\n    if (!dragGroup) {\r\n      dragGroup = context.dragGroup = createDragGroup(elements);\r\n    }\r\n\r\n    var activeLayer;\r\n\r\n    if (hover) {\r\n      if (!dragGroup.parentNode) {\r\n        activeLayer = canvas.getActiveLayer();\r\n\r\n        svgAppend(activeLayer, dragGroup);\r\n      }\r\n\r\n      translate(dragGroup, event.x, event.y);\r\n    } else {\r\n      svgRemove(dragGroup);\r\n    }\r\n  });\r\n\r\n  eventBus.on('create.cleanup', function(event) {\r\n    var context = event.context,\r\n        dragGroup = context.dragGroup;\r\n\r\n    if (dragGroup) {\r\n      svgRemove(dragGroup);\r\n    }\r\n  });\r\n}\r\n\r\nCreatePreview.$inject = [\r\n  'canvas',\r\n  'eventBus',\r\n  'graphicsFactory',\r\n  'previewSupport',\r\n  'styles'\r\n];\r\n","import DraggingModule from '../dragging';\nimport PreviewSupportModule from '../preview-support';\nimport RulesModule from '../rules';\nimport SelectionModule from '../selection';\n\nimport Create from './Create';\nimport CreatePreview from './CreatePreview';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __depends__: [\n    DraggingModule,\n    PreviewSupportModule,\n    RulesModule,\n    SelectionModule\n  ],\n  __init__: [\n    'create',\n    'createPreview'\n  ],\n  create: [ 'type', Create ],\n  createPreview: [ 'type', CreatePreview ]\n};\n","import {\n  forEach\n} from 'min-dash';\n\nimport {\n  closest as domClosest\n} from 'min-dom';\n\n/**\n * @typedef {import('../../core/EventBus').default} EventBus\n *\n * @typedef {import('../../core/EventBus').Event} Event\n */\n\nvar LOW_PRIORITY = 250;\n\n/**\n * The tool manager acts as middle-man between the available tool's and the Palette,\n * it takes care of making sure that the correct active state is set.\n *\n * @param {EventBus} eventBus\n */\nexport default function ToolManager(eventBus) {\n  this._eventBus = eventBus;\n\n  this._tools = [];\n  this._active = null;\n}\n\nToolManager.$inject = [ 'eventBus' ];\n\n/**\n * Register a tool.\n *\n * @param {string} name\n * @param { {\n *   tool: string;\n * } } events\n */\nToolManager.prototype.registerTool = function(name, events) {\n  var tools = this._tools;\n\n  if (!events) {\n    throw new Error('A tool has to be registered with it\\'s \"events\"');\n  }\n\n  tools.push(name);\n  this.bindEvents(name, events);\n};\n\nToolManager.prototype.isActive = function(tool) {\n  return tool && this._active === tool;\n};\n\nToolManager.prototype.length = function(tool) {\n  return this._tools.length;\n};\n\nToolManager.prototype.setActive = function(tool) {\n  var eventBus = this._eventBus;\n\n  if (this._active !== tool) {\n    this._active = tool;\n\n    eventBus.fire('tool-manager.update', { tool: tool });\n  }\n};\n\nToolManager.prototype.bindEvents = function(name, events) {\n  var eventBus = this._eventBus;\n\n  var eventsToRegister = [];\n\n  eventBus.on(events.tool + '.init', function(event) {\n    var context = event.context;\n\n    // Active tools that want to reactivate themselves must do this explicitly\n    if (!context.reactivate && this.isActive(name)) {\n      this.setActive(null);\n\n      return;\n    }\n\n    this.setActive(name);\n\n  }, this);\n\n  // TODO: add test cases\n  forEach(events, function(event) {\n    eventsToRegister.push(event + '.ended');\n    eventsToRegister.push(event + '.canceled');\n  });\n\n  eventBus.on(eventsToRegister, LOW_PRIORITY, function(event) {\n\n    // We defer the de-activation of the tool to the .activate phase,\n    // so we're able to check if we want to toggle off the current\n    // active tool or switch to a new one\n    if (!this._active) {\n      return;\n    }\n\n    if (isPaletteClick(event)) {\n      return;\n    }\n\n    this.setActive(null);\n  }, this);\n\n};\n\n\n// helpers ///////////////\n\n/**\n * Check if a given event is a palette click event.\n *\n * @param {Event} event\n *\n * @return {boolean}\n */\nfunction isPaletteClick(event) {\n  var target = event.originalEvent && event.originalEvent.target;\n\n  return target && domClosest(target, '.group[data-group=\"tools\"]');\n}","import DraggingModule from '../dragging';\n\nimport ToolManager from './ToolManager';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __depends__: [\n    DraggingModule\n  ],\n  __init__: [ 'toolManager' ],\n  toolManager: [ 'type', ToolManager ]\n};\n","/**\r\n * @typedef {import('../../core/EventBus').default} EventBus\r\n */\r\n\r\n/**\r\n * @param {EventBus} eventBus\r\n */\r\nexport default function Mouse(eventBus) {\r\n  var self = this;\r\n\r\n  this._lastMoveEvent = null;\r\n\r\n  function setLastMoveEvent(mousemoveEvent) {\r\n    self._lastMoveEvent = mousemoveEvent;\r\n  }\r\n\r\n  eventBus.on('canvas.init', function(context) {\r\n    var svg = self._svg = context.svg;\r\n\r\n    svg.addEventListener('mousemove', setLastMoveEvent);\r\n  });\r\n\r\n  eventBus.on('canvas.destroy', function() {\r\n    self._lastMouseEvent = null;\r\n\r\n    self._svg.removeEventListener('mousemove', setLastMoveEvent);\r\n  });\r\n}\r\n\r\nMouse.$inject = [ 'eventBus' ];\r\n\r\nMouse.prototype.getLastMoveEvent = function() {\r\n  return this._lastMoveEvent || createMoveEvent(0, 0);\r\n};\r\n\r\n// helpers //////////\r\n\r\nexport function createMoveEvent(x, y) {\r\n  var event = document.createEvent('MouseEvent');\r\n\r\n  var screenX = x,\r\n      screenY = y,\r\n      clientX = x,\r\n      clientY = y;\r\n\r\n  if (event.initMouseEvent) {\r\n    event.initMouseEvent(\r\n      'mousemove',\r\n      true,\r\n      true,\r\n      window,\r\n      0,\r\n      screenX,\r\n      screenY,\r\n      clientX,\r\n      clientY,\r\n      false,\r\n      false,\r\n      false,\r\n      false,\r\n      0,\r\n      null\r\n    );\r\n  }\r\n\r\n  return event;\r\n}","import Mouse from './Mouse';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __init__: [ 'mouse' ],\n  mouse: [ 'type', Mouse ]\n};\n","import { values } from 'min-dash';\n\nimport { getEnclosedElements } from '../../util/Elements';\n\nimport {\n  hasSecondaryModifier\n} from '../../util/Mouse';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../dragging/Dragging').default} Dragging\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../mouse/Mouse').default} Mouse\n * @typedef {import('../selection/Selection').default} Selection\n * @typedef {import('../tool-manager/ToolManager').default} ToolManager\n *\n * @typedef {import('../../util/Types').Rect} Rect\n */\n\nvar LASSO_TOOL_CURSOR = 'crosshair';\n\n/**\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {Dragging} dragging\n * @param {ElementRegistry} elementRegistry\n * @param {Selection} selection\n * @param {ToolManager} toolManager\n * @param {Mouse} mouse\n */\nexport default function LassoTool(\n    eventBus, canvas, dragging,\n    elementRegistry, selection, toolManager,\n    mouse) {\n\n  this._selection = selection;\n  this._dragging = dragging;\n  this._mouse = mouse;\n\n  var self = this;\n\n  // lasso visuals implementation\n\n  /**\n  * A helper that realizes the selection box visual\n  */\n  var visuals = {\n\n    create: function(context) {\n      var container = canvas.getActiveLayer(),\n          frame;\n\n      frame = context.frame = svgCreate('rect');\n      svgAttr(frame, {\n        class: 'djs-lasso-overlay',\n        width:  1,\n        height: 1,\n        x: 0,\n        y: 0\n      });\n\n      svgAppend(container, frame);\n    },\n\n    update: function(context) {\n      var frame = context.frame,\n          bbox = context.bbox;\n\n      svgAttr(frame, {\n        x: bbox.x,\n        y: bbox.y,\n        width: bbox.width,\n        height: bbox.height\n      });\n    },\n\n    remove: function(context) {\n\n      if (context.frame) {\n        svgRemove(context.frame);\n      }\n    }\n  };\n\n  toolManager.registerTool('lasso', {\n    tool: 'lasso.selection',\n    dragging: 'lasso'\n  });\n\n  eventBus.on('lasso.selection.end', function(event) {\n    var target = event.originalEvent.target;\n\n    // only reactive on diagram click\n    // on some occasions, event.hover is not set and we have to check if the target is an svg\n    if (!event.hover && !(target instanceof SVGElement)) {\n      return;\n    }\n\n    eventBus.once('lasso.selection.ended', function() {\n      self.activateLasso(event.originalEvent, true);\n    });\n  });\n\n  // lasso interaction implementation\n\n  eventBus.on('lasso.end', 0, function(event) {\n\n    var context = event.context;\n\n    var bbox = toBBox(event);\n\n    var elements = elementRegistry.filter(function(element) {\n      return element;\n    });\n\n    var add = hasSecondaryModifier(event);\n\n    self.select(elements, bbox, add ? context.selection : []);\n  });\n\n  eventBus.on('lasso.start', function(event) {\n\n    var context = event.context;\n\n    context.bbox = toBBox(event);\n    visuals.create(context);\n\n    context.selection = selection.get();\n  });\n\n  eventBus.on('lasso.move', function(event) {\n\n    var context = event.context;\n\n    context.bbox = toBBox(event);\n    visuals.update(context);\n  });\n\n  eventBus.on('lasso.cleanup', function(event) {\n\n    var context = event.context;\n\n    visuals.remove(context);\n  });\n\n\n  // event integration\n\n  eventBus.on('element.mousedown', 1500, function(event) {\n\n    if (!hasSecondaryModifier(event)) {\n      return;\n    }\n\n    self.activateLasso(event.originalEvent);\n\n    // we've handled the event\n    return true;\n  });\n}\n\nLassoTool.$inject = [\n  'eventBus',\n  'canvas',\n  'dragging',\n  'elementRegistry',\n  'selection',\n  'toolManager',\n  'mouse'\n];\n\n/**\n * Activate lasso.\n *\n * @param {MouseEvent} event\n * @param {boolean} [autoActivate=false]\n */\nLassoTool.prototype.activateLasso = function(event, autoActivate) {\n\n  this._dragging.init(event, 'lasso', {\n    autoActivate: autoActivate,\n    cursor: LASSO_TOOL_CURSOR,\n    data: {\n      context: {}\n    }\n  });\n};\n\n/**\n * Activate selection.\n *\n * @param {MouseEvent} event\n * @param {boolean} [autoActivate=false]\n */\nLassoTool.prototype.activateSelection = function(event, autoActivate) {\n\n  this._dragging.init(event, 'lasso.selection', {\n    trapClick: false,\n    autoActivate: autoActivate,\n    cursor: LASSO_TOOL_CURSOR,\n    data: {\n      context: {}\n    },\n    keepSelection: true\n  });\n};\n\n/**\n * Select elements within the given bounds.\n *\n * @param {Element[]} elements\n * @param {Rect} bbox\n * @param {Element[]} [previousSelection]\n */\nLassoTool.prototype.select = function(elements, bbox, previousSelection = []) {\n  var selectedElements = getEnclosedElements(elements, bbox);\n\n  this._selection.select([\n    ...previousSelection,\n    ...values(selectedElements)\n  ]);\n};\n\n/**\n * Toggle the lasso tool.\n */\nLassoTool.prototype.toggle = function() {\n  if (this.isActive()) {\n    return this._dragging.cancel();\n  }\n\n  var mouseEvent = this._mouse.getLastMoveEvent();\n\n  this.activateSelection(mouseEvent, !!mouseEvent);\n};\n\n/**\n * Check if the lasso tool is active.\n *\n * @returns {boolean}\n */\nLassoTool.prototype.isActive = function() {\n  var context = this._dragging.context();\n\n  return context && /^lasso/.test(context.prefix);\n};\n\n\nfunction toBBox(event) {\n\n  var start = {\n\n    x: event.x - event.dx,\n    y: event.y - event.dy\n  };\n\n  var end = {\n    x: event.x,\n    y: event.y\n  };\n\n  var bbox;\n\n  if ((start.x <= end.x && start.y < end.y) ||\n      (start.x < end.x && start.y <= end.y)) {\n\n    bbox = {\n      x: start.x,\n      y: start.y,\n      width:  end.x - start.x,\n      height: end.y - start.y\n    };\n  } else if ((start.x >= end.x && start.y < end.y) ||\n             (start.x > end.x && start.y <= end.y)) {\n\n    bbox = {\n      x: end.x,\n      y: start.y,\n      width:  start.x - end.x,\n      height: end.y - start.y\n    };\n  } else if ((start.x <= end.x && start.y > end.y) ||\n             (start.x < end.x && start.y >= end.y)) {\n\n    bbox = {\n      x: start.x,\n      y: end.y,\n      width:  end.x - start.x,\n      height: start.y - end.y\n    };\n  } else if ((start.x >= end.x && start.y > end.y) ||\n             (start.x > end.x && start.y >= end.y)) {\n\n    bbox = {\n      x: end.x,\n      y: end.y,\n      width:  start.x - end.x,\n      height: start.y - end.y\n    };\n  } else {\n\n    bbox = {\n      x: end.x,\n      y: end.y,\n      width:  0,\n      height: 0\n    };\n  }\n  return bbox;\n}\n","import ToolManagerModule from '../tool-manager';\nimport MouseModule from '../mouse';\n\nimport LassoTool from './LassoTool';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __depends__: [\n    ToolManagerModule,\n    MouseModule\n  ],\n  __init__: [ 'lassoTool' ],\n  lassoTool: [ 'type', LassoTool ]\n};\n","import {\n  uniqueBy,\n  isArray\n} from 'min-dash';\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../core/Types').ElementLike} ElementLike\n *\n * @typedef {import('../core/EventBus').default} EventBus\n * @typedef {import('./CommandHandler').default} CommandHandler\n *\n * @typedef { any } CommandContext\n * @typedef { {\n *   new (...args: any[]) : CommandHandler\n * } } CommandHandlerConstructor\n * @typedef { {\n *   [key: string]: CommandHandler;\n * } } CommandHandlerMap\n * @typedef { {\n *   command: string;\n *   context: any;\n *   id?: any;\n * } } CommandStackAction\n * @typedef { {\n *   actions: CommandStackAction[];\n *   dirty: ElementLike[];\n *   trigger: 'execute' | 'undo' | 'redo' | 'clear' | null;\n *   atomic?: boolean;\n * } } CurrentExecution\n */\n\n/**\n * A service that offers un- and redoable execution of commands.\n *\n * The command stack is responsible for executing modeling actions\n * in a un- and redoable manner. To do this it delegates the actual\n * command execution to {@link CommandHandler}s.\n *\n * Command handlers provide {@link CommandHandler#execute(ctx)} and\n * {@link CommandHandler#revert(ctx)} methods to un- and redo a command\n * identified by a command context.\n *\n *\n * ## Life-Cycle events\n *\n * In the process the command stack fires a number of life-cycle events\n * that other components to participate in the command execution.\n *\n *    * preExecute\n *    * preExecuted\n *    * execute\n *    * executed\n *    * postExecute\n *    * postExecuted\n *    * revert\n *    * reverted\n *\n * A special event is used for validating, whether a command can be\n * performed prior to its execution.\n *\n *    * canExecute\n *\n * Each of the events is fired as `commandStack.{eventName}` and\n * `commandStack.{commandName}.{eventName}`, respectively. This gives\n * components fine grained control on where to hook into.\n *\n * The event object fired transports `command`, the name of the\n * command and `context`, the command context.\n *\n *\n * ## Creating Command Handlers\n *\n * Command handlers should provide the {@link CommandHandler#execute(ctx)}\n * and {@link CommandHandler#revert(ctx)} methods to implement\n * redoing and undoing of a command.\n *\n * A command handler _must_ ensure undo is performed properly in order\n * not to break the undo chain. It must also return the shapes that\n * got changed during the `execute` and `revert` operations.\n *\n * Command handlers may execute other modeling operations (and thus\n * commands) in their `preExecute(d)` and `postExecute(d)` phases. The command\n * stack will properly group all commands together into a logical unit\n * that may be re- and undone atomically.\n *\n * Command handlers must not execute other commands from within their\n * core implementation (`execute`, `revert`).\n *\n *\n * ## Change Tracking\n *\n * During the execution of the CommandStack it will keep track of all\n * elements that have been touched during the command's execution.\n *\n * At the end of the CommandStack execution it will notify interested\n * components via an 'elements.changed' event with all the dirty\n * elements.\n *\n * The event can be picked up by components that are interested in the fact\n * that elements have been changed. One use case for this is updating\n * their graphical representation after moving / resizing or deletion.\n *\n * @see CommandHandler\n *\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nexport default function CommandStack(eventBus, injector) {\n\n  /**\n   * A map of all registered command handlers.\n   *\n   * @type {CommandHandlerMap}\n   */\n  this._handlerMap = {};\n\n  /**\n   * A stack containing all re/undoable actions on the diagram\n   *\n   * @type {CommandStackAction[]}\n   */\n  this._stack = [];\n\n  /**\n   * The current index on the stack\n   *\n   * @type {number}\n   */\n  this._stackIdx = -1;\n\n  /**\n   * Current active commandStack execution\n   *\n   * @type {CurrentExecution}\n   */\n  this._currentExecution = {\n    actions: [],\n    dirty: [],\n    trigger: null\n  };\n\n  /**\n   * @type {Injector}\n   */\n  this._injector = injector;\n\n  /**\n   * @type EventBus\n   */\n  this._eventBus = eventBus;\n\n  /**\n   * @type { number }\n   */\n  this._uid = 1;\n\n  eventBus.on([\n    'diagram.destroy',\n    'diagram.clear'\n  ], function() {\n    this.clear(false);\n  }, this);\n}\n\nCommandStack.$inject = [ 'eventBus', 'injector' ];\n\n\n/**\n * Execute a command.\n *\n * @param {string} command The command to execute.\n * @param {CommandContext} context The context with which to execute the command.\n */\nCommandStack.prototype.execute = function(command, context) {\n  if (!command) {\n    throw new Error('command required');\n  }\n\n  this._currentExecution.trigger = 'execute';\n\n  const action = { command: command, context: context };\n\n  this._pushAction(action);\n  this._internalExecute(action);\n  this._popAction();\n};\n\n\n/**\n * Check whether a command can be executed.\n *\n * Implementors may hook into the mechanism on two ways:\n *\n *   * in event listeners:\n *\n *     Users may prevent the execution via an event listener.\n *     It must prevent the default action for `commandStack.(<command>.)canExecute` events.\n *\n *   * in command handlers:\n *\n *     If the method {@link CommandHandler#canExecute} is implemented in a handler\n *     it will be called to figure out whether the execution is allowed.\n *\n * @param {string} command The command to execute.\n * @param {CommandContext} context The context with which to execute the command.\n *\n * @return {boolean} Whether the command can be executed with the given context.\n */\nCommandStack.prototype.canExecute = function(command, context) {\n\n  const action = { command: command, context: context };\n\n  const handler = this._getHandler(command);\n\n  let result = this._fire(command, 'canExecute', action);\n\n  // handler#canExecute will only be called if no listener\n  // decided on a result already\n  if (result === undefined) {\n    if (!handler) {\n      return false;\n    }\n\n    if (handler.canExecute) {\n      result = handler.canExecute(context);\n    }\n  }\n\n  return result;\n};\n\n\n/**\n * Clear the command stack, erasing all undo / redo history.\n *\n * @param {boolean} [emit=true] Whether to fire an event. Defaults to `true`.\n */\nCommandStack.prototype.clear = function(emit) {\n  this._stack.length = 0;\n  this._stackIdx = -1;\n\n  if (emit !== false) {\n    this._fire('changed', { trigger: 'clear' });\n  }\n};\n\n\n/**\n * Undo last command(s)\n */\nCommandStack.prototype.undo = function() {\n  let action = this._getUndoAction(),\n      next;\n\n  if (action) {\n    this._currentExecution.trigger = 'undo';\n\n    this._pushAction(action);\n\n    while (action) {\n      this._internalUndo(action);\n      next = this._getUndoAction();\n\n      if (!next || next.id !== action.id) {\n        break;\n      }\n\n      action = next;\n    }\n\n    this._popAction();\n  }\n};\n\n\n/**\n * Redo last command(s)\n */\nCommandStack.prototype.redo = function() {\n  let action = this._getRedoAction(),\n      next;\n\n  if (action) {\n    this._currentExecution.trigger = 'redo';\n\n    this._pushAction(action);\n\n    while (action) {\n      this._internalExecute(action, true);\n      next = this._getRedoAction();\n\n      if (!next || next.id !== action.id) {\n        break;\n      }\n\n      action = next;\n    }\n\n    this._popAction();\n  }\n};\n\n\n/**\n * Register a handler instance with the command stack.\n *\n * @param {string} command Command to be executed.\n * @param {CommandHandler} handler Handler to execute the command.\n */\nCommandStack.prototype.register = function(command, handler) {\n  this._setHandler(command, handler);\n};\n\n\n/**\n * Register a handler type with the command stack  by instantiating it and\n * injecting its dependencies.\n *\n * @param {string} command Command to be executed.\n * @param {CommandHandlerConstructor} handlerCls Constructor to instantiate a {@link CommandHandler}.\n */\nCommandStack.prototype.registerHandler = function(command, handlerCls) {\n\n  if (!command || !handlerCls) {\n    throw new Error('command and handlerCls must be defined');\n  }\n\n  const handler = this._injector.instantiate(handlerCls);\n  this.register(command, handler);\n};\n\n/**\n * @return {boolean}\n */\nCommandStack.prototype.canUndo = function() {\n  return !!this._getUndoAction();\n};\n\n/**\n * @return {boolean}\n */\nCommandStack.prototype.canRedo = function() {\n  return !!this._getRedoAction();\n};\n\n// stack access  //////////////////////\n\nCommandStack.prototype._getRedoAction = function() {\n  return this._stack[this._stackIdx + 1];\n};\n\n\nCommandStack.prototype._getUndoAction = function() {\n  return this._stack[this._stackIdx];\n};\n\n\n// internal functionality //////////////////////\n\nCommandStack.prototype._internalUndo = function(action) {\n  const command = action.command,\n        context = action.context;\n\n  const handler = this._getHandler(command);\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(() => {\n    this._fire(command, 'revert', action);\n\n    if (handler.revert) {\n      this._markDirty(handler.revert(context));\n    }\n\n    this._revertedAction(action);\n\n    this._fire(command, 'reverted', action);\n  });\n};\n\n\nCommandStack.prototype._fire = function(command, qualifier, event) {\n  if (arguments.length < 3) {\n    event = qualifier;\n    qualifier = null;\n  }\n\n  const names = qualifier ? [ command + '.' + qualifier, qualifier ] : [ command ];\n  let result;\n\n  event = this._eventBus.createEvent(event);\n\n  for (const name of names) {\n    result = this._eventBus.fire('commandStack.' + name, event);\n\n    if (event.cancelBubble) {\n      break;\n    }\n  }\n\n  return result;\n};\n\nCommandStack.prototype._createId = function() {\n  return this._uid++;\n};\n\nCommandStack.prototype._atomicDo = function(fn) {\n\n  const execution = this._currentExecution;\n\n  execution.atomic = true;\n\n  try {\n    fn();\n  } finally {\n    execution.atomic = false;\n  }\n};\n\nCommandStack.prototype._internalExecute = function(action, redo) {\n  const command = action.command,\n        context = action.context;\n\n  const handler = this._getHandler(command);\n\n  if (!handler) {\n    throw new Error('no command handler registered for <' + command + '>');\n  }\n\n  this._pushAction(action);\n\n  if (!redo) {\n    this._fire(command, 'preExecute', action);\n\n    if (handler.preExecute) {\n      handler.preExecute(context);\n    }\n\n    this._fire(command, 'preExecuted', action);\n  }\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(() => {\n\n    this._fire(command, 'execute', action);\n\n    if (handler.execute) {\n\n      // actual execute + mark return results as dirty\n      this._markDirty(handler.execute(context));\n    }\n\n    // log to stack\n    this._executedAction(action, redo);\n\n    this._fire(command, 'executed', action);\n  });\n\n  if (!redo) {\n    this._fire(command, 'postExecute', action);\n\n    if (handler.postExecute) {\n      handler.postExecute(context);\n    }\n\n    this._fire(command, 'postExecuted', action);\n  }\n\n  this._popAction();\n};\n\n\nCommandStack.prototype._pushAction = function(action) {\n\n  const execution = this._currentExecution,\n        actions = execution.actions;\n\n  const baseAction = actions[0];\n\n  if (execution.atomic) {\n    throw new Error('illegal invocation in <execute> or <revert> phase (action: ' + action.command + ')');\n  }\n\n  if (!action.id) {\n    action.id = (baseAction && baseAction.id) || this._createId();\n  }\n\n  actions.push(action);\n};\n\n\nCommandStack.prototype._popAction = function() {\n  const execution = this._currentExecution,\n        trigger = execution.trigger,\n        actions = execution.actions,\n        dirty = execution.dirty;\n\n  actions.pop();\n\n  if (!actions.length) {\n    this._eventBus.fire('elements.changed', { elements: uniqueBy('id', dirty.reverse()) });\n\n    dirty.length = 0;\n\n    this._fire('changed', { trigger: trigger });\n\n    execution.trigger = null;\n  }\n};\n\n\nCommandStack.prototype._markDirty = function(elements) {\n  const execution = this._currentExecution;\n\n  if (!elements) {\n    return;\n  }\n\n  elements = isArray(elements) ? elements : [ elements ];\n\n  execution.dirty = execution.dirty.concat(elements);\n};\n\n\nCommandStack.prototype._executedAction = function(action, redo) {\n  const stackIdx = ++this._stackIdx;\n\n  if (!redo) {\n    this._stack.splice(stackIdx, this._stack.length, action);\n  }\n};\n\n\nCommandStack.prototype._revertedAction = function(action) {\n  this._stackIdx--;\n};\n\n\nCommandStack.prototype._getHandler = function(command) {\n  return this._handlerMap[command];\n};\n\nCommandStack.prototype._setHandler = function(command, handler) {\n  if (!command || !handler) {\n    throw new Error('command and handler required');\n  }\n\n  if (this._handlerMap[command]) {\n    throw new Error('overriding handler for command <' + command + '>');\n  }\n\n  this._handlerMap[command] = handler;\n};\n","import CommandStack from './CommandStack';\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  commandStack: [ 'type', CommandStack ]\n};\n","import {\n  getType as getElementType\n} from '../../util/Elements';\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../../core/GraphicsFactory').default} GraphicsFactory\n */\n\n/**\n * Adds change support to the diagram, including\n *\n * <ul>\n *   <li>redrawing shapes and connections on change</li>\n * </ul>\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {ElementRegistry} elementRegistry\n * @param {GraphicsFactory} graphicsFactory\n */\nexport default function ChangeSupport(\n    eventBus, canvas, elementRegistry,\n    graphicsFactory) {\n\n\n  // redraw shapes / connections on change\n\n  eventBus.on('element.changed', function(event) {\n\n    var element = event.element;\n\n    // element might have been deleted and replaced by new element with same ID\n    // thus check for parent of element except for root element\n    if (element.parent || element === canvas.getRootElement()) {\n      event.gfx = elementRegistry.getGraphics(element);\n    }\n\n    // shape + gfx may have been deleted\n    if (!event.gfx) {\n      return;\n    }\n\n    eventBus.fire(getElementType(element) + '.changed', event);\n  });\n\n  eventBus.on('elements.changed', function(event) {\n\n    var elements = event.elements;\n\n    elements.forEach(function(e) {\n      eventBus.fire('element.changed', { element: e });\n    });\n\n    graphicsFactory.updateContainments(elements);\n  });\n\n  eventBus.on('shape.changed', function(event) {\n    graphicsFactory.update('shape', event.element, event.gfx);\n  });\n\n  eventBus.on('connection.changed', function(event) {\n    graphicsFactory.update('connection', event.element, event.gfx);\n  });\n}\n\nChangeSupport.$inject = [\n  'eventBus',\n  'canvas',\n  'elementRegistry',\n  'graphicsFactory'\n];","import ChangeSupport from './ChangeSupport';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __init__: [ 'changeSupport' ],\n  changeSupport: [ 'type', ChangeSupport ]\n};","import { forEach, isDefined } from 'min-dash';\n\n/**\n * @typedef {import('../../../core/Canvas').default} Canvas\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A handler that align elements in a certain way.\n *\n * @param {Modeling} modeling\n * @param {Canvas} canvas\n */\nexport default function AlignElements(modeling, canvas) {\n  this._modeling = modeling;\n  this._canvas = canvas;\n}\n\nAlignElements.$inject = [ 'modeling', 'canvas' ];\n\n\nAlignElements.prototype.preExecute = function(context) {\n  var modeling = this._modeling;\n\n  var elements = context.elements,\n      alignment = context.alignment;\n\n\n  forEach(elements, function(element) {\n    var delta = {\n      x: 0,\n      y: 0\n    };\n\n    if (isDefined(alignment.left)) {\n      delta.x = alignment.left - element.x;\n\n    } else if (isDefined(alignment.right)) {\n      delta.x = (alignment.right - element.width) - element.x;\n\n    } else if (isDefined(alignment.center)) {\n      delta.x = (alignment.center - Math.round(element.width / 2)) - element.x;\n\n    } else if (isDefined(alignment.top)) {\n      delta.y = alignment.top - element.y;\n\n    } else if (isDefined(alignment.bottom)) {\n      delta.y = (alignment.bottom - element.height) - element.y;\n\n    } else if (isDefined(alignment.middle)) {\n      delta.y = (alignment.middle - Math.round(element.height / 2)) - element.y;\n    }\n\n    modeling.moveElements([ element ], delta, element.parent);\n  });\n};\n\nAlignElements.prototype.postExecute = function(context) {\n\n};\n","import { some } from 'min-dash';\n\n/**\n * @typedef {import('../../../model/Types').Element} Element\n * @typedef {import('../../../model/Types').Parent} Parent\n * @typedef {import('../../../model/Types').Shape} Shape\n *\n * @typedef {import('../../../util/Types').Point} Point\n *\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A handler that implements reversible appending of shapes\n * to a source shape.\n *\n * @param {Modeling} modeling\n */\nexport default function AppendShapeHandler(modeling) {\n  this._modeling = modeling;\n}\n\nAppendShapeHandler.$inject = [ 'modeling' ];\n\n\n// api //////////////////////\n\n\n/**\n * Creates a new shape.\n *\n * @param {Object} context\n * @param {Partial<Shape>} context.shape The new shape.\n * @param {Element} context.source The element to which to append the new shape to.\n * @param {Parent} context.parent The parent.\n * @param {Point} context.position The position at which to create the new shape.\n */\nAppendShapeHandler.prototype.preExecute = function(context) {\n\n  var source = context.source;\n\n  if (!source) {\n    throw new Error('source required');\n  }\n\n  var target = context.target || source.parent,\n      shape = context.shape,\n      hints = context.hints || {};\n\n  shape = context.shape =\n    this._modeling.createShape(\n      shape,\n      context.position,\n      target, { attach: hints.attach });\n\n  context.shape = shape;\n};\n\nAppendShapeHandler.prototype.postExecute = function(context) {\n  var hints = context.hints || {};\n\n  if (!existsConnection(context.source, context.shape)) {\n\n    // create connection\n    if (hints.connectionTarget === context.source) {\n      this._modeling.connect(context.shape, context.source, context.connection);\n    } else {\n      this._modeling.connect(context.source, context.shape, context.connection);\n    }\n  }\n};\n\n\nfunction existsConnection(source, target) {\n  return some(source.outgoing, function(c) {\n    return c.target === target;\n  });\n}","/**\n * @typedef {import('../../../model/Types').Element} Element\n * @typedef {import('../../../model/Types').Shape} Shape\n *\n * @typedef {import('../../../util/Types').Point} Point\n *\n * @typedef {import('../Modeling').ModelingHints} ModelingHints\n *\n * @typedef {import('../../../core/Canvas').default} Canvas\n * @typedef {import('../../../layout/BaseLayouter').default} Layouter\n */\n\n/**\n * @param {Canvas} canvas\n * @param {Layouter} layouter\n */\nexport default function CreateConnectionHandler(canvas, layouter) {\n  this._canvas = canvas;\n  this._layouter = layouter;\n}\n\nCreateConnectionHandler.$inject = [ 'canvas', 'layouter' ];\n\n\n// api //////////////////////\n\n\n/**\n * Creates a new connection between two elements.\n *\n * @param {Object} context\n * @param {Element} context.source The source.\n * @param {Element} context.target The target.\n * @param {Shape} context.parent The parent.\n * @param {number} [context.parentIndex] The optional index at which to add the\n * connection to the parent's children.\n * @param {ModelingHints} [context.hints] The optional hints.\n */\nCreateConnectionHandler.prototype.execute = function(context) {\n\n  var connection = context.connection,\n      source = context.source,\n      target = context.target,\n      parent = context.parent,\n      parentIndex = context.parentIndex,\n      hints = context.hints;\n\n  if (!source || !target) {\n    throw new Error('source and target required');\n  }\n\n  if (!parent) {\n    throw new Error('parent required');\n  }\n\n  connection.source = source;\n  connection.target = target;\n\n  if (!connection.waypoints) {\n    connection.waypoints = this._layouter.layoutConnection(connection, hints);\n  }\n\n  // add connection\n  this._canvas.addConnection(connection, parent, parentIndex);\n\n  return connection;\n};\n\nCreateConnectionHandler.prototype.revert = function(context) {\n  var connection = context.connection;\n\n  this._canvas.removeConnection(connection);\n\n  connection.source = null;\n  connection.target = null;\n\n  return connection;\n};","import {\r\n  assign,\r\n  filter,\r\n  forEach,\r\n  isNumber,\r\n  map,\r\n  omit,\r\n  pick,\r\n  values\r\n} from 'min-dash';\r\n\r\nimport {\r\n  getBBox,\r\n  getParents\r\n} from '../../../util/Elements';\r\n\r\nimport {\r\n  isConnection,\r\n  isLabel\r\n} from '../../../util/ModelUtil';\r\n\r\n/**\r\n * @typedef {import('../Modeling').default} Modeling\r\n */\r\n\r\nvar round = Math.round;\r\n\r\n/**\r\n * @param {Modeling} modeling\r\n */\r\nexport default function CreateElementsHandler(modeling) {\r\n  this._modeling = modeling;\r\n}\r\n\r\nCreateElementsHandler.$inject = [\r\n  'modeling'\r\n];\r\n\r\nCreateElementsHandler.prototype.preExecute = function(context) {\r\n  var elements = context.elements,\r\n      parent = context.parent,\r\n      parentIndex = context.parentIndex,\r\n      position = context.position,\r\n      hints = context.hints;\r\n\r\n  var modeling = this._modeling;\r\n\r\n  // make sure each element has x and y\r\n  forEach(elements, function(element) {\r\n    if (!isNumber(element.x)) {\r\n      element.x = 0;\r\n    }\r\n\r\n    if (!isNumber(element.y)) {\r\n      element.y = 0;\r\n    }\r\n  });\r\n\r\n  var visibleElements = filter(elements, function(element) {\r\n    return !element.hidden;\r\n  });\r\n\r\n  var bbox = getBBox(visibleElements);\r\n\r\n  // center elements around position\r\n  forEach(elements, function(element) {\r\n    if (isConnection(element)) {\r\n      element.waypoints = map(element.waypoints, function(waypoint) {\r\n        return {\r\n          x: round(waypoint.x - bbox.x - bbox.width / 2 + position.x),\r\n          y: round(waypoint.y - bbox.y - bbox.height / 2 + position.y)\r\n        };\r\n      });\r\n    }\r\n\r\n    assign(element, {\r\n      x: round(element.x - bbox.x - bbox.width / 2 + position.x),\r\n      y: round(element.y - bbox.y - bbox.height / 2 + position.y)\r\n    });\r\n  });\r\n\r\n  var parents = getParents(elements);\r\n\r\n  var cache = {};\r\n\r\n  forEach(elements, function(element) {\r\n    if (isConnection(element)) {\r\n      cache[ element.id ] = isNumber(parentIndex) ?\r\n        modeling.createConnection(\r\n          cache[ element.source.id ],\r\n          cache[ element.target.id ],\r\n          parentIndex,\r\n          element,\r\n          element.parent || parent,\r\n          hints\r\n        ) :\r\n        modeling.createConnection(\r\n          cache[ element.source.id ],\r\n          cache[ element.target.id ],\r\n          element,\r\n          element.parent || parent,\r\n          hints\r\n        );\r\n\r\n      return;\r\n    }\r\n\r\n    var createShapeHints = assign({}, hints);\r\n\r\n    if (parents.indexOf(element) === -1) {\r\n      createShapeHints.autoResize = false;\r\n    }\r\n\r\n    if (isLabel(element)) {\r\n      createShapeHints = omit(createShapeHints, [ 'attach' ]);\r\n    }\r\n\r\n    cache[ element.id ] = isNumber(parentIndex) ?\r\n      modeling.createShape(\r\n        element,\r\n        pick(element, [ 'x', 'y', 'width', 'height' ]),\r\n        element.parent || parent,\r\n        parentIndex,\r\n        createShapeHints\r\n      ) :\r\n      modeling.createShape(\r\n        element,\r\n        pick(element, [ 'x', 'y', 'width', 'height' ]),\r\n        element.parent || parent,\r\n        createShapeHints\r\n      );\r\n  });\r\n\r\n  context.elements = values(cache);\r\n};","import { assign } from 'min-dash';\n\n/**\n * @typedef {import('../../../model/Types').Element} Element\n * @typedef {import('../../../util/Types').Point} Point\n *\n * @typedef {import('../../../core/Canvas').default} Canvas\n */\n\nvar round = Math.round;\n\n\n/**\n * A handler that implements reversible addition of shapes.\n *\n * @param {Canvas} canvas\n */\nexport default function CreateShapeHandler(canvas) {\n  this._canvas = canvas;\n}\n\nCreateShapeHandler.$inject = [ 'canvas' ];\n\n\n// api //////////////////////\n\n\n/**\n * Appends a shape to a target shape\n *\n * @param {Object} context\n * @param {Element} context.parent The parent.\n * @param {Point} context.position The position at which to create the new shape.\n * @param {number} [context.parentIndex] The optional index at which to add the\n * shape to the parent's children.\n */\nCreateShapeHandler.prototype.execute = function(context) {\n\n  var shape = context.shape,\n      positionOrBounds = context.position,\n      parent = context.parent,\n      parentIndex = context.parentIndex;\n\n  if (!parent) {\n    throw new Error('parent required');\n  }\n\n  if (!positionOrBounds) {\n    throw new Error('position required');\n  }\n\n  // (1) add at event center position _or_ at given bounds\n  if (positionOrBounds.width !== undefined) {\n    assign(shape, positionOrBounds);\n  } else {\n    assign(shape, {\n      x: positionOrBounds.x - round(shape.width / 2),\n      y: positionOrBounds.y - round(shape.height / 2)\n    });\n  }\n\n  // (2) add to canvas\n  this._canvas.addShape(shape, parent, parentIndex);\n\n  return shape;\n};\n\n\n/**\n * Undo append by removing the shape\n */\nCreateShapeHandler.prototype.revert = function(context) {\n\n  var shape = context.shape;\n\n  // (3) remove form canvas\n  this._canvas.removeShape(shape);\n\n  return shape;\n};","import inherits from 'inherits-browser';\n\nimport CreateShapeHandler from './CreateShapeHandler';\n\n/**\n * @typedef {import('../../../core/Canvas').default} Canvas\n *\n * @typedef {import('../../../model/Types').Element} Element\n * @typedef {import('../../../model/Types').Parent} Parent\n * @typedef {import('../../../model/Types').Shape} Shape\n * @typedef {import('../../../util/Types').Point} Point\n */\n\n/**\n * A handler that attaches a label to a given target shape.\n *\n * @param {Canvas} canvas\n */\nexport default function CreateLabelHandler(canvas) {\n  CreateShapeHandler.call(this, canvas);\n}\n\ninherits(CreateLabelHandler, CreateShapeHandler);\n\nCreateLabelHandler.$inject = [ 'canvas' ];\n\n\n// api //////////////////////\n\n\nvar originalExecute = CreateShapeHandler.prototype.execute;\n\n/**\n * Append label to element.\n *\n * @param { {\n *   parent: Parent;\n *   position: Point;\n *   shape: Shape;\n *   target: Element;\n * } } context\n */\nCreateLabelHandler.prototype.execute = function(context) {\n\n  var label = context.shape;\n\n  ensureValidDimensions(label);\n\n  label.labelTarget = context.labelTarget;\n\n  return originalExecute.call(this, context);\n};\n\nvar originalRevert = CreateShapeHandler.prototype.revert;\n\n/**\n * Revert appending by removing label.\n */\nCreateLabelHandler.prototype.revert = function(context) {\n  context.shape.labelTarget = null;\n\n  return originalRevert.call(this, context);\n};\n\n\n// helpers //////////////////////\n\nfunction ensureValidDimensions(label) {\n\n  // make sure a label has valid { width, height } dimensions\n  [ 'width', 'height' ].forEach(function(prop) {\n    if (typeof label[prop] === 'undefined') {\n      label[prop] = 0;\n    }\n  });\n}","/**\n * Remove from the beginning of a collection until it is empty.\n *\n * This is a null-safe operation that ensures elements\n * are being removed from the given collection until the\n * collection is empty.\n *\n * The implementation deals with the fact that a remove operation\n * may touch, i.e. remove multiple elements in the collection\n * at a time.\n *\n * @param {Object[]} [collection]\n * @param {(element: Object) => void} removeFn\n *\n * @return {Object[]} the cleared collection\n */\nexport function saveClear(collection, removeFn) {\n\n  if (typeof removeFn !== 'function') {\n    throw new Error('removeFn iterator must be a function');\n  }\n\n  if (!collection) {\n    return;\n  }\n\n  var e;\n\n  while ((e = collection[0])) {\n    removeFn(e);\n  }\n\n  return collection;\n}\n","import {\n  add as collectionAdd,\n  indexOf as collectionIdx\n} from '../../../util/Collections';\n\nimport { saveClear } from '../../../util/Removal';\n\n/**\n * @typedef {import('../../../core/Canvas').default} Canvas\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A handler that implements reversible deletion of Connections.\n */\nexport default function DeleteConnectionHandler(canvas, modeling) {\n  this._canvas = canvas;\n  this._modeling = modeling;\n}\n\nDeleteConnectionHandler.$inject = [\n  'canvas',\n  'modeling'\n];\n\n\n/**\n * - Remove connections\n */\nDeleteConnectionHandler.prototype.preExecute = function(context) {\n\n  var modeling = this._modeling;\n\n  var connection = context.connection;\n\n  // remove connections\n  saveClear(connection.incoming, function(connection) {\n\n    // To make sure that the connection isn't removed twice\n    // For example if a container is removed\n    modeling.removeConnection(connection, { nested: true });\n  });\n\n  saveClear(connection.outgoing, function(connection) {\n    modeling.removeConnection(connection, { nested: true });\n  });\n\n};\n\n\nDeleteConnectionHandler.prototype.execute = function(context) {\n\n  var connection = context.connection,\n      parent = connection.parent;\n\n  context.parent = parent;\n\n  // remember containment\n  context.parentIndex = collectionIdx(parent.children, connection);\n\n  context.source = connection.source;\n  context.target = connection.target;\n\n  this._canvas.removeConnection(connection);\n\n  connection.source = null;\n  connection.target = null;\n\n  return connection;\n};\n\n/**\n * Command revert implementation.\n */\nDeleteConnectionHandler.prototype.revert = function(context) {\n\n  var connection = context.connection,\n      parent = context.parent,\n      parentIndex = context.parentIndex;\n\n  connection.source = context.source;\n  connection.target = context.target;\n\n  // restore containment\n  collectionAdd(parent.children, connection, parentIndex);\n\n  this._canvas.addConnection(connection, parent);\n\n  return connection;\n};\n","import { forEach } from 'min-dash';\n\n/**\n * @typedef {import('../../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * @param {Modeling} modeling\n * @param {ElementRegistry} elementRegistry\n */\nexport default function DeleteElementsHandler(modeling, elementRegistry) {\n  this._modeling = modeling;\n  this._elementRegistry = elementRegistry;\n}\n\nDeleteElementsHandler.$inject = [\n  'modeling',\n  'elementRegistry'\n];\n\n\nDeleteElementsHandler.prototype.postExecute = function(context) {\n\n  var modeling = this._modeling,\n      elementRegistry = this._elementRegistry,\n      elements = context.elements;\n\n  forEach(elements, function(element) {\n\n    // element may have been removed with previous\n    // remove operations already (e.g. in case of nesting)\n    if (!elementRegistry.get(element.id)) {\n      return;\n    }\n\n    if (element.waypoints) {\n      modeling.removeConnection(element);\n    } else {\n      modeling.removeShape(element);\n    }\n  });\n};","import {\n  add as collectionAdd,\n  indexOf as collectionIdx\n} from '../../../util/Collections';\n\nimport { saveClear } from '../../../util/Removal';\n\nimport { isConnection } from '../../../util/ModelUtil';\n\n/**\n * @typedef {import('../../../core/Canvas').default} Canvas\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A handler that implements reversible deletion of shapes.\n *\n * @param {Canvas} canvas\n * @param {Modeling} modeling\n */\nexport default function DeleteShapeHandler(canvas, modeling) {\n  this._canvas = canvas;\n  this._modeling = modeling;\n}\n\nDeleteShapeHandler.$inject = [ 'canvas', 'modeling' ];\n\n\n/**\n * - Remove connections\n * - Remove all direct children\n */\nDeleteShapeHandler.prototype.preExecute = function(context) {\n\n  var modeling = this._modeling;\n\n  var shape = context.shape;\n\n  // remove connections\n  saveClear(shape.incoming, function(connection) {\n\n    // To make sure that the connection isn't removed twice\n    // For example if a container is removed\n    modeling.removeConnection(connection, { nested: true });\n  });\n\n  saveClear(shape.outgoing, function(connection) {\n    modeling.removeConnection(connection, { nested: true });\n  });\n\n  // remove child shapes and connections\n  saveClear(shape.children, function(child) {\n    if (isConnection(child)) {\n      modeling.removeConnection(child, { nested: true });\n    } else {\n      modeling.removeShape(child, { nested: true });\n    }\n  });\n};\n\n/**\n * Remove shape and remember the parent\n */\nDeleteShapeHandler.prototype.execute = function(context) {\n  var canvas = this._canvas;\n\n  var shape = context.shape,\n      oldParent = shape.parent;\n\n  context.oldParent = oldParent;\n\n  // remove containment\n  context.oldParentIndex = collectionIdx(oldParent.children, shape);\n\n  // remove shape\n  canvas.removeShape(shape);\n\n  return shape;\n};\n\n\n/**\n * Command revert implementation\n */\nDeleteShapeHandler.prototype.revert = function(context) {\n\n  var canvas = this._canvas;\n\n  var shape = context.shape,\n      oldParent = context.oldParent,\n      oldParentIndex = context.oldParentIndex;\n\n  // restore containment\n  collectionAdd(oldParent.children, shape, oldParentIndex);\n\n  canvas.addShape(shape, oldParent);\n\n  return shape;\n};\n","import {\n  forEach,\n  sortBy\n} from 'min-dash';\n\n/**\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A handler that distributes elements evenly.\n *\n * @param {Modeling} modeling\n */\nexport default function DistributeElements(modeling) {\n  this._modeling = modeling;\n}\n\nDistributeElements.$inject = [ 'modeling' ];\n\nvar OFF_AXIS = {\n  x: 'y',\n  y: 'x'\n};\n\nDistributeElements.prototype.preExecute = function(context) {\n  var modeling = this._modeling;\n\n  var groups = context.groups,\n      axis = context.axis,\n      dimension = context.dimension;\n\n  function updateRange(group, element) {\n    group.range.min = Math.min(element[axis], group.range.min);\n    group.range.max = Math.max(element[axis] + element[dimension], group.range.max);\n  }\n\n  function center(element) {\n    return element[axis] + element[dimension] / 2;\n  }\n\n  function lastIdx(arr) {\n    return arr.length - 1;\n  }\n\n  function rangeDiff(range) {\n    return range.max - range.min;\n  }\n\n  function centerElement(refCenter, element) {\n    var delta = { y: 0 };\n\n    delta[axis] = refCenter - center(element);\n\n    if (delta[axis]) {\n\n      delta[OFF_AXIS[axis]] = 0;\n\n      modeling.moveElements([ element ], delta, element.parent);\n    }\n  }\n\n  var firstGroup = groups[0],\n      lastGroupIdx = lastIdx(groups),\n      lastGroup = groups[ lastGroupIdx ];\n\n  var margin,\n      spaceInBetween,\n      groupsSize = 0; // the size of each range\n\n  forEach(groups, function(group, idx) {\n    var sortedElements,\n        refElem,\n        refCenter;\n\n    if (group.elements.length < 2) {\n      if (idx && idx !== groups.length - 1) {\n        updateRange(group, group.elements[0]);\n\n        groupsSize += rangeDiff(group.range);\n      }\n      return;\n    }\n\n    sortedElements = sortBy(group.elements, axis);\n\n    refElem = sortedElements[0];\n\n    if (idx === lastGroupIdx) {\n      refElem = sortedElements[lastIdx(sortedElements)];\n    }\n\n    refCenter = center(refElem);\n\n    // wanna update the ranges after the shapes have been centered\n    group.range = null;\n\n    forEach(sortedElements, function(element) {\n\n      centerElement(refCenter, element);\n\n      if (group.range === null) {\n        group.range = {\n          min: element[axis],\n          max: element[axis] + element[dimension]\n        };\n\n        return;\n      }\n\n      // update group's range after centering the range elements\n      updateRange(group, element);\n    });\n\n    if (idx && idx !== groups.length - 1) {\n      groupsSize += rangeDiff(group.range);\n    }\n  });\n\n  spaceInBetween = Math.abs(lastGroup.range.min - firstGroup.range.max);\n\n  margin = Math.round((spaceInBetween - groupsSize) / (groups.length - 1));\n\n  if (margin < groups.length - 1) {\n    return;\n  }\n\n  forEach(groups, function(group, groupIdx) {\n    var delta = {},\n        prevGroup;\n\n    if (group === firstGroup || group === lastGroup) {\n      return;\n    }\n\n    prevGroup = groups[groupIdx - 1];\n\n    group.range.max = 0;\n\n    forEach(group.elements, function(element, idx) {\n      delta[OFF_AXIS[axis]] = 0;\n      delta[axis] = (prevGroup.range.max - element[axis]) + margin;\n\n      if (group.range.min !== element[axis]) {\n        delta[axis] += element[axis] - group.range.min;\n      }\n\n      if (delta[axis]) {\n        modeling.moveElements([ element ], delta, element.parent);\n      }\n\n      group.range.max = Math.max(element[axis] + element[dimension], idx ? group.range.max : 0);\n    });\n  });\n};\n\nDistributeElements.prototype.postExecute = function(context) {\n\n};\n","import { assign } from 'min-dash';\n\n/**\n * @typedef {import('../../../core/Canvas').default} Canvas\n * @typedef {import('../../../layout/BaseLayouter').default} Layouter\n */\n\n/**\n * A handler that implements reversible moving of shapes.\n *\n * @param {Layouter} layouter\n * @param {Canvas} canvas\n */\nexport default function LayoutConnectionHandler(layouter, canvas) {\n  this._layouter = layouter;\n  this._canvas = canvas;\n}\n\nLayoutConnectionHandler.$inject = [ 'layouter', 'canvas' ];\n\nLayoutConnectionHandler.prototype.execute = function(context) {\n\n  var connection = context.connection;\n\n  var oldWaypoints = connection.waypoints;\n\n  assign(context, {\n    oldWaypoints: oldWaypoints\n  });\n\n  connection.waypoints = this._layouter.layoutConnection(connection, context.hints);\n\n  return connection;\n};\n\nLayoutConnectionHandler.prototype.revert = function(context) {\n\n  var connection = context.connection;\n\n  connection.waypoints = context.oldWaypoints;\n\n  return connection;\n};\n","import { forEach } from 'min-dash';\n\n\nimport {\n  add as collectionAdd,\n  remove as collectionRemove\n} from '../../../util/Collections';\n\n\n/**\n * A handler that implements reversible moving of connections.\n *\n * The handler differs from the layout connection handler in a sense\n * that it preserves the connection layout.\n */\nexport default function MoveConnectionHandler() { }\n\n\nMoveConnectionHandler.prototype.execute = function(context) {\n\n  var connection = context.connection,\n      delta = context.delta;\n\n  var newParent = context.newParent || connection.parent,\n      newParentIndex = context.newParentIndex,\n      oldParent = connection.parent;\n\n  // save old parent in context\n  context.oldParent = oldParent;\n  context.oldParentIndex = collectionRemove(oldParent.children, connection);\n\n  // add to new parent at position\n  collectionAdd(newParent.children, connection, newParentIndex);\n\n  // update parent\n  connection.parent = newParent;\n\n  // update waypoint positions\n  forEach(connection.waypoints, function(p) {\n    p.x += delta.x;\n    p.y += delta.y;\n\n    if (p.original) {\n      p.original.x += delta.x;\n      p.original.y += delta.y;\n    }\n  });\n\n  return connection;\n};\n\nMoveConnectionHandler.prototype.revert = function(context) {\n\n  var connection = context.connection,\n      newParent = connection.parent,\n      oldParent = context.oldParent,\n      oldParentIndex = context.oldParentIndex,\n      delta = context.delta;\n\n  // remove from newParent\n  collectionRemove(newParent.children, connection);\n\n  // restore previous location in old parent\n  collectionAdd(oldParent.children, connection, oldParentIndex);\n\n  // restore parent\n  connection.parent = oldParent;\n\n  // revert to old waypoint positions\n  forEach(connection.waypoints, function(p) {\n    p.x -= delta.x;\n    p.y -= delta.y;\n\n    if (p.original) {\n      p.original.x -= delta.x;\n      p.original.y -= delta.y;\n    }\n  });\n\n  return connection;\n};","import {\n  asTRBL,\n  getOrientation,\n  roundPoint\n} from '../layout/LayoutUtil';\n\nimport {\n  center,\n  delta\n} from './PositionUtil';\n\n/**\n * @typedef {import('../model/Types').Shape} Shape\n *\n * @typedef {import('../util/Types').Point} Point\n * @typedef {import('../util/Types').Rect} Rect\n */\n\n/**\n * Calculates the absolute point relative to the new element's position.\n *\n * @param {Point} point [absolute]\n * @param {Rect} oldBounds\n * @param {Rect} newBounds\n *\n * @return {Point} point [absolute]\n */\nexport function getNewAttachPoint(point, oldBounds, newBounds) {\n  var oldCenter = center(oldBounds),\n      newCenter = center(newBounds),\n      oldDelta = delta(point, oldCenter);\n\n  var newDelta = {\n    x: oldDelta.x * (newBounds.width / oldBounds.width),\n    y: oldDelta.y * (newBounds.height / oldBounds.height)\n  };\n\n  return roundPoint({\n    x: newCenter.x + newDelta.x,\n    y: newCenter.y + newDelta.y\n  });\n}\n\n\n/**\n * Calculates the shape's delta relative to a new position\n * of a certain element's bounds.\n *\n * @param {Shape} shape\n * @param {Rect} oldBounds\n * @param {Rect} newBounds\n *\n * @return {Point} delta\n */\nexport function getNewAttachShapeDelta(shape, oldBounds, newBounds) {\n  var shapeCenter = center(shape),\n      oldCenter = center(oldBounds),\n      newCenter = center(newBounds),\n      shapeDelta = delta(shape, shapeCenter),\n      oldCenterDelta = delta(shapeCenter, oldCenter),\n      stickyPositionDelta = getStickyPositionDelta(shapeCenter, oldBounds, newBounds);\n\n  if (stickyPositionDelta) {\n    return stickyPositionDelta;\n  }\n\n  var newCenterDelta = {\n    x: oldCenterDelta.x * (newBounds.width / oldBounds.width),\n    y: oldCenterDelta.y * (newBounds.height / oldBounds.height)\n  };\n\n  var newShapeCenter = {\n    x: newCenter.x + newCenterDelta.x,\n    y: newCenter.y + newCenterDelta.y\n  };\n\n  return roundPoint({\n    x: newShapeCenter.x + shapeDelta.x - shape.x,\n    y: newShapeCenter.y + shapeDelta.y - shape.y\n  });\n}\n\nfunction getStickyPositionDelta(oldShapeCenter, oldBounds, newBounds) {\n  var oldTRBL = asTRBL(oldBounds),\n      newTRBL = asTRBL(newBounds);\n\n  if (isMoved(oldTRBL, newTRBL)) {\n    return null;\n  }\n\n  var oldOrientation = getOrientation(oldBounds, oldShapeCenter),\n      stickyPositionDelta,\n      newShapeCenter,\n      newOrientation;\n\n  if (oldOrientation === 'top') {\n    stickyPositionDelta = {\n      x: 0,\n      y: newTRBL.bottom - oldTRBL.bottom\n    };\n  } else if (oldOrientation === 'bottom') {\n    stickyPositionDelta = {\n      x: 0,\n      y: newTRBL.top - oldTRBL.top\n    };\n  } else if (oldOrientation === 'right') {\n    stickyPositionDelta = {\n      x: newTRBL.left - oldTRBL.left,\n      y: 0\n    };\n  } else if (oldOrientation === 'left') {\n    stickyPositionDelta = {\n      x: newTRBL.right - oldTRBL.right,\n      y: 0\n    };\n  } else {\n\n    // fallback to proportional movement for corner-placed attachments\n    return null;\n  }\n\n  newShapeCenter = {\n    x: oldShapeCenter.x + stickyPositionDelta.x,\n    y: oldShapeCenter.y + stickyPositionDelta.y\n  };\n\n  newOrientation = getOrientation(newBounds, newShapeCenter);\n\n  if (newOrientation !== oldOrientation) {\n\n    // fallback to proportional movement if orientation would otherwise change\n    return null;\n  }\n\n  return stickyPositionDelta;\n}\n\nfunction isMoved(oldTRBL, newTRBL) {\n  return isHorizontallyMoved(oldTRBL, newTRBL) || isVerticallyMoved(oldTRBL, newTRBL);\n}\n\nfunction isHorizontallyMoved(oldTRBL, newTRBL) {\n  return oldTRBL.right !== newTRBL.right && oldTRBL.left !== newTRBL.left;\n}\n\nfunction isVerticallyMoved(oldTRBL, newTRBL) {\n  return oldTRBL.top !== newTRBL.top && oldTRBL.bottom !== newTRBL.bottom;\n}\n","import {\n  getNewAttachPoint\n} from '../../../../util/AttachUtil';\n\nimport {\n  getOrientation\n} from '../../../../layout/LayoutUtil';\n\nimport {\n  filter,\n  map\n} from 'min-dash';\n\n/**\n * @typedef {import('../../../../core/Types').ConnectionLike} Connection\n * @typedef {import('../../../../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../../../../util/Types').Point} Point\n * @typedef {import('../../../../util/Types').Rect} Rect\n */\n\n/**\n * @param {Connection} connection\n * @param {Shape} shape\n * @param {Rect} oldBounds\n * @return {Point}\n */\nexport function getResizedSourceAnchor(connection, shape, oldBounds) {\n\n  var waypoints = safeGetWaypoints(connection),\n      waypointsInsideNewBounds = getWaypointsInsideBounds(waypoints, shape),\n      oldAnchor = waypoints[0];\n\n  // new anchor is the last waypoint enclosed be resized source\n  if (waypointsInsideNewBounds.length) {\n    return waypointsInsideNewBounds[ waypointsInsideNewBounds.length - 1 ];\n  }\n\n  return getNewAttachPoint(oldAnchor.original || oldAnchor, oldBounds, shape);\n}\n\n\nexport function getResizedTargetAnchor(connection, shape, oldBounds) {\n\n  var waypoints = safeGetWaypoints(connection),\n      waypointsInsideNewBounds = getWaypointsInsideBounds(waypoints, shape),\n      oldAnchor = waypoints[waypoints.length - 1];\n\n  // new anchor is the first waypoint enclosed be resized target\n  if (waypointsInsideNewBounds.length) {\n    return waypointsInsideNewBounds[ 0 ];\n  }\n\n  return getNewAttachPoint(oldAnchor.original || oldAnchor, oldBounds, shape);\n}\n\n\nexport function getMovedSourceAnchor(connection, source, moveDelta) {\n\n  var waypoints = safeGetWaypoints(connection),\n      oldBounds = subtract(source, moveDelta),\n      oldAnchor = waypoints[ 0 ];\n\n  return getNewAttachPoint(oldAnchor.original || oldAnchor, oldBounds, source);\n}\n\n\nexport function getMovedTargetAnchor(connection, target, moveDelta) {\n\n  var waypoints = safeGetWaypoints(connection),\n      oldBounds = subtract(target, moveDelta),\n      oldAnchor = waypoints[ waypoints.length - 1 ];\n\n  return getNewAttachPoint(oldAnchor.original || oldAnchor, oldBounds, target);\n}\n\n\n// helpers //////////////////////\n\nfunction subtract(bounds, delta) {\n  return {\n    x: bounds.x - delta.x,\n    y: bounds.y - delta.y,\n    width: bounds.width,\n    height: bounds.height\n  };\n}\n\n\n/**\n * Return waypoints of given connection; throw if non exists (should not happen!!).\n *\n * @param {Connection} connection\n *\n * @return {Point[]}\n */\nfunction safeGetWaypoints(connection) {\n\n  var waypoints = connection.waypoints;\n\n  if (!waypoints.length) {\n    throw new Error('connection#' + connection.id + ': no waypoints');\n  }\n\n  return waypoints;\n}\n\nfunction getWaypointsInsideBounds(waypoints, bounds) {\n  var originalWaypoints = map(waypoints, getOriginal);\n\n  return filter(originalWaypoints, function(waypoint) {\n    return isInsideBounds(waypoint, bounds);\n  });\n}\n\n/**\n * Checks if point is inside bounds, incl. edges.\n *\n * @param {Point} point\n * @param {Rect} bounds\n */\nfunction isInsideBounds(point, bounds) {\n  return getOrientation(bounds, point, 1) === 'intersect';\n}\n\nfunction getOriginal(point) {\n  return point.original || point;\n}\n","import {\n  assign\n} from 'min-dash';\n\nimport {\n  getClosure\n} from '../../../../util/Elements';\n\n/**\n * @typedef {import('../../../../model/Types').Connection} Connection\n * @typedef {import('../../../../model/Types').Element} Element\n * @typedef {import('../../../../model/Types').Shape} Shape\n */\n\nexport default function MoveClosure() {\n\n  /**\n   * @type {Record<string, Shape>}\n   */\n  this.allShapes = {};\n\n  /**\n   * @type {Record<string, Connection>}\n   */\n  this.allConnections = {};\n\n  /**\n   * @type {Record<string, Element>}\n   */\n  this.enclosedElements = {};\n\n  /**\n   * @type {Record<string, Connection>}\n   */\n  this.enclosedConnections = {};\n\n  /**\n   * @type {Record<string, Element>}\n   */\n  this.topLevel = {};\n}\n\n/**\n * @param {Element} element\n * @param {boolean} [isTopLevel]\n *\n * @return {MoveClosure}\n */\nMoveClosure.prototype.add = function(element, isTopLevel) {\n  return this.addAll([ element ], isTopLevel);\n};\n\n/**\n * @param {Element[]} elements\n * @param {boolean} [isTopLevel]\n *\n * @return {MoveClosure}\n */\nMoveClosure.prototype.addAll = function(elements, isTopLevel) {\n\n  var newClosure = getClosure(elements, !!isTopLevel, this);\n\n  assign(this, newClosure);\n\n  return this;\n};","import {\n  forEach\n} from 'min-dash';\n\nimport {\n  getMovedSourceAnchor,\n  getMovedTargetAnchor\n} from './AnchorsHelper';\n\nimport MoveClosure from './MoveClosure';\n\n/**\n * @typedef {import('../../../../core/Types').ElementLike} Element\n * @typedef {import('../../../../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../../../../util/Types').Point} Point\n *\n * @typedef {import('../../Modeling').default} Modeling\n */\n\n/**\n * A helper that is able to carry out serialized move\n * operations on multiple elements.\n *\n * @param {Modeling} modeling\n */\nexport default function MoveHelper(modeling) {\n  this._modeling = modeling;\n}\n\n/**\n * Move the specified elements and all children by the given delta.\n *\n * This moves all enclosed connections, too and layouts all affected\n * external connections.\n *\n * @template {Element} T\n *\n * @param {T[]} elements\n * @param {Point} delta\n * @param {Shape} newParent The new parent of all elements that are not nested.\n *\n * @return {T[]}\n */\nMoveHelper.prototype.moveRecursive = function(elements, delta, newParent) {\n  if (!elements) {\n    return [];\n  } else {\n    return this.moveClosure(this.getClosure(elements), delta, newParent);\n  }\n};\n\n/**\n * Move the given closure of elmements.\n *\n * @param {Object} closure\n * @param {Point} delta\n * @param {Shape} [newParent]\n * @param {Shape} [newHost]\n */\nMoveHelper.prototype.moveClosure = function(closure, delta, newParent, newHost, primaryShape) {\n  var modeling = this._modeling;\n\n  var allShapes = closure.allShapes,\n      allConnections = closure.allConnections,\n      enclosedConnections = closure.enclosedConnections,\n      topLevel = closure.topLevel,\n      keepParent = false;\n\n  if (primaryShape && primaryShape.parent === newParent) {\n    keepParent = true;\n  }\n\n  // move all shapes\n  forEach(allShapes, function(shape) {\n\n    // move the element according to the given delta\n    modeling.moveShape(shape, delta, topLevel[shape.id] && !keepParent && newParent, {\n      recurse: false,\n      layout: false\n    });\n  });\n\n  // move all child connections / layout external connections\n  forEach(allConnections, function(c) {\n\n    var sourceMoved = !!allShapes[c.source.id],\n        targetMoved = !!allShapes[c.target.id];\n\n    if (enclosedConnections[c.id] && sourceMoved && targetMoved) {\n      modeling.moveConnection(c, delta, topLevel[c.id] && !keepParent && newParent);\n    } else {\n      modeling.layoutConnection(c, {\n        connectionStart: sourceMoved && getMovedSourceAnchor(c, c.source, delta),\n        connectionEnd: targetMoved && getMovedTargetAnchor(c, c.target, delta)\n      });\n    }\n  });\n};\n\n/**\n * Returns the closure for the selected elements\n *\n * @param {Element[]} elements\n *\n * @return {MoveClosure}\n */\nMoveHelper.prototype.getClosure = function(elements) {\n  return new MoveClosure().addAll(elements, true);\n};","import MoveHelper from './helper/MoveHelper';\n\n/**\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A handler that implements reversible moving of shapes.\n *\n * @param {Modeling} modeling\n */\nexport default function MoveElementsHandler(modeling) {\n  this._helper = new MoveHelper(modeling);\n}\n\nMoveElementsHandler.$inject = [ 'modeling' ];\n\nMoveElementsHandler.prototype.preExecute = function(context) {\n  context.closure = this._helper.getClosure(context.shapes);\n};\n\nMoveElementsHandler.prototype.postExecute = function(context) {\n\n  var hints = context.hints,\n      primaryShape;\n\n  if (hints && hints.primaryShape) {\n    primaryShape = hints.primaryShape;\n    hints.oldParent = primaryShape.parent;\n  }\n\n  this._helper.moveClosure(\n    context.closure,\n    context.delta,\n    context.newParent,\n    context.newHost,\n    primaryShape\n  );\n};","import {\n  assign,\n  forEach,\n  pick\n} from 'min-dash';\n\nimport MoveHelper from './helper/MoveHelper';\n\nimport {\n  add as collectionAdd,\n  remove as collectionRemove\n} from '../../../util/Collections';\n\nimport {\n  getMovedSourceAnchor,\n  getMovedTargetAnchor\n} from './helper/AnchorsHelper';\n\n/**\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A handler that implements reversible moving of shapes.\n *\n * @param {Modeling} modeling\n */\nexport default function MoveShapeHandler(modeling) {\n  this._modeling = modeling;\n\n  this._helper = new MoveHelper(modeling);\n}\n\nMoveShapeHandler.$inject = [ 'modeling' ];\n\n\nMoveShapeHandler.prototype.execute = function(context) {\n\n  var shape = context.shape,\n      delta = context.delta,\n      newParent = context.newParent || shape.parent,\n      newParentIndex = context.newParentIndex,\n      oldParent = shape.parent;\n\n  context.oldBounds = pick(shape, [ 'x', 'y', 'width', 'height' ]);\n\n  // save old parent in context\n  context.oldParent = oldParent;\n  context.oldParentIndex = collectionRemove(oldParent.children, shape);\n\n  // add to new parent at position\n  collectionAdd(newParent.children, shape, newParentIndex);\n\n  // update shape parent + position\n  assign(shape, {\n    parent: newParent,\n    x: shape.x + delta.x,\n    y: shape.y + delta.y\n  });\n\n  return shape;\n};\n\nMoveShapeHandler.prototype.postExecute = function(context) {\n\n  var shape = context.shape,\n      delta = context.delta,\n      hints = context.hints;\n\n  var modeling = this._modeling;\n\n  if (hints.layout !== false) {\n\n    forEach(shape.incoming, function(c) {\n      modeling.layoutConnection(c, {\n        connectionEnd: getMovedTargetAnchor(c, shape, delta)\n      });\n    });\n\n    forEach(shape.outgoing, function(c) {\n      modeling.layoutConnection(c, {\n        connectionStart: getMovedSourceAnchor(c, shape, delta)\n      });\n    });\n  }\n\n  if (hints.recurse !== false) {\n    this.moveChildren(context);\n  }\n};\n\nMoveShapeHandler.prototype.revert = function(context) {\n\n  var shape = context.shape,\n      oldParent = context.oldParent,\n      oldParentIndex = context.oldParentIndex,\n      delta = context.delta;\n\n  // restore previous location in old parent\n  collectionAdd(oldParent.children, shape, oldParentIndex);\n\n  // revert to old position and parent\n  assign(shape, {\n    parent: oldParent,\n    x: shape.x - delta.x,\n    y: shape.y - delta.y\n  });\n\n  return shape;\n};\n\nMoveShapeHandler.prototype.moveChildren = function(context) {\n\n  var delta = context.delta,\n      shape = context.shape;\n\n  this._helper.moveRecursive(shape.children, delta, null);\n};\n\nMoveShapeHandler.prototype.getNewParent = function(context) {\n  return context.newParent || context.shape.parent;\n};\n","import { isArray } from 'min-dash';\n\n/**\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * Reconnect connection handler.\n *\n * @param {Modeling} modeling\n */\nexport default function ReconnectConnectionHandler(modeling) {\n  this._modeling = modeling;\n}\n\nReconnectConnectionHandler.$inject = [ 'modeling' ];\n\nReconnectConnectionHandler.prototype.execute = function(context) {\n  var newSource = context.newSource,\n      newTarget = context.newTarget,\n      connection = context.connection,\n      dockingOrPoints = context.dockingOrPoints;\n\n  if (!newSource && !newTarget) {\n    throw new Error('newSource or newTarget required');\n  }\n\n  if (isArray(dockingOrPoints)) {\n    context.oldWaypoints = connection.waypoints;\n    connection.waypoints = dockingOrPoints;\n  }\n\n  if (newSource) {\n    context.oldSource = connection.source;\n    connection.source = newSource;\n  }\n\n  if (newTarget) {\n    context.oldTarget = connection.target;\n    connection.target = newTarget;\n  }\n\n  return connection;\n};\n\nReconnectConnectionHandler.prototype.postExecute = function(context) {\n  var connection = context.connection,\n      newSource = context.newSource,\n      newTarget = context.newTarget,\n      dockingOrPoints = context.dockingOrPoints,\n      hints = context.hints || {};\n\n  var layoutConnectionHints = {};\n\n  if (hints.connectionStart) {\n    layoutConnectionHints.connectionStart = hints.connectionStart;\n  }\n\n  if (hints.connectionEnd) {\n    layoutConnectionHints.connectionEnd = hints.connectionEnd;\n  }\n\n  if (hints.layoutConnection === false) {\n    return;\n  }\n\n  if (newSource && (!newTarget || hints.docking === 'source')) {\n    layoutConnectionHints.connectionStart = layoutConnectionHints.connectionStart\n      || getDocking(isArray(dockingOrPoints) ? dockingOrPoints[ 0 ] : dockingOrPoints);\n  }\n\n  if (newTarget && (!newSource || hints.docking === 'target')) {\n    layoutConnectionHints.connectionEnd = layoutConnectionHints.connectionEnd\n      || getDocking(isArray(dockingOrPoints) ? dockingOrPoints[ dockingOrPoints.length - 1 ] : dockingOrPoints);\n  }\n\n  if (hints.newWaypoints) {\n    layoutConnectionHints.waypoints = hints.newWaypoints;\n  }\n\n  this._modeling.layoutConnection(connection, layoutConnectionHints);\n};\n\nReconnectConnectionHandler.prototype.revert = function(context) {\n  var oldSource = context.oldSource,\n      oldTarget = context.oldTarget,\n      oldWaypoints = context.oldWaypoints,\n      connection = context.connection;\n\n  if (oldSource) {\n    connection.source = oldSource;\n  }\n\n  if (oldTarget) {\n    connection.target = oldTarget;\n  }\n\n  if (oldWaypoints) {\n    connection.waypoints = oldWaypoints;\n  }\n\n  return connection;\n};\n\n\n\n// helpers //////////\n\nfunction getDocking(point) {\n  return point.original || point;\n}","import { forEach } from 'min-dash';\n\nimport {\n  getResizedSourceAnchor,\n  getResizedTargetAnchor\n} from './helper/AnchorsHelper';\n\n/**\n * @typedef {import('../../model/Types').Shape} Shape\n *\n * @typedef {import('../Modeling').default} Modeling\n * @typedef {import('../../rules/Rules').default} Rules\n */\n\n/**\n * Replace shape by adding new shape and removing old shape. Incoming and outgoing connections will\n * be kept if possible.\n *\n * @class\n * @constructor\n *\n * @param {Modeling} modeling\n * @param {Rules} rules\n */\nexport default function ReplaceShapeHandler(modeling, rules) {\n  this._modeling = modeling;\n  this._rules = rules;\n}\n\nReplaceShapeHandler.$inject = [ 'modeling', 'rules' ];\n\n\n/**\n * Add new shape.\n *\n * @param {Object} context\n * @param {Shape} context.oldShape\n * @param {Object} context.newData\n * @param {string} context.newData.type\n * @param {number} context.newData.x\n * @param {number} context.newData.y\n * @param {Object} [context.hints]\n */\nReplaceShapeHandler.prototype.preExecute = function(context) {\n  var self = this,\n      modeling = this._modeling,\n      rules = this._rules;\n\n  var oldShape = context.oldShape,\n      newData = context.newData,\n      hints = context.hints || {},\n      newShape;\n\n  function canReconnect(source, target, connection) {\n    return rules.allowed('connection.reconnect', {\n      connection: connection,\n      source: source,\n      target: target\n    });\n  }\n\n  // (1) add new shape at given position\n  var position = {\n    x: newData.x,\n    y: newData.y\n  };\n\n  var oldBounds = {\n    x: oldShape.x,\n    y: oldShape.y,\n    width: oldShape.width,\n    height: oldShape.height\n  };\n\n  newShape = context.newShape =\n    context.newShape ||\n    self.createShape(newData, position, oldShape.parent, hints);\n\n  // (2) update host\n  if (oldShape.host) {\n    modeling.updateAttachment(newShape, oldShape.host);\n  }\n\n  // (3) adopt all children from old shape\n  var children;\n\n  if (hints.moveChildren !== false) {\n    children = oldShape.children.slice();\n\n    modeling.moveElements(children, { x: 0, y: 0 }, newShape, hints);\n  }\n\n  // (4) reconnect connections to new shape if possible\n  var incoming = oldShape.incoming.slice(),\n      outgoing = oldShape.outgoing.slice();\n\n  forEach(incoming, function(connection) {\n    var source = connection.source,\n        allowed = canReconnect(source, newShape, connection);\n\n    if (allowed) {\n      self.reconnectEnd(\n        connection, newShape,\n        getResizedTargetAnchor(connection, newShape, oldBounds),\n        hints\n      );\n    }\n  });\n\n  forEach(outgoing, function(connection) {\n    var target = connection.target,\n        allowed = canReconnect(newShape, target, connection);\n\n    if (allowed) {\n      self.reconnectStart(\n        connection, newShape,\n        getResizedSourceAnchor(connection, newShape, oldBounds),\n        hints\n      );\n    }\n  });\n};\n\n\n/**\n * Remove old shape.\n */\nReplaceShapeHandler.prototype.postExecute = function(context) {\n  var oldShape = context.oldShape;\n\n  this._modeling.removeShape(oldShape);\n};\n\n\nReplaceShapeHandler.prototype.execute = function(context) {};\n\n\nReplaceShapeHandler.prototype.revert = function(context) {};\n\n\nReplaceShapeHandler.prototype.createShape = function(shape, position, target, hints) {\n  return this._modeling.createShape(shape, position, target, hints);\n};\n\n\nReplaceShapeHandler.prototype.reconnectStart = function(connection, newSource, dockingPoint, hints) {\n  this._modeling.reconnectStart(connection, newSource, dockingPoint, hints);\n};\n\n\nReplaceShapeHandler.prototype.reconnectEnd = function(connection, newTarget, dockingPoint, hints) {\n  this._modeling.reconnectEnd(connection, newTarget, dockingPoint, hints);\n};\n","import {\n  assign,\n  forEach\n} from 'min-dash';\n\nimport {\n  getResizedSourceAnchor,\n  getResizedTargetAnchor\n} from './helper/AnchorsHelper';\n\n/**\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A handler that implements reversible resizing of shapes.\n *\n * @param {Modeling} modeling\n */\nexport default function ResizeShapeHandler(modeling) {\n  this._modeling = modeling;\n}\n\nResizeShapeHandler.$inject = [ 'modeling' ];\n\n/**\n * {\n *   shape: {....}\n *   newBounds: {\n *     width:  20,\n *     height: 40,\n *     x:       5,\n *     y:      10\n *   }\n *\n * }\n */\nResizeShapeHandler.prototype.execute = function(context) {\n  var shape = context.shape,\n      newBounds = context.newBounds,\n      minBounds = context.minBounds;\n\n  if (newBounds.x === undefined || newBounds.y === undefined ||\n      newBounds.width === undefined || newBounds.height === undefined) {\n    throw new Error('newBounds must have {x, y, width, height} properties');\n  }\n\n  if (minBounds && (newBounds.width < minBounds.width\n    || newBounds.height < minBounds.height)) {\n    throw new Error('width and height cannot be less than minimum height and width');\n  } else if (!minBounds\n    && newBounds.width < 10 || newBounds.height < 10) {\n    throw new Error('width and height cannot be less than 10px');\n  }\n\n  // save old bbox in context\n  context.oldBounds = {\n    width:  shape.width,\n    height: shape.height,\n    x:      shape.x,\n    y:      shape.y\n  };\n\n  // update shape\n  assign(shape, {\n    width:  newBounds.width,\n    height: newBounds.height,\n    x:      newBounds.x,\n    y:      newBounds.y\n  });\n\n  return shape;\n};\n\nResizeShapeHandler.prototype.postExecute = function(context) {\n  var modeling = this._modeling;\n\n  var shape = context.shape,\n      oldBounds = context.oldBounds,\n      hints = context.hints || {};\n\n  if (hints.layout === false) {\n    return;\n  }\n\n  forEach(shape.incoming, function(c) {\n    modeling.layoutConnection(c, {\n      connectionEnd: getResizedTargetAnchor(c, shape, oldBounds)\n    });\n  });\n\n  forEach(shape.outgoing, function(c) {\n    modeling.layoutConnection(c, {\n      connectionStart: getResizedSourceAnchor(c, shape, oldBounds)\n    });\n  });\n\n};\n\nResizeShapeHandler.prototype.revert = function(context) {\n\n  var shape = context.shape,\n      oldBounds = context.oldBounds;\n\n  // restore previous bbox\n  assign(shape, {\n    width:  oldBounds.width,\n    height: oldBounds.height,\n    x:      oldBounds.x,\n    y:      oldBounds.y\n  });\n\n  return shape;\n};\n","/**\n * @typedef {import('../../core/Types').ConnectionLike} Connection\n * @typedef {import('../../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../../util/Types').Axis} Axis\n * @typedef {import('../../util/Types').Direction} Direction\n * @typedef {import('../../util/Types').Point} Point\n * @typedef {import('../../util/Types').Rect} Rect\n */\n\nimport { forEach } from 'min-dash';\n\n/**\n * Return direction given axis and delta.\n *\n * @param {Axis} axis\n * @param {number} delta\n *\n * @return {Direction}\n */\nexport function getDirection(axis, delta) {\n\n  if (axis === 'x') {\n    if (delta > 0) {\n      return 'e';\n    }\n\n    if (delta < 0) {\n      return 'w';\n    }\n  }\n\n  if (axis === 'y') {\n    if (delta > 0) {\n      return 's';\n    }\n\n    if (delta < 0) {\n      return 'n';\n    }\n  }\n\n  return null;\n}\n\n/**\n * Returns connections whose waypoints are to be updated. Waypoints are to be updated if start\n * or end is to be moved or resized.\n *\n * @param {Array<Shape>} movingShapes\n * @param {Array<Shape>} resizingShapes\n *\n * @return {Array<Connection>}\n */\nexport function getWaypointsUpdatingConnections(movingShapes, resizingShapes) {\n  var waypointsUpdatingConnections = [];\n\n  forEach(movingShapes.concat(resizingShapes), function(shape) {\n    var incoming = shape.incoming,\n        outgoing = shape.outgoing;\n\n    forEach(incoming.concat(outgoing), function(connection) {\n      var source = connection.source,\n          target = connection.target;\n\n      if (includes(movingShapes, source) ||\n        includes(movingShapes, target) ||\n        includes(resizingShapes, source) ||\n        includes(resizingShapes, target)) {\n\n        if (!includes(waypointsUpdatingConnections, connection)) {\n          waypointsUpdatingConnections.push(connection);\n        }\n      }\n    });\n  });\n\n  return waypointsUpdatingConnections;\n}\n\nfunction includes(array, item) {\n  return array.indexOf(item) !== -1;\n}\n\n/**\n * Resize bounds.\n *\n * @param {Rect} bounds\n * @param {Direction} direction\n * @param {Point} delta\n *\n * @return {Rect}\n */\nexport function resizeBounds(bounds, direction, delta) {\n  var x = bounds.x,\n      y = bounds.y,\n      width = bounds.width,\n      height = bounds.height,\n      dx = delta.x,\n      dy = delta.y;\n\n  switch (direction) {\n  case 'n':\n    return {\n      x: x,\n      y: y + dy,\n      width: width,\n      height: height - dy\n    };\n  case 's':\n    return {\n      x: x,\n      y: y,\n      width: width,\n      height: height + dy\n    };\n  case 'w':\n    return {\n      x: x + dx,\n      y: y,\n      width: width - dx,\n      height: height\n    };\n  case 'e':\n    return {\n      x: x,\n      y: y,\n      width: width + dx,\n      height: height\n    };\n  default:\n    throw new Error('unknown direction: ' + direction);\n  }\n}","import {\n  assign,\n  forEach,\n  map\n} from 'min-dash';\n\nimport {\n  getWaypointsUpdatingConnections,\n  resizeBounds\n} from '../../space-tool/SpaceUtil';\n\nimport {\n  getMovedSourceAnchor,\n  getMovedTargetAnchor,\n  getResizedSourceAnchor,\n  getResizedTargetAnchor\n} from './helper/AnchorsHelper';\n\n/**\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * Add or remove space by moving and resizing shapes and updating connection waypoints.\n *\n * @param {Modeling} modeling\n */\nexport default function SpaceToolHandler(modeling) {\n  this._modeling = modeling;\n}\n\nSpaceToolHandler.$inject = [ 'modeling' ];\n\nSpaceToolHandler.prototype.preExecute = function(context) {\n  var delta = context.delta,\n      direction = context.direction,\n      movingShapes = context.movingShapes,\n      resizingShapes = context.resizingShapes,\n      start = context.start,\n      oldBounds = {};\n\n  // (1) move shapes\n  this.moveShapes(movingShapes, delta);\n\n  // (2a) save old bounds of resized shapes\n  forEach(resizingShapes, function(shape) {\n    oldBounds[shape.id] = getBounds(shape);\n  });\n\n  // (2b) resize shapes\n  this.resizeShapes(resizingShapes, delta, direction);\n\n  // (3) update connection waypoints\n  this.updateConnectionWaypoints(\n    getWaypointsUpdatingConnections(movingShapes, resizingShapes),\n    delta,\n    direction,\n    start,\n    movingShapes,\n    resizingShapes,\n    oldBounds\n  );\n};\n\nSpaceToolHandler.prototype.execute = function() {};\nSpaceToolHandler.prototype.revert = function() {};\n\nSpaceToolHandler.prototype.moveShapes = function(shapes, delta) {\n  var self = this;\n\n  forEach(shapes, function(element) {\n    self._modeling.moveShape(element, delta, null, {\n      autoResize: false,\n      layout: false,\n      recurse: false\n    });\n  });\n};\n\nSpaceToolHandler.prototype.resizeShapes = function(shapes, delta, direction) {\n  var self = this;\n\n  forEach(shapes, function(shape) {\n    var newBounds = resizeBounds(shape, direction, delta);\n\n    self._modeling.resizeShape(shape, newBounds, null, {\n      attachSupport: false,\n      autoResize: false,\n      layout: false\n    });\n  });\n};\n\n/**\n * Update connections waypoints according to the rules:\n *   1. Both source and target are moved/resized => move waypoints by the delta\n *   2. Only one of source and target is moved/resized => re-layout connection with moved start/end\n */\nSpaceToolHandler.prototype.updateConnectionWaypoints = function(\n    connections,\n    delta,\n    direction,\n    start,\n    movingShapes,\n    resizingShapes,\n    oldBounds\n) {\n  var self = this,\n      affectedShapes = movingShapes.concat(resizingShapes);\n\n  forEach(connections, function(connection) {\n    var source = connection.source,\n        target = connection.target,\n        waypoints = copyWaypoints(connection),\n        axis = getAxisFromDirection(direction),\n        layoutHints = {};\n\n    if (includes(affectedShapes, source) && includes(affectedShapes, target)) {\n\n      // move waypoints\n      waypoints = map(waypoints, function(waypoint) {\n        if (shouldMoveWaypoint(waypoint, start, direction)) {\n\n          // move waypoint\n          waypoint[ axis ] = waypoint[ axis ] + delta[ axis ];\n        }\n\n        if (waypoint.original && shouldMoveWaypoint(waypoint.original, start, direction)) {\n\n          // move waypoint original\n          waypoint.original[ axis ] = waypoint.original[ axis ] + delta[ axis ];\n        }\n\n        return waypoint;\n      });\n\n      self._modeling.updateWaypoints(connection, waypoints, {\n        labelBehavior: false\n      });\n    } else if (includes(affectedShapes, source) || includes(affectedShapes, target)) {\n\n      // re-layout connection with moved start/end\n      if (includes(movingShapes, source)) {\n        layoutHints.connectionStart = getMovedSourceAnchor(connection, source, delta);\n      } else if (includes(movingShapes, target)) {\n        layoutHints.connectionEnd = getMovedTargetAnchor(connection, target, delta);\n      } else if (includes(resizingShapes, source)) {\n        layoutHints.connectionStart = getResizedSourceAnchor(\n          connection, source, oldBounds[source.id]\n        );\n      } else if (includes(resizingShapes, target)) {\n        layoutHints.connectionEnd = getResizedTargetAnchor(\n          connection, target, oldBounds[target.id]\n        );\n      }\n\n      self._modeling.layoutConnection(connection, layoutHints);\n    }\n  });\n};\n\n\n// helpers //////////\n\nfunction copyWaypoint(waypoint) {\n  return assign({}, waypoint);\n}\n\nfunction copyWaypoints(connection) {\n  return map(connection.waypoints, function(waypoint) {\n\n    waypoint = copyWaypoint(waypoint);\n\n    if (waypoint.original) {\n      waypoint.original = copyWaypoint(waypoint.original);\n    }\n\n    return waypoint;\n  });\n}\n\nfunction getAxisFromDirection(direction) {\n  switch (direction) {\n  case 'n':\n    return 'y';\n  case 'w':\n    return 'x';\n  case 's':\n    return 'y';\n  case 'e':\n    return 'x';\n  }\n}\n\nfunction shouldMoveWaypoint(waypoint, start, direction) {\n  var relevantAxis = getAxisFromDirection(direction);\n\n  if (/e|s/.test(direction)) {\n    return waypoint[ relevantAxis ] > start;\n  } else if (/n|w/.test(direction)) {\n    return waypoint[ relevantAxis ] < start;\n  }\n}\n\nfunction includes(array, item) {\n  return array.indexOf(item) !== -1;\n}\n\nfunction getBounds(shape) {\n  return {\n    x: shape.x,\n    y: shape.y,\n    height: shape.height,\n    width: shape.width\n  };\n}\n","import {\n  assign,\n  forEach\n} from 'min-dash';\n\n/**\n * @typedef {import('../../model/Types').Shape} Shape\n *\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A handler that toggles the collapsed state of an element\n * and the visibility of all its children.\n *\n * @param {Modeling} modeling\n */\nexport default function ToggleShapeCollapseHandler(modeling) {\n  this._modeling = modeling;\n}\n\nToggleShapeCollapseHandler.$inject = [ 'modeling' ];\n\n\nToggleShapeCollapseHandler.prototype.execute = function(context) {\n\n  var shape = context.shape,\n      children = shape.children;\n\n  // recursively remember previous visibility of children\n  context.oldChildrenVisibility = getElementsVisibilityRecursive(children);\n\n  // toggle state\n  shape.collapsed = !shape.collapsed;\n\n  // recursively hide/show children\n  var result = setHiddenRecursive(children, shape.collapsed);\n\n  return [ shape ].concat(result);\n};\n\n\nToggleShapeCollapseHandler.prototype.revert = function(context) {\n\n  var shape = context.shape,\n      oldChildrenVisibility = context.oldChildrenVisibility;\n\n  var children = shape.children;\n\n  // recursively set old visability of children\n  var result = restoreVisibilityRecursive(children, oldChildrenVisibility);\n\n  // retoggle state\n  shape.collapsed = !shape.collapsed;\n\n  return [ shape ].concat(result);\n};\n\n\n// helpers //////////////////////\n\n/**\n * Return a map { elementId -> hiddenState}.\n *\n * @param {Shape[]} elements\n *\n * @return {Object}\n */\nfunction getElementsVisibilityRecursive(elements) {\n\n  var result = {};\n\n  forEach(elements, function(element) {\n    result[element.id] = element.hidden;\n\n    if (element.children) {\n      result = assign({}, result, getElementsVisibilityRecursive(element.children));\n    }\n  });\n\n  return result;\n}\n\n\nfunction setHiddenRecursive(elements, newHidden) {\n  var result = [];\n  forEach(elements, function(element) {\n    element.hidden = newHidden;\n\n    result = result.concat(element);\n\n    if (element.children) {\n      result = result.concat(setHiddenRecursive(element.children, element.collapsed || newHidden));\n    }\n  });\n\n  return result;\n}\n\nfunction restoreVisibilityRecursive(elements, lastState) {\n  var result = [];\n  forEach(elements, function(element) {\n    element.hidden = lastState[element.id];\n\n    result = result.concat(element);\n\n    if (element.children) {\n      result = result.concat(restoreVisibilityRecursive(element.children, lastState));\n    }\n  });\n\n  return result;\n}\n","import {\n  add as collectionAdd,\n  remove as collectionRemove\n} from '../../../util/Collections';\n\n/**\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A handler that implements reversible attaching/detaching of shapes.\n *\n * @param {Modeling} modeling\n */\nexport default function UpdateAttachmentHandler(modeling) {\n  this._modeling = modeling;\n}\n\nUpdateAttachmentHandler.$inject = [ 'modeling' ];\n\n\nUpdateAttachmentHandler.prototype.execute = function(context) {\n  var shape = context.shape,\n      newHost = context.newHost,\n      oldHost = shape.host;\n\n  // (0) detach from old host\n  context.oldHost = oldHost;\n  context.attacherIdx = removeAttacher(oldHost, shape);\n\n  // (1) attach to new host\n  addAttacher(newHost, shape);\n\n  // (2) update host\n  shape.host = newHost;\n\n  return shape;\n};\n\nUpdateAttachmentHandler.prototype.revert = function(context) {\n  var shape = context.shape,\n      newHost = context.newHost,\n      oldHost = context.oldHost,\n      attacherIdx = context.attacherIdx;\n\n  // (2) update host\n  shape.host = oldHost;\n\n  // (1) attach to new host\n  removeAttacher(newHost, shape);\n\n  // (0) detach from old host\n  addAttacher(oldHost, shape, attacherIdx);\n\n  return shape;\n};\n\n\nfunction removeAttacher(host, attacher) {\n\n  // remove attacher from host\n  return collectionRemove(host && host.attachers, attacher);\n}\n\nfunction addAttacher(host, attacher, idx) {\n\n  if (!host) {\n    return;\n  }\n\n  var attachers = host.attachers;\n\n  if (!attachers) {\n    host.attachers = attachers = [];\n  }\n\n  collectionAdd(attachers, attacher, idx);\n}\n","export default function UpdateWaypointsHandler() { }\n\nUpdateWaypointsHandler.prototype.execute = function(context) {\n\n  var connection = context.connection,\n      newWaypoints = context.newWaypoints;\n\n  context.oldWaypoints = connection.waypoints;\n\n  connection.waypoints = newWaypoints;\n\n  return connection;\n};\n\nUpdateWaypointsHandler.prototype.revert = function(context) {\n\n  var connection = context.connection,\n      oldWaypoints = context.oldWaypoints;\n\n  connection.waypoints = oldWaypoints;\n\n  return connection;\n};","import {\n  assign,\n  forEach,\n  isArray\n} from 'min-dash';\n\nimport AlignElementsHandler from './cmd/AlignElementsHandler';\nimport AppendShapeHandler from './cmd/AppendShapeHandler';\nimport CreateConnectionHandler from './cmd/CreateConnectionHandler';\nimport CreateElementsHandler from './cmd/CreateElementsHandler';\nimport CreateLabelHandler from './cmd/CreateLabelHandler';\nimport CreateShapeHandler from './cmd/CreateShapeHandler';\nimport DeleteConnectionHandler from './cmd/DeleteConnectionHandler';\nimport DeleteElementsHandler from './cmd/DeleteElementsHandler';\nimport DeleteShapeHandler from './cmd/DeleteShapeHandler';\nimport DistributeElementsHandler from './cmd/DistributeElementsHandler';\nimport LayoutConnectionHandler from './cmd/LayoutConnectionHandler';\nimport MoveConnectionHandler from './cmd/MoveConnectionHandler';\nimport MoveElementsHandler from './cmd/MoveElementsHandler';\nimport MoveShapeHandler from './cmd/MoveShapeHandler';\nimport ReconnectConnectionHandler from './cmd/ReconnectConnectionHandler';\nimport ReplaceShapeHandler from './cmd/ReplaceShapeHandler';\nimport ResizeShapeHandler from './cmd/ResizeShapeHandler';\nimport SpaceToolHandler from './cmd/SpaceToolHandler';\nimport ToggleShapeCollapseHandler from './cmd/ToggleShapeCollapseHandler';\nimport UpdateAttachmentHandler from './cmd/UpdateAttachmentHandler';\nimport UpdateWaypointsHandler from './cmd/UpdateWaypointsHandler';\n\nimport { isModelElement } from '../../model';\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n * @typedef {import('../../model/Types').Connection} Connection\n * @typedef {import('../../model/Types').Parent} Parent\n * @typedef {import('../../model/Types').Shape} Shape\n * @typedef {import('../../model/Types').Label} Label\n *\n * @typedef {import('../../command/CommandStack').default} CommandStack\n * @typedef {import('../../core/ElementFactory').default} ElementFactory\n * @typedef {import('../../core/EventBus').default} EventBus\n *\n * @typedef {import('../../command/CommandStack').CommandHandlerConstructor} CommandHandlerConstructor\n *\n * @typedef {import('../../util/Types').Dimensions} Dimensions\n * @typedef {import('../../util/Types').Direction} Direction\n * @typedef {import('../../util/Types').Point} Point\n * @typedef {import('../../util/Types').Rect} Rect\n *\n * @typedef { 'x' | 'y' } ModelingDistributeAxis\n *\n * @typedef { 'width' | 'height' } ModelingDistributeDimension\n *\n * @typedef { {\n *   bottom?: number;\n *   center?: number;\n *   left?: number;\n *   middle?: number;\n *   right?: number;\n *   top?: number;\n * } } ModelingAlignAlignment\n *\n * @typedef { {\n *   [key: string]: any;\n * } } ModelingHints\n *\n * @typedef { {\n *   attach?: boolean;\n * } & ModelingHints } ModelingMoveElementsHints\n *\n * @typedef { {\n *   attach?: boolean;\n * } & ModelingHints } ModelingCreateShapeHints\n */\n\n/**\n * @template {Element} U\n *\n * @typedef { {\n *   elements: U[],\n *   range: {\n *     min: number;\n *     max: number;\n *   } }\n * } ModelingDistributeGroup\n */\n\n/**\n * The basic modeling entry point.\n *\n * @template {Connection} [T=Connection]\n * @template {Element} [U=Element]\n * @template {Label} [V=Label]\n * @template {Parent} [W=Parent]\n * @template {Shape} [X=Shape]\n *\n * @param {EventBus} eventBus\n * @param {ElementFactory} elementFactory\n * @param {CommandStack} commandStack\n */\nexport default function Modeling(eventBus, elementFactory, commandStack) {\n  this._eventBus = eventBus;\n  this._elementFactory = elementFactory;\n  this._commandStack = commandStack;\n\n  var self = this;\n\n  eventBus.on('diagram.init', function() {\n\n    // register modeling handlers\n    self.registerHandlers(commandStack);\n  });\n}\n\nModeling.$inject = [ 'eventBus', 'elementFactory', 'commandStack' ];\n\n/**\n * Get a map of all command handlers.\n *\n * @return {Map<string, CommandHandlerConstructor>}\n */\nModeling.prototype.getHandlers = function() {\n  return {\n    'shape.append': AppendShapeHandler,\n    'shape.create': CreateShapeHandler,\n    'shape.delete': DeleteShapeHandler,\n    'shape.move': MoveShapeHandler,\n    'shape.resize': ResizeShapeHandler,\n    'shape.replace': ReplaceShapeHandler,\n    'shape.toggleCollapse': ToggleShapeCollapseHandler,\n\n    'spaceTool': SpaceToolHandler,\n\n    'label.create': CreateLabelHandler,\n\n    'connection.create': CreateConnectionHandler,\n    'connection.delete': DeleteConnectionHandler,\n    'connection.move': MoveConnectionHandler,\n    'connection.layout': LayoutConnectionHandler,\n\n    'connection.updateWaypoints': UpdateWaypointsHandler,\n\n    'connection.reconnect': ReconnectConnectionHandler,\n\n    'elements.create': CreateElementsHandler,\n    'elements.move': MoveElementsHandler,\n    'elements.delete': DeleteElementsHandler,\n\n    'elements.distribute': DistributeElementsHandler,\n    'elements.align': AlignElementsHandler,\n\n    'element.updateAttachment': UpdateAttachmentHandler\n  };\n};\n\n/**\n * Register handlers with the command stack\n *\n * @param {CommandStack} commandStack\n */\nModeling.prototype.registerHandlers = function(commandStack) {\n  forEach(this.getHandlers(), function(handler, id) {\n    commandStack.registerHandler(id, handler);\n  });\n};\n\n\n/**\n * Move a shape by the given delta and optionally to a new parent.\n *\n * @param {X} shape\n * @param {Point} delta\n * @param {W} [newParent]\n * @param {number} [newParentIndex]\n * @param {ModelingHints} [hints]\n */\nModeling.prototype.moveShape = function(shape, delta, newParent, newParentIndex, hints) {\n\n  if (typeof newParentIndex === 'object') {\n    hints = newParentIndex;\n    newParentIndex = null;\n  }\n\n  var context = {\n    shape: shape,\n    delta:  delta,\n    newParent: newParent,\n    newParentIndex: newParentIndex,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('shape.move', context);\n};\n\n\n/**\n * Update the attachment of a shape.\n *\n * @param {X} shape\n * @param {X} [newHost=undefined]\n */\nModeling.prototype.updateAttachment = function(shape, newHost) {\n  var context = {\n    shape: shape,\n    newHost: newHost\n  };\n\n  this._commandStack.execute('element.updateAttachment', context);\n};\n\n\n/**\n * Move elements by a given delta and optionally to a new parent.\n *\n * @param {U[]} shapes\n * @param {Point} delta\n * @param {W} [target]\n * @param {ModelingMoveElementsHints} [hints]\n */\nModeling.prototype.moveElements = function(shapes, delta, target, hints) {\n\n  hints = hints || {};\n\n  var attach = hints.attach;\n\n  var newParent = target,\n      newHost;\n\n  if (attach === true) {\n    newHost = target;\n    newParent = target.parent;\n  } else if (attach === false) {\n    newHost = null;\n  }\n\n  var context = {\n    shapes: shapes,\n    delta: delta,\n    newParent: newParent,\n    newHost: newHost,\n    hints: hints\n  };\n\n  this._commandStack.execute('elements.move', context);\n};\n\n/**\n * Move a shape by the given delta and optionally to a new parent.\n *\n * @param {T} connection\n * @param {Point} delta\n * @param {W} [newParent]\n * @param {number} [newParentIndex]\n * @param {ModelingHints} [hints]\n */\nModeling.prototype.moveConnection = function(connection, delta, newParent, newParentIndex, hints) {\n\n  if (typeof newParentIndex === 'object') {\n    hints = newParentIndex;\n    newParentIndex = undefined;\n  }\n\n  var context = {\n    connection: connection,\n    delta: delta,\n    newParent: newParent,\n    newParentIndex: newParentIndex,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.move', context);\n};\n\n/**\n * Layout a connection.\n *\n * @param {T} connection\n * @param {ModelingHints} [hints]\n */\nModeling.prototype.layoutConnection = function(connection, hints) {\n  var context = {\n    connection: connection,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.layout', context);\n};\n\n/**\n * Create a connection.\n *\n * @overlord\n *\n * @param {U} source\n * @param {U} target\n * @param {Partial<T>} connection\n * @param {W} parent\n * @param {ModelingHints} [hints]\n *\n * @return {T}\n */\n\n/**\n * Create a connection.\n *\n * @param {U} source\n * @param {U} target\n * @param {number} parentIndex\n * @param {Partial<T>} connection\n * @param {W} parent\n * @param {ModelingHints} [hints]\n *\n * @return {T}\n */\nModeling.prototype.createConnection = function(source, target, parentIndex, connection, parent, hints) {\n\n  if (typeof parentIndex === 'object') {\n    hints = parent;\n    parent = connection;\n    connection = parentIndex;\n    parentIndex = undefined;\n  }\n\n  connection = this._create('connection', connection);\n\n  var context = {\n    source: source,\n    target: target,\n    parent: parent,\n    parentIndex: parentIndex,\n    connection: connection,\n    hints: hints\n  };\n\n  this._commandStack.execute('connection.create', context);\n\n  return context.connection;\n};\n\n\n/**\n * Create a shape.\n *\n * @overlord\n *\n * @param {Partial<X>} shape\n * @param {Point} position\n * @param {W} target\n * @param {ModelingCreateShapeHints} [hints]\n *\n * @return {X}\n */\n\n/**\n * Create a shape.\n *\n * @param {Partial<X>} shape\n * @param {Point} position\n * @param {W} target\n * @param {number} parentIndex\n * @param {ModelingCreateShapeHints} [hints]\n *\n * @return {X}\n */\nModeling.prototype.createShape = function(shape, position, target, parentIndex, hints) {\n\n  if (typeof parentIndex !== 'number') {\n    hints = parentIndex;\n    parentIndex = undefined;\n  }\n\n  hints = hints || {};\n\n  var attach = hints.attach,\n      parent,\n      host;\n\n  shape = this._create('shape', shape);\n\n  if (attach) {\n    parent = target.parent;\n    host = target;\n  } else {\n    parent = target;\n  }\n\n  var context = {\n    position: position,\n    shape: shape,\n    parent: parent,\n    parentIndex: parentIndex,\n    host: host,\n    hints: hints\n  };\n\n  this._commandStack.execute('shape.create', context);\n\n  return context.shape;\n};\n\n/**\n * Create elements.\n *\n * @param {Partial<U>[]} elements\n * @param {Point} position\n * @param {W} parent\n * @param {number} [parentIndex]\n * @param {ModelingHints} [hints]\n *\n * @return {U[]}\n */\nModeling.prototype.createElements = function(elements, position, parent, parentIndex, hints) {\n  if (!isArray(elements)) {\n    elements = [ elements ];\n  }\n\n  if (typeof parentIndex !== 'number') {\n    hints = parentIndex;\n    parentIndex = undefined;\n  }\n\n  hints = hints || {};\n\n  var context = {\n    position: position,\n    elements: elements,\n    parent: parent,\n    parentIndex: parentIndex,\n    hints: hints\n  };\n\n  this._commandStack.execute('elements.create', context);\n\n  return context.elements;\n};\n\n/**\n * Create a label.\n *\n * @param {U} labelTarget\n * @param {Point} position\n * @param {Partial<V>} label\n * @param {W} [parent]\n *\n * @return {V}\n */\nModeling.prototype.createLabel = function(labelTarget, position, label, parent) {\n\n  label = this._create('label', label);\n\n  var context = {\n    labelTarget: labelTarget,\n    position: position,\n    parent: parent || labelTarget.parent,\n    shape: label\n  };\n\n  this._commandStack.execute('label.create', context);\n\n  return context.shape;\n};\n\n\n/**\n * Create and connect a shape to a source.\n *\n * @param {U} source\n * @param {Partial<X>} shape\n * @param {Point} position\n * @param {W} target\n * @param {ModelingHints} [hints]\n *\n * @return {X}\n */\nModeling.prototype.appendShape = function(source, shape, position, target, hints) {\n\n  hints = hints || {};\n\n  shape = this._create('shape', shape);\n\n  var context = {\n    source: source,\n    position: position,\n    target: target,\n    shape: shape,\n    connection: hints.connection,\n    connectionParent: hints.connectionParent,\n    hints: hints\n  };\n\n  this._commandStack.execute('shape.append', context);\n\n  return context.shape;\n};\n\n/**\n * Remove elements.\n *\n * @param {U[]} elements\n */\nModeling.prototype.removeElements = function(elements) {\n  var context = {\n    elements: elements\n  };\n\n  this._commandStack.execute('elements.delete', context);\n};\n\n/**\n * Distribute elements along a given axis.\n *\n * @param {ModelingDistributeGroup<U>[]} groups\n * @param {ModelingDistributeAxis} axis\n * @param {ModelingDistributeDimension} dimension\n */\nModeling.prototype.distributeElements = function(groups, axis, dimension) {\n  var context = {\n    groups: groups,\n    axis: axis,\n    dimension: dimension\n  };\n\n  this._commandStack.execute('elements.distribute', context);\n};\n\n/**\n * Remove a shape.\n *\n * @param {X} shape\n * @param {ModelingHints} [hints]\n */\nModeling.prototype.removeShape = function(shape, hints) {\n  var context = {\n    shape: shape,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('shape.delete', context);\n};\n\n/**\n * Remove a connection.\n *\n * @param {T} connection\n * @param {ModelingHints} [hints]\n */\nModeling.prototype.removeConnection = function(connection, hints) {\n  var context = {\n    connection: connection,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.delete', context);\n};\n\n/**\n * Replace a shape.\n *\n * @param {X} oldShape\n * @param {Partial<X>} newShape\n * @param {ModelingHints} [hints]\n *\n * @return {X}\n */\nModeling.prototype.replaceShape = function(oldShape, newShape, hints) {\n  var context = {\n    oldShape: oldShape,\n    newData: newShape,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('shape.replace', context);\n\n  return context.newShape;\n};\n\n/**\n * Align elements.\n *\n * @param {U[]} elements\n * @param {ModelingAlignAlignment} alignment\n */\nModeling.prototype.alignElements = function(elements, alignment) {\n  var context = {\n    elements: elements,\n    alignment: alignment\n  };\n\n  this._commandStack.execute('elements.align', context);\n};\n\n/**\n * Resize a shape.\n *\n * @param {X} shape\n * @param {Rect} newBounds\n * @param {Dimensions} [minBounds]\n * @param {ModelingHints} [hints]\n */\nModeling.prototype.resizeShape = function(shape, newBounds, minBounds, hints) {\n  var context = {\n    shape: shape,\n    newBounds: newBounds,\n    minBounds: minBounds,\n    hints: hints\n  };\n\n  this._commandStack.execute('shape.resize', context);\n};\n\n/**\n * Create space along an horizontally or vertically.\n *\n * @param {X[]} movingShapes\n * @param {X[]} resizingShapes\n * @param {Point} delta\n * @param {Direction} direction\n * @param {number} start\n */\nModeling.prototype.createSpace = function(movingShapes, resizingShapes, delta, direction, start) {\n  var context = {\n    delta: delta,\n    direction: direction,\n    movingShapes: movingShapes,\n    resizingShapes: resizingShapes,\n    start: start\n  };\n\n  this._commandStack.execute('spaceTool', context);\n};\n\n/**\n * Update a connetions waypoints.\n *\n * @param {T} connection\n * @param {Point[]} newWaypoints\n * @param {ModelingHints} [hints]\n */\nModeling.prototype.updateWaypoints = function(connection, newWaypoints, hints) {\n  var context = {\n    connection: connection,\n    newWaypoints: newWaypoints,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.updateWaypoints', context);\n};\n\n/**\n * Reconnect a connections source and/or target.\n *\n * @param {T} connection\n * @param {U} source\n * @param {U} target\n * @param {Point|Point[]} dockingOrPoints\n * @param {ModelingHints} [hints]\n */\nModeling.prototype.reconnect = function(connection, source, target, dockingOrPoints, hints) {\n  var context = {\n    connection: connection,\n    newSource: source,\n    newTarget: target,\n    dockingOrPoints: dockingOrPoints,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.reconnect', context);\n};\n\n/**\n * Reconnect a connections source.\n *\n * @param {T} connection\n * @param {U} newSource\n * @param {Point|Point[]} dockingOrPoints\n * @param {ModelingHints} [hints]\n */\nModeling.prototype.reconnectStart = function(connection, newSource, dockingOrPoints, hints) {\n  if (!hints) {\n    hints = {};\n  }\n\n  this.reconnect(connection, newSource, connection.target, dockingOrPoints, assign(hints, {\n    docking: 'source'\n  }));\n};\n\n/**\n * Reconnect a connections target.\n *\n * @param {T} connection\n * @param {U} newTarget\n * @param {Point|Point[]} dockingOrPoints\n * @param {ModelingHints} [hints]\n */\nModeling.prototype.reconnectEnd = function(connection, newTarget, dockingOrPoints, hints) {\n  if (!hints) {\n    hints = {};\n  }\n\n  this.reconnect(connection, connection.source, newTarget, dockingOrPoints, assign(hints, {\n    docking: 'target'\n  }));\n};\n\n/**\n * Connect two elements.\n *\n * @param {U} source\n * @param {U} target\n * @param {Partial<T>} [attrs]\n * @param {ModelingHints} [hints]\n *\n * @return {T}\n */\nModeling.prototype.connect = function(source, target, attrs, hints) {\n  return this.createConnection(source, target, attrs || {}, source.parent, hints);\n};\n\nModeling.prototype._create = function(type, attrs) {\n  if (isModelElement(attrs)) {\n    return attrs;\n  } else {\n    return this._elementFactory.create(type, attrs);\n  }\n};\n\n/**\n * Collapse or expand a shape.\n *\n * @param {X} shape\n * @param {ModelingHints} [hints]\n */\nModeling.prototype.toggleCollapse = function(shape, hints) {\n  var context = {\n    shape: shape,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('shape.toggleCollapse', context);\n};\n","/**\n * @typedef {import('../core/Types').ElementLike} Element\n * @typedef {import('../core/Types').ConnectionLike} Connection\n *\n * @typedef {import('../util').Point} Point\n *\n * @typedef { {\n *   connectionStart?: Point;\n *   connectionEnd?: Point;\n *   source?: Element;\n *   target?: Element;\n * } } LayoutConnectionHints\n */\n\nimport {\n  getMid\n} from './LayoutUtil';\n\n\n/**\n * A base connection layouter implementation\n * that layouts the connection by directly connecting\n * mid(source) + mid(target).\n */\nexport default function BaseLayouter() {}\n\n\n/**\n * Return the new layouted waypoints for the given connection.\n *\n * The connection passed is still unchanged; you may figure out about\n * the new connection start / end via the layout hints provided.\n *\n * @param {Connection} connection\n * @param {LayoutConnectionHints} [hints]\n *\n * @return {Point[]} The waypoints of the laid out connection.\n */\nBaseLayouter.prototype.layoutConnection = function(connection, hints) {\n\n  hints = hints || {};\n\n  return [\n    hints.connectionStart || getMid(hints.source || connection.source),\n    hints.connectionEnd || getMid(hints.target || connection.target)\n  ];\n};\n","import CommandModule from '../../command';\nimport ChangeSupportModule from '../change-support';\nimport SelectionModule from '../selection';\nimport RulesModule from '../rules';\n\nimport Modeling from './Modeling';\nimport BaseLayouter from '../../layout/BaseLayouter';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __depends__: [\n    CommandModule,\n    ChangeSupportModule,\n    SelectionModule,\n    RulesModule\n  ],\n  __init__: [ 'modeling' ],\n  modeling: [ 'type', Modeling ],\n  layouter: [ 'type', BaseLayouter ]\n};\n","import {\n  set as cursorSet,\n  unset as cursorUnset\n} from '../../util/Cursor';\n\nimport {\n  install as installClickTrap\n} from '../../util/ClickTrap';\n\nimport {\n  delta as deltaPos\n} from '../../util/PositionUtil';\n\nimport {\n  event as domEvent,\n  closest as domClosest\n} from 'min-dom';\n\nimport {\n  toPoint\n} from '../../util/Event';\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\nvar THRESHOLD = 15;\n\n\n/**\n * Move the canvas via mouse.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nexport default function MoveCanvas(eventBus, canvas) {\n\n  var context;\n\n  function handleMousedown(event) {\n    return handleStart(event.originalEvent);\n  }\n\n  // listen for move on element mouse down;\n  // allow others to hook into the event before us though\n  // (dragging / element moving will do this)\n  eventBus.on('canvas.focus.changed', function(event) {\n    if (event.focused) {\n      eventBus.on('element.mousedown', 500, handleMousedown);\n    } else {\n      eventBus.off('element.mousedown', handleMousedown);\n    }\n  });\n\n\n  function handleMove(event) {\n\n    var start = context.start,\n        button = context.button,\n        position = toPoint(event),\n        delta = deltaPos(position, start);\n\n    if (!context.dragging && length(delta) > THRESHOLD) {\n      context.dragging = true;\n\n      if (button === 0) {\n        installClickTrap(eventBus);\n      }\n\n      cursorSet('grab');\n    }\n\n    if (context.dragging) {\n\n      var lastPosition = context.last || context.start;\n\n      delta = deltaPos(position, lastPosition);\n\n      canvas.scroll({\n        dx: delta.x,\n        dy: delta.y\n      });\n\n      context.last = position;\n    }\n\n    // prevent select\n    event.preventDefault();\n  }\n\n\n  function handleEnd(event) {\n    domEvent.unbind(document, 'mousemove', handleMove);\n    domEvent.unbind(document, 'mouseup', handleEnd);\n\n    context = null;\n\n    cursorUnset();\n  }\n\n  function handleStart(event) {\n\n    // event is already handled by '.djs-draggable'\n    if (domClosest(event.target, '.djs-draggable')) {\n      return;\n    }\n\n    var button = event.button;\n\n    // reject right mouse button or modifier key\n    if (button >= 2 || event.ctrlKey || event.shiftKey || event.altKey) {\n      return;\n    }\n\n    context = {\n      button: button,\n      start: toPoint(event)\n    };\n\n    domEvent.bind(document, 'mousemove', handleMove);\n    domEvent.bind(document, 'mouseup', handleEnd);\n\n    // we've handled the event\n    return true;\n  }\n\n  this.isActive = function() {\n    return !!context;\n  };\n\n}\n\n\nMoveCanvas.$inject = [\n  'eventBus',\n  'canvas'\n];\n\n\n\n// helpers ///////\n\nfunction length(point) {\n  return Math.sqrt(Math.pow(point.x, 2) + Math.pow(point.y, 2));\n}\n","import MoveCanvas from './MoveCanvas';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __init__: [ 'moveCanvas' ],\n  moveCanvas: [ 'type', MoveCanvas ]\n};","import { getBBox } from '../../util/Elements';\n\nvar LOW_PRIORITY = 500;\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate\n} from 'tiny-svg';\n\nimport {\n  query as domQuery\n} from 'min-dom';\n\nimport {\n  assign,\n  forEach,\n  isFunction\n} from 'min-dash';\n\nvar DEFAULT_PRIORITY = 1000;\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('./OutlineProvider').default} OutlineProvider\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../../draw/Styles').default} Styles\n */\n\n/**\n * @class\n *\n * A plugin that adds an outline to shapes and connections that may be activated and styled\n * via CSS classes.\n *\n * @param {EventBus} eventBus\n * @param {Styles} styles\n */\nexport default function Outline(eventBus, styles) {\n\n  this._eventBus = eventBus;\n\n  this.offset = 5;\n\n  var OUTLINE_STYLE = styles.cls('djs-outline', [ 'no-fill' ]);\n\n  var self = this;\n\n  /**\n   * @param {SVGElement} gfx\n   *\n   * @return {SVGElement} outline\n   */\n  function createOutline(gfx) {\n    var outline = svgCreate('rect');\n\n    svgAttr(outline, assign({\n      x: 0,\n      y: 0,\n      rx: 4,\n      width: 100,\n      height: 100\n    }, OUTLINE_STYLE));\n\n    return outline;\n  }\n\n  // A low priortity is necessary, because outlines of labels have to be updated\n  // after the label bounds have been updated in the renderer.\n  eventBus.on([ 'shape.added', 'shape.changed' ], LOW_PRIORITY, function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    var outline = domQuery('.djs-outline', gfx);\n\n    if (!outline) {\n      outline = self.getOutline(element) || createOutline(gfx);\n      svgAppend(gfx, outline);\n    }\n\n    self.updateShapeOutline(outline, element);\n  });\n\n  eventBus.on([ 'connection.added', 'connection.changed' ], function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    var outline = domQuery('.djs-outline', gfx);\n\n    if (!outline) {\n      outline = createOutline(gfx);\n      svgAppend(gfx, outline);\n    }\n\n    self.updateConnectionOutline(outline, element);\n  });\n}\n\n\n/**\n * Updates the outline of a shape respecting the dimension of the\n * element and an outline offset.\n *\n * @param {SVGElement} outline\n * @param {Element} element\n */\nOutline.prototype.updateShapeOutline = function(outline, element) {\n\n  var updated = false;\n  var providers = this._getProviders();\n\n  if (providers.length) {\n    forEach(providers, function(provider) {\n      updated = updated || provider.updateOutline(element, outline);\n    });\n  }\n\n  if (!updated) {\n    svgAttr(outline, {\n      x: -this.offset,\n      y: -this.offset,\n      width: element.width + this.offset * 2,\n      height: element.height + this.offset * 2\n    });\n  }\n};\n\n/**\n * Updates the outline of a connection respecting the bounding box of\n * the connection and an outline offset.\n * Register an outline provider with the given priority.\n *\n * @param {SVGElement} outline\n * @param {Element} connection\n */\nOutline.prototype.updateConnectionOutline = function(outline, connection) {\n  var bbox = getBBox(connection);\n\n  svgAttr(outline, {\n    x: bbox.x - this.offset,\n    y: bbox.y - this.offset,\n    width: bbox.width + this.offset * 2,\n    height: bbox.height + this.offset * 2\n  });\n};\n\n/**\n * Register an outline provider with the given priority.\n *\n * @param {number} priority\n * @param {OutlineProvider} provider\n */\nOutline.prototype.registerProvider = function(priority, provider) {\n  if (!provider) {\n    provider = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  this._eventBus.on('outline.getProviders', priority, function(event) {\n    event.providers.push(provider);\n  });\n};\n\n/**\n * Returns the registered outline providers.\n *\n * @returns {OutlineProvider[]}\n */\nOutline.prototype._getProviders = function() {\n  var event = this._eventBus.createEvent({\n    type: 'outline.getProviders',\n    providers: []\n  });\n\n  this._eventBus.fire(event);\n\n  return event.providers;\n};\n\n/**\n * Returns the outline for an element.\n *\n * @param {Element} element\n */\nOutline.prototype.getOutline = function(element) {\n  var outline;\n  var providers = this._getProviders();\n\n  forEach(providers, function(provider) {\n\n    if (!isFunction(provider.getOutline)) {\n      return;\n    }\n\n    outline = outline || provider.getOutline(element);\n  });\n\n  return outline;\n};\n\nOutline.$inject = [ 'eventBus', 'styles', 'elementRegistry' ];","import {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate,\n  classes as svgClasses,\n  clear as svgClear\n} from 'tiny-svg';\n\nimport { assign } from 'min-dash';\n\nimport { getBBox } from '../../util/Elements';\n\nvar SELECTION_OUTLINE_PADDING = 6;\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../selection/Selection').default} Selection\n * @typedef {import('../../core/Canvas').default} Canvas\n */\n\n/**\n * @class\n *\n * A plugin that adds an outline to shapes and connections that may be activated and styled\n * via CSS classes.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {Selection} selection\n */\nexport default function MultiSelectionOutline(eventBus, canvas, selection) {\n  this._canvas = canvas;\n\n  var self = this;\n\n  eventBus.on('element.changed', function(event) {\n    if (selection.isSelected(event.element)) {\n      self._updateMultiSelectionOutline(selection.get());\n    }\n  });\n\n  eventBus.on('selection.changed', function(event) {\n    var newSelection = event.newSelection;\n\n    self._updateMultiSelectionOutline(newSelection);\n  });\n}\n\n\n\nMultiSelectionOutline.prototype._updateMultiSelectionOutline = function(selection) {\n  var layer = this._canvas.getLayer('selectionOutline');\n\n  svgClear(layer);\n\n  var enabled = selection.length > 1;\n\n  var container = this._canvas.getContainer();\n\n  svgClasses(container)[enabled ? 'add' : 'remove']('djs-multi-select');\n\n  if (!enabled) {\n    return;\n  }\n\n  var bBox = addSelectionOutlinePadding(getBBox(selection));\n\n  var rect = svgCreate('rect');\n\n  svgAttr(rect, assign({\n    rx: 3\n  }, bBox));\n\n  svgClasses(rect).add('djs-selection-outline');\n\n  svgAppend(layer, rect);\n};\n\n\nMultiSelectionOutline.$inject = [ 'eventBus', 'canvas', 'selection' ];\n\n// helpers //////////\n\nfunction addSelectionOutlinePadding(bBox) {\n  return {\n    x: bBox.x - SELECTION_OUTLINE_PADDING,\n    y: bBox.y - SELECTION_OUTLINE_PADDING,\n    width: bBox.width + SELECTION_OUTLINE_PADDING * 2,\n    height: bBox.height + SELECTION_OUTLINE_PADDING * 2\n  };\n}","import SelectionModule from '../selection';\n\nimport Outline from './Outline';\nimport MultiSelectionOutline from './MultiSelectionOutline';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __depends__: [\n    SelectionModule\n  ],\n  __init__: [ 'outline', 'multiSelectionOutline' ],\n  outline: [ 'type', Outline ],\n  multiSelectionOutline: [ 'type', MultiSelectionOutline ]\n};","import {\n  assign,\n  filter,\n  groupBy,\n  isObject\n} from 'min-dash';\n\nimport {\n  classes as svgClasses\n} from 'tiny-svg';\n\n/**\n * @typedef {import('../../core/Types').ElementLike} Element\n * @typedef {import('../../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../dragging/Dragging').default} Dragging\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('../rules/Rules').default} Rules\n * @typedef {import('../selection/Selection').default} Selection\n */\n\nvar LOW_PRIORITY = 500,\n    MEDIUM_PRIORITY = 1250,\n    HIGH_PRIORITY = 1500;\n\nimport { getOriginal as getOriginalEvent } from '../../util/Event';\n\nimport {\n  isPrimaryButton\n} from '../../util/Mouse';\n\nvar round = Math.round;\n\nfunction mid(element) {\n  return {\n    x: element.x + round(element.width / 2),\n    y: element.y + round(element.height / 2)\n  };\n}\n\n/**\n * A plugin that makes shapes draggable / droppable.\n *\n * @param {EventBus} eventBus\n * @param {Dragging} dragging\n * @param {Modeling} modeling\n * @param {Selection} selection\n * @param {Rules} rules\n */\nexport default function MoveEvents(\n    eventBus, dragging, modeling,\n    selection, rules) {\n\n  // rules\n\n  function canMove(shapes, delta, position, target) {\n\n    return rules.allowed('elements.move', {\n      shapes: shapes,\n      delta: delta,\n      position: position,\n      target: target\n    });\n  }\n\n\n  // move events\n\n  // assign a high priority to this handler to setup the environment\n  // others may hook up later, e.g. at default priority and modify\n  // the move environment.\n  //\n  // This sets up the context with\n  //\n  // * shape: the primary shape being moved\n  // * shapes: a list of shapes to be moved\n  // * validatedShapes: a list of shapes that are being checked\n  //                    against the rules before and during move\n  //\n  eventBus.on('shape.move.start', HIGH_PRIORITY, function(event) {\n\n    var context = event.context,\n        shape = event.shape,\n        shapes = selection.get().slice();\n\n    // move only single shape if the dragged element\n    // is not part of the current selection\n    if (shapes.indexOf(shape) === -1) {\n      shapes = [ shape ];\n    }\n\n    // ensure we remove nested elements in the collection\n    // and add attachers for a proper dragger\n    shapes = removeNested(shapes);\n\n    // attach shapes to drag context\n    assign(context, {\n      shapes: shapes,\n      validatedShapes: shapes,\n      shape: shape\n    });\n  });\n\n\n  // assign a high priority to this handler to setup the environment\n  // others may hook up later, e.g. at default priority and modify\n  // the move environment\n  //\n  eventBus.on('shape.move.start', MEDIUM_PRIORITY, function(event) {\n\n    var context = event.context,\n        validatedShapes = context.validatedShapes,\n        canExecute;\n\n    canExecute = context.canExecute = canMove(validatedShapes);\n\n    // check if we can move the elements\n    if (!canExecute) {\n      return false;\n    }\n  });\n\n  // assign a low priority to this handler\n  // to let others modify the move event before we update\n  // the context\n  //\n  eventBus.on('shape.move.move', LOW_PRIORITY, function(event) {\n\n    var context = event.context,\n        validatedShapes = context.validatedShapes,\n        hover = event.hover,\n        delta = { x: event.dx, y: event.dy },\n        position = { x: event.x, y: event.y },\n        canExecute;\n\n    // check if we can move the elements\n    canExecute = canMove(validatedShapes, delta, position, hover);\n\n    context.delta = delta;\n    context.canExecute = canExecute;\n\n    // simply ignore move over\n    if (canExecute === null) {\n      context.target = null;\n\n      return;\n    }\n\n    context.target = hover;\n  });\n\n  eventBus.on('shape.move.end', function(event) {\n\n    var context = event.context;\n\n    var delta = context.delta,\n        canExecute = context.canExecute,\n        isAttach = canExecute === 'attach',\n        shapes = context.shapes;\n\n    if (canExecute === false) {\n      return false;\n    }\n\n    // ensure we have actual pixel values deltas\n    // (important when zoom level was > 1 during move)\n    delta.x = round(delta.x);\n    delta.y = round(delta.y);\n\n    if (delta.x === 0 && delta.y === 0) {\n\n      // didn't move\n      return;\n    }\n\n    modeling.moveElements(shapes, delta, context.target, {\n      primaryShape: context.shape,\n      attach: isAttach\n    });\n  });\n\n\n  // move activation\n\n  eventBus.on('element.mousedown', function(event) {\n\n    if (!isPrimaryButton(event)) {\n      return;\n    }\n\n    var originalEvent = getOriginalEvent(event);\n\n    if (!originalEvent) {\n      throw new Error('must supply DOM mousedown event');\n    }\n\n    return start(originalEvent, event.element);\n  });\n\n  /**\n   * Start move.\n   *\n   * @param {MouseEvent|TouchEvent} event\n   * @param {Shape} element\n   * @param {boolean} [activate]\n   * @param {Object} [context]\n   */\n  function start(event, element, activate, context) {\n    if (isObject(activate)) {\n      context = activate;\n      activate = false;\n    }\n\n    // do not move connections or the root element\n    if (element.waypoints || !element.parent) {\n      return;\n    }\n\n    // ignore non-draggable hits\n    if (svgClasses(event.target).has('djs-hit-no-move')) {\n      return;\n    }\n\n    var referencePoint = mid(element);\n\n    dragging.init(event, referencePoint, 'shape.move', {\n      cursor: 'grabbing',\n      autoActivate: activate,\n      data: {\n        shape: element,\n        context: context || {}\n      }\n    });\n\n    // we've handled the event\n    return true;\n  }\n\n  // API\n\n  this.start = start;\n}\n\nMoveEvents.$inject = [\n  'eventBus',\n  'dragging',\n  'modeling',\n  'selection',\n  'rules'\n];\n\n\n/**\n * Return a filtered list of elements that do not contain\n * those nested into others.\n *\n * @param {Element[]} elements\n *\n * @return {Element[]} filtered\n */\nfunction removeNested(elements) {\n\n  var ids = groupBy(elements, 'id');\n\n  return filter(elements, function(element) {\n    while ((element = element.parent)) {\n\n      // parent in selection\n      if (ids[element.id]) {\n        return false;\n      }\n    }\n\n    return true;\n  });\n}\n","import {\n  flatten,\n  forEach,\n  filter,\n  find,\n  groupBy,\n  matchPattern,\n  size\n} from 'min-dash';\n\nimport {\n  selfAndAllChildren\n} from '../../util/Elements';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport { translate } from '../../util/SvgTransformUtil';\n\nimport { isConnection } from '../../util/ModelUtil';\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../preview-support/PreviewSupport').default} PreviewSupport\n * @typedef {import('../../draw/Styles').default} Styles\n */\n\nvar LOW_PRIORITY = 499;\n\nvar MARKER_DRAGGING = 'djs-dragging',\n    MARKER_OK = 'drop-ok',\n    MARKER_NOT_OK = 'drop-not-ok',\n    MARKER_NEW_PARENT = 'new-parent',\n    MARKER_ATTACH = 'attach-ok';\n\n\n/**\n * Provides previews for moving shapes when moving.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {Styles} styles\n * @param {PreviewSupport} previewSupport\n */\nexport default function MovePreview(\n    eventBus, canvas, styles, previewSupport) {\n\n  function getVisualDragShapes(shapes) {\n    var elements = getAllDraggedElements(shapes);\n\n    var filteredElements = removeEdges(elements);\n\n    return filteredElements;\n  }\n\n  function getAllDraggedElements(shapes) {\n    var allShapes = selfAndAllChildren(shapes, true);\n\n    var allConnections = allShapes.flatMap(shape =>\n      (shape.incoming || []).concat(shape.outgoing || [])\n    );\n\n    var allElements = allShapes.concat(allConnections);\n    var uniqueElements = [ ...new Set(allElements) ];\n\n    return uniqueElements;\n  }\n\n  /**\n   * Sets drop marker on an element.\n   */\n  function setMarker(element, marker) {\n\n    [ MARKER_ATTACH, MARKER_OK, MARKER_NOT_OK, MARKER_NEW_PARENT ].forEach(function(m) {\n\n      if (m === marker) {\n        canvas.addMarker(element, m);\n      } else {\n        canvas.removeMarker(element, m);\n      }\n    });\n  }\n\n  /**\n   * Make an element draggable.\n   *\n   * @param {Object} context\n   * @param {Element} element\n   * @param {boolean} addMarker\n   */\n  function makeDraggable(context, element, addMarker) {\n\n    previewSupport.addDragger(element, context.dragGroup);\n\n    if (addMarker) {\n      canvas.addMarker(element, MARKER_DRAGGING);\n    }\n\n    if (context.allDraggedElements) {\n      context.allDraggedElements.push(element);\n    } else {\n      context.allDraggedElements = [ element ];\n    }\n  }\n\n  // assign a low priority to this handler\n  // to let others modify the move context before\n  // we draw things\n  eventBus.on('shape.move.start', LOW_PRIORITY, function(event) {\n    var context = event.context,\n        dragShapes = context.shapes,\n        allDraggedElements = context.allDraggedElements;\n\n    var visuallyDraggedShapes = getVisualDragShapes(dragShapes);\n\n    if (!context.dragGroup) {\n      var dragGroup = svgCreate('g');\n\n      svgAttr(dragGroup, styles.cls('djs-drag-group', [ 'no-events' ]));\n\n      var activeLayer = canvas.getActiveLayer();\n\n      svgAppend(activeLayer, dragGroup);\n\n      context.dragGroup = dragGroup;\n    }\n\n    // add previews\n    visuallyDraggedShapes.forEach(function(shape) {\n      previewSupport.addDragger(shape, context.dragGroup);\n    });\n\n    // cache all dragged elements / gfx\n    // so that we can quickly undo their state changes later\n    if (!allDraggedElements) {\n      allDraggedElements = getAllDraggedElements(dragShapes);\n    } else {\n      allDraggedElements = flatten([\n        allDraggedElements,\n        getAllDraggedElements(dragShapes)\n      ]);\n    }\n\n    // add dragging marker\n    forEach(allDraggedElements, function(e) {\n      canvas.addMarker(e, MARKER_DRAGGING);\n    });\n\n    context.allDraggedElements = allDraggedElements;\n\n    // determine, if any of the dragged elements have different parents\n    context.differentParents = haveDifferentParents(dragShapes);\n  });\n\n  // update previews\n  eventBus.on('shape.move.move', LOW_PRIORITY, function(event) {\n\n    var context = event.context,\n        dragGroup = context.dragGroup,\n        target = context.target,\n        parent = context.shape.parent,\n        canExecute = context.canExecute;\n\n    if (target) {\n      if (canExecute === 'attach') {\n        setMarker(target, MARKER_ATTACH);\n      } else if (context.canExecute && parent && target.id !== parent.id) {\n        setMarker(target, MARKER_NEW_PARENT);\n      } else {\n        setMarker(target, context.canExecute ? MARKER_OK : MARKER_NOT_OK);\n      }\n    }\n\n    translate(dragGroup, event.dx, event.dy);\n  });\n\n  eventBus.on([ 'shape.move.out', 'shape.move.cleanup' ], function(event) {\n    var context = event.context,\n        target = context.target;\n\n    if (target) {\n      setMarker(target, null);\n    }\n  });\n\n  // remove previews\n  eventBus.on('shape.move.cleanup', function(event) {\n\n    var context = event.context,\n        allDraggedElements = context.allDraggedElements,\n        dragGroup = context.dragGroup;\n\n\n    // remove dragging marker\n    forEach(allDraggedElements, function(e) {\n      canvas.removeMarker(e, MARKER_DRAGGING);\n    });\n\n    if (dragGroup) {\n      svgRemove(dragGroup);\n    }\n  });\n\n\n  // API //////////////////////\n\n  /**\n   * Make an element draggable.\n   *\n   * @param {Object} context\n   * @param {Element} element\n   * @param {boolean} addMarker\n   */\n  this.makeDraggable = makeDraggable;\n}\n\nMovePreview.$inject = [\n  'eventBus',\n  'canvas',\n  'styles',\n  'previewSupport'\n];\n\n\n// helpers //////////////////////\n\n/**\n * returns elements minus all connections\n * where source or target is not elements\n */\nfunction removeEdges(elements) {\n\n  var filteredElements = filter(elements, function(element) {\n\n    if (!isConnection(element)) {\n      return true;\n    } else {\n\n      return (\n        find(elements, matchPattern({ id: element.source.id })) &&\n        find(elements, matchPattern({ id: element.target.id }))\n      );\n    }\n  });\n\n  return filteredElements;\n}\n\nfunction haveDifferentParents(elements) {\n  return size(groupBy(elements, function(e) { return e.parent && e.parent.id; })) !== 1;\n}\n","import InteractionEventsModule from '../interaction-events';\nimport SelectionModule from '../selection';\nimport OutlineModule from '../outline';\nimport RulesModule from '../rules';\nimport DraggingModule from '../dragging';\nimport PreviewSupportModule from '../preview-support';\n\nimport Move from './Move';\nimport MovePreview from './MovePreview';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __depends__: [\n    InteractionEventsModule,\n    SelectionModule,\n    OutlineModule,\n    RulesModule,\n    DraggingModule,\n    PreviewSupportModule\n  ],\n  __init__: [\n    'move',\n    'movePreview'\n  ],\n  move: [ 'type', Move ],\n  movePreview: [ 'type', MovePreview ]\n};\n","import {\n  isArray,\n  isFunction,\n  forEach\n} from 'min-dash';\n\nimport {\n  domify,\n  query as domQuery,\n  attr as domAttr,\n  clear as domClear,\n  classes as domClasses,\n  matches as domMatches,\n  delegate as domDelegate,\n  event as domEvent\n} from 'min-dom';\n\nimport {\n  escapeCSS\n} from '../../util/EscapeUtil';\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n *\n * @typedef {import('./PaletteProvider').PaletteEntries} PaletteEntries\n * @typedef {import('./PaletteProvider').default} PaletteProvider\n */\n\nvar TOGGLE_SELECTOR = '.djs-palette-toggle',\n    ENTRY_SELECTOR = '.entry',\n    ELEMENT_SELECTOR = TOGGLE_SELECTOR + ', ' + ENTRY_SELECTOR;\n\nvar PALETTE_PREFIX = 'djs-palette-',\n    PALETTE_SHOWN_CLS = 'shown',\n    PALETTE_OPEN_CLS = 'open',\n    PALETTE_TWO_COLUMN_CLS = 'two-column';\n\nvar DEFAULT_PRIORITY = 1000;\n\n\n/**\n * A palette containing modeling elements.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nexport default function Palette(eventBus, canvas) {\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n\n  var self = this;\n\n  eventBus.on('tool-manager.update', function(event) {\n    var tool = event.tool;\n\n    self.updateToolHighlight(tool);\n  });\n\n  eventBus.on('i18n.changed', function() {\n    self._update();\n  });\n\n  eventBus.on('diagram.init', function() {\n\n    self._diagramInitialized = true;\n\n    self._rebuild();\n  });\n}\n\nPalette.$inject = [ 'eventBus', 'canvas' ];\n\n/**\n * @overlord\n *\n * Register a palette provider with default priority. See\n * {@link PaletteProvider} for examples.\n *\n * @param {PaletteProvider} provider\n */\n\n/**\n * Register a palette provider with the given priority. See\n * {@link PaletteProvider} for examples.\n *\n * @param {number} priority\n * @param {PaletteProvider} provider\n */\nPalette.prototype.registerProvider = function(priority, provider) {\n  if (!provider) {\n    provider = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  this._eventBus.on('palette.getProviders', priority, function(event) {\n    event.providers.push(provider);\n  });\n\n  this._rebuild();\n};\n\n\n/**\n * Returns the palette entries.\n *\n * @return {PaletteEntries}\n */\nPalette.prototype.getEntries = function() {\n  var providers = this._getProviders();\n\n  return providers.reduce(addPaletteEntries, {});\n};\n\nPalette.prototype._rebuild = function() {\n\n  if (!this._diagramInitialized) {\n    return;\n  }\n\n  var providers = this._getProviders();\n\n  if (!providers.length) {\n    return;\n  }\n\n  if (!this._container) {\n    this._init();\n  }\n\n  this._update();\n};\n\n/**\n * Initialize palette.\n */\nPalette.prototype._init = function() {\n\n  var self = this;\n\n  var eventBus = this._eventBus;\n\n  var parentContainer = this._getParentContainer();\n\n  var container = this._container = domify(Palette.HTML_MARKUP);\n\n  parentContainer.appendChild(container);\n  domClasses(parentContainer).add(PALETTE_PREFIX + PALETTE_SHOWN_CLS);\n\n  domDelegate.bind(container, ELEMENT_SELECTOR, 'click', function(event) {\n\n    var target = event.delegateTarget;\n\n    if (domMatches(target, TOGGLE_SELECTOR)) {\n      return self.toggle();\n    }\n\n    self.trigger('click', event);\n  });\n\n  // prevent drag propagation\n  domEvent.bind(container, 'mousedown', function(event) {\n    event.stopPropagation();\n  });\n\n  // prevent drag propagation\n  domDelegate.bind(container, ENTRY_SELECTOR, 'dragstart', function(event) {\n    self.trigger('dragstart', event);\n  });\n\n  eventBus.on('canvas.resized', this._layoutChanged, this);\n\n  eventBus.fire('palette.create', {\n    container: container\n  });\n};\n\nPalette.prototype._getProviders = function(id) {\n\n  var event = this._eventBus.createEvent({\n    type: 'palette.getProviders',\n    providers: []\n  });\n\n  this._eventBus.fire(event);\n\n  return event.providers;\n};\n\n/**\n * Update palette state.\n *\n * @param { {\n *   open?: boolean;\n *   twoColumn?: boolean;\n * } } [state]\n */\nPalette.prototype._toggleState = function(state) {\n\n  state = state || {};\n\n  var parent = this._getParentContainer(),\n      container = this._container;\n\n  var eventBus = this._eventBus;\n\n  var twoColumn;\n\n  var cls = domClasses(container),\n      parentCls = domClasses(parent);\n\n  if ('twoColumn' in state) {\n    twoColumn = state.twoColumn;\n  } else {\n    twoColumn = this._needsCollapse(parent.clientHeight, this._entries || {});\n  }\n\n  // always update two column\n  cls.toggle(PALETTE_TWO_COLUMN_CLS, twoColumn);\n  parentCls.toggle(PALETTE_PREFIX + PALETTE_TWO_COLUMN_CLS, twoColumn);\n\n  if ('open' in state) {\n    cls.toggle(PALETTE_OPEN_CLS, state.open);\n    parentCls.toggle(PALETTE_PREFIX + PALETTE_OPEN_CLS, state.open);\n  }\n\n  eventBus.fire('palette.changed', {\n    twoColumn: twoColumn,\n    open: this.isOpen()\n  });\n};\n\nPalette.prototype._update = function() {\n\n  var entriesContainer = domQuery('.djs-palette-entries', this._container),\n      entries = this._entries = this.getEntries();\n\n  domClear(entriesContainer);\n\n  forEach(entries, function(entry, id) {\n\n    var grouping = entry.group || 'default';\n\n    var container = domQuery('[data-group=' + escapeCSS(grouping) + ']', entriesContainer);\n    if (!container) {\n      container = domify('<div class=\"group\"></div>');\n      domAttr(container, 'data-group', grouping);\n\n      entriesContainer.appendChild(container);\n    }\n\n    var html = entry.html || (\n      entry.separator ?\n        '<hr class=\"separator\" />' :\n        '<div class=\"entry\" draggable=\"true\"></div>');\n\n\n    var control = domify(html);\n    container.appendChild(control);\n\n    if (!entry.separator) {\n      domAttr(control, 'data-action', id);\n\n      if (entry.title) {\n        domAttr(control, 'title', entry.title);\n      }\n\n      if (entry.className) {\n        addClasses(control, entry.className);\n      }\n\n      if (entry.imageUrl) {\n        var image = domify('<img>');\n        domAttr(image, 'src', entry.imageUrl);\n\n        control.appendChild(image);\n      }\n    }\n  });\n\n  // open after update\n  this.open();\n};\n\n\n/**\n * Trigger an action available on the palette\n *\n * @param {string} action\n * @param {Event} event\n * @param {boolean} [autoActivate=false]\n */\nPalette.prototype.trigger = function(action, event, autoActivate) {\n  var entry,\n      originalEvent,\n      button = event.delegateTarget || event.target;\n\n  if (!button) {\n    return event.preventDefault();\n  }\n\n  entry = domAttr(button, 'data-action');\n  originalEvent = event.originalEvent || event;\n\n  return this.triggerEntry(entry, action, originalEvent, autoActivate);\n};\n\n/**\n * @param {string} entryId\n * @param {string} action\n * @param {Event} event\n * @param {boolean} [autoActivate=false]\n */\nPalette.prototype.triggerEntry = function(entryId, action, event, autoActivate) {\n  var entries = this._entries,\n      entry,\n      handler;\n\n  entry = entries[entryId];\n\n  // when user clicks on the palette and not on an action\n  if (!entry) {\n    return;\n  }\n\n  handler = entry.action;\n\n  if (this._eventBus.fire('palette.trigger', { entry, event }) === false) {\n    return;\n  }\n\n  // simple action (via callback function)\n  if (isFunction(handler)) {\n    if (action === 'click') {\n      return handler(event, autoActivate);\n    }\n  } else {\n    if (handler[action]) {\n      return handler[action](event, autoActivate);\n    }\n  }\n\n  // silence other actions\n  event.preventDefault();\n};\n\nPalette.prototype._layoutChanged = function() {\n  this._toggleState({});\n};\n\n/**\n * Do we need to collapse to two columns?\n *\n * @param {number} availableHeight\n * @param {PaletteEntries} entries\n *\n * @return {boolean}\n */\nPalette.prototype._needsCollapse = function(availableHeight, entries) {\n\n  // top margin + bottom toggle + bottom margin\n  // implementors must override this method if they\n  // change the palette styles\n  var margin = 20 + 10 + 20;\n\n  var entriesHeight = Object.keys(entries).length * 46;\n\n  return availableHeight < entriesHeight + margin;\n};\n\n/**\n * Close the palette.\n */\nPalette.prototype.close = function() {\n  this._toggleState({\n    open: false,\n    twoColumn: false\n  });\n};\n\n/**\n * Open the palette.\n */\nPalette.prototype.open = function() {\n  this._toggleState({ open: true });\n};\n\n/**\n * Toggle the palette.\n */\nPalette.prototype.toggle = function() {\n  if (this.isOpen()) {\n    this.close();\n  } else {\n    this.open();\n  }\n};\n\n/**\n * @param {string} tool\n *\n * @return {boolean}\n */\nPalette.prototype.isActiveTool = function(tool) {\n  return tool && this._activeTool === tool;\n};\n\n/**\n * @param {string} name\n */\nPalette.prototype.updateToolHighlight = function(name) {\n  var entriesContainer,\n      toolsContainer;\n\n  if (!this._toolsContainer) {\n    entriesContainer = domQuery('.djs-palette-entries', this._container);\n\n    this._toolsContainer = domQuery('[data-group=tools]', entriesContainer);\n  }\n\n  toolsContainer = this._toolsContainer;\n\n  forEach(toolsContainer.children, function(tool) {\n    var actionName = tool.getAttribute('data-action');\n\n    if (!actionName) {\n      return;\n    }\n\n    var toolClasses = domClasses(tool);\n\n    actionName = actionName.replace('-tool', '');\n\n    if (toolClasses.contains('entry') && actionName === name) {\n      toolClasses.add('highlighted-entry');\n    } else {\n      toolClasses.remove('highlighted-entry');\n    }\n  });\n};\n\n\n/**\n * Return `true` if the palette is opened.\n *\n * @example\n *\n * ```javascript\n * palette.open();\n *\n * if (palette.isOpen()) {\n *   // yes, we are open\n * }\n * ```\n *\n * @return {boolean}\n */\nPalette.prototype.isOpen = function() {\n  return domClasses(this._container).has(PALETTE_OPEN_CLS);\n};\n\n/**\n * Get parent element of palette.\n *\n * @return {HTMLElement}\n */\nPalette.prototype._getParentContainer = function() {\n  return this._canvas.getContainer();\n};\n\n\n/* markup definition */\n\nPalette.HTML_MARKUP =\n  '<div class=\"djs-palette\">' +\n    '<div class=\"djs-palette-entries\"></div>' +\n    '<div class=\"djs-palette-toggle\"></div>' +\n  '</div>';\n\n\n// helpers //////////////////////\n\nfunction addClasses(element, classNames) {\n\n  var classes = domClasses(element);\n\n  var actualClassNames = isArray(classNames) ? classNames : classNames.split(/\\s+/g);\n  actualClassNames.forEach(function(cls) {\n    classes.add(cls);\n  });\n}\n\nfunction addPaletteEntries(entries, provider) {\n\n  var entriesOrUpdater = provider.getPaletteEntries();\n\n  if (isFunction(entriesOrUpdater)) {\n    return entriesOrUpdater(entries);\n  }\n\n  forEach(entriesOrUpdater, function(entry, id) {\n    entries[id] = entry;\n  });\n\n  return entries;\n}","import Palette from './Palette';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __init__: [ 'palette' ],\n  palette: [ 'type', Palette ]\n};\n","import {\n  pointDistance\n} from './Geometry';\n\nimport intersectPaths from 'path-intersection';\n\n/**\n * @typedef {import('../util/Types').Point} Point\n *\n * @typedef { {\n *   bendpoint?: boolean;\n *   index: number;\n *   point: Point;\n * } } Intersection\n */\n\nvar round = Math.round,\n    max = Math.max;\n\n\nfunction circlePath(center, r) {\n  var x = center.x,\n      y = center.y;\n\n  return [\n    [ 'M', x, y ],\n    [ 'm', 0, -r ],\n    [ 'a', r, r, 0, 1, 1, 0, 2 * r ],\n    [ 'a', r, r, 0, 1, 1, 0, -2 * r ],\n    [ 'z' ]\n  ];\n}\n\nfunction linePath(points) {\n  var segments = [];\n\n  points.forEach(function(p, idx) {\n    segments.push([ idx === 0 ? 'M' : 'L', p.x, p.y ]);\n  });\n\n  return segments;\n}\n\n\nvar INTERSECTION_THRESHOLD = 10;\n\n/**\n * @param {Point[]} waypoints\n * @param {Point} reference\n *\n * @return {Intersection|null}\n */\nfunction getBendpointIntersection(waypoints, reference) {\n\n  var i, w;\n\n  for (i = 0; (w = waypoints[i]); i++) {\n\n    if (pointDistance(w, reference) <= INTERSECTION_THRESHOLD) {\n      return {\n        point: waypoints[i],\n        bendpoint: true,\n        index: i\n      };\n    }\n  }\n\n  return null;\n}\n\n/**\n * @param {Point[]} waypoints\n * @param {Point} reference\n *\n * @return {Intersection|null}\n */\nfunction getPathIntersection(waypoints, reference) {\n\n  var intersections = intersectPaths(circlePath(reference, INTERSECTION_THRESHOLD), linePath(waypoints));\n\n  var a = intersections[0],\n      b = intersections[intersections.length - 1],\n      idx;\n\n  if (!a) {\n\n    // no intersection\n    return null;\n  }\n\n  if (a !== b) {\n\n    if (a.segment2 !== b.segment2) {\n\n      // we use the bendpoint in between both segments\n      // as the intersection point\n\n      idx = max(a.segment2, b.segment2) - 1;\n\n      return {\n        point: waypoints[idx],\n        bendpoint: true,\n        index: idx\n      };\n    }\n\n    return {\n      point: {\n        x: (round(a.x + b.x) / 2),\n        y: (round(a.y + b.y) / 2)\n      },\n      index: a.segment2\n    };\n  }\n\n  return {\n    point: {\n      x: round(a.x),\n      y: round(a.y)\n    },\n    index: a.segment2\n  };\n}\n\n/**\n * Returns the closest point on the connection towards a given reference point.\n *\n * @param {Point[]} waypoints\n * @param {Point} reference\n *\n * @return {Intersection|null}\n */\nexport function getApproxIntersection(waypoints, reference) {\n  return getBendpointIntersection(waypoints, reference) || getPathIntersection(waypoints, reference);\n}\n","/**\n * @typedef {import('../../util/Types').Point} Point\n * @typedef {import('../../util/Types').Vector} Vector\n */\n\n/**\n * Returns the length of a vector.\n *\n * @param {Vector} vector\n *\n * @return {number}\n */\nexport function vectorLength(vector) {\n  return Math.sqrt(Math.pow(vector.x, 2) + Math.pow(vector.y, 2));\n}\n\n\n/**\n * Calculates the angle between a line a the Y axis.\n *\n * @param {Point[]} line\n *\n * @return {number}\n */\nexport function getAngle(line) {\n\n  // return value is between 0, 180 and -180, -0\n  // @janstuemmel: maybe replace return a/b with b/a\n  return Math.atan((line[1].y - line[0].y) / (line[1].x - line[0].x));\n}\n\n\n/**\n * Rotates a vector by a given angle.\n *\n * @param {Vector} vector\n * @param {number} angle The angle in radians.\n *\n * @return {Vector}\n */\nexport function rotateVector(vector, angle) {\n  return (!angle) ? vector : {\n    x: Math.cos(angle) * vector.x - Math.sin(angle) * vector.y,\n    y: Math.sin(angle) * vector.x + Math.cos(angle) * vector.y\n  };\n}\n\n\n/**\n * Solves a 2D equation system\n * a + r*b = c, where a,b,c are 2D vectors\n *\n * @param {Vector} a\n * @param {Vector} b\n * @param {Vector} c\n *\n * @return {number}\n */\nfunction solveLambaSystem(a, b, c) {\n\n  // the 2d system\n  var system = [\n    { n: a[0] - c[0], lambda: b[0] },\n    { n: a[1] - c[1], lambda: b[1] }\n  ];\n\n  // solve\n  var n = system[0].n * b[0] + system[1].n * b[1],\n      l = system[0].lambda * b[0] + system[1].lambda * b[1];\n\n  return -n / l;\n}\n\n\n/**\n * Calculates the position of the perpendicular foot.\n *\n * @param {Point} point\n * @param {Point[]} line\n *\n * @return {Point}\n */\nexport function perpendicularFoot(point, line) {\n\n  var a = line[0], b = line[1];\n\n  // relative position of b from a\n  var bd = { x: b.x - a.x, y: b.y - a.y };\n\n  // solve equation system to the parametrized vectors param real value\n  var r = solveLambaSystem([ a.x, a.y ], [ bd.x, bd.y ], [ point.x, point.y ]);\n\n  return { x: a.x + r * bd.x, y: a.y + r * bd.y };\n}\n\n\n/**\n * Calculates the distance between a point and a line.\n *\n * @param {Point} point\n * @param {Point[]} line\n *\n * @return {number}\n */\nexport function getDistancePointLine(point, line) {\n\n  var pfPoint = perpendicularFoot(point, line);\n\n  // distance vector\n  var connectionVector = {\n    x: pfPoint.x - point.x,\n    y: pfPoint.y - point.y\n  };\n\n  return vectorLength(connectionVector);\n}\n\n\n/**\n * Calculates the distance between two points.\n *\n * @param {Point} point1\n * @param {Point} point2\n *\n * @return {number}\n */\nexport function getDistancePointPoint(point1, point2) {\n\n  return vectorLength({\n    x: point1.x - point2.x,\n    y: point1.y - point2.y\n  });\n}","import {\n  toPoint\n} from '../../util/Event';\n\nimport {\n  getMidPoint,\n  pointsAligned\n} from '../../util/Geometry';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate\n} from 'tiny-svg';\n\nimport {\n  rotate,\n  translate\n} from '../../util/SvgTransformUtil';\n\nimport {\n  getApproxIntersection\n} from '../../util/LineIntersection';\n\nimport { getDistancePointLine, perpendicularFoot } from './GeometricUtil';\n\n/**\n * @typedef {import('../../core/Types').ConnectionLike} Connection\n *\n * @typedef {import('../../util/Types').Point} Point\n */\n\nexport var BENDPOINT_CLS = 'djs-bendpoint';\nexport var SEGMENT_DRAGGER_CLS = 'djs-segment-dragger';\n\nexport function toCanvasCoordinates(canvas, event) {\n\n  var position = toPoint(event),\n      clientRect = canvas._container.getBoundingClientRect(),\n      offset;\n\n  // canvas relative position\n\n  offset = {\n    x: clientRect.left,\n    y: clientRect.top\n  };\n\n  // update actual event payload with canvas relative measures\n\n  var viewbox = canvas.viewbox();\n\n  return {\n    x: viewbox.x + (position.x - offset.x) / viewbox.scale,\n    y: viewbox.y + (position.y - offset.y) / viewbox.scale\n  };\n}\n\nexport function getConnectionIntersection(canvas, waypoints, event) {\n  var localPosition = toCanvasCoordinates(canvas, event),\n      intersection = getApproxIntersection(waypoints, localPosition);\n\n  return intersection;\n}\n\nexport function addBendpoint(parentGfx, cls) {\n  var groupGfx = svgCreate('g');\n  svgClasses(groupGfx).add(BENDPOINT_CLS);\n\n  svgAppend(parentGfx, groupGfx);\n\n  var visual = svgCreate('circle');\n  svgAttr(visual, {\n    cx: 0,\n    cy: 0,\n    r: 4\n  });\n  svgClasses(visual).add('djs-visual');\n\n  svgAppend(groupGfx, visual);\n\n  var hit = svgCreate('circle');\n  svgAttr(hit, {\n    cx: 0,\n    cy: 0,\n    r: 10\n  });\n  svgClasses(hit).add('djs-hit');\n\n  svgAppend(groupGfx, hit);\n\n  if (cls) {\n    svgClasses(groupGfx).add(cls);\n  }\n\n  return groupGfx;\n}\n\nfunction createParallelDragger(parentGfx, segmentStart, segmentEnd, alignment) {\n  var draggerGfx = svgCreate('g');\n\n  svgAppend(parentGfx, draggerGfx);\n\n  var width = 18,\n      height = 6,\n      padding = 11,\n      hitWidth = calculateHitWidth(segmentStart, segmentEnd, alignment),\n      hitHeight = height + padding;\n\n  var visual = svgCreate('rect');\n  svgAttr(visual, {\n    x: -width / 2,\n    y: -height / 2,\n    width: width,\n    height: height\n  });\n  svgClasses(visual).add('djs-visual');\n\n  svgAppend(draggerGfx, visual);\n\n  var hit = svgCreate('rect');\n  svgAttr(hit, {\n    x: -hitWidth / 2,\n    y: -hitHeight / 2,\n    width: hitWidth,\n    height: hitHeight\n  });\n  svgClasses(hit).add('djs-hit');\n\n  svgAppend(draggerGfx, hit);\n\n  rotate(draggerGfx, alignment === 'v' ? 90 : 0, 0, 0);\n\n  return draggerGfx;\n}\n\n\nexport function addSegmentDragger(parentGfx, segmentStart, segmentEnd) {\n\n  var groupGfx = svgCreate('g'),\n      mid = getMidPoint(segmentStart, segmentEnd),\n      alignment = pointsAligned(segmentStart, segmentEnd);\n\n  svgAppend(parentGfx, groupGfx);\n\n  createParallelDragger(groupGfx, segmentStart, segmentEnd, alignment);\n\n  svgClasses(groupGfx).add(SEGMENT_DRAGGER_CLS);\n  svgClasses(groupGfx).add(alignment === 'h' ? 'horizontal' : 'vertical');\n\n  translate(groupGfx, mid.x, mid.y);\n\n  return groupGfx;\n}\n\n/**\n * Calculates region for segment move which is 2/3 of the full segment length\n * @param {number} segmentLength\n *\n * @return {number}\n */\nexport function calculateSegmentMoveRegion(segmentLength) {\n  return Math.abs(Math.round(segmentLength * 2 / 3));\n}\n\n/**\n * Returns the point with the closest distance that is on the connection path.\n *\n * @param {Point} position\n * @param {Connection} connection\n * @return {Point}\n */\nexport function getClosestPointOnConnection(position, connection) {\n  var segment = getClosestSegment(position, connection);\n\n  return perpendicularFoot(position, segment);\n}\n\n\n// helper //////////\n\nfunction calculateHitWidth(segmentStart, segmentEnd, alignment) {\n  var segmentLengthXAxis = segmentEnd.x - segmentStart.x,\n      segmentLengthYAxis = segmentEnd.y - segmentStart.y;\n\n  return alignment === 'h' ?\n    calculateSegmentMoveRegion(segmentLengthXAxis) :\n    calculateSegmentMoveRegion(segmentLengthYAxis);\n}\n\nfunction getClosestSegment(position, connection) {\n  var waypoints = connection.waypoints;\n\n  var minDistance = Infinity,\n      segmentIndex;\n\n  for (var i = 0; i < waypoints.length - 1; i++) {\n    var start = waypoints[i],\n        end = waypoints[i + 1],\n        distance = getDistancePointLine(position, [ start, end ]);\n\n    if (distance < minDistance) {\n      minDistance = distance;\n      segmentIndex = i;\n    }\n  }\n\n  return [ waypoints[segmentIndex], waypoints[segmentIndex + 1] ];\n}","import { forEach } from 'min-dash';\n\nimport {\n  event as domEvent,\n  query as domQuery,\n  queryAll as domQueryAll\n} from 'min-dom';\n\nimport {\n  BENDPOINT_CLS,\n  SEGMENT_DRAGGER_CLS,\n  addBendpoint,\n  addSegmentDragger,\n  calculateSegmentMoveRegion,\n  getConnectionIntersection\n} from './BendpointUtil';\n\nimport {\n  escapeCSS\n} from '../../util/EscapeUtil';\n\nimport {\n  pointsAligned,\n  getMidPoint\n} from '../../util/Geometry';\n\nimport {\n  isPrimaryButton\n} from '../../util/Mouse';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport {\n  translate\n} from '../../util/SvgTransformUtil';\n\n/**\n * @typedef {import('../bendpoints/BendpointMove').default} BendpointMove\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../bendpoints/ConnectionSegmentMove').default} ConnectionSegmentMove\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../interaction-events/InteractionEvents').default} InteractionEvents\n */\n\n/**\n * A service that adds editable bendpoints to connections.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {InteractionEvents} interactionEvents\n * @param {BendpointMove} bendpointMove\n * @param {ConnectionSegmentMove} connectionSegmentMove\n */\nexport default function Bendpoints(\n    eventBus, canvas, interactionEvents,\n    bendpointMove, connectionSegmentMove) {\n\n  /**\n   * Returns true if intersection point is inside middle region of segment, adjusted by\n   * optional threshold\n   */\n  function isIntersectionMiddle(intersection, waypoints, treshold) {\n    var idx = intersection.index,\n        p = intersection.point,\n        p0, p1, mid, aligned, xDelta, yDelta;\n\n    if (idx <= 0 || intersection.bendpoint) {\n      return false;\n    }\n\n    p0 = waypoints[idx - 1];\n    p1 = waypoints[idx];\n    mid = getMidPoint(p0, p1),\n    aligned = pointsAligned(p0, p1);\n    xDelta = Math.abs(p.x - mid.x);\n    yDelta = Math.abs(p.y - mid.y);\n\n    return aligned && xDelta <= treshold && yDelta <= treshold;\n  }\n\n  /**\n   * Calculates the threshold from a connection's middle which fits the two-third-region\n   */\n  function calculateIntersectionThreshold(connection, intersection) {\n    var waypoints = connection.waypoints,\n        relevantSegment, alignment, segmentLength, threshold;\n\n    if (intersection.index <= 0 || intersection.bendpoint) {\n      return null;\n    }\n\n    // segment relative to connection intersection\n    relevantSegment = {\n      start: waypoints[intersection.index - 1],\n      end: waypoints[intersection.index]\n    };\n\n    alignment = pointsAligned(relevantSegment.start, relevantSegment.end);\n\n    if (!alignment) {\n      return null;\n    }\n\n    if (alignment === 'h') {\n      segmentLength = relevantSegment.end.x - relevantSegment.start.x;\n    } else {\n      segmentLength = relevantSegment.end.y - relevantSegment.start.y;\n    }\n\n    // calculate threshold relative to 2/3 of segment length\n    threshold = calculateSegmentMoveRegion(segmentLength) / 2;\n\n    return threshold;\n  }\n\n  function activateBendpointMove(event, connection) {\n    var waypoints = connection.waypoints,\n        intersection = getConnectionIntersection(canvas, waypoints, event),\n        threshold;\n\n    if (!intersection) {\n      return;\n    }\n\n    threshold = calculateIntersectionThreshold(connection, intersection);\n\n    if (isIntersectionMiddle(intersection, waypoints, threshold)) {\n      connectionSegmentMove.start(event, connection, intersection.index);\n    } else {\n      bendpointMove.start(event, connection, intersection.index, !intersection.bendpoint);\n    }\n\n    // we've handled the event\n    return true;\n  }\n\n  function bindInteractionEvents(node, eventName, element) {\n\n    domEvent.bind(node, eventName, function(event) {\n      interactionEvents.triggerMouseEvent(eventName, event, element);\n      event.stopPropagation();\n    });\n  }\n\n  function getBendpointsContainer(element, create) {\n\n    var layer = canvas.getLayer('overlays'),\n        gfx = domQuery('.djs-bendpoints[data-element-id=\"' + escapeCSS(element.id) + '\"]', layer);\n\n    if (!gfx && create) {\n      gfx = svgCreate('g');\n      svgAttr(gfx, { 'data-element-id': element.id });\n      svgClasses(gfx).add('djs-bendpoints');\n\n      svgAppend(layer, gfx);\n\n      bindInteractionEvents(gfx, 'mousedown', element);\n      bindInteractionEvents(gfx, 'click', element);\n      bindInteractionEvents(gfx, 'dblclick', element);\n    }\n\n    return gfx;\n  }\n\n  function getSegmentDragger(idx, parentGfx) {\n    return domQuery(\n      '.djs-segment-dragger[data-segment-idx=\"' + idx + '\"]',\n      parentGfx\n    );\n  }\n\n  function createBendpoints(gfx, connection) {\n    connection.waypoints.forEach(function(p, idx) {\n      var bendpoint = addBendpoint(gfx);\n\n      svgAppend(gfx, bendpoint);\n\n      translate(bendpoint, p.x, p.y);\n    });\n\n    // add floating bendpoint\n    addBendpoint(gfx, 'floating');\n  }\n\n  function createSegmentDraggers(gfx, connection) {\n\n    var waypoints = connection.waypoints;\n\n    var segmentStart,\n        segmentEnd,\n        segmentDraggerGfx;\n\n    for (var i = 1; i < waypoints.length; i++) {\n\n      segmentStart = waypoints[i - 1];\n      segmentEnd = waypoints[i];\n\n      if (pointsAligned(segmentStart, segmentEnd)) {\n        segmentDraggerGfx = addSegmentDragger(gfx, segmentStart, segmentEnd);\n\n        svgAttr(segmentDraggerGfx, { 'data-segment-idx': i });\n\n        bindInteractionEvents(segmentDraggerGfx, 'mousemove', connection);\n      }\n    }\n  }\n\n  function clearBendpoints(gfx) {\n    forEach(domQueryAll('.' + BENDPOINT_CLS, gfx), function(node) {\n      svgRemove(node);\n    });\n  }\n\n  function clearSegmentDraggers(gfx) {\n    forEach(domQueryAll('.' + SEGMENT_DRAGGER_CLS, gfx), function(node) {\n      svgRemove(node);\n    });\n  }\n\n  function addHandles(connection) {\n\n    var gfx = getBendpointsContainer(connection);\n\n    if (!gfx) {\n      gfx = getBendpointsContainer(connection, true);\n\n      createBendpoints(gfx, connection);\n      createSegmentDraggers(gfx, connection);\n    }\n\n    return gfx;\n  }\n\n  function updateHandles(connection) {\n\n    var gfx = getBendpointsContainer(connection);\n\n    if (gfx) {\n      clearSegmentDraggers(gfx);\n      clearBendpoints(gfx);\n      createSegmentDraggers(gfx, connection);\n      createBendpoints(gfx, connection);\n    }\n  }\n\n  function updateFloatingBendpointPosition(parentGfx, intersection) {\n    var floating = domQuery('.floating', parentGfx),\n        point = intersection.point;\n\n    if (!floating) {\n      return;\n    }\n\n    translate(floating, point.x, point.y);\n\n  }\n\n  function updateSegmentDraggerPosition(parentGfx, intersection, waypoints) {\n\n    var draggerGfx = getSegmentDragger(intersection.index, parentGfx),\n        segmentStart = waypoints[intersection.index - 1],\n        segmentEnd = waypoints[intersection.index],\n        point = intersection.point,\n        mid = getMidPoint(segmentStart, segmentEnd),\n        alignment = pointsAligned(segmentStart, segmentEnd),\n        draggerVisual, relativePosition;\n\n    if (!draggerGfx) {\n      return;\n    }\n\n    draggerVisual = getDraggerVisual(draggerGfx);\n\n    relativePosition = {\n      x: point.x - mid.x,\n      y: point.y - mid.y\n    };\n\n    if (alignment === 'v') {\n\n      // rotate position\n      relativePosition = {\n        x: relativePosition.y,\n        y: relativePosition.x\n      };\n    }\n\n    translate(draggerVisual, relativePosition.x, relativePosition.y);\n  }\n\n  eventBus.on('connection.changed', function(event) {\n    updateHandles(event.element);\n  });\n\n  eventBus.on('connection.remove', function(event) {\n    var gfx = getBendpointsContainer(event.element);\n\n    if (gfx) {\n      svgRemove(gfx);\n    }\n  });\n\n  eventBus.on('element.marker.update', function(event) {\n\n    var element = event.element,\n        bendpointsGfx;\n\n    if (!element.waypoints) {\n      return;\n    }\n\n    bendpointsGfx = addHandles(element);\n\n    if (event.add) {\n      svgClasses(bendpointsGfx).add(event.marker);\n    } else {\n      svgClasses(bendpointsGfx).remove(event.marker);\n    }\n  });\n\n  eventBus.on('element.mousemove', function(event) {\n\n    var element = event.element,\n        waypoints = element.waypoints,\n        bendpointsGfx,\n        intersection;\n\n    if (waypoints) {\n      bendpointsGfx = getBendpointsContainer(element, true);\n\n      intersection = getConnectionIntersection(canvas, waypoints, event.originalEvent);\n\n      if (!intersection) {\n        return;\n      }\n\n      updateFloatingBendpointPosition(bendpointsGfx, intersection);\n\n      if (!intersection.bendpoint) {\n        updateSegmentDraggerPosition(bendpointsGfx, intersection, waypoints);\n      }\n\n    }\n  });\n\n  eventBus.on('element.mousedown', function(event) {\n\n    if (!isPrimaryButton(event)) {\n      return;\n    }\n\n    var originalEvent = event.originalEvent,\n        element = event.element;\n\n    if (!element.waypoints) {\n      return;\n    }\n\n    return activateBendpointMove(originalEvent, element);\n  });\n\n  eventBus.on('selection.changed', function(event) {\n    var newSelection = event.newSelection,\n        primary = newSelection[0];\n\n    if (primary && primary.waypoints) {\n      addHandles(primary);\n    }\n  });\n\n  eventBus.on('element.hover', function(event) {\n    var element = event.element;\n\n    if (element.waypoints) {\n      addHandles(element);\n      interactionEvents.registerEvent(event.gfx, 'mousemove', 'element.mousemove');\n    }\n  });\n\n  eventBus.on('element.out', function(event) {\n    interactionEvents.unregisterEvent(event.gfx, 'mousemove', 'element.mousemove');\n  });\n\n  // update bendpoint container data attribute on element ID change\n  eventBus.on('element.updateId', function(context) {\n    var element = context.element,\n        newId = context.newId;\n\n    if (element.waypoints) {\n      var bendpointContainer = getBendpointsContainer(element);\n\n      if (bendpointContainer) {\n        svgAttr(bendpointContainer, { 'data-element-id': newId });\n      }\n    }\n  });\n\n  // API\n\n  this.addHandles = addHandles;\n  this.updateHandles = updateHandles;\n  this.getBendpointsContainer = getBendpointsContainer;\n  this.getSegmentDragger = getSegmentDragger;\n}\n\nBendpoints.$inject = [\n  'eventBus',\n  'canvas',\n  'interactionEvents',\n  'bendpointMove',\n  'connectionSegmentMove'\n];\n\n\n\n// helper /////////////\n\nfunction getDraggerVisual(draggerGfx) {\n  return domQuery('.djs-visual', draggerGfx);\n}","import { filterRedundantWaypoints } from '../../layout/LayoutUtil';\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../dragging/Dragging').default} Dragging\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('../rules/Rules').default} Rules\n */\n\nvar round = Math.round;\n\nvar RECONNECT_START = 'reconnectStart',\n    RECONNECT_END = 'reconnectEnd',\n    UPDATE_WAYPOINTS = 'updateWaypoints';\n\n\n/**\n * Move bendpoints through drag and drop to add/remove bendpoints or reconnect connection.\n *\n * @param {Injector} injector\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {Dragging} dragging\n * @param {Rules} rules\n * @param {Modeling} modeling\n */\nexport default function BendpointMove(injector, eventBus, canvas, dragging, rules, modeling) {\n  this._injector = injector;\n\n  this.start = function(event, connection, bendpointIndex, insert) {\n    var gfx = canvas.getGraphics(connection),\n        source = connection.source,\n        target = connection.target,\n        waypoints = connection.waypoints,\n        type;\n\n    if (!insert && bendpointIndex === 0) {\n      type = RECONNECT_START;\n    } else if (!insert && bendpointIndex === waypoints.length - 1) {\n      type = RECONNECT_END;\n    } else {\n      type = UPDATE_WAYPOINTS;\n    }\n\n    var command = type === UPDATE_WAYPOINTS ? 'connection.updateWaypoints' : 'connection.reconnect';\n\n    var allowed = rules.allowed(command, {\n      connection: connection,\n      source: source,\n      target: target\n    });\n\n    if (allowed === false) {\n      allowed = rules.allowed(command, {\n        connection: connection,\n        source: target,\n        target: source\n      });\n    }\n\n    if (allowed === false) {\n      return;\n    }\n\n    dragging.init(event, 'bendpoint.move', {\n      data: {\n        connection: connection,\n        connectionGfx: gfx,\n        context: {\n          allowed: allowed,\n          bendpointIndex: bendpointIndex,\n          connection: connection,\n          source: source,\n          target: target,\n          insert: insert,\n          type: type\n        }\n      }\n    });\n  };\n\n  eventBus.on('bendpoint.move.hover', function(event) {\n    var context = event.context,\n        connection = context.connection,\n        source = connection.source,\n        target = connection.target,\n        hover = event.hover,\n        type = context.type;\n\n    // cache hover state\n    context.hover = hover;\n\n    var allowed;\n\n    if (!hover) {\n      return;\n    }\n\n    var command = type === UPDATE_WAYPOINTS ? 'connection.updateWaypoints' : 'connection.reconnect';\n\n    allowed = context.allowed = rules.allowed(command, {\n      connection: connection,\n      source: type === RECONNECT_START ? hover : source,\n      target: type === RECONNECT_END ? hover : target\n    });\n\n    if (allowed) {\n      context.source = type === RECONNECT_START ? hover : source;\n      context.target = type === RECONNECT_END ? hover : target;\n\n      return;\n    }\n\n    if (allowed === false) {\n      allowed = context.allowed = rules.allowed(command, {\n        connection: connection,\n        source: type === RECONNECT_END ? hover : target,\n        target: type === RECONNECT_START ? hover : source\n      });\n    }\n\n    if (allowed) {\n      context.source = type === RECONNECT_END ? hover : target;\n      context.target = type === RECONNECT_START ? hover : source;\n    }\n  });\n\n  eventBus.on([ 'bendpoint.move.out', 'bendpoint.move.cleanup' ], function(event) {\n    var context = event.context,\n        type = context.type;\n\n    context.hover = null;\n    context.source = null;\n    context.target = null;\n\n    if (type !== UPDATE_WAYPOINTS) {\n      context.allowed = false;\n    }\n  });\n\n  eventBus.on('bendpoint.move.end', function(event) {\n    var context = event.context,\n        allowed = context.allowed,\n        bendpointIndex = context.bendpointIndex,\n        connection = context.connection,\n        insert = context.insert,\n        newWaypoints = connection.waypoints.slice(),\n        source = context.source,\n        target = context.target,\n        type = context.type,\n        hints = context.hints || {};\n\n    // ensure integer values (important if zoom level was > 1 during move)\n    var docking = {\n      x: round(event.x),\n      y: round(event.y)\n    };\n\n    if (!allowed) {\n      return false;\n    }\n\n    if (type === UPDATE_WAYPOINTS) {\n      if (insert) {\n\n        // insert new bendpoint\n        newWaypoints.splice(bendpointIndex, 0, docking);\n      } else {\n\n        // swap previous waypoint with moved one\n        newWaypoints[bendpointIndex] = docking;\n      }\n\n      // pass hints about actual moved bendpoint\n      // useful for connection/label layout\n      hints.bendpointMove = {\n        insert: insert,\n        bendpointIndex: bendpointIndex\n      };\n\n      newWaypoints = this.cropWaypoints(connection, newWaypoints);\n\n      modeling.updateWaypoints(connection, filterRedundantWaypoints(newWaypoints), hints);\n    } else {\n      if (type === RECONNECT_START) {\n        hints.docking = 'source';\n\n        if (isReverse(context)) {\n          hints.docking = 'target';\n\n          hints.newWaypoints = newWaypoints.reverse();\n        }\n      } else if (type === RECONNECT_END) {\n        hints.docking = 'target';\n\n        if (isReverse(context)) {\n          hints.docking = 'source';\n\n          hints.newWaypoints = newWaypoints.reverse();\n        }\n      }\n\n      modeling.reconnect(connection, source, target, docking, hints);\n    }\n  }, this);\n}\n\nBendpointMove.$inject = [\n  'injector',\n  'eventBus',\n  'canvas',\n  'dragging',\n  'rules',\n  'modeling'\n];\n\nBendpointMove.prototype.cropWaypoints = function(connection, newWaypoints) {\n  var connectionDocking = this._injector.get('connectionDocking', false);\n\n  if (!connectionDocking) {\n    return newWaypoints;\n  }\n\n  var waypoints = connection.waypoints;\n\n  connection.waypoints = newWaypoints;\n\n  connection.waypoints = connectionDocking.getCroppedWaypoints(connection);\n\n  newWaypoints = connection.waypoints;\n\n  connection.waypoints = waypoints;\n\n  return newWaypoints;\n};\n\n\n// helpers //////////\n\nexport function isReverse(context) {\n  var hover = context.hover,\n      source = context.source,\n      target = context.target,\n      type = context.type;\n\n  if (type === RECONNECT_START) {\n    return hover && target && hover === target && source !== target;\n  }\n\n  if (type === RECONNECT_END) {\n    return hover && source && hover === source && source !== target;\n  }\n}","import {\n  classes as svgClasses,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport { addBendpoint } from './BendpointUtil';\n\nimport { translate } from '../../util/SvgTransformUtil';\n\nimport { isReverse } from './BendpointMove';\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../bendpoints/BendpointMove').default} BendpointMove\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\nvar RECONNECT_START = 'reconnectStart',\n    RECONNECT_END = 'reconnectEnd',\n    UPDATE_WAYPOINTS = 'updateWaypoints';\n\nvar MARKER_OK = 'connect-ok',\n    MARKER_NOT_OK = 'connect-not-ok',\n    MARKER_CONNECT_HOVER = 'connect-hover',\n    MARKER_CONNECT_UPDATING = 'djs-updating',\n    MARKER_DRAGGER = 'djs-dragging';\n\nvar HIGH_PRIORITY = 1100;\n\n/**\n * Preview connection while moving bendpoints.\n *\n * @param {BendpointMove} bendpointMove\n * @param {Injector} injector\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nexport default function BendpointMovePreview(bendpointMove, injector, eventBus, canvas) {\n  this._injector = injector;\n\n  var connectionPreview = injector.get('connectionPreview', false);\n\n  eventBus.on('bendpoint.move.start', function(event) {\n    var context = event.context,\n        bendpointIndex = context.bendpointIndex,\n        connection = context.connection,\n        insert = context.insert,\n        waypoints = connection.waypoints,\n        newWaypoints = waypoints.slice();\n\n    context.waypoints = waypoints;\n\n    if (insert) {\n\n      // insert placeholder for new bendpoint\n      newWaypoints.splice(bendpointIndex, 0, { x: event.x, y: event.y });\n    }\n\n    connection.waypoints = newWaypoints;\n\n    // add dragger gfx\n    var draggerGfx = context.draggerGfx = addBendpoint(canvas.getLayer('overlays'));\n\n    svgClasses(draggerGfx).add('djs-dragging');\n\n    canvas.addMarker(connection, MARKER_DRAGGER);\n    canvas.addMarker(connection, MARKER_CONNECT_UPDATING);\n  });\n\n  eventBus.on('bendpoint.move.hover', function(event) {\n    var context = event.context,\n        allowed = context.allowed,\n        hover = context.hover,\n        type = context.type;\n\n    if (hover) {\n      canvas.addMarker(hover, MARKER_CONNECT_HOVER);\n\n      if (type === UPDATE_WAYPOINTS) {\n        return;\n      }\n\n      if (allowed) {\n        canvas.removeMarker(hover, MARKER_NOT_OK);\n        canvas.addMarker(hover, MARKER_OK);\n      } else if (allowed === false) {\n        canvas.removeMarker(hover, MARKER_OK);\n        canvas.addMarker(hover, MARKER_NOT_OK);\n      }\n    }\n  });\n\n  eventBus.on([\n    'bendpoint.move.out',\n    'bendpoint.move.cleanup'\n  ], HIGH_PRIORITY, function(event) {\n    var context = event.context,\n        hover = context.hover,\n        target = context.target;\n\n    if (hover) {\n      canvas.removeMarker(hover, MARKER_CONNECT_HOVER);\n      canvas.removeMarker(hover, target ? MARKER_OK : MARKER_NOT_OK);\n    }\n  });\n\n  eventBus.on('bendpoint.move.move', function(event) {\n    var context = event.context,\n        allowed = context.allowed,\n        bendpointIndex = context.bendpointIndex,\n        draggerGfx = context.draggerGfx,\n        hover = context.hover,\n        type = context.type,\n        connection = context.connection,\n        source = connection.source,\n        target = connection.target,\n        newWaypoints = connection.waypoints.slice(),\n        bendpoint = { x: event.x, y: event.y },\n        hints = context.hints || {},\n        drawPreviewHints = {};\n\n    if (connectionPreview) {\n      if (hints.connectionStart) {\n        drawPreviewHints.connectionStart = hints.connectionStart;\n      }\n\n      if (hints.connectionEnd) {\n        drawPreviewHints.connectionEnd = hints.connectionEnd;\n      }\n\n\n      if (type === RECONNECT_START) {\n        if (isReverse(context)) {\n          drawPreviewHints.connectionEnd = drawPreviewHints.connectionEnd || bendpoint;\n\n          drawPreviewHints.source = target;\n          drawPreviewHints.target = hover || source;\n\n          newWaypoints = newWaypoints.reverse();\n        } else {\n          drawPreviewHints.connectionStart = drawPreviewHints.connectionStart || bendpoint;\n\n          drawPreviewHints.source = hover || source;\n          drawPreviewHints.target = target;\n        }\n      } else if (type === RECONNECT_END) {\n        if (isReverse(context)) {\n          drawPreviewHints.connectionStart = drawPreviewHints.connectionStart || bendpoint;\n\n          drawPreviewHints.source = hover || target;\n          drawPreviewHints.target = source;\n\n          newWaypoints = newWaypoints.reverse();\n        } else {\n          drawPreviewHints.connectionEnd = drawPreviewHints.connectionEnd || bendpoint;\n\n          drawPreviewHints.source = source;\n          drawPreviewHints.target = hover || target;\n        }\n\n      } else {\n        drawPreviewHints.noCropping = true;\n        drawPreviewHints.noLayout = true;\n        newWaypoints[ bendpointIndex ] = bendpoint;\n      }\n\n      if (type === UPDATE_WAYPOINTS) {\n        newWaypoints = bendpointMove.cropWaypoints(connection, newWaypoints);\n      }\n\n      drawPreviewHints.waypoints = newWaypoints;\n\n      connectionPreview.drawPreview(context, allowed, drawPreviewHints);\n    }\n\n    translate(draggerGfx, event.x, event.y);\n  }, this);\n\n  eventBus.on([\n    'bendpoint.move.end',\n    'bendpoint.move.cancel'\n  ], HIGH_PRIORITY, function(event) {\n    var context = event.context,\n        connection = context.connection,\n        draggerGfx = context.draggerGfx,\n        hover = context.hover,\n        target = context.target,\n        waypoints = context.waypoints;\n\n    connection.waypoints = waypoints;\n\n    // remove dragger gfx\n    svgRemove(draggerGfx);\n\n    canvas.removeMarker(connection, MARKER_CONNECT_UPDATING);\n    canvas.removeMarker(connection, MARKER_DRAGGER);\n\n    if (hover) {\n      canvas.removeMarker(hover, MARKER_OK);\n      canvas.removeMarker(hover, target ? MARKER_OK : MARKER_NOT_OK);\n    }\n\n    if (connectionPreview) {\n      connectionPreview.cleanUp(context);\n    }\n  });\n}\n\nBendpointMovePreview.$inject = [\n  'bendpointMove',\n  'injector',\n  'eventBus',\n  'canvas'\n];","import {\n  pointsAligned,\n  pointsOnLine\n} from '../../util/Geometry';\n\nimport {\n  addSegmentDragger,\n  getConnectionIntersection\n} from './BendpointUtil';\n\nimport {\n  getMid,\n  getOrientation\n} from '../../layout/LayoutUtil';\n\nvar MARKER_CONNECT_HOVER = 'connect-hover',\n    MARKER_CONNECT_UPDATING = 'djs-updating';\n\nimport {\n  classes as svgClasses,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport {\n  translate\n} from '../../util/SvgTransformUtil';\n\n/**\n * @typedef {import('../../model/Types').Shape} Shape\n *\n * @typedef {import('../../util/Types').Axis} Axis\n * @typedef {import('../../util/Types').Point} Point\n *\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../dragging/Dragging').default} Dragging\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../../core/GraphicsFactory').default} GraphicsFactory\n * @typedef {import('../modeling/Modeling').default} Modeling\n */\n\nfunction axisAdd(point, axis, delta) {\n  return axisSet(point, axis, point[axis] + delta);\n}\n\nfunction axisSet(point, axis, value) {\n  return {\n    x: (axis === 'x' ? value : point.x),\n    y: (axis === 'y' ? value : point.y)\n  };\n}\n\nfunction axisFenced(position, segmentStart, segmentEnd, axis) {\n\n  var maxValue = Math.max(segmentStart[axis], segmentEnd[axis]),\n      minValue = Math.min(segmentStart[axis], segmentEnd[axis]);\n\n  var padding = 20;\n\n  var fencedValue = Math.min(Math.max(minValue + padding, position[axis]), maxValue - padding);\n\n  return axisSet(segmentStart, axis, fencedValue);\n}\n\nfunction flipAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\n\n/**\n * Get the docking point on the given element.\n *\n * Compute a reasonable docking, if non exists.\n *\n * @param {Point} point\n * @param {Shape} referenceElement\n * @param {Axis} moveAxis\n *\n * @return {Point}\n */\nfunction getDocking(point, referenceElement, moveAxis) {\n\n  var referenceMid,\n      inverseAxis;\n\n  if (point.original) {\n    return point.original;\n  } else {\n    referenceMid = getMid(referenceElement);\n    inverseAxis = flipAxis(moveAxis);\n\n    return axisSet(point, inverseAxis, referenceMid[inverseAxis]);\n  }\n}\n\n/**\n * A component that implements moving of bendpoints.\n *\n * @param {Injector} injector\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {Canvas} dragging\n * @param {GraphicsFactory} graphicsFactory\n * @param {Modeling} modeling\n */\nexport default function ConnectionSegmentMove(\n    injector, eventBus, canvas,\n    dragging, graphicsFactory, modeling) {\n\n  // optional connection docking integration\n  var connectionDocking = injector.get('connectionDocking', false);\n\n\n  // API\n\n  this.start = function(event, connection, idx) {\n\n    var context,\n        gfx = canvas.getGraphics(connection),\n        segmentStartIndex = idx - 1,\n        segmentEndIndex = idx,\n        waypoints = connection.waypoints,\n        segmentStart = waypoints[segmentStartIndex],\n        segmentEnd = waypoints[segmentEndIndex],\n        intersection = getConnectionIntersection(canvas, waypoints, event),\n        direction, axis, dragPosition;\n\n    direction = pointsAligned(segmentStart, segmentEnd);\n\n    // do not move diagonal connection\n    if (!direction) {\n      return;\n    }\n\n    // the axis where we are going to move things\n    axis = direction === 'v' ? 'x' : 'y';\n\n    if (segmentStartIndex === 0) {\n      segmentStart = getDocking(segmentStart, connection.source, axis);\n    }\n\n    if (segmentEndIndex === waypoints.length - 1) {\n      segmentEnd = getDocking(segmentEnd, connection.target, axis);\n    }\n\n    if (intersection) {\n      dragPosition = intersection.point;\n    } else {\n\n      // set to segment center as default\n      dragPosition = {\n        x: (segmentStart.x + segmentEnd.x) / 2,\n        y: (segmentStart.y + segmentEnd.y) / 2\n      };\n    }\n\n    context = {\n      connection: connection,\n      segmentStartIndex: segmentStartIndex,\n      segmentEndIndex: segmentEndIndex,\n      segmentStart: segmentStart,\n      segmentEnd: segmentEnd,\n      axis: axis,\n      dragPosition: dragPosition\n    };\n\n    dragging.init(event, dragPosition, 'connectionSegment.move', {\n      cursor: axis === 'x' ? 'resize-ew' : 'resize-ns',\n      data: {\n        connection: connection,\n        connectionGfx: gfx,\n        context: context\n      }\n    });\n  };\n\n  /**\n   * Crop connection if connection cropping is provided.\n   *\n   * @param {Connection} connection\n   * @param {Point[]} newWaypoints\n   *\n   * @return {Point[]} cropped connection waypoints\n   */\n  function cropConnection(connection, newWaypoints) {\n\n    // crop connection, if docking service is provided only\n    if (!connectionDocking) {\n      return newWaypoints;\n    }\n\n    var oldWaypoints = connection.waypoints,\n        croppedWaypoints;\n\n    // temporary set new waypoints\n    connection.waypoints = newWaypoints;\n\n    croppedWaypoints = connectionDocking.getCroppedWaypoints(connection);\n\n    // restore old waypoints\n    connection.waypoints = oldWaypoints;\n\n    return croppedWaypoints;\n  }\n\n  // DRAGGING IMPLEMENTATION\n\n  function redrawConnection(data) {\n    graphicsFactory.update('connection', data.connection, data.connectionGfx);\n  }\n\n  function updateDragger(context, segmentOffset, event) {\n\n    var newWaypoints = context.newWaypoints,\n        segmentStartIndex = context.segmentStartIndex + segmentOffset,\n        segmentStart = newWaypoints[segmentStartIndex],\n        segmentEndIndex = context.segmentEndIndex + segmentOffset,\n        segmentEnd = newWaypoints[segmentEndIndex],\n        axis = flipAxis(context.axis);\n\n    // make sure the dragger does not move\n    // outside the connection\n    var draggerPosition = axisFenced(event, segmentStart, segmentEnd, axis);\n\n    // update dragger\n    translate(context.draggerGfx, draggerPosition.x, draggerPosition.y);\n  }\n\n  /**\n   * Filter waypoints for redundant ones (i.e. on the same axis).\n   * Returns the filtered waypoints and the offset related to the segment move.\n   *\n   * @param {Point[]} waypoints\n   * @param {Integer} segmentStartIndex of moved segment start\n   *\n   * @return {Object} { filteredWaypoints, segmentOffset }\n   */\n  function filterRedundantWaypoints(waypoints, segmentStartIndex) {\n\n    var segmentOffset = 0;\n\n    var filteredWaypoints = waypoints.filter(function(r, idx) {\n      if (pointsOnLine(waypoints[idx - 1], waypoints[idx + 1], r)) {\n\n        // remove point and increment offset\n        segmentOffset = idx <= segmentStartIndex ? segmentOffset - 1 : segmentOffset;\n        return false;\n      }\n\n      // dont remove point\n      return true;\n    });\n\n    return {\n      waypoints: filteredWaypoints,\n      segmentOffset: segmentOffset\n    };\n  }\n\n  eventBus.on('connectionSegment.move.start', function(event) {\n\n    var context = event.context,\n        connection = event.connection,\n        layer = canvas.getLayer('overlays');\n\n    context.originalWaypoints = connection.waypoints.slice();\n\n    // add dragger gfx\n    context.draggerGfx = addSegmentDragger(layer, context.segmentStart, context.segmentEnd);\n    svgClasses(context.draggerGfx).add('djs-dragging');\n\n    canvas.addMarker(connection, MARKER_CONNECT_UPDATING);\n  });\n\n  eventBus.on('connectionSegment.move.move', function(event) {\n\n    var context = event.context,\n        connection = context.connection,\n        segmentStartIndex = context.segmentStartIndex,\n        segmentEndIndex = context.segmentEndIndex,\n        segmentStart = context.segmentStart,\n        segmentEnd = context.segmentEnd,\n        axis = context.axis;\n\n    var newWaypoints = context.originalWaypoints.slice(),\n        newSegmentStart = axisAdd(segmentStart, axis, event['d' + axis]),\n        newSegmentEnd = axisAdd(segmentEnd, axis, event['d' + axis]);\n\n    // original waypoint count and added / removed\n    // from start waypoint delta. We use the later\n    // to retrieve the updated segmentStartIndex / segmentEndIndex\n    var waypointCount = newWaypoints.length,\n        segmentOffset = 0;\n\n    // move segment start / end by axis delta\n    newWaypoints[segmentStartIndex] = newSegmentStart;\n    newWaypoints[segmentEndIndex] = newSegmentEnd;\n\n    var sourceToSegmentOrientation,\n        targetToSegmentOrientation;\n\n    // handle first segment\n    if (segmentStartIndex < 2) {\n      sourceToSegmentOrientation = getOrientation(connection.source, newSegmentStart);\n\n      // first bendpoint, remove first segment if intersecting\n      if (segmentStartIndex === 1) {\n\n        if (sourceToSegmentOrientation === 'intersect') {\n          newWaypoints.shift();\n          newWaypoints[0] = newSegmentStart;\n          segmentOffset--;\n        }\n      }\n\n      // docking point, add segment if not intersecting anymore\n      else {\n        if (sourceToSegmentOrientation !== 'intersect') {\n          newWaypoints.unshift(segmentStart);\n          segmentOffset++;\n        }\n      }\n    }\n\n    // handle last segment\n    if (segmentEndIndex > waypointCount - 3) {\n      targetToSegmentOrientation = getOrientation(connection.target, newSegmentEnd);\n\n      // last bendpoint, remove last segment if intersecting\n      if (segmentEndIndex === waypointCount - 2) {\n\n        if (targetToSegmentOrientation === 'intersect') {\n          newWaypoints.pop();\n          newWaypoints[newWaypoints.length - 1] = newSegmentEnd;\n        }\n      }\n\n      // last bendpoint, remove last segment if intersecting\n      else {\n        if (targetToSegmentOrientation !== 'intersect') {\n          newWaypoints.push(segmentEnd);\n        }\n      }\n    }\n\n    // update connection waypoints\n    context.newWaypoints = connection.waypoints = cropConnection(connection, newWaypoints);\n\n    // update dragger position\n    updateDragger(context, segmentOffset, event);\n\n    // save segmentOffset in context\n    context.newSegmentStartIndex = segmentStartIndex + segmentOffset;\n\n    // redraw connection\n    redrawConnection(event);\n  });\n\n  eventBus.on('connectionSegment.move.hover', function(event) {\n\n    event.context.hover = event.hover;\n    canvas.addMarker(event.hover, MARKER_CONNECT_HOVER);\n  });\n\n  eventBus.on([\n    'connectionSegment.move.out',\n    'connectionSegment.move.cleanup'\n  ], function(event) {\n\n    // remove connect marker\n    // if it was added\n    var hover = event.context.hover;\n\n    if (hover) {\n      canvas.removeMarker(hover, MARKER_CONNECT_HOVER);\n    }\n  });\n\n  eventBus.on('connectionSegment.move.cleanup', function(event) {\n\n    var context = event.context,\n        connection = context.connection;\n\n    // remove dragger gfx\n    if (context.draggerGfx) {\n      svgRemove(context.draggerGfx);\n    }\n\n    canvas.removeMarker(connection, MARKER_CONNECT_UPDATING);\n  });\n\n  eventBus.on([\n    'connectionSegment.move.cancel',\n    'connectionSegment.move.end'\n  ], function(event) {\n    var context = event.context,\n        connection = context.connection;\n\n    connection.waypoints = context.originalWaypoints;\n\n    redrawConnection(event);\n  });\n\n  eventBus.on('connectionSegment.move.end', function(event) {\n\n    var context = event.context,\n        connection = context.connection,\n        newWaypoints = context.newWaypoints,\n        newSegmentStartIndex = context.newSegmentStartIndex;\n\n    // ensure we have actual pixel values bendpoint\n    // coordinates (important when zoom level was > 1 during move)\n    newWaypoints = newWaypoints.map(function(p) {\n      return {\n        original: p.original,\n        x: Math.round(p.x),\n        y: Math.round(p.y)\n      };\n    });\n\n    // apply filter redunant waypoints\n    var filtered = filterRedundantWaypoints(newWaypoints, newSegmentStartIndex);\n\n    // get filtered waypoints\n    var filteredWaypoints = filtered.waypoints,\n        croppedWaypoints = cropConnection(connection, filteredWaypoints),\n        segmentOffset = filtered.segmentOffset;\n\n    var hints = {\n      segmentMove: {\n        segmentStartIndex: context.segmentStartIndex,\n        newSegmentStartIndex: newSegmentStartIndex + segmentOffset\n      }\n    };\n\n    modeling.updateWaypoints(connection, croppedWaypoints, hints);\n  });\n}\n\nConnectionSegmentMove.$inject = [\n  'injector',\n  'eventBus',\n  'canvas',\n  'dragging',\n  'graphicsFactory',\n  'modeling'\n];\n","/**\n * @typedef {import('../../core/Types').ConnectionLike} Connection\n * @typedef {import('../../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../../core/EventBus').Event} Event\n *\n * @typedef {import('../../util/Types').Axis} Axis\n */\n\nvar abs = Math.abs,\n    round = Math.round;\n\n\n/**\n * Snap value to a collection of reference values.\n *\n * @param {number} value\n * @param {Array<number>} values\n * @param {number} [tolerance=10]\n *\n * @return {number} the value we snapped to or null, if none snapped\n */\nexport function snapTo(value, values, tolerance) {\n  tolerance = tolerance === undefined ? 10 : tolerance;\n\n  var idx, snapValue;\n\n  for (idx = 0; idx < values.length; idx++) {\n    snapValue = values[idx];\n\n    if (abs(snapValue - value) <= tolerance) {\n      return snapValue;\n    }\n  }\n}\n\n\nexport function topLeft(bounds) {\n  return {\n    x: bounds.x,\n    y: bounds.y\n  };\n}\n\nexport function topRight(bounds) {\n  return {\n    x: bounds.x + bounds.width,\n    y: bounds.y\n  };\n}\n\nexport function bottomLeft(bounds) {\n  return {\n    x: bounds.x,\n    y: bounds.y + bounds.height\n  };\n}\n\nexport function bottomRight(bounds) {\n  return {\n    x: bounds.x + bounds.width,\n    y: bounds.y + bounds.height\n  };\n}\n\nexport function mid(bounds, defaultValue) {\n\n  if (!bounds || isNaN(bounds.x) || isNaN(bounds.y)) {\n    return defaultValue;\n  }\n\n  return {\n    x: round(bounds.x + bounds.width / 2),\n    y: round(bounds.y + bounds.height / 2)\n  };\n}\n\n\n/**\n * Retrieve the snap state of the given event.\n *\n * @param {Event} event\n * @param {Axis} axis\n *\n * @return {boolean} the snapped state\n *\n */\nexport function isSnapped(event, axis) {\n  var snapped = event.snapped;\n\n  if (!snapped) {\n    return false;\n  }\n\n  if (typeof axis === 'string') {\n    return snapped[axis];\n  }\n\n  return snapped.x && snapped.y;\n}\n\n\n/**\n * Set the given event as snapped.\n *\n * This method may change the x and/or y position of the shape\n * from the given event!\n *\n * @param {Event} event\n * @param {Axis} axis\n * @param {number|boolean} value\n *\n * @return {number} old value\n */\nexport function setSnapped(event, axis, value) {\n  if (typeof axis !== 'string') {\n    throw new Error('axis must be in [x, y]');\n  }\n\n  if (typeof value !== 'number' && value !== false) {\n    throw new Error('value must be Number or false');\n  }\n\n  var delta,\n      previousValue = event[axis];\n\n  var snapped = event.snapped = (event.snapped || {});\n\n\n  if (value === false) {\n    snapped[axis] = false;\n  } else {\n    snapped[axis] = true;\n\n    delta = value - previousValue;\n\n    event[axis] += delta;\n    event['d' + axis] += delta;\n  }\n\n  return previousValue;\n}\n\n/**\n * Get children of a shape.\n *\n * @param {Shape} parent\n *\n * @return {Array<Shape|Connection>}\n */\nexport function getChildren(parent) {\n  return parent.children || [];\n}","import {\n  assign,\n  forEach,\n  isArray\n} from 'min-dash';\n\nimport { setSnapped } from '../snapping/SnapUtil';\n\nimport { getClosestPointOnConnection } from './BendpointUtil';\n\nimport { isConnection } from '../../util/ModelUtil';\n\n/**\n * @typedef {import('../../core/EventBus').default} EventBus\n */\nvar abs = Math.abs,\n    round = Math.round;\n\nvar TOLERANCE = 10;\n\n/**\n * @param {EventBus} eventBus\n */\nexport default function BendpointSnapping(eventBus) {\n\n  function snapTo(values, value) {\n\n    if (isArray(values)) {\n      var i = values.length;\n\n      while (i--) if (abs(values[i] - value) <= TOLERANCE) {\n        return values[i];\n      }\n    } else {\n      values = +values;\n      var rem = value % values;\n\n      if (rem < TOLERANCE) {\n        return value - rem;\n      }\n\n      if (rem > values - TOLERANCE) {\n        return value - rem + values;\n      }\n    }\n\n    return value;\n  }\n\n  function getSnapPoint(element, event) {\n\n    if (element.waypoints) {\n      return getClosestPointOnConnection(event, element);\n    }\n\n    if (element.width) {\n      return {\n        x: round(element.width / 2 + element.x),\n        y: round(element.height / 2 + element.y)\n      };\n    }\n  }\n\n  // connection segment snapping //////////////////////\n\n  function getConnectionSegmentSnaps(event) {\n\n    var context = event.context,\n        snapPoints = context.snapPoints,\n        connection = context.connection,\n        waypoints = connection.waypoints,\n        segmentStart = context.segmentStart,\n        segmentStartIndex = context.segmentStartIndex,\n        segmentEnd = context.segmentEnd,\n        segmentEndIndex = context.segmentEndIndex,\n        axis = context.axis;\n\n    if (snapPoints) {\n      return snapPoints;\n    }\n\n    var referenceWaypoints = [\n      waypoints[segmentStartIndex - 1],\n      segmentStart,\n      segmentEnd,\n      waypoints[segmentEndIndex + 1]\n    ];\n\n    if (segmentStartIndex < 2) {\n      referenceWaypoints.unshift(getSnapPoint(connection.source, event));\n    }\n\n    if (segmentEndIndex > waypoints.length - 3) {\n      referenceWaypoints.unshift(getSnapPoint(connection.target, event));\n    }\n\n    context.snapPoints = snapPoints = { horizontal: [] , vertical: [] };\n\n    forEach(referenceWaypoints, function(p) {\n\n      // we snap on existing bendpoints only,\n      // not placeholders that are inserted during add\n      if (p) {\n        p = p.original || p;\n\n        if (axis === 'y') {\n          snapPoints.horizontal.push(p.y);\n        }\n\n        if (axis === 'x') {\n          snapPoints.vertical.push(p.x);\n        }\n      }\n    });\n\n    return snapPoints;\n  }\n\n  eventBus.on('connectionSegment.move.move', 1500, function(event) {\n    var snapPoints = getConnectionSegmentSnaps(event),\n        x = event.x,\n        y = event.y,\n        sx, sy;\n\n    if (!snapPoints) {\n      return;\n    }\n\n    // snap\n    sx = snapTo(snapPoints.vertical, x);\n    sy = snapTo(snapPoints.horizontal, y);\n\n\n    // correction x/y\n    var cx = (x - sx),\n        cy = (y - sy);\n\n    // update delta\n    assign(event, {\n      dx: event.dx - cx,\n      dy: event.dy - cy,\n      x: sx,\n      y: sy\n    });\n\n    // only set snapped if actually snapped\n    if (cx || snapPoints.vertical.indexOf(x) !== -1) {\n      setSnapped(event, 'x', sx);\n    }\n\n    if (cy || snapPoints.horizontal.indexOf(y) !== -1) {\n      setSnapped(event, 'y', sy);\n    }\n  });\n\n\n  // bendpoint snapping //////////////////////\n\n  function getBendpointSnaps(context) {\n\n    var snapPoints = context.snapPoints,\n        waypoints = context.connection.waypoints,\n        bendpointIndex = context.bendpointIndex;\n\n    if (snapPoints) {\n      return snapPoints;\n    }\n\n    var referenceWaypoints = [ waypoints[bendpointIndex - 1], waypoints[bendpointIndex + 1] ];\n\n    context.snapPoints = snapPoints = { horizontal: [] , vertical: [] };\n\n    forEach(referenceWaypoints, function(p) {\n\n      // we snap on existing bendpoints only,\n      // not placeholders that are inserted during add\n      if (p) {\n        p = p.original || p;\n\n        snapPoints.horizontal.push(p.y);\n        snapPoints.vertical.push(p.x);\n      }\n    });\n\n    return snapPoints;\n  }\n\n  // Snap Endpoint of new connection\n  eventBus.on([\n    'connect.hover',\n    'connect.move',\n    'connect.end'\n  ], 1500, function(event) {\n    var context = event.context,\n        hover = context.hover,\n        hoverMid = hover && getSnapPoint(hover, event);\n\n    // only snap on connections, elements can have multiple connect endpoints\n    if (!isConnection(hover) || !hoverMid || !hoverMid.x || !hoverMid.y) {\n      return;\n    }\n\n    setSnapped(event, 'x', hoverMid.x);\n    setSnapped(event, 'y', hoverMid.y);\n  });\n\n  eventBus.on([ 'bendpoint.move.move', 'bendpoint.move.end' ], 1500, function(event) {\n\n    var context = event.context,\n        snapPoints = getBendpointSnaps(context),\n        hover = context.hover,\n        hoverMid = hover && getSnapPoint(hover, event),\n        x = event.x,\n        y = event.y,\n        sx, sy;\n\n    if (!snapPoints) {\n      return;\n    }\n\n    // snap to hover mid\n    sx = snapTo(hoverMid ? snapPoints.vertical.concat([ hoverMid.x ]) : snapPoints.vertical, x);\n    sy = snapTo(hoverMid ? snapPoints.horizontal.concat([ hoverMid.y ]) : snapPoints.horizontal, y);\n\n    // correction x/y\n    var cx = (x - sx),\n        cy = (y - sy);\n\n    // update delta\n    assign(event, {\n      dx: event.dx - cx,\n      dy: event.dy - cy,\n      x: event.x - cx,\n      y: event.y - cy\n    });\n\n    // only set snapped if actually snapped\n    if (cx || snapPoints.vertical.indexOf(x) !== -1) {\n      setSnapped(event, 'x', sx);\n    }\n\n    if (cy || snapPoints.horizontal.indexOf(y) !== -1) {\n      setSnapped(event, 'y', sy);\n    }\n  });\n}\n\n\nBendpointSnapping.$inject = [ 'eventBus' ];\n","import DraggingModule from '../dragging';\nimport RulesModule from '../rules';\n\nimport Bendpoints from './Bendpoints';\nimport BendpointMove from './BendpointMove';\nimport BendpointMovePreview from './BendpointMovePreview';\nimport ConnectionSegmentMove from './ConnectionSegmentMove';\nimport BendpointSnapping from './BendpointSnapping';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __depends__: [\n    DraggingModule,\n    RulesModule\n  ],\n  __init__: [ 'bendpoints', 'bendpointSnapping', 'bendpointMovePreview' ],\n  bendpoints: [ 'type', Bendpoints ],\n  bendpointMove: [ 'type', BendpointMove ],\n  bendpointMovePreview: [ 'type', BendpointMovePreview ],\n  connectionSegmentMove: [ 'type', ConnectionSegmentMove ],\n  bendpointSnapping: [ 'type', BendpointSnapping ]\n};\n","/**\n * Get the logarithm of x with base 10.\n *\n * @param {number} x\n */\nexport function log10(x) {\n  return Math.log(x) / Math.log(10);\n}\n\nexport { delta as substract } from './PositionUtil';\n","import {\n  log10\n} from '../../util/Math';\n\n/**\n * Get step size for given range and number of steps.\n *\n * @param {Object} range\n * @param {number} range.min\n * @param {number} range.max\n * @param {number} steps\n */\nexport function getStepSize(range, steps) {\n\n  var minLinearRange = log10(range.min),\n      maxLinearRange = log10(range.max);\n\n  var absoluteLinearRange = Math.abs(minLinearRange) + Math.abs(maxLinearRange);\n\n  return absoluteLinearRange / steps;\n}\n\n/**\n * @param {Object} range\n * @param {number} range.min\n * @param {number} range.max\n * @param {number} scale\n */\nexport function cap(range, scale) {\n  return Math.max(range.min, Math.min(range.max, scale));\n}\n","import {\n  event as domEvent\n} from 'min-dom';\n\nimport {\n  getStepSize,\n  cap\n} from './ZoomUtil';\n\nimport {\n  log10\n} from '../../util/Math';\n\nimport {\n  isMac\n} from '../../util/Platform';\n\nimport {\n  bind\n} from 'min-dash';\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n *\n * @typedef {import('../../util/Types').Point} Point\n * @typedef {import('../../util/Types').ScrollDelta} ScrollDelta\n */\n\nvar sign = Math.sign || function(n) {\n  return n >= 0 ? 1 : -1;\n};\n\nvar RANGE = { min: 0.2, max: 4 },\n    NUM_STEPS = 10;\n\nvar DELTA_THRESHOLD = 0.1;\n\nvar DEFAULT_SCALE = 0.75;\n\n/**\n * An implementation of zooming and scrolling within the\n * {@link Canvas} via the mouse wheel.\n *\n * Mouse wheel zooming / scrolling may be disabled using\n * the {@link toggle(enabled)} method.\n *\n * @param {Object} [config]\n * @param {boolean} [config.enabled=true] default enabled state\n * @param {number} [config.scale=.75] scroll sensivity\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nexport default function ZoomScroll(config, eventBus, canvas) {\n\n  config = config || {};\n\n  this._enabled = false;\n\n  this._canvas = canvas;\n  this._container = canvas._container;\n\n  this._handleWheel = bind(this._handleWheel, this);\n\n  this._totalDelta = 0;\n  this._scale = config.scale || DEFAULT_SCALE;\n\n  var self = this;\n\n  eventBus.on('canvas.focus.changed', function(event) {\n    self._init(event.focused && config.enabled !== false);\n  });\n}\n\nZoomScroll.$inject = [\n  'config.zoomScroll',\n  'eventBus',\n  'canvas'\n];\n\n/**\n * @param {ScrollDelta} delta\n */\nZoomScroll.prototype.scroll = function scroll(delta) {\n  this._canvas.scroll(delta);\n};\n\n\nZoomScroll.prototype.reset = function reset() {\n  this._canvas.zoom('fit-viewport');\n};\n\n/**\n * Zoom depending on delta.\n *\n * @param {number} delta\n * @param {Point} position\n */\nZoomScroll.prototype.zoom = function zoom(delta, position) {\n\n  // zoom with half the step size of stepZoom\n  var stepSize = getStepSize(RANGE, NUM_STEPS * 2);\n\n  // add until threshold reached\n  this._totalDelta += delta;\n\n  if (Math.abs(this._totalDelta) > DELTA_THRESHOLD) {\n    this._zoom(delta, position, stepSize);\n\n    // reset\n    this._totalDelta = 0;\n  }\n};\n\n\nZoomScroll.prototype._handleWheel = function handleWheel(event) {\n\n  if (!this._canvas.isFocused()) {\n    return;\n  }\n\n  var element = this._container;\n\n  event.preventDefault();\n\n  // pinch to zoom is mapped to wheel + ctrlKey = true\n  // in modern browsers (!)\n\n  var isZoom = event.ctrlKey || (isMac() && event.metaKey);\n\n  var isHorizontalScroll = event.shiftKey;\n\n  var factor = -1 * this._scale,\n      delta;\n\n  if (isZoom) {\n    factor *= event.deltaMode === 0 ? 0.020 : 0.32;\n  } else {\n    factor *= event.deltaMode === 0 ? 1.0 : 16.0;\n  }\n\n  if (isZoom) {\n    var elementRect = element.getBoundingClientRect();\n\n    var offset = {\n      x: event.clientX - elementRect.left,\n      y: event.clientY - elementRect.top\n    };\n\n    delta = (\n      Math.sqrt(\n        Math.pow(event.deltaY, 2) +\n        Math.pow(event.deltaX, 2)\n      ) * sign(event.deltaY) * factor\n    );\n\n    // zoom in relative to diagram {x,y} coordinates\n    this.zoom(delta, offset);\n  } else {\n\n    if (isHorizontalScroll) {\n      delta = {\n        dx: factor * event.deltaY,\n        dy: 0\n      };\n    } else {\n      delta = {\n        dx: factor * event.deltaX,\n        dy: factor * event.deltaY\n      };\n    }\n\n    this.scroll(delta);\n  }\n};\n\n/**\n * Zoom with fixed step size.\n *\n * @param {number} delta Zoom delta (1 for zooming in, -1 for zooming out).\n * @param {Point} [position]\n */\nZoomScroll.prototype.stepZoom = function stepZoom(delta, position) {\n\n  var stepSize = getStepSize(RANGE, NUM_STEPS);\n\n  this._zoom(delta, position, stepSize);\n};\n\n\n/**\n * Zoom in/out given a step size.\n *\n * @param {number} delta\n * @param {Point} [position]\n * @param {number} stepSize\n */\nZoomScroll.prototype._zoom = function(delta, position, stepSize) {\n  var canvas = this._canvas;\n\n  var direction = delta > 0 ? 1 : -1;\n\n  var currentLinearZoomLevel = log10(canvas.zoom());\n\n  // snap to a proximate zoom step\n  var newLinearZoomLevel = Math.round(currentLinearZoomLevel / stepSize) * stepSize;\n\n  // increase or decrease one zoom step in the given direction\n  newLinearZoomLevel += stepSize * direction;\n\n  // calculate the absolute logarithmic zoom level based on the linear zoom level\n  // (e.g. 2 for an absolute x2 zoom)\n  var newLogZoomLevel = Math.pow(10, newLinearZoomLevel);\n\n  canvas.zoom(cap(RANGE, newLogZoomLevel), position);\n};\n\n\n/**\n * Toggle the zoom scroll ability via mouse wheel.\n *\n * @param {boolean} [newEnabled] new enabled state\n */\nZoomScroll.prototype.toggle = function toggle(newEnabled) {\n\n  var element = this._container;\n  var handleWheel = this._handleWheel;\n\n  var oldEnabled = this._enabled;\n\n  if (typeof newEnabled === 'undefined') {\n    newEnabled = !oldEnabled;\n  }\n\n  // only react on actual changes\n  if (oldEnabled !== newEnabled) {\n\n    // add or remove wheel listener based on\n    // changed enabled state\n    domEvent[newEnabled ? 'bind' : 'unbind'](element, 'wheel', handleWheel, false);\n  }\n\n  this._enabled = newEnabled;\n\n  return newEnabled;\n};\n\n\nZoomScroll.prototype._init = function(newEnabled) {\n  this.toggle(newEnabled);\n};\n","import ZoomScroll from './ZoomScroll';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __init__: [ 'zoomScroll' ],\n  zoomScroll: [ 'type', ZoomScroll ]\n};","import {\n  forEach\n} from 'min-dash';\n\nimport {\n  snapTo\n} from './SnapUtil';\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../../util/Types').Axis} Axis\n * @typedef {import('../../util/Types').DirectionTRBL} DirectionTRBL\n * @typedef {import('../../util/Types').Point} Point\n *\n * @typedef {DirectionTRBL & 'mid'} SnapLocation\n */\n\n/**\n * A snap context, containing the (possibly incomplete)\n * mappings of drop targets (to identify the snapping)\n * to computed snap points.\n */\nexport default function SnapContext() {\n\n  /**\n   * @type {Record<string, SnapPoints>}\n   */\n  this._targets = {};\n\n  /**\n   * @type {Record<SnapLocation, Point>}\n   */\n  this._snapOrigins = {};\n\n  /**\n   * @type {SnapLocation[]}\n   */\n  this._snapLocations = [];\n\n  /**\n   * @type {Record<SnapLocation, Point[]>}\n   */\n  this._defaultSnaps = {};\n}\n\n/**\n * Get the snap origin for a given location.\n *\n * @param {SnapLocation} snapLocation\n *\n * @return {Point}\n */\nSnapContext.prototype.getSnapOrigin = function(snapLocation) {\n  return this._snapOrigins[snapLocation];\n};\n\n/**\n * Set the snap origin for a given location.\n *\n * @param {SnapLocation} snapLocation\n * @param {Point} snapOrigin\n */\nSnapContext.prototype.setSnapOrigin = function(snapLocation, snapOrigin) {\n  this._snapOrigins[snapLocation] = snapOrigin;\n\n  if (this._snapLocations.indexOf(snapLocation) === -1) {\n    this._snapLocations.push(snapLocation);\n  }\n};\n\n/**\n * Add a default snap point.\n *\n * @param {SnapLocation} snapLocation\n * @param {Point} point\n */\nSnapContext.prototype.addDefaultSnap = function(snapLocation, point) {\n\n  var snapValues = this._defaultSnaps[snapLocation];\n\n  if (!snapValues) {\n    snapValues = this._defaultSnaps[snapLocation] = [];\n  }\n\n  snapValues.push(point);\n};\n\n/**\n * Get the snap locations for this context.\n *\n * @return {SnapLocation[]}\n */\nSnapContext.prototype.getSnapLocations = function() {\n  return this._snapLocations;\n};\n\n/**\n * Set the snap locations for this context.\n *\n * The order of locations determines precedence.\n *\n * @param {SnapLocation[]} snapLocations\n */\nSnapContext.prototype.setSnapLocations = function(snapLocations) {\n  this._snapLocations = snapLocations;\n};\n\n/**\n * Get snap points for the given target.\n *\n * @param {Element|string} target\n *\n * @return {SnapPoints}\n */\nSnapContext.prototype.pointsForTarget = function(target) {\n\n  var targetId = target.id || target;\n\n  var snapPoints = this._targets[targetId];\n\n  if (!snapPoints) {\n    snapPoints = this._targets[targetId] = new SnapPoints();\n    snapPoints.initDefaults(this._defaultSnaps);\n  }\n\n  return snapPoints;\n};\n\n\n/**\n * Add points to snap to.\n */\nexport function SnapPoints() {\n\n  /**\n   * Example:\n   *\n   * ```javascript\n   * {\n   *   'top-right': {\n   *     x: [ 100, 200, 300 ]\n   *     y: [ 100, 200, 300 ]\n   *   }\n   * }\n   * ```\n   *\n   * @type {Record<string, Record<Axis, number[]>>}\n   */\n  this._snapValues = {};\n}\n\n/**\n * Add a snap point.\n *\n * @param {SnapLocation} snapLocation\n * @param {Point} point\n */\nSnapPoints.prototype.add = function(snapLocation, point) {\n\n  var snapValues = this._snapValues[snapLocation];\n\n  if (!snapValues) {\n    snapValues = this._snapValues[snapLocation] = { x: [], y: [] };\n  }\n\n  if (snapValues.x.indexOf(point.x) === -1) {\n    snapValues.x.push(point.x);\n  }\n\n  if (snapValues.y.indexOf(point.y) === -1) {\n    snapValues.y.push(point.y);\n  }\n};\n\n/**\n * Snap a point's x or y value.\n *\n * @param {Point} point\n * @param {SnapLocation} snapLocation\n * @param {Axis} axis\n * @param {number} tolerance\n *\n * @return {number}\n */\nSnapPoints.prototype.snap = function(point, snapLocation, axis, tolerance) {\n  var snappingValues = this._snapValues[snapLocation];\n\n  return snappingValues && snapTo(point[axis], snappingValues[axis], tolerance);\n};\n\n/**\n * Initialize default snap points.\n *\n * @param {Record<SnapLocation, Point[]>} defaultSnaps\n */\nSnapPoints.prototype.initDefaults = function(defaultSnaps) {\n\n  var self = this;\n\n  forEach(defaultSnaps || {}, function(snapPoints, snapLocation) {\n    forEach(snapPoints, function(point) {\n      self.add(snapLocation, point);\n    });\n  });\n};","import SnapContext from './SnapContext';\r\n\r\nimport {\r\n  getChildren,\r\n  isSnapped,\r\n  mid\r\n} from './SnapUtil';\r\n\r\nimport { isCmd } from '../keyboard/KeyboardUtil';\r\n\r\nimport {\r\n  forEach,\r\n  isNumber\r\n} from 'min-dash';\r\n\r\nimport {\r\n  isConnection,\r\n  isLabel\r\n} from '../../util/ModelUtil';\r\n\r\n/**\r\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\r\n * @typedef {import('../../core/EventBus').default} EventBus\r\n * @typedef {import('./Snapping').default} Snapping\r\n */\r\n\r\nvar HIGHER_PRIORITY = 1250;\r\n\r\n\r\n/**\r\n * Snap during create and move.\r\n *\r\n * @param {ElementRegistry} elementRegistry\r\n * @param {EventBus} eventBus\r\n * @param {Snapping} snapping\r\n */\r\nexport default function CreateMoveSnapping(elementRegistry, eventBus, snapping) {\r\n  var self = this;\r\n\r\n  this._elementRegistry = elementRegistry;\r\n\r\n  eventBus.on([\r\n    'create.start',\r\n    'shape.move.start'\r\n  ], function(event) {\r\n    self.initSnap(event);\r\n  });\r\n\r\n  eventBus.on([\r\n    'create.move',\r\n    'create.end',\r\n    'shape.move.move',\r\n    'shape.move.end'\r\n  ], HIGHER_PRIORITY, function(event) {\r\n    var context = event.context,\r\n        shape = context.shape,\r\n        snapContext = context.snapContext,\r\n        target = context.target;\r\n\r\n    if (event.originalEvent && isCmd(event.originalEvent)) {\r\n      return;\r\n    }\r\n\r\n    if (isSnapped(event) || !target) {\r\n      return;\r\n    }\r\n\r\n    var snapPoints = snapContext.pointsForTarget(target);\r\n\r\n    if (!snapPoints.initialized) {\r\n      snapPoints = self.addSnapTargetPoints(snapPoints, shape, target);\r\n\r\n      snapPoints.initialized = true;\r\n    }\r\n\r\n    snapping.snap(event, snapPoints);\r\n  });\r\n\r\n  eventBus.on([\r\n    'create.cleanup',\r\n    'shape.move.cleanup'\r\n  ], function() {\r\n    snapping.hide();\r\n  });\r\n}\r\n\r\nCreateMoveSnapping.$inject = [\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'snapping'\r\n];\r\n\r\nCreateMoveSnapping.prototype.initSnap = function(event) {\r\n  var elementRegistry = this._elementRegistry;\r\n\r\n  var context = event.context,\r\n      shape = context.shape,\r\n      snapContext = context.snapContext;\r\n\r\n  if (!snapContext) {\r\n    snapContext = context.snapContext = new SnapContext();\r\n  }\r\n\r\n  var shapeMid;\r\n\r\n  if (elementRegistry.get(shape.id)) {\r\n\r\n    // move\r\n    shapeMid = mid(shape, event);\r\n  } else {\r\n\r\n    // create\r\n    shapeMid = {\r\n      x: event.x + mid(shape).x,\r\n      y: event.y + mid(shape).y\r\n    };\r\n  }\r\n\r\n  var shapeTopLeft = {\r\n        x: shapeMid.x - shape.width / 2,\r\n        y: shapeMid.y - shape.height / 2\r\n      },\r\n      shapeBottomRight = {\r\n        x: shapeMid.x + shape.width / 2,\r\n        y: shapeMid.y + shape.height / 2\r\n      };\r\n\r\n  snapContext.setSnapOrigin('mid', {\r\n    x: shapeMid.x - event.x,\r\n    y: shapeMid.y - event.y\r\n  });\r\n\r\n  // snap labels to mid only\r\n  if (isLabel(shape)) {\r\n    return snapContext;\r\n  }\r\n\r\n  snapContext.setSnapOrigin('top-left', {\r\n    x: shapeTopLeft.x - event.x,\r\n    y: shapeTopLeft.y - event.y\r\n  });\r\n\r\n  snapContext.setSnapOrigin('bottom-right', {\r\n    x: shapeBottomRight.x - event.x,\r\n    y: shapeBottomRight.y - event.y\r\n  });\r\n\r\n  return snapContext;\r\n};\r\n\r\nCreateMoveSnapping.prototype.addSnapTargetPoints = function(snapPoints, shape, target) {\r\n  var snapTargets = this.getSnapTargets(shape, target);\r\n\r\n  forEach(snapTargets, function(snapTarget) {\r\n\r\n    // handle labels\r\n    if (isLabel(snapTarget)) {\r\n\r\n      if (isLabel(shape)) {\r\n        snapPoints.add('mid', mid(snapTarget));\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    // handle connections\r\n    if (isConnection(snapTarget)) {\r\n\r\n      // ignore single segment connections\r\n      if (snapTarget.waypoints.length < 3) {\r\n        return;\r\n      }\r\n\r\n      // ignore first and last waypoint\r\n      var waypoints = snapTarget.waypoints.slice(1, -1);\r\n\r\n      forEach(waypoints, function(waypoint) {\r\n        snapPoints.add('mid', waypoint);\r\n      });\r\n\r\n      return;\r\n    }\r\n\r\n    // handle shapes\r\n    snapPoints.add('mid', mid(snapTarget));\r\n  });\r\n\r\n  if (!isNumber(shape.x) || !isNumber(shape.y)) {\r\n    return snapPoints;\r\n  }\r\n\r\n  // snap to original position when moving\r\n  if (this._elementRegistry.get(shape.id)) {\r\n    snapPoints.add('mid', mid(shape));\r\n  }\r\n\r\n  return snapPoints;\r\n};\r\n\r\nCreateMoveSnapping.prototype.getSnapTargets = function(shape, target) {\r\n  return getChildren(target).filter(function(child) {\r\n    return !isHidden(child);\r\n  });\r\n};\r\n\r\n// helpers //////////\r\n\r\nfunction isHidden(element) {\r\n  return !!element.hidden;\r\n}","import SnapContext from './SnapContext';\r\n\r\nimport {\r\n  bottomRight,\r\n  getChildren,\r\n  isSnapped,\r\n  setSnapped,\r\n  topLeft,\r\n} from './SnapUtil';\r\n\r\nimport { isCmd } from '../keyboard/KeyboardUtil';\r\n\r\nimport {\r\n  asTRBL,\r\n  getMid\r\n} from '../../layout/LayoutUtil';\r\n\r\nimport { forEach } from 'min-dash';\r\n\r\nimport {\r\n  isConnection,\r\n  isLabel\r\n} from '../../util/ModelUtil';\r\n\r\n/**\r\n * @typedef {import('../../core/EventBus').default} EventBus\r\n * @typedef {import('./Snapping').default} Snapping\r\n */\r\n\r\nvar HIGHER_PRIORITY = 1250;\r\n\r\n\r\n/**\r\n * Snap during resize.\r\n *\r\n * @param {EventBus} eventBus\r\n * @param {Snapping} snapping\r\n */\r\nexport default function ResizeSnapping(eventBus, snapping) {\r\n  var self = this;\r\n\r\n  eventBus.on([ 'resize.start' ], function(event) {\r\n    self.initSnap(event);\r\n  });\r\n\r\n  eventBus.on([\r\n    'resize.move',\r\n    'resize.end',\r\n  ], HIGHER_PRIORITY, function(event) {\r\n    var context = event.context,\r\n        shape = context.shape,\r\n        parent = shape.parent,\r\n        direction = context.direction,\r\n        snapContext = context.snapContext;\r\n\r\n    if (event.originalEvent && isCmd(event.originalEvent)) {\r\n      return;\r\n    }\r\n\r\n    if (isSnapped(event)) {\r\n      return;\r\n    }\r\n\r\n    var snapPoints = snapContext.pointsForTarget(parent);\r\n\r\n    if (!snapPoints.initialized) {\r\n      snapPoints = self.addSnapTargetPoints(snapPoints, shape, parent, direction);\r\n\r\n      snapPoints.initialized = true;\r\n    }\r\n\r\n    if (isHorizontal(direction)) {\r\n      setSnapped(event, 'x', event.x);\r\n    }\r\n\r\n    if (isVertical(direction)) {\r\n      setSnapped(event, 'y', event.y);\r\n    }\r\n\r\n    snapping.snap(event, snapPoints);\r\n  });\r\n\r\n  eventBus.on([ 'resize.cleanup' ], function() {\r\n    snapping.hide();\r\n  });\r\n}\r\n\r\nResizeSnapping.prototype.initSnap = function(event) {\r\n  var context = event.context,\r\n      shape = context.shape,\r\n      direction = context.direction,\r\n      snapContext = context.snapContext;\r\n\r\n  if (!snapContext) {\r\n    snapContext = context.snapContext = new SnapContext();\r\n  }\r\n\r\n  var snapOrigin = getSnapOrigin(shape, direction);\r\n\r\n  snapContext.setSnapOrigin('corner', {\r\n    x: snapOrigin.x - event.x,\r\n    y: snapOrigin.y - event.y\r\n  });\r\n\r\n  return snapContext;\r\n};\r\n\r\nResizeSnapping.prototype.addSnapTargetPoints = function(snapPoints, shape, target, direction) {\r\n  var snapTargets = this.getSnapTargets(shape, target);\r\n\r\n  forEach(snapTargets, function(snapTarget) {\r\n    snapPoints.add('corner', bottomRight(snapTarget));\r\n    snapPoints.add('corner', topLeft(snapTarget));\r\n  });\r\n\r\n  snapPoints.add('corner', getSnapOrigin(shape, direction));\r\n\r\n  return snapPoints;\r\n};\r\n\r\nResizeSnapping.$inject = [\r\n  'eventBus',\r\n  'snapping'\r\n];\r\n\r\nResizeSnapping.prototype.getSnapTargets = function(shape, target) {\r\n  return getChildren(target).filter(function(child) {\r\n    return !isAttached(child, shape)\r\n      && !isConnection(child)\r\n      && !isHidden(child)\r\n      && !isLabel(child);\r\n  });\r\n};\r\n\r\n// helpers //////////\r\n\r\nfunction getSnapOrigin(shape, direction) {\r\n  var mid = getMid(shape),\r\n      trbl = asTRBL(shape);\r\n\r\n  var snapOrigin = {\r\n    x: mid.x,\r\n    y: mid.y\r\n  };\r\n\r\n  if (direction.indexOf('n') !== -1) {\r\n    snapOrigin.y = trbl.top;\r\n  } else if (direction.indexOf('s') !== -1) {\r\n    snapOrigin.y = trbl.bottom;\r\n  }\r\n\r\n  if (direction.indexOf('e') !== -1) {\r\n    snapOrigin.x = trbl.right;\r\n  } else if (direction.indexOf('w') !== -1) {\r\n    snapOrigin.x = trbl.left;\r\n  }\r\n\r\n  return snapOrigin;\r\n}\r\n\r\nfunction isAttached(element, host) {\r\n  return element.host === host;\r\n}\r\n\r\nfunction isHidden(element) {\r\n  return !!element.hidden;\r\n}\r\n\r\nfunction isHorizontal(direction) {\r\n  return direction === 'n' || direction === 's';\r\n}\r\n\r\nfunction isVertical(direction) {\r\n  return direction === 'e' || direction === 'w';\r\n}","import {\n  bind,\n  debounce,\n  forEach,\n  isNumber,\n  isObject\n} from 'min-dash';\n\nimport {\n  isSnapped,\n  setSnapped\n} from './SnapUtil';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate\n} from 'tiny-svg';\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n *\n * @typedef {import('../../core/EventBus').Event} Event\n *\n * @typedef {import('./SnapContext').SnapPoints} SnapPoints\n */\n\nvar SNAP_TOLERANCE = 7;\n\nexport var SNAP_LINE_HIDE_DELAY = 1000;\n\n\n/**\n * Generic snapping feature.\n *\n * @param {Canvas} canvas\n */\nexport default function Snapping(canvas) {\n  this._canvas = canvas;\n\n  // delay hide by 1000 seconds since last snap\n  this._asyncHide = debounce(bind(this.hide, this), SNAP_LINE_HIDE_DELAY);\n}\n\nSnapping.$inject = [ 'canvas' ];\n\n/**\n * Snap an event to given snap points.\n *\n * @param {Event} event\n * @param {SnapPoints} snapPoints\n */\nSnapping.prototype.snap = function(event, snapPoints) {\n  var context = event.context,\n      snapContext = context.snapContext,\n      snapLocations = snapContext.getSnapLocations();\n\n  var snapping = {\n    x: isSnapped(event, 'x'),\n    y: isSnapped(event, 'y')\n  };\n\n  forEach(snapLocations, function(location) {\n    var snapOrigin = snapContext.getSnapOrigin(location);\n\n    var snapCurrent = {\n      x: event.x + snapOrigin.x,\n      y: event.y + snapOrigin.y\n    };\n\n    // snap both axis if not snapped already\n    forEach([ 'x', 'y' ], function(axis) {\n      var locationSnapping;\n\n      if (!snapping[axis]) {\n        locationSnapping = snapPoints.snap(snapCurrent, location, axis, SNAP_TOLERANCE);\n\n        if (locationSnapping !== undefined) {\n          snapping[axis] = {\n            value: locationSnapping,\n            originValue: locationSnapping - snapOrigin[axis]\n          };\n        }\n      }\n    });\n\n    // no need to continue snapping\n    if (snapping.x && snapping.y) {\n      return false;\n    }\n  });\n\n  // show snap lines\n  this.showSnapLine('vertical', snapping.x && snapping.x.value);\n  this.showSnapLine('horizontal', snapping.y && snapping.y.value);\n\n  // snap event\n  forEach([ 'x', 'y' ], function(axis) {\n    var axisSnapping = snapping[axis];\n\n    if (isObject(axisSnapping)) {\n      setSnapped(event, axis, axisSnapping.originValue);\n    }\n  });\n};\n\nSnapping.prototype._createLine = function(orientation) {\n  var root = this._canvas.getLayer('snap');\n\n  var line = svgCreate('path');\n\n  svgAttr(line, { d: 'M0,0 L0,0' });\n\n  svgClasses(line).add('djs-snap-line');\n\n  svgAppend(root, line);\n\n  return {\n    update: function(position) {\n\n      if (!isNumber(position)) {\n        svgAttr(line, { display: 'none' });\n      } else {\n        if (orientation === 'horizontal') {\n          svgAttr(line, {\n            d: 'M-100000,' + position + ' L+100000,' + position,\n            display: ''\n          });\n        } else {\n          svgAttr(line, {\n            d: 'M ' + position + ',-100000 L ' + position + ', +100000',\n            display: ''\n          });\n        }\n      }\n    }\n  };\n};\n\nSnapping.prototype._createSnapLines = function() {\n  this._snapLines = {\n    horizontal: this._createLine('horizontal'),\n    vertical: this._createLine('vertical')\n  };\n};\n\nSnapping.prototype.showSnapLine = function(orientation, position) {\n\n  var line = this.getSnapLine(orientation);\n\n  if (line) {\n    line.update(position);\n  }\n\n  this._asyncHide();\n};\n\nSnapping.prototype.getSnapLine = function(orientation) {\n  if (!this._snapLines) {\n    this._createSnapLines();\n  }\n\n  return this._snapLines[orientation];\n};\n\nSnapping.prototype.hide = function() {\n  forEach(this._snapLines, function(snapLine) {\n    snapLine.update();\n  });\n};\n","import CreateMoveSnapping from './CreateMoveSnapping';\nimport ResizeSnapping from './ResizeSnapping';\nimport Snapping from './Snapping';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __init__: [\n    'createMoveSnapping',\n    'resizeSnapping',\n    'snapping'\n  ],\n  createMoveSnapping: [ 'type', CreateMoveSnapping ],\n  resizeSnapping: [ 'type', ResizeSnapping ],\n  snapping: [ 'type', Snapping ]\n};","import {\n  forEach,\n  isFunction,\n  isArray,\n  isNumber,\n  isObject\n} from 'min-dash';\n\n/**\n * @typedef {import('../core/Types').ElementLike} ElementLike\n * @typedef {import('../core/EventBus').default} EventBus\n * @typedef {import('./CommandStack').CommandContext} CommandContext\n *\n * @typedef {string|string[]} Events\n * @typedef { (context: CommandContext) => ElementLike[] | void } HandlerFunction\n * @typedef { (context: CommandContext) => void } ComposeHandlerFunction\n */\n\nvar DEFAULT_PRIORITY = 1000;\n\n/**\n * A utility that can be used to plug into the command execution for\n * extension and/or validation.\n *\n * @class\n * @constructor\n *\n * @example\n *\n * ```javascript\n * import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n *\n * class CommandLogger extends CommandInterceptor {\n *   constructor(eventBus) {\n *     super(eventBus);\n *\n *   this.preExecute('shape.create', (event) => {\n *     console.log('commandStack.shape-create.preExecute', event);\n *   });\n * }\n * ```\n *\n * @param {EventBus} eventBus\n */\nexport default function CommandInterceptor(eventBus) {\n\n  /**\n   * @type {EventBus}\n   */\n  this._eventBus = eventBus;\n}\n\nCommandInterceptor.$inject = [ 'eventBus' ];\n\nfunction unwrapEvent(fn, that) {\n  return function(event) {\n    return fn.call(that || null, event.context, event.command, event);\n  };\n}\n\n\n/**\n * Intercept a command during one of the phases.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {string} [hook] phase to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.on = function(events, hook, priority, handlerFn, unwrap, that) {\n\n  if (isFunction(hook) || isNumber(hook)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = hook;\n    hook = null;\n  }\n\n  if (isFunction(priority)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (isObject(unwrap)) {\n    that = unwrap;\n    unwrap = false;\n  }\n\n  if (!isFunction(handlerFn)) {\n    throw new Error('handlerFn must be a function');\n  }\n\n  if (!isArray(events)) {\n    events = [ events ];\n  }\n\n  var eventBus = this._eventBus;\n\n  forEach(events, function(event) {\n\n    // concat commandStack(.event)?(.hook)?\n    var fullEvent = [ 'commandStack', event, hook ].filter(function(e) { return e; }).join('.');\n\n    eventBus.on(fullEvent, priority, unwrap ? unwrapEvent(handlerFn, that) : handlerFn, that);\n  });\n};\n\n/**\n * Add a <canExecute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.canExecute = createHook('canExecute');\n\n/**\n * Add a <preExecute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.preExecute = createHook('preExecute');\n\n/**\n * Add a <preExecuted> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.preExecuted = createHook('preExecuted');\n\n/**\n * Add a <execute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.execute = createHook('execute');\n\n/**\n * Add a <executed> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.executed = createHook('executed');\n\n/**\n * Add a <postExecute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.postExecute = createHook('postExecute');\n\n/**\n * Add a <postExecuted> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.postExecuted = createHook('postExecuted');\n\n/**\n * Add a <revert> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.revert = createHook('revert');\n\n/**\n * Add a <reverted> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.reverted = createHook('reverted');\n\n/*\n * Add prototype methods for each phase of command execution (e.g. execute,\n * revert).\n *\n * @param {string} hook\n *\n * @return { (\n *   events?: Events,\n *   priority?: number,\n *   handlerFn: ComposeHandlerFunction|HandlerFunction,\n *   unwrap?: boolean\n * ) => any }\n */\nfunction createHook(hook) {\n\n  /**\n   * @this {CommandInterceptor}\n   *\n   * @param {Events} [events]\n   * @param {number} [priority]\n   * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n   * @param {boolean} [unwrap]\n   * @param {any} [that]\n   */\n  const hookFn = function(events, priority, handlerFn, unwrap, that) {\n\n    if (isFunction(events) || isNumber(events)) {\n      that = unwrap;\n      unwrap = handlerFn;\n      handlerFn = priority;\n      priority = events;\n      events = null;\n    }\n\n    this.on(events, hook, priority, handlerFn, unwrap, that);\n  };\n\n  return hookFn;\n}\n","import {\n  forEach,\n  filter\n} from 'min-dash';\n\nimport inherits from 'inherits-browser';\n\nvar LOW_PRIORITY = 250,\n    HIGH_PRIORITY = 1400;\n\nimport {\n  add as collectionAdd,\n  indexOf as collectionIdx\n} from '../../util/Collections';\n\nimport { saveClear } from '../../util/Removal';\n\nimport CommandInterceptor from '../../command/CommandInterceptor';\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../modeling/Modeling').default} Modeling\n */\n\n/**\n * A handler that makes sure labels are properly moved with\n * their label targets.\n *\n * @param {Injector} injector\n * @param {EventBus} eventBus\n * @param {Modeling} modeling\n */\nexport default function LabelSupport(injector, eventBus, modeling) {\n\n  CommandInterceptor.call(this, eventBus);\n\n  var movePreview = injector.get('movePreview', false);\n\n  // remove labels from the collection that are being\n  // moved with other elements anyway\n  eventBus.on('shape.move.start', HIGH_PRIORITY, function(e) {\n\n    var context = e.context,\n        shapes = context.shapes,\n        validatedShapes = context.validatedShapes;\n\n    context.shapes = removeLabels(shapes);\n    context.validatedShapes = removeLabels(validatedShapes);\n  });\n\n  // add labels to visual's group\n  movePreview && eventBus.on('shape.move.start', LOW_PRIORITY, function(e) {\n\n    var context = e.context,\n        shapes = context.shapes;\n\n    var labels = [];\n\n    forEach(shapes, function(element) {\n\n      forEach(element.labels, function(label) {\n\n        if (!label.hidden && context.shapes.indexOf(label) === -1) {\n          labels.push(label);\n        }\n\n        if (element.labelTarget) {\n          labels.push(element);\n        }\n      });\n    });\n\n    forEach(labels, function(label) {\n      movePreview.makeDraggable(context, label, true);\n    });\n\n  });\n\n  // add all labels to move closure\n  this.preExecuted('elements.move', HIGH_PRIORITY, function(e) {\n    var context = e.context,\n        closure = context.closure,\n        enclosedElements = closure.enclosedElements;\n\n    var enclosedLabels = [];\n\n    // find labels that are not part of\n    // move closure yet and add them\n    forEach(enclosedElements, function(element) {\n      forEach(element.labels, function(label) {\n\n        if (!enclosedElements[label.id]) {\n          enclosedLabels.push(label);\n        }\n      });\n    });\n\n    closure.addAll(enclosedLabels);\n  });\n\n\n  this.preExecute([\n    'connection.delete',\n    'shape.delete'\n  ], function(e) {\n\n    var context = e.context,\n        element = context.connection || context.shape;\n\n    saveClear(element.labels, function(label) {\n      modeling.removeShape(label, { nested: true });\n    });\n  });\n\n\n  this.execute('shape.delete', function(e) {\n\n    var context = e.context,\n        shape = context.shape,\n        labelTarget = shape.labelTarget;\n\n    // unset labelTarget\n    if (labelTarget) {\n      context.labelTargetIndex = collectionIdx(labelTarget.labels, shape);\n      context.labelTarget = labelTarget;\n\n      shape.labelTarget = null;\n    }\n  });\n\n  this.revert('shape.delete', function(e) {\n\n    var context = e.context,\n        shape = context.shape,\n        labelTarget = context.labelTarget,\n        labelTargetIndex = context.labelTargetIndex;\n\n    // restore labelTarget\n    if (labelTarget) {\n      collectionAdd(labelTarget.labels, shape, labelTargetIndex);\n\n      shape.labelTarget = labelTarget;\n    }\n  });\n\n}\n\ninherits(LabelSupport, CommandInterceptor);\n\nLabelSupport.$inject = [\n  'injector',\n  'eventBus',\n  'modeling'\n];\n\n\n/**\n * Return a filtered list of elements that do not\n * contain attached elements with hosts being part\n * of the selection.\n *\n * @param {Element[]} elements\n *\n * @return {Element[]} filtered\n */\nfunction removeLabels(elements) {\n\n  return filter(elements, function(element) {\n\n    // filter out labels that are move together\n    // with their label targets\n    return elements.indexOf(element.labelTarget) === -1;\n  });\n}\n","import LabelSupport from './LabelSupport';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __init__: [ 'labelSupport' ],\n  labelSupport: [ 'type', LabelSupport ]\n};\n","import {\n  assign,\n  bind,\n  pick\n} from 'min-dash';\n\nimport {\n  domify,\n  query as domQuery,\n  event as domEvent,\n  remove as domRemove\n} from 'min-dom';\n\nvar min = Math.min,\n    max = Math.max;\n\nfunction preventDefault(e) {\n  e.preventDefault();\n}\n\nfunction stopPropagation(e) {\n  e.stopPropagation();\n}\n\nfunction isTextNode(node) {\n  return node.nodeType === Node.TEXT_NODE;\n}\n\nfunction toArray(nodeList) {\n  return [].slice.call(nodeList);\n}\n\n/**\n * Initializes a container for a content editable div.\n *\n * Structure:\n *\n * container\n *   parent\n *     content\n *     resize-handle\n *\n * @param {object} options\n * @param {DOMElement} options.container The DOM element to append the contentContainer to\n * @param {Function} options.keyHandler Handler for key events\n * @param {Function} options.resizeHandler Handler for resize events\n */\nexport default function TextBox(options) {\n  this.container = options.container;\n\n  this.parent = domify(\n    '<div class=\"djs-direct-editing-parent\">' +\n      '<div class=\"djs-direct-editing-content\" contenteditable=\"true\"></div>' +\n    '</div>'\n  );\n\n  this.content = domQuery('[contenteditable]', this.parent);\n\n  this.keyHandler = options.keyHandler || function() {};\n  this.resizeHandler = options.resizeHandler || function() {};\n\n  this.autoResize = bind(this.autoResize, this);\n  this.handlePaste = bind(this.handlePaste, this);\n}\n\n\n/**\n * Create a text box with the given position, size, style and text content\n *\n * @param {Object} bounds\n * @param {Number} bounds.x absolute x position\n * @param {Number} bounds.y absolute y position\n * @param {Number} [bounds.width] fixed width value\n * @param {Number} [bounds.height] fixed height value\n * @param {Number} [bounds.maxWidth] maximum width value\n * @param {Number} [bounds.maxHeight] maximum height value\n * @param {Number} [bounds.minWidth] minimum width value\n * @param {Number} [bounds.minHeight] minimum height value\n * @param {Object} [style]\n * @param {String} value text content\n *\n * @return {DOMElement} The created content DOM element\n */\nTextBox.prototype.create = function(bounds, style, value, options) {\n  var self = this;\n\n  var parent = this.parent,\n      content = this.content,\n      container = this.container;\n\n  options = this.options = options || {};\n\n  style = this.style = style || {};\n\n  var parentStyle = pick(style, [\n    'width',\n    'height',\n    'maxWidth',\n    'maxHeight',\n    'minWidth',\n    'minHeight',\n    'left',\n    'top',\n    'backgroundColor',\n    'position',\n    'overflow',\n    'border',\n    'wordWrap',\n    'textAlign',\n    'outline',\n    'transform'\n  ]);\n\n  assign(parent.style, {\n    width: bounds.width + 'px',\n    height: bounds.height + 'px',\n    maxWidth: bounds.maxWidth + 'px',\n    maxHeight: bounds.maxHeight + 'px',\n    minWidth: bounds.minWidth + 'px',\n    minHeight: bounds.minHeight + 'px',\n    left: bounds.x + 'px',\n    top: bounds.y + 'px',\n    backgroundColor: '#ffffff',\n    position: 'absolute',\n    overflow: 'visible',\n    border: '1px solid #ccc',\n    boxSizing: 'border-box',\n    wordWrap: 'normal',\n    textAlign: 'center',\n    outline: 'none'\n  }, parentStyle);\n\n  var contentStyle = pick(style, [\n    'fontFamily',\n    'fontSize',\n    'fontWeight',\n    'lineHeight',\n    'padding',\n    'paddingTop',\n    'paddingRight',\n    'paddingBottom',\n    'paddingLeft'\n  ]);\n\n  assign(content.style, {\n    boxSizing: 'border-box',\n    width: '100%',\n    outline: 'none',\n    wordWrap: 'break-word'\n  }, contentStyle);\n\n  if (options.centerVertically) {\n    assign(content.style, {\n      position: 'absolute',\n      top: '50%',\n      transform: 'translate(0, -50%)'\n    }, contentStyle);\n  }\n\n  content.innerText = value;\n\n  domEvent.bind(content, 'keydown', this.keyHandler);\n  domEvent.bind(content, 'mousedown', stopPropagation);\n  domEvent.bind(content, 'paste', self.handlePaste);\n\n  if (options.autoResize) {\n    domEvent.bind(content, 'input', this.autoResize);\n  }\n\n  if (options.resizable) {\n    this.resizable(style);\n  }\n\n  container.appendChild(parent);\n\n  // set selection to end of text\n  this.setSelection(content.lastChild, content.lastChild && content.lastChild.length);\n\n  return parent;\n};\n\n/**\n * Intercept paste events to remove formatting from pasted text.\n */\nTextBox.prototype.handlePaste = function(e) {\n  var options = this.options,\n      style = this.style;\n\n  e.preventDefault();\n\n  var text;\n\n  if (e.clipboardData) {\n\n    // Chrome, Firefox, Safari\n    text = e.clipboardData.getData('text/plain');\n  } else {\n\n    // Internet Explorer\n    text = window.clipboardData.getData('Text');\n  }\n\n  this.insertText(text);\n\n  if (options.autoResize) {\n    var hasResized = this.autoResize(style);\n\n    if (hasResized) {\n      this.resizeHandler(hasResized);\n    }\n  }\n};\n\nTextBox.prototype.insertText = function(text) {\n  text = normalizeEndOfLineSequences(text);\n\n  // insertText command not supported by Internet Explorer\n  var success = document.execCommand('insertText', false, text);\n\n  if (success) {\n    return;\n  }\n\n  this._insertTextIE(text);\n};\n\nTextBox.prototype._insertTextIE = function(text) {\n\n  // Internet Explorer\n  var range = this.getSelection(),\n      startContainer = range.startContainer,\n      endContainer = range.endContainer,\n      startOffset = range.startOffset,\n      endOffset = range.endOffset,\n      commonAncestorContainer = range.commonAncestorContainer;\n\n  var childNodesArray = toArray(commonAncestorContainer.childNodes);\n\n  var container,\n      offset;\n\n  if (isTextNode(commonAncestorContainer)) {\n    var containerTextContent = startContainer.textContent;\n\n    startContainer.textContent =\n      containerTextContent.substring(0, startOffset)\n      + text\n      + containerTextContent.substring(endOffset);\n\n    container = startContainer;\n    offset = startOffset + text.length;\n\n  } else if (startContainer === this.content && endContainer === this.content) {\n    var textNode = document.createTextNode(text);\n\n    this.content.insertBefore(textNode, childNodesArray[startOffset]);\n\n    container = textNode;\n    offset = textNode.textContent.length;\n  } else {\n    var startContainerChildIndex = childNodesArray.indexOf(startContainer),\n        endContainerChildIndex = childNodesArray.indexOf(endContainer);\n\n    childNodesArray.forEach(function(childNode, index) {\n\n      if (index === startContainerChildIndex) {\n        childNode.textContent =\n          startContainer.textContent.substring(0, startOffset) +\n          text +\n          endContainer.textContent.substring(endOffset);\n      } else if (index > startContainerChildIndex && index <= endContainerChildIndex) {\n        domRemove(childNode);\n      }\n    });\n\n    container = startContainer;\n    offset = startOffset + text.length;\n  }\n\n  if (container && offset !== undefined) {\n\n    // is necessary in Internet Explorer\n    setTimeout(function() {\n      self.setSelection(container, offset);\n    });\n  }\n};\n\n/**\n * Automatically resize element vertically to fit its content.\n */\nTextBox.prototype.autoResize = function() {\n  var parent = this.parent,\n      content = this.content;\n\n  var fontSize = parseInt(this.style.fontSize) || 12;\n\n  if (content.scrollHeight > parent.offsetHeight ||\n      content.scrollHeight < parent.offsetHeight - fontSize) {\n    var bounds = parent.getBoundingClientRect();\n\n    var height = content.scrollHeight;\n    parent.style.height = height + 'px';\n\n    this.resizeHandler({\n      width: bounds.width,\n      height: bounds.height,\n      dx: 0,\n      dy: height - bounds.height\n    });\n  }\n};\n\n/**\n * Make an element resizable by adding a resize handle.\n */\nTextBox.prototype.resizable = function() {\n  var self = this;\n\n  var parent = this.parent,\n      resizeHandle = this.resizeHandle;\n\n  var minWidth = parseInt(this.style.minWidth) || 0,\n      minHeight = parseInt(this.style.minHeight) || 0,\n      maxWidth = parseInt(this.style.maxWidth) || Infinity,\n      maxHeight = parseInt(this.style.maxHeight) || Infinity;\n\n  if (!resizeHandle) {\n    resizeHandle = this.resizeHandle = domify(\n      '<div class=\"djs-direct-editing-resize-handle\"></div>'\n    );\n\n    var startX, startY, startWidth, startHeight;\n\n    var onMouseDown = function(e) {\n      preventDefault(e);\n      stopPropagation(e);\n\n      startX = e.clientX;\n      startY = e.clientY;\n\n      var bounds = parent.getBoundingClientRect();\n\n      startWidth = bounds.width;\n      startHeight = bounds.height;\n\n      domEvent.bind(document, 'mousemove', onMouseMove);\n      domEvent.bind(document, 'mouseup', onMouseUp);\n    };\n\n    var onMouseMove = function(e) {\n      preventDefault(e);\n      stopPropagation(e);\n\n      var newWidth = min(max(startWidth + e.clientX - startX, minWidth), maxWidth);\n      var newHeight = min(max(startHeight + e.clientY - startY, minHeight), maxHeight);\n\n      parent.style.width = newWidth + 'px';\n      parent.style.height = newHeight + 'px';\n\n      self.resizeHandler({\n        width: startWidth,\n        height: startHeight,\n        dx: e.clientX - startX,\n        dy: e.clientY - startY\n      });\n    };\n\n    var onMouseUp = function(e) {\n      preventDefault(e);\n      stopPropagation(e);\n\n      domEvent.unbind(document,'mousemove', onMouseMove, false);\n      domEvent.unbind(document, 'mouseup', onMouseUp, false);\n    };\n\n    domEvent.bind(resizeHandle, 'mousedown', onMouseDown);\n  }\n\n  assign(resizeHandle.style, {\n    position: 'absolute',\n    bottom: '0px',\n    right: '0px',\n    cursor: 'nwse-resize',\n    width: '0',\n    height: '0',\n    borderTop: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid transparent',\n    borderRight: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid #ccc',\n    borderBottom: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid #ccc',\n    borderLeft: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid transparent'\n  });\n\n  parent.appendChild(resizeHandle);\n};\n\n\n/**\n * Clear content and style of the textbox, unbind listeners and\n * reset CSS style.\n */\nTextBox.prototype.destroy = function() {\n  var parent = this.parent,\n      content = this.content,\n      resizeHandle = this.resizeHandle;\n\n  // clear content\n  content.innerText = '';\n\n  // clear styles\n  parent.removeAttribute('style');\n  content.removeAttribute('style');\n\n  domEvent.unbind(content, 'keydown', this.keyHandler);\n  domEvent.unbind(content, 'mousedown', stopPropagation);\n  domEvent.unbind(content, 'input', this.autoResize);\n  domEvent.unbind(content, 'paste', this.handlePaste);\n\n  if (resizeHandle) {\n    resizeHandle.removeAttribute('style');\n\n    domRemove(resizeHandle);\n  }\n\n  domRemove(parent);\n};\n\n\nTextBox.prototype.getValue = function() {\n  return this.content.innerText.trim();\n};\n\n\nTextBox.prototype.getSelection = function() {\n  var selection = window.getSelection(),\n      range = selection.getRangeAt(0);\n\n  return range;\n};\n\n\nTextBox.prototype.setSelection = function(container, offset) {\n  var range = document.createRange();\n\n  if (container === null) {\n    range.selectNodeContents(this.content);\n  } else {\n    range.setStart(container, offset);\n    range.setEnd(container, offset);\n  }\n\n  var selection = window.getSelection();\n\n  selection.removeAllRanges();\n  selection.addRange(range);\n};\n\n// helpers //////////\n\nfunction normalizeEndOfLineSequences(string) {\n  return string.replace(/\\r\\n|\\r|\\n/g, '\\n');\n}","import {\n  bind,\n  find\n} from 'min-dash';\n\nimport TextBox from './TextBox.js';\n\n\n/**\n * A direct editing component that allows users\n * to edit an elements text directly in the diagram\n *\n * @param {EventBus} eventBus the event bus\n * @param {Canvas} canvas the canvas\n */\nexport default function DirectEditing(eventBus, canvas) {\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n\n  this._providers = [];\n  this._textbox = new TextBox({\n    container: canvas.getContainer(),\n    keyHandler: bind(this._handleKey, this),\n    resizeHandler: bind(this._handleResize, this)\n  });\n}\n\nDirectEditing.$inject = [ 'eventBus', 'canvas' ];\n\n\n/**\n * Register a direct editing provider\n\n * @param {Object} provider the provider, must expose an #activate(element) method that returns\n *                          an activation context ({ bounds: {x, y, width, height }, text }) if\n *                          direct editing is available for the given element.\n *                          Additionally the provider must expose a #update(element, value) method\n *                          to receive direct editing updates.\n */\nDirectEditing.prototype.registerProvider = function(provider) {\n  this._providers.push(provider);\n};\n\n\n/**\n * Returns true if direct editing is currently active\n *\n * @param {djs.model.Base} [element]\n *\n * @return {boolean}\n */\nDirectEditing.prototype.isActive = function(element) {\n  return !!(this._active && (!element || this._active.element === element));\n};\n\n\n/**\n * Cancel direct editing, if it is currently active\n */\nDirectEditing.prototype.cancel = function() {\n  if (!this._active) {\n    return;\n  }\n\n  this._fire('cancel');\n  this.close();\n};\n\n\nDirectEditing.prototype._fire = function(event, context) {\n  this._eventBus.fire('directEditing.' + event, context || { active: this._active });\n};\n\nDirectEditing.prototype.close = function() {\n  this._textbox.destroy();\n\n  this._fire('deactivate');\n\n  this._active = null;\n\n  this.resizable = undefined;\n\n  // restoreFocus API is available from diagram-js@15.0.0\n  this._canvas.restoreFocus && this._canvas.restoreFocus();\n};\n\n\nDirectEditing.prototype.complete = function() {\n\n  var active = this._active;\n\n  if (!active) {\n    return;\n  }\n\n  var containerBounds,\n      previousBounds = active.context.bounds,\n      newBounds = this.$textbox.getBoundingClientRect(),\n      newText = this.getValue(),\n      previousText = active.context.text;\n\n  if (\n    newText !== previousText ||\n    newBounds.height !== previousBounds.height ||\n    newBounds.width !== previousBounds.width\n  ) {\n    containerBounds = this._textbox.container.getBoundingClientRect();\n\n    active.provider.update(active.element, newText, active.context.text, {\n      x: newBounds.left - containerBounds.left,\n      y: newBounds.top - containerBounds.top,\n      width: newBounds.width,\n      height: newBounds.height\n    });\n  }\n\n  this._fire('complete');\n\n  this.close();\n};\n\n\nDirectEditing.prototype.getValue = function() {\n  return this._textbox.getValue();\n};\n\n\nDirectEditing.prototype._handleKey = function(e) {\n\n  // stop bubble\n  e.stopPropagation();\n\n  var key = e.keyCode || e.charCode;\n\n  // ESC\n  if (key === 27) {\n    e.preventDefault();\n    return this.cancel();\n  }\n\n  // Enter\n  if (key === 13 && !e.shiftKey) {\n    e.preventDefault();\n    return this.complete();\n  }\n};\n\n\nDirectEditing.prototype._handleResize = function(event) {\n  this._fire('resize', event);\n};\n\n\n/**\n * Activate direct editing on the given element\n *\n * @param {Object} ElementDescriptor the descriptor for a shape or connection\n * @return {Boolean} true if the activation was possible\n */\nDirectEditing.prototype.activate = function(element) {\n  if (this.isActive()) {\n    this.cancel();\n  }\n\n  // the direct editing context\n  var context;\n\n  var provider = find(this._providers, function(p) {\n    return ((context = p.activate(element))) ? p : null;\n  });\n\n  // check if activation took place\n  if (context) {\n    this.$textbox = this._textbox.create(\n      context.bounds,\n      context.style,\n      context.text,\n      context.options\n    );\n\n    this._active = {\n      element: element,\n      context: context,\n      provider: provider\n    };\n\n    if (context.options && context.options.resizable) {\n      this.resizable = true;\n    }\n\n    this._fire('activate');\n  }\n\n  return !!context;\n};\n","import InteractionEventsModule from 'diagram-js/lib/features/interaction-events';\n\nimport DirectEditing from './DirectEditing.js';\n\nexport default {\n  __depends__: [\n    InteractionEventsModule\n  ],\n  __init__: [ 'directEditing' ],\n  directEditing: [ 'type', DirectEditing ]\n};","\nconst stateRadius = 30;\n\nexport { stateRadius }; ","import ElementFactory from \"diagram-js/lib/core/ElementFactory\"\n\nimport {\n    assign\n} from \"min-dash\"\n\nimport {\n    stateRadius\n} from './staticShapeDesc';\n\nimport {\n    getConnectionMid\n  } from \"diagram-js/lib/layout/LayoutUtil\"\n\nconst INTERNAL = \"internal\";\nconst ENDING = \"ending\";\nconst STARTING = \"starting\"\n\n\nexport function isInternalState(attrs){\n    if (attrs.stateType != null){\n        if(attrs.stateType == INTERNAL){\n            return true;\n        }\n    }\n    return false;\n} \n\nexport function isStartingState(attrs){\n    if (attrs.stateType != null){\n        if(attrs.stateType == STARTING){\n            return true;\n        }\n    }\n    return false;\n} \n\nexport function isEndingState(attrs){\n    if (attrs.stateType != null){\n        if(attrs.stateType == ENDING){\n            return true;\n        }\n    }\n    return false;\n} \n\nexport function isState(attrs){\n    return isStartingState(attrs)\n        || isInternalState(attrs)\n        || isEndingState(attrs)\n}\n\nexport function toggleStateType(element){\n\n    if (isStartingState(element)){\n        return INTERNAL\n    } else if (isInternalState(element)){\n        return ENDING\n    } else {\n        return STARTING\n    }\n}\n\nexport class TSElementFactory extends ElementFactory {\n\n    constructor(eventBus,textRenderer){\n        super()\n        this._lastStateId = 0;\n        this._lastConnectionId = 0;\n        this._seen = []\n        this._bus = eventBus\n        this._textRenderer = textRenderer\n    }\n\n    fireCreateState(element){\n        this._bus.fire(\n            'state.create',\n            {element: element}\n        )\n    }\n\n    fireCreateTransition(element){\n        this._bus.fire(\n            'transition.create',\n            {element: element}\n        )\n    }\n\n    logIdentifer(id){\n        if (!this._seen.includes(id)){\n            this._seen.push(id)\n        }\n    }\n\n    checkIdentifer(id){\n        return !this._seen.includes(id)\n    }\n\n    getNextStateId(){\n        this._lastStateId += 1;\n        var id = \"b\"+this._lastStateId;\n        if (this.checkIdentifer(id)){\n            return id\n        }\n        return this.getNextStateId()\n    }\n\n    getNextConnectionId(){\n        this._lastConnectionId += 1\n        var id = \"a\"+this._lastConnectionId;\n        if (this.checkIdentifer(id)){\n            return id\n        }\n        return this.getNextConnectionId()\n    }\n\n    createInternalState(attrs) {\n        return this.createState(attrs,INTERNAL)\n    }\n\n    createStartingState(attrs){\n        return this.createState(attrs,STARTING)\n    }\n\n    createEndingState(attrs){\n        return this.createState(attrs,ENDING)\n    }\n\n    createState(attrs, type){\n        attrs = assign(\n            {},\n            attrs\n        );\n        attrs.r = stateRadius\n        attrs.cx = stateRadius\n        attrs.cy = stateRadius\n        attrs.width = stateRadius * 2\n        attrs.height = stateRadius * 2\n        attrs.stateType = type\n        attrs.group = \"states\"\n        attrs.selected = false\n        var ret = this.createShape(attrs)\n        this.fireCreateState(ret)\n        return ret\n    }\n\n    createConnectionBetweenStates(id,src,tgt,label){\n        if (!label){\n            label = ''\n        }\n        var selfLoop = src.id == tgt.id;\n        var waypoints;\n        if (selfLoop){\n            waypoints = [\n                { x: src.x + src.r, y: src.y + src.r },\n                { x: src.x + src.r + (stateRadius * 0.5), \n                  y: src.y + src.r - (stateRadius * 1.5) }, // go up\n                { x: src.x + src.r + (stateRadius * 1.5), \n                  y: src.y + src.r - (stateRadius * 1.5) }, // go right\n                { x: src.x + src.r + (stateRadius * 1.5), \n                  y: src.y + src.r + (stateRadius * 1.5) }, // go down\n                { x: src.x + src.r + (stateRadius * 0.5), \n                  y: src.y + src.r + (stateRadius * 1.5) },  // go left\n                { x: tgt.x + tgt.r, y: tgt.y + src.r}\n            ]\n        } else {\n            waypoints = [\n                { x: src.x + src.r, y: src.y + src.r },\n                { x: tgt.x + tgt.r, y: tgt.y + src.r}\n            ]\n        }\n        var attrs = {\n            id: id,\n            source: src,\n            target: tgt,\n            selfLoop: selfLoop,\n            waypoints: waypoints,\n            arcLabel: label,\n            group: \"connections\"\n        }\n        var ret = this.createConnection(attrs)\n        this.fireCreateTransition(ret)\n        return ret\n    }\n}\n\nTSElementFactory.$inject = [\n    'eventBus',\n    'textRenderer',\n]","import {\n    isState,\n    isInternalState,\n    isEndingState,\n    isStartingState\n} from \"./elements/TSElementFactory\"\n\nimport  {\n    isLabel, isConnection\n  } from \"diagram-js/lib/util/ModelUtil\"\n\nconst XML_HEAD = \n`\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n\n<transition-system>\\n\n`\n\nconst XML_TAIL = \n`\n</transition-system>\n`\n\nconst XML_ILLEGALS = {\n    '&' : '&amp;',\n    '<' : '&lt;',\n    '>' : '&gt;',\n    \"'\" : '&apos;',\n    '\"' : '&quot;'\n}\n\n\nclass TsXmlExporter {\n\n    constructor(registry){\n        this._registry = registry\n        this._xml = \"\"\n    }\n\n    encode(text){\n        var ret = text\n        for(const illegal in XML_ILLEGALS){\n            ret = ret.replace(\n                illegal, XML_ILLEGALS[illegal]\n            )\n        }\n        return ret\n    }\n\n    export(){\n        this._xml = this.createHead()\n        var that = this\n        // process states first\n        var check = isState\n        var els = this._registry.filter(check)\n        var f = function(el,gfx) {\n            return that.serialise(that,el,gfx)\n        }\n        els.forEach(f)\n        // process arcs next\n        check = (el) => {return !isState(el)}\n        els = this._registry.filter(check)\n        els.forEach(f)\n        // add tail and return\n        return this._xml + this.createTail()\n    }\n\n    createHead(){\nreturn `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<transition-system>\\n`\n    }\n\n    serialise(self, element, gfx){\n        if (element.id.includes('implicitroot'))\n            return\n        if(isState(element)){\n            self._xml += self.serialiseState(element,gfx)\n        } else if (isConnection(element)) {\n            self._xml += self.serialiseArc(element,gfx)\n        } else {\n\n        }\n    }\n\n    serialiseState(state, gfx){\n        // console.log(state, gfx)\nreturn `\\t<state id=\"`+ state.id +`\" type=\"` + state.stateType +`\">\n\\t\\t<label>`\n+ (state.stateLabel != null ? this.encode(state.stateLabel.trim()) : \"\") +\n`</label>\n\\t\\t<position x=\"` + state.x + `\" y=\"` + state.y + `\" />\n\\t</state>\\n`\n    }\n\n    serialiseArc(arc,gfx){\n        // console.log(arc, gfx)\nvar ret = `\\t<arc id=\"` + arc.id + `\">\n\\t\\t<label>`\n+ (arc.arcLabel != null ? this.encode(arc.arcLabel.trim()) : \"\") + \n`</label>\n\\t\\t<source id=\"` + arc.source.id +`\" />\n\\t\\t<target id=\"` + arc.target.id +`\" />\n\\t\\t<waypoints>\\n`\nfor(const way of arc.waypoints){\n    ret += `\\t\\t\\t<position x=\"` + way.x + `\" y=\"` + way.y + `\" />\\n`\n}\n\nreturn ret + `\\t\\t</waypoints>\n\\t</arc>\\n`\n    }\n\n    createTail(){\n        return `</transition-system>`\n    }\n}\n\nexport default TsXmlExporter","import {\n    assign\n} from 'min-dash'\n\nimport {\n    getConnectionMid\n} from \"diagram-js/lib/layout/LayoutUtil\"\n\nconst XML_ILLEGALS = {\n    '<' : '&lt;',\n    '>' : '&gt;',\n    \"'\" : '&apos;',\n    '\"' : '&quot;',\n    '&' : '&amp;',\n}\n\n\nclass TsXmlImporter {\n\n    constructor(modeling, factory, canvas, registry, bus, txRenderer){\n        this._modeling = modeling \n        this._factory = factory\n        this._canvas = canvas\n        this._registry = registry\n        this._bus = bus\n        this._txRender = txRenderer\n    }\n\n    decode(text){\n        var ret = text\n        for(const illegal in XML_ILLEGALS){\n            ret = ret.replace(\n                XML_ILLEGALS[illegal], illegal\n            )\n        }\n        return ret\n    }\n\n    import(system){\n        try {\n            this._import(system)\n        } catch (error){\n            alert(\"Failed to parse and load in system :: \"\n                + error\n            )\n        }\n    }\n\n    _import(system){\n        // clear the system, except for root\n        var that = this\n        var els = this._registry.getAll().filter(\n            (v) => {\n                return !v.id.includes(\"implicitroot\")\n            }\n        )\n        if (els.length > 0){\n            this._bus.fire('formal.clear', {})\n            this._modeling.removeElements(\n                els\n            )\n        }\n        // parse states\n        var named_els = {}\n        \n        var states = system.getElementsByTagName(\"state\")\n        for (var state of states){\n            var attrs = state.attributes\n            var pos = state.getElementsByTagName(\"position\")[0]\n            var label = state.getElementsByTagName(\"label\")[0]\n            var context = {\n                id: attrs.id.value,\n                x: pos.attributes.x.value,\n                y: pos.attributes.y.value,\n                stateLabel: this.decode(label.textContent + \"\")\n            }\n            var shape = this._factory.createState(\n                context, attrs.type.value\n            )\n            named_els[shape.id] = shape\n            this._factory.logIdentifer(shape.id)\n            this._modeling.createShape(\n                shape, {x: shape.x, y:shape.y}, \n                this._canvas.getRootElement(),\n                1\n            )\n        }\n        // parse arcs\n        var arcs = system.getElementsByTagName(\"arc\")\n        for(var arc of arcs){\n            var attrs = arc.attributes \n            var label = this.decode(\n                arc.getElementsByTagName(\"label\")[0].textContent + \"\"\n            ).trim()\n            var src = arc.getElementsByTagName(\"source\")[0].attributes\n            var tgt = arc.getElementsByTagName(\"target\")[0].attributes\n            var connect = this._factory.createConnectionBetweenStates(\n                attrs.id.value, \n                named_els[src.id.value],\n                named_els[tgt.id.value],\n                label\n            );\n            var waypoints = []\n            var svgWay = arc.getElementsByTagName(\"waypoints\")\n            if (svgWay.length > 0){\n                svgWay = svgWay[0].getElementsByTagName(\"position\")\n                for(const svgWayPoint of svgWay){\n                    waypoints.push({\n                        x: svgWayPoint.attributes.x.value - connect.source.r,\n                        y: svgWayPoint.attributes.y.value - connect.source.r,\n                    })\n                }\n                connect.waypoints = [].concat(waypoints)\n            }\n            connect.arcLabel = label\n            this._factory.logIdentifer(connect.id)\n            var nc = this._modeling.createConnection(\n                connect.source,\n                connect.target,\n                -1,\n                connect,\n                this._canvas.getRootElement()\n            )\n            if (!connect.selfLoop){\n                if (connect.waypoints.length < 2){\n                    this._modeling.layoutConnection(connect)\n                }\n                this._bus.fire('elements.changed', {\n                    elements: [connect.source, connect.target, connect]\n                })\n\n            } else {\n                // nc.waypoints = waypoints\n            }\n            if (label.length > 0){\n                var elLabel = this._factory.createLabel({\n                    text: label,\n                    width: 50,\n                    height: 12,\n                    labelTarget: connect,\n                    x: 0\n                })\n                assign(label, this._txRender.getTextAnnotationBounds(\n                    elLabel, label\n                ))\n                this._modeling.createLabel(\n                    connect,\n                    getConnectionMid(connect),\n                    elLabel,\n                    connect\n                )\n            }\n            \n        }\n        // move all states to ensure a clean start\n        var bus = this._bus\n        var modeler = this._modeling\n        var push = 1\n        for(var k in named_els){\n            const item = named_els[k]\n            this._modeling.moveShape(item,\n                {x: 1, y:1},\n                false,\n                {\n                    recurse: false,\n                    layout: false\n                }\n            )\n            setTimeout( () => \n            {\n                bus.fire('element.changed', \n                    {element: item}\n                )\n                modeler.moveShape(item,\n                    {x: -1, y:-1},\n                    false,\n                    {\n                        recurse: false,\n                        layout: false\n                    }\n                )\n            }\n            , push) \n            push += 1\n        }\n    }\n}\n\nexport default TsXmlImporter","import {\n    query as domQuery,\n} from 'min-dom';\n\nimport {\n    innerSVG\n} from 'tiny-svg';\n\nclass SvgSaver {\n\n    constructor(canvas){\n        this._canvas = canvas\n    }\n\n    save(){\n        var svg;\n        try {        \n            const contentNode = this._canvas.getActiveLayer(),\n                  defsNode = domQuery(':scope > defs', this._canvas._svg);\n        \n            const contents = innerSVG(contentNode),\n                  defs = defsNode ? '<defs>' + innerSVG(defsNode) + '</defs>' : '';\n        \n            const bbox = contentNode.getBBox();\n        \n            svg =\n              '<?xml version=\"1.0\" encoding=\"utf-8\"?>\\n' +\n              '<!-- created with the help of adam banham / http://adambanham.io -->\\n' +\n              '<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\\n' +\n              '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" ' +\n              'width=\"' + bbox.width + '\" height=\"' + bbox.height + '\" ' +\n              'viewBox=\"' + bbox.x + ' ' + bbox.y + ' ' + bbox.width + ' ' + bbox.height + '\" version=\"1.1\">' +\n              defs + contents +\n              '</svg>';\n          } catch (err) {\n            alert(\"Unable to serialise svg :: \" +\n                err\n            )\n            return null\n          }\n          return svg\n    }\n}\n\nexport default SvgSaver","\nimport TsXmlExporter from \"../exporter.js\"\nimport TsXmlImporter from \"../importer.js\";\nimport SvgSaver from \"../svgSaver.js\";\n\n/**\n * A example palette provider.\n */\nexport default function ExamplePaletteProvider(\n    create, elementFactory, lassoTool, palette, connect, registry,\n    modeling, canvas, eventBus, textRenderer) {\n    this._create = create;\n    this._elementFactory = elementFactory;\n    this._lassoTool = lassoTool;\n    this._palette = palette;\n    this._connect = connect;\n    this._registry = registry;\n    this._modeling = modeling\n    this._canvas = canvas\n    this._bus = eventBus\n    this._textRenderer = textRenderer\n  \n    palette.registerProvider(this);\n  }\n  \n  ExamplePaletteProvider.$inject = [\n    'create',\n    'elementFactory',\n    'lassoTool',\n    'palette',\n    'connect',\n    'elementRegistry',\n    'modeling',\n    'canvas',\n    'eventBus',\n    'textRenderer'\n  ];\n  \n  \n  ExamplePaletteProvider.prototype.getPaletteEntries = function() {\n    var create = this._create,\n        elementFactory = this._elementFactory,\n        lassoTool = this._lassoTool,\n        registry = this._registry,\n        modeling = this._modeling,\n        canvas = this._canvas,\n        bus = this._bus,\n        connect = this._connect,\n        textRenderer = this._textRenderer;\n  \n    return {\n      'lasso-tool': {\n        group: 'tools',\n        className: 'mdi-lasso mdi',\n        title: 'Activate Lasso Tool',\n        action: {\n          click: function(event) {\n            lassoTool.activateSelection(event);\n          }\n        }\n      },\n      'tool-separator': {\n        group: 'tools',\n        separator: true\n      },\n      'create-ishape': {\n        group: 'create',\n        className: 'mdi-circle-outline mdi',\n        title: 'Create Internal State',\n        action: {\n          click: function(event) {\n            var shape = elementFactory.createInternalState({\n              x: 0, y:0, stateLabel: \"\",\n              id: elementFactory.getNextStateId()\n            });\n  \n            create.start(event, shape);\n          }\n        }\n      },\n      'create-sshape': {\n        group: 'create',\n        className: 'mdi-play-circle-outline mdi',\n        title: 'Create Starting State',\n        action: {\n          click: function(event) {\n            var shape = elementFactory.createStartingState({\n              x: 0, y:0, stateLabel: \"\", \n              id: elementFactory.getNextStateId()\n            });\n  \n            create.start(event, shape);\n          }\n        }\n      },\n      'create-eshape': {\n        group: 'create',\n        className: 'mdi-stop-circle-outline mdi',\n        title: 'Create Ending State',\n        action: {\n          click: function(event) {\n            var shape = elementFactory.createEndingState({\n              x: 0, y:0, stateLabel: \"\",\n              id: elementFactory.getNextStateId()\n            });\n  \n            create.start(event, shape);\n          }\n        }\n      },\n      'create-separator': {\n        group: 'create',\n        separator: true\n      },\n      'import-model': {\n        group: 'model',\n        className: 'mdi-import mdi',\n        title: 'Import Model',\n        action: {\n          click: function(event) {\n            let input = document.createElement('input');\n            var parser = new TsXmlImporter(modeling,\n              elementFactory, canvas, registry, bus, textRenderer)\n            input.type = 'file';\n            input.accept = '.tsxml'\n            input.onchange = _ => {\n              // you can use this method to get file and perform respective operations\n                      let xml =   Array.from(input.files)[0];\n                      xml.text()\n                        .then( content => \n                        {\n                          input.remove()\n                          URL.revokeObjectURL(input)\n                          var tree = new DOMParser().parseFromString(\n                            content, \"text/xml\"\n                          )\n                          \n                          var errors = tree.getElementsByTagName(\"parsererror\")\n                          if (errors.length > 0){\n                            alert(\n                              \"Parsing failed :: \"\n                              + errors[0].textContent\n                            )\n                            return\n                          }\n                          var system = tree.getElementsByTagName(\"transition-system\")\n                          if (system.length > 0){\n                            parser.import(system[0])\n                          }\n                        }\n                        )\n                  };\n            input.click();\n          }\n        }\n      },\n      'export-model': {\n        group: 'model',\n        className: 'mdi-export mdi',\n        title: 'Export Model',\n        action: {\n          click: function(event) {\n            // Generate the content you want to download as a string\n            const content = new TsXmlExporter(registry).export()\n\n            // Create a Blob (Binary Large Object) from the content\n            const blob = new Blob([content], { type: 'text/plain' });\n\n            // Create a link element for downloading the file\n            const a = document.createElement('a');\n            a.href = URL.createObjectURL(blob);\n            a.download = 'transition_system.tsxml'; // Specify the default filename\n\n            // Trigger a click event on the link to initiate the download\n            a.click();\n\n            // Clean up resources (revoke the URL to free up memory)\n            URL.revokeObjectURL(blob);\n            a.remove()\n          }\n        }\n      },\n      'export-svg': {\n        group: 'model',\n        className: 'mdi-content-save-move-outline mdi',\n        title: 'Export SVG',\n        action: {\n          click: function(event) {\n            // Generate the content you want to download as a string\n            const content = new SvgSaver(canvas).save()\n\n            // Create a Blob (Binary Large Object) from the content\n            const blob = new Blob([content], { type: 'text/plain' });\n\n            // Create a link element for downloading the file\n            const a = document.createElement('a');\n            a.href = URL.createObjectURL(blob);\n            a.download = 'transition_system.svg'; // Specify the default filename\n\n            // Trigger a click event on the link to initiate the download\n            a.click();\n\n            // Clean up resources (revoke the URL to free up memory)\n            URL.revokeObjectURL(blob);\n            a.remove()\n          }\n        }\n      },\n      'model-separator': {\n        group: 'model',\n        separator: true\n      },\n      'fitview': {\n        group: 'view',\n        className: 'mdi-overscan mdi',\n        title: 'fit to screen',\n        action: {\n          click: function(event) {\n            const {inner} = canvas.viewbox()\n            var center = {\n              x: inner.x + inner.width/2,\n              y: inner.y + inner.height/2\n            }\n            canvas.zoom('fit-viewport', center)\n          }\n        }\n      },\n      'view-separator': {\n        group: 'view',\n        separator: true\n      },\n      'clear-model': {\n        group: 'clear',\n        className: 'mdi-trash-can-outline mdi',\n        title: 'clear all elements',\n        action: {\n          click: function(event) {\n            // clear the system, except for root\n            var els = registry.getAll().filter(\n                (v) => {\n                    return !v.id.includes(\"implicitroot\")\n                }\n            )\n            if (els.length > 0){\n                bus.fire('formal.clear', {})\n                modeling.removeElements(\n                    els\n                )\n            }\n          }\n        }\n      },\n    };\n  };","\nimport {\n    isInternalState,\n    isStartingState,\n    toggleStateType,\n    isState\n} from \"../elements/TSElementFactory\"\n\nimport  {\n    isLabel, isConnection\n} from \"diagram-js/lib/util/ModelUtil\"\n  \n\nexport default function ContextPadProvider(\n    create, elementFactory, connect, contextPad, modeling, eventBus, registry\n) {\n    this._create = create;\n    this._elementFactory = elementFactory;\n    this._connect = connect;\n    this._modeling = modeling;\n    this._eventBus = eventBus;\n    this._registry = registry\n    // debugger;\n    contextPad.registerProvider(this);\n}\n\n    ContextPadProvider.$inject = [\n        'create',\n        'elementFactory',\n        'connect',\n        'contextPad',\n        'modeling',\n        'eventBus',\n        'elementRegistry'\n\n    ];\n\n    ContextPadProvider.prototype.getContextPadEntries = function(element){\n        \n        var connect = this._connect,\n            modeling = this._modeling,\n            factory = this._elementFactory,\n            create = this._create,\n            registry = this._registry,\n            bus = this._eventBus;\n\n        function removeElement(event, target, autoActivate) {\n            bus.fire('pad.delete', {\n                elements: [element]\n            })\n            modeling.removeElements([ element ]);\n        }\n            \n\n        function startConnect(event, element, autoActivate) {\n            connect.start(event, element, autoActivate);\n        }\n\n        function switchStateType(event, element, autoActivate){\n            var newType = toggleStateType(element)\n            element.stateType = newType;\n            bus.fire('elements.changed', {elements: [element]})\n        }\n\n        function jumpToInternal(event, element){\n            var ns = factory.createInternalState({\n                id: factory.getNextStateId(),\n                x: element.x + 100,\n                y: element.y + 100,\n                stateLabel: ''\n            })\n            var nc = factory.createConnectionBetweenStates(\n                factory.getNextConnectionId(), \n                element, \n                ns\n            )\n            modeling.createShape(ns, {x: ns.x, y:ns.y} ,element.parent)\n            modeling.createConnection(element, ns, nc, element.parent)\n            modeling.layoutConnection (\n                nc,\n            )\n            bus.fire('elements.changed', {\n                elements: [ns,nc]})\n        }\n\n        function jumpToEnding(event, element){\n            var ns = factory.createEndingState({\n                id: factory.getNextStateId(),\n                x: element.x + 100,\n                y: element.y + 100,\n                stateLabel: ''\n            })\n            var nc = factory.createConnectionBetweenStates(\n                factory.getNextConnectionId(), \n                element, \n                ns\n            )\n            modeling.createShape(ns, {x: ns.x, y:ns.y} ,element.parent)\n            modeling.createConnection(element, ns, nc, element.parent)\n            modeling.layoutConnection (\n                nc,\n            )\n            bus.fire('elements.changed', {\n                elements: [ns,nc]})\n        }\n\n        function flipConnection(event, element){\n            var src = element.source\n            var tgt = element.target\n            var waypoints = [\n                {x: tgt.x, y: tgt.y},\n                {x: src.x, y: src.y}\n            ]\n            element.source = tgt \n            element.target = src \n            element.waypoints = waypoints\n            modeling.removeConnection(element)\n            var connect = modeling.createConnection(tgt, src, element, src.parent)\n            modeling.layoutConnection (\n                connect,\n            )\n            bus.fire('elements.changed', {\n                elements: [connect, element, tgt, src]})\n        }\n\n        function toggleSelected(event, element){\n            if (element.selected) {\n                element.selected = false \n                bus.fire('elements.changed', {elements: [element]})\n            } else {\n                var changed = [element]\n                registry.filter(isState).forEach(\n                    (el) => {\n                        if (el.selected){\n                            el.selected = false;\n                            changed.push(el)\n                        }\n                    }\n                )\n                element.selected = true \n                bus.fire('elements.changed', {elements: changed})\n            }\n        }\n\n        function createSelfLoop(event, element){\n            console.log(element)\n            var nc = factory.createConnectionBetweenStates(\n                factory.getNextConnectionId(), \n                element, \n                element\n            )\n            modeling.createConnection(element, element, nc, element.parent)\n            bus.fire('elements.changed', {\n                elements: [element,nc]}\n            )\n        }\n        var contextPadOptions = {}\n\n        // alaways present\n        contextPadOptions['delete'] = {\n            action: {\n                click: removeElement,\n            },\n            className: 'context-pad-delete',\n            html: '<div class=\"entry mdi-delete mdi editor-hover\"/>',\n            title: 'delete',\n            group: 'edit'\n        }\n\n        if (isLabel(element)){\n            return contextPadOptions\n        }\n\n        if (element.id.startsWith(\"a\") || element.id.startsWith(\"connection\")){\n\n            contextPadOptions['flip'] = {\n                action: {\n                    click: flipConnection\n                },\n                class: 'context-pad-flip',\n                html: '<div class=\"entry mdi mdi-arrow-left-right editor-hover\"/>',\n                title: 'flip direction',\n                group: 'edit'\n            }\n\n            return contextPadOptions\n        }\n\n        contextPadOptions['edit'] = {\n            action: {\n                click: switchStateType,\n            },\n            className: 'context-pad-edit',\n            html: '<div class=\"entry mdi-circle mdi editor-hover\"/>',\n            title: 'change',\n            group: 'edit'\n        }\n\n        contextPadOptions['mark'] = {\n            action: {\n                click: toggleSelected,\n            },\n            className: 'context-pad-edit',\n            html: '<div class=\"entry mdi-marker mdi editor-hover\"/>',\n            title: 'mark',\n            group: 'edit'\n        }\n\n        contextPadOptions['connect'] = {\n            action: {\n                click: startConnect,\n                dragstart: startConnect\n            },\n            className: 'context-pad-contect',\n            html: '<div class=\"entry mdi-arrow-right-thick mdi editor-hover\"/>',\n            title: 'connect',\n            group: 'join'\n        }\n        contextPadOptions['self-connect'] = {\n            action: {\n                click: createSelfLoop\n            },\n            className: 'context-pad-contect',\n            html: '<div class=\"entry mdi-restore mdi editor-hover\"/>',\n            title: 'loop to self',\n            group: 'join'\n        }\n            \n        contextPadOptions['connect-to-internal'] = {\n            action: {\n                click: jumpToInternal\n            },\n            className: 'context-pad-contect',\n            html: '<div class=\"entry mdi-circle-outline mdi editor-hover\"/>',\n            title: 'jump to internal',\n            group: 'jump'\n        }\n        contextPadOptions['connect-to-ending'] = {\n            action: {\n                click: jumpToEnding\n            },\n            className: 'context-pad-contect',\n            html: '<div class=\"entry mdi-stop-circle-outline mdi editor-hover\"/>',\n            title: 'jump to ending',\n            group: 'jump'\n        }\n\n        return contextPadOptions\n    }","import {\n    assign\n} from 'min-dash';\n\nimport {\n  getConnectionMid\n} from \"diagram-js/lib/layout/LayoutUtil\"\n\nimport  {\n  isLabel, isConnection\n} from \"diagram-js/lib/util/ModelUtil\"\n\nimport {\nisInternalState,\nisStartingState,\nisEndingState\n} from '../elements/TSElementFactory'\n\n// helpers //////////\nfunction isEmptyText(label) {\n    return !label || !label.trim();\n}\n\nfunction isState(element) {\n    return isInternalState(element) || isStartingState(element)\n        || isEndingState(element)\n}\n\nfunction getLabel(element){\n  if (isState(element))\n    return element.stateLabel || null\n  else if (isLabel(element))\n    return element.text || null\n  return element.arcLabel || null\n}\n  \nvar HIGH_PRIORITY = 2000;\n  \nexport default function LabelEditingProvider(\n      eventBus, factory, canvas, directEditing,\n      modeling, textRenderer) {\n  \n    this._factory = factory;\n    this._canvas = canvas;\n    this._modeling = modeling;\n    this._textRenderer = textRenderer;\n    this._bus = eventBus\n  \n    directEditing.registerProvider(this);\n  \n    // listen to dblclick on non-root elements\n    eventBus.on('element.dblclick', function(event) {\n      activateDirectEdit(event.element, true);\n    });\n  \n    // complete on followup canvas operation\n    eventBus.on([\n      'autoPlace.start',\n      'canvas.viewbox.changing',\n      'drag.init',\n      'element.mousedown',\n      'popupMenu.open',\n      'root.set',\n      'selection.changed'\n    ], function() {\n      if (directEditing.isActive()) {\n        directEditing.complete();\n      }\n    });\n  \n    eventBus.on([\n      'shape.remove',\n      'connection.remove'\n    ], HIGH_PRIORITY, function(event) {\n  \n      if (directEditing.isActive(event.element)) {\n        directEditing.cancel();\n      }\n    });\n  \n    // cancel on command stack changes\n    eventBus.on([ 'commandStack.changed' ], function(e) {\n      if (directEditing.isActive()) {\n        directEditing.cancel();\n      }\n    });\n  \n  \n    eventBus.on('directEditing.activate', function(event) {\n    //   resizeHandles.removeResizers();\n    });\n  \n    eventBus.on('create.end', 500, function(event) {\n  \n      var context = event.context,\n          element = context.shape,\n          canExecute = event.context.canExecute,\n          isTouch = event.isTouch;\n  \n      if (isTouch) {\n        return;\n      }\n  \n      if (!canExecute) {\n        return;\n      }\n  \n      if (context.hints && context.hints.createElementsBehavior === false) {\n        return;\n      }\n  \n      activateDirectEdit(element);\n    });\n  \n    eventBus.on('autoPlace.end', 500, function(event) {\n      activateDirectEdit(event.shape);\n    });\n  \n  \n    function activateDirectEdit(element, force) {\n        directEditing.activate(element);\n    }\n  \n  }\n  \n  LabelEditingProvider.$inject = [\n    'eventBus',\n    'elementFactory',\n    'canvas',\n    'directEditing',\n    'modeling',\n    // 'resizeHandles',\n    'textRenderer'\n  ];\n  \n  \n  /**\n   * Activate direct editing for activities and text annotations.\n   *\n   * @param {Element} element\n   *\n   * @return { {\n   *   text: string;\n   *   options?: {\n   *     autoResize?: boolean;\n   *     centerVertically?: boolean;\n   *     resizable?: boolean;\n   *   }\n   * } & DirectEditingContext }\n   */\n  LabelEditingProvider.prototype.activate = function(element) {\n  \n    // text\n    var text = getLabel(element);\n  \n    if (text === undefined) {\n      return;\n    }\n  \n    var context = {\n      text: text\n    };\n  \n    // bounds\n    var bounds = this.getEditingBBox(element);\n  \n    assign(context, bounds);\n  \n    var options = {};\n    var style = context.style || {};\n  \n    // Remove background and border\n    assign(style, {\n      backgroundColor: \"rgba(0,0,0,0.5)\",\n      padding: '3px',\n      'border-radius': '5px',\n      color: 'red',\n      border: null\n    });\n  \n    assign(context, {\n      options: options,\n      style: style\n    });\n  \n    return context;\n  };\n  \n  \n  /**\n   * Get the editing bounding box based on the element's size and position.\n   *\n   * @param {Element} element\n   *\n   * @return {DirectEditingContext}\n   */\n  LabelEditingProvider.prototype.getEditingBBox = function(element) {\n    var canvas = this._canvas;\n  \n    var target = element.label || element;\n  \n    var bbox = canvas.getAbsoluteBBox(target);\n  \n    var mid = {\n      x: bbox.x + bbox.width / 2,\n      y: bbox.y + bbox.height / 2\n    };\n  \n    // default position\n    var bounds = { x: bbox.x, y: bbox.y };\n  \n    var zoom = canvas.zoom();\n  \n    var defaultStyle = this._textRenderer.getDefaultStyle(),\n        externalStyle = this._textRenderer.getExternalStyle();\n  \n    // take zoom into account\n    var externalFontSize = externalStyle.fontSize * zoom,\n        externalLineHeight = externalStyle.lineHeight,\n        defaultFontSize = defaultStyle.fontSize * zoom,\n        defaultLineHeight = defaultStyle.lineHeight;\n  \n    var style = defaultStyle;\n\n    return { bounds: bounds, style: style };\n  };\n  \n  \n  LabelEditingProvider.prototype.update = function(\n      element, newLabel,\n      activeContextText, bounds) {\n  \n    var newBounds,\n        bbox;\n  \n    if (isEmptyText(newLabel)) {\n      newLabel = \"\";\n      return\n    }\n    var position;\n    if (isState(element)){\n      element.stateLabel = newLabel\n      this._bus.fire('elements.changed', {elements: [element]})\n      return\n    } else if (isLabel(element)){\n      element.text = newLabel\n      element.labelTarget.arcLabel = newLabel\n      assign(element, this._textRenderer.getTextAnnotationBounds(\n        element, newLabel\n      ))\n      this._bus.fire('elements.changed', \n        {elements: [element,element.labelTarget]})\n      return\n    } else {\n      element.arcLabel = newLabel\n      this._bus.fire('elements.changed', {elements: [element]})\n      position = getConnectionMid(element)\n    }\n    if (!element.label){\n      var label = this._factory.createLabel({\n        text: newLabel,\n        width: 50,\n        height: 12,\n        labelTarget: element,\n        x: 0\n      })\n      assign(label, this._textRenderer.getTextAnnotationBounds(\n        label, newLabel\n      ))\n      this._modeling.createLabel(\n        element,\n        position,\n        label,\n        element\n      )\n      this._bus.fire('action.create', {element: label})\n    } else {\n      element.label.text = newLabel\n      this._bus.fire('elements.changed', \n        {elements: [element, element.label]})\n    }\n   \n  };","import inherits from 'inherits-browser';\n\nimport CommandInterceptor from '../../command/CommandInterceptor';\n\n/**\n * @typedef {import('../../core/Types').ElementLike} Element\n * @typedef {import('../../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\n/**\n * An abstract provider that allows modelers to implement a custom\n * ordering of diagram elements on the canvas.\n *\n * It makes sure that the order is always preserved during element\n * creation and move operations.\n *\n * In order to use this behavior, inherit from it and override\n * the method {@link OrderingProvider#getOrdering}.\n *\n * @example\n *\n * ```javascript\n * function CustomOrderingProvider(eventBus) {\n *   OrderingProvider.call(this, eventBus);\n *\n *   this.getOrdering = function(element, newParent) {\n *     // always insert elements at the front\n *     // when moving\n *     return {\n *       index: 0,\n *       parent: newParent\n *     };\n *   };\n * }\n * ```\n *\n * @param {EventBus} eventBus\n */\nexport default function OrderingProvider(eventBus) {\n\n  CommandInterceptor.call(this, eventBus);\n\n\n  var self = this;\n\n  this.preExecute([ 'shape.create', 'connection.create' ], function(event) {\n\n    var context = event.context,\n        element = context.shape || context.connection,\n        parent = context.parent;\n\n    var ordering = self.getOrdering(element, parent);\n\n    if (ordering) {\n\n      if (ordering.parent !== undefined) {\n        context.parent = ordering.parent;\n      }\n\n      context.parentIndex = ordering.index;\n    }\n  });\n\n  this.preExecute([ 'shape.move', 'connection.move' ], function(event) {\n\n    var context = event.context,\n        element = context.shape || context.connection,\n        parent = context.newParent || element.parent;\n\n    var ordering = self.getOrdering(element, parent);\n\n    if (ordering) {\n\n      if (ordering.parent !== undefined) {\n        context.newParent = ordering.parent;\n      }\n\n      context.newParentIndex = ordering.index;\n    }\n  });\n}\n\n/**\n * Return a custom ordering of the element, both in terms\n * of parent element and index in the new parent.\n *\n * Implementors of this method must return an object with\n * `parent` _and_ `index` in it.\n *\n * @param {Element} element\n * @param {Shape} newParent\n *\n * @return {Object} ordering descriptor\n */\nOrderingProvider.prototype.getOrdering = function(element, newParent) {\n  return null;\n};\n\ninherits(OrderingProvider, CommandInterceptor);","import OrderingProvider from \"diagram-js/lib/features/ordering/OrderingProvider.js\"\n\nimport { \n    isState } from '../elements/TSElementFactory';\n\nclass CustomOrderingProvider extends OrderingProvider{\n\n    constructor(eventbus){\n        super(eventbus)\n    }\n\n    getOrdering(element, newParent){\n        if (isState(element)){\n            return {\n                index: -1,\n                parent: newParent\n            }\n        } else {\n            return {\n                index: 1,\n                parent: newParent\n            }\n        }\n    }\n}\n\nCustomOrderingProvider.$inject = ['eventBus']\n\nexport default CustomOrderingProvider","import {\n    assign\n} from 'min-dash';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport {\n    getDistancePointPoint,\n    rotateVector,\n    getAngle\n  } from 'diagram-js/lib/features/bendpoints/GeometricUtil'\n\nimport {\n  getNewAttachPoint\n} from 'diagram-js/lib/util/AttachUtil';\n\nimport {\n  getMid,\n  roundPoint\n} from 'diagram-js/lib/layout/LayoutUtil';\n\nimport {\n  delta\n} from 'diagram-js/lib/util/PositionUtil';\n\nimport {\n  sortBy\n} from 'min-dash';\n\nvar sqrt = Math.sqrt,\n    min = Math.min,\n    max = Math.max,\n    abs = Math.abs;\n\nfunction sq(n) {\n    return Math.pow(n, 2);\n}\n\nvar EQUAL_THRESHOLD = 0.1;\n\nclass LabelBehaviour extends CommandInterceptor {\n\n    constructor(eventBus, modeling, factory, textRenderer){\n        super(eventBus)\n\n        // have labels move around when connections move\n        var self = this\n        this.postExecute([\n            'connection.layout',\n            'connection.updateWaypoints'\n          ], function(event) {\n            var context = event.context,\n                hints = context.hints || {};\n        \n            if (hints.labelBehavior === false) {\n              return;\n            }\n        \n            var connection = context.connection,\n                label = connection.label,\n                labelAdjustment;\n        \n            // handle missing label as well as the case\n            // that the label parent does not exist (yet),\n            // because it is being pasted / created via multi element create\n            //\n            // Cf. https://github.com/bpmn-io/bpmn-js/pull/1227\n            if (!label || !label.parent) {\n              return;\n            }\n        \n            labelAdjustment = self.getVisibleLabelAdjustment(event);\n        \n            modeling.moveShape(label, labelAdjustment);\n          });\n    }\n\n    getVisibleLabelAdjustment(event) {\n\n        var context = event.context,\n            connection = context.connection,\n            label = connection.label,\n            hints = assign({}, context.hints),\n            newWaypoints = context.newWaypoints || connection.waypoints,\n            oldWaypoints = context.oldWaypoints;\n    \n    \n        if (typeof hints.startChanged === 'undefined') {\n          hints.startChanged = !!hints.connectionStart;\n        }\n    \n        if (typeof hints.endChanged === 'undefined') {\n          hints.endChanged = !!hints.connectionEnd;\n        }\n    \n        return this.getLabelAdjustment(label, newWaypoints, oldWaypoints, hints);\n    }\n\n    getLabelAdjustment(label, newWaypoints, oldWaypoints, hints) {\n        var labelPosition = getMid(label);\n      \n        return this.getAnchorPointAdjustment(labelPosition, newWaypoints, oldWaypoints, hints).delta;\n    }\n\n    findNewLineStartIndex(oldWaypoints, newWaypoints, attachment, hints) {\n\n        var index = attachment.segmentIndex;\n      \n        var offset = newWaypoints.length - oldWaypoints.length;\n      \n        // segmentMove happened\n        if (hints.segmentMove) {\n      \n          var oldSegmentStartIndex = hints.segmentMove.segmentStartIndex,\n              newSegmentStartIndex = hints.segmentMove.newSegmentStartIndex;\n      \n          // if point was on moved segment return new segment index\n          if (index === oldSegmentStartIndex) {\n            return newSegmentStartIndex;\n          }\n      \n          // point is after new segment index\n          if (index >= newSegmentStartIndex) {\n            return (index + offset < newSegmentStartIndex) ? newSegmentStartIndex : index + offset;\n          }\n      \n          // if point is before new segment index\n          return index;\n        }\n      \n        // bendpointMove happened\n        if (hints.bendpointMove) {\n      \n          var insert = hints.bendpointMove.insert,\n              bendpointIndex = hints.bendpointMove.bendpointIndex,\n              newIndex;\n      \n          // waypoints length didnt change\n          if (offset === 0) {\n            return index;\n          }\n      \n          // point behind new/removed bendpoint\n          if (index >= bendpointIndex) {\n            newIndex = insert ? index + 1 : index - 1;\n          }\n      \n          // point before new/removed bendpoint\n          if (index < bendpointIndex) {\n      \n            newIndex = index;\n      \n            // decide point should take right or left segment\n            if (insert && attachment.type !== 'bendpoint' && bendpointIndex - 1 === index) {\n      \n              var rel = relativePositionMidWaypoint(newWaypoints, bendpointIndex);\n      \n              if (rel < attachment.relativeLocation) {\n                newIndex++;\n              }\n            }\n          }\n      \n          return newIndex;\n        }\n      \n        // start/end changed\n        if (offset === 0) {\n          return index;\n        }\n      \n        if (hints.connectionStart && index === 0) {\n          return 0;\n        }\n      \n        if (hints.connectionEnd && index === oldWaypoints.length - 2) {\n          return newWaypoints.length - 2;\n        }\n      \n        // if nothing fits, take the middle segment\n        return Math.floor((newWaypoints.length - 2) / 2);\n      }\n      \n\n    getAnchorPointAdjustment(position, newWaypoints, oldWaypoints, hints) {\n        var dx = 0,\n            dy = 0;\n      \n        var oldPosition = {\n          point: position,\n          delta: { x: 0, y: 0 }\n        };\n      \n        // get closest attachment\n        var attachment = getAttachment(position, oldWaypoints),\n            oldLabelLineIndex = attachment.segmentIndex,\n            newLabelLineIndex = findNewLineStartIndex(oldWaypoints, newWaypoints, attachment, hints);\n      \n      \n        // should never happen\n        // TODO(@janstuemmel): throw an error here when connectionSegmentMove is refactored\n        if (newLabelLineIndex < 0 ||\n            newLabelLineIndex > newWaypoints.length - 2 ||\n            newLabelLineIndex === null) {\n          return oldPosition;\n        }\n      \n        var oldLabelLine = getLine(oldWaypoints, oldLabelLineIndex),\n            newLabelLine = getLine(newWaypoints, newLabelLineIndex),\n            oldFoot = attachment.position;\n      \n        var relativeFootPosition = getRelativeFootPosition(oldLabelLine, oldFoot),\n            angleDelta = getAngleDelta(oldLabelLine, newLabelLine);\n      \n        // special rule if label on bendpoint\n        if (attachment.type === 'bendpoint') {\n      \n          var offset = newWaypoints.length - oldWaypoints.length,\n              oldBendpointIndex = attachment.bendpointIndex,\n              oldBendpoint = oldWaypoints[oldBendpointIndex];\n      \n          // bendpoint position hasn't changed, return same position\n          if (newWaypoints.indexOf(oldBendpoint) !== -1) {\n            return oldPosition;\n          }\n      \n          // new bendpoint and old bendpoint have same index, then just return the offset\n          if (offset === 0) {\n            var newBendpoint = newWaypoints[oldBendpointIndex];\n      \n            dx = newBendpoint.x - attachment.position.x,\n            dy = newBendpoint.y - attachment.position.y;\n      \n            return {\n              delta: {\n                x: dx,\n                y: dy\n              },\n              point: {\n                x: position.x + dx,\n                y: position.y + dy\n              }\n            };\n          }\n      \n          // if bendpoints get removed\n          if (offset < 0 && oldBendpointIndex !== 0 && oldBendpointIndex < oldWaypoints.length - 1) {\n            relativeFootPosition = relativePositionMidWaypoint(oldWaypoints, oldBendpointIndex);\n          }\n        }\n      \n        var newFoot = {\n          x: (newLabelLine[1].x - newLabelLine[0].x) * relativeFootPosition + newLabelLine[0].x,\n          y: (newLabelLine[1].y - newLabelLine[0].y) * relativeFootPosition + newLabelLine[0].y\n        };\n      \n        // the rotated vector to label\n        var newLabelVector = rotateVector({\n          x: position.x - oldFoot.x,\n          y: position.y - oldFoot.y\n        }, angleDelta);\n      \n        // the new relative position\n        dx = newFoot.x + newLabelVector.x - position.x;\n        dy = newFoot.y + newLabelVector.y - position.y;\n      \n        return {\n          point: roundPoint(newFoot),\n          delta: roundPoint({\n            x: dx,\n            y: dy\n          })\n        };\n    }\n}\n\nfunction getRelativeFootPosition(line, foot) {\n\n    var length = getDistancePointPoint(line[0], line[1]),\n        lengthToFoot = getDistancePointPoint(line[0], foot);\n  \n    return length === 0 ? 0 : lengthToFoot / length;\n}\n\nfunction getAngleDelta(l1, l2) {\n    var a1 = getAngle(l1),\n        a2 = getAngle(l2);\n    return a2 - a1;\n  }\n\nfunction relativePositionMidWaypoint(waypoints, idx) {\n\n    var distanceSegment1 = getDistancePointPoint(waypoints[idx - 1], waypoints[idx]),\n        distanceSegment2 = getDistancePointPoint(waypoints[idx], waypoints[idx + 1]);\n  \n    var relativePosition = distanceSegment1 / (distanceSegment1 + distanceSegment2);\n  \n    return relativePosition;\n  }\n\nfunction getLine(waypoints, idx) {\n    return [ waypoints[idx], waypoints[idx + 1] ];\n}\n\nfunction getDistance(p1, p2) {\n    return sqrt(sq(p1.x - p2.x) + sq(p1.y - p2.y));\n}\n\nfunction pointsEqual(p1, p2) {\n    return (\n        abs(p1.x - p2.x) <= EQUAL_THRESHOLD &&\n        abs(p1.y - p2.y) <= EQUAL_THRESHOLD\n    );\n}\n\nfunction isPointInSegment(p, segmentStart, segmentEnd) {\n    return (\n      fenced(p.x, segmentStart.x, segmentEnd.x) &&\n      fenced(p.y, segmentStart.y, segmentEnd.y)\n    );\n}\n\nfunction fenced(n, rangeStart, rangeEnd) {\n    // use matching threshold to work around\n    // precision errors in intersection computation\n  \n    return (\n      n >= min(rangeStart, rangeEnd) - EQUAL_THRESHOLD &&\n      n <= max(rangeStart, rangeEnd) + EQUAL_THRESHOLD\n    );\n}\n\nfunction mid(p1, p2) {\n\n    return {\n      x: (p1.x + p2.x) / 2,\n      y: (p1.y + p2.y) / 2\n    };\n}\n\nfunction findNewLineStartIndex(oldWaypoints, newWaypoints, attachment, hints) {\n\n    var index = attachment.segmentIndex;\n  \n    var offset = newWaypoints.length - oldWaypoints.length;\n  \n    // segmentMove happened\n    if (hints.segmentMove) {\n  \n      var oldSegmentStartIndex = hints.segmentMove.segmentStartIndex,\n          newSegmentStartIndex = hints.segmentMove.newSegmentStartIndex;\n  \n      // if point was on moved segment return new segment index\n      if (index === oldSegmentStartIndex) {\n        return newSegmentStartIndex;\n      }\n  \n      // point is after new segment index\n      if (index >= newSegmentStartIndex) {\n        return (index + offset < newSegmentStartIndex) ? newSegmentStartIndex : index + offset;\n      }\n  \n      // if point is before new segment index\n      return index;\n    }\n  \n    // bendpointMove happened\n    if (hints.bendpointMove) {\n  \n      var insert = hints.bendpointMove.insert,\n          bendpointIndex = hints.bendpointMove.bendpointIndex,\n          newIndex;\n  \n      // waypoints length didnt change\n      if (offset === 0) {\n        return index;\n      }\n  \n      // point behind new/removed bendpoint\n      if (index >= bendpointIndex) {\n        newIndex = insert ? index + 1 : index - 1;\n      }\n  \n      // point before new/removed bendpoint\n      if (index < bendpointIndex) {\n  \n        newIndex = index;\n  \n        // decide point should take right or left segment\n        if (insert && attachment.type !== 'bendpoint' && bendpointIndex - 1 === index) {\n  \n          var rel = relativePositionMidWaypoint(newWaypoints, bendpointIndex);\n  \n          if (rel < attachment.relativeLocation) {\n            newIndex++;\n          }\n        }\n      }\n  \n      return newIndex;\n    }\n  \n    // start/end changed\n    if (offset === 0) {\n      return index;\n    }\n  \n    if (hints.connectionStart && index === 0) {\n      return 0;\n    }\n  \n    if (hints.connectionEnd && index === oldWaypoints.length - 2) {\n      return newWaypoints.length - 2;\n    }\n  \n    // if nothing fits, take the middle segment\n    return Math.floor((newWaypoints.length - 2) / 2);\n}\n  \n\nfunction getCircleSegmentIntersections(s1, s2, cc, cr) {\n\n    var baX = s2.x - s1.x;\n    var baY = s2.y - s1.y;\n    var caX = cc.x - s1.x;\n    var caY = cc.y - s1.y;\n  \n    var a = baX * baX + baY * baY;\n    var bBy2 = baX * caX + baY * caY;\n    var c = caX * caX + caY * caY - cr * cr;\n  \n    var pBy2 = bBy2 / a;\n    var q = c / a;\n  \n    var disc = pBy2 * pBy2 - q;\n  \n    // check against negative value to work around\n    // negative, very close to zero results (-4e-15)\n    // being produced in some environments\n    if (disc < 0 && disc > -0.000001) {\n      disc = 0;\n    }\n  \n    if (disc < 0) {\n      return [];\n    }\n  \n    // if disc == 0 ... dealt with later\n    var tmpSqrt = sqrt(disc);\n    var abScalingFactor1 = -pBy2 + tmpSqrt;\n    var abScalingFactor2 = -pBy2 - tmpSqrt;\n  \n    var i1 = {\n      x: s1.x - baX * abScalingFactor1,\n      y: s1.y - baY * abScalingFactor1\n    };\n  \n    if (disc === 0) { // abScalingFactor1 == abScalingFactor2\n      return [ i1 ];\n    }\n  \n    var i2 = {\n      x: s1.x - baX * abScalingFactor2,\n      y: s1.y - baY * abScalingFactor2\n    };\n  \n    // return only points on line segment\n    return [ i1, i2 ].filter(function(p) {\n      return isPointInSegment(p, s1, s2);\n    });\n  }\n  \n\nfunction getAttachment(point, line) {\n\n    var idx = 0,\n        segmentStart,\n        segmentEnd,\n        segmentStartDistance,\n        segmentEndDistance,\n        attachmentPosition,\n        minDistance,\n        intersections,\n        attachment,\n        attachmentDistance,\n        closestAttachmentDistance,\n        closestAttachment;\n  \n    for (idx = 0; idx < line.length - 1; idx++) {\n  \n      segmentStart = line[idx];\n      segmentEnd = line[idx + 1];\n  \n      if (pointsEqual(segmentStart, segmentEnd)) {\n        intersections = [ segmentStart ];\n      } else {\n        segmentStartDistance = getDistance(point, segmentStart);\n        segmentEndDistance = getDistance(point, segmentEnd);\n  \n        minDistance = min(segmentStartDistance, segmentEndDistance);\n  \n        intersections = getCircleSegmentIntersections(segmentStart, segmentEnd, point, minDistance);\n      }\n  \n      if (intersections.length < 1) {\n        throw new Error('expected between [1, 2] circle -> line intersections');\n      }\n  \n      // one intersection -> bendpoint attachment\n      if (intersections.length === 1) {\n        attachment = {\n          type: 'bendpoint',\n          position: intersections[0],\n          segmentIndex: idx,\n          bendpointIndex: pointsEqual(segmentStart, intersections[0]) ? idx : idx + 1\n        };\n      }\n  \n      // two intersections -> segment attachment\n      if (intersections.length === 2) {\n  \n        attachmentPosition = mid(intersections[0], intersections[1]);\n  \n        attachment = {\n          type: 'segment',\n          position: attachmentPosition,\n          segmentIndex: idx,\n          relativeLocation: getDistance(segmentStart, attachmentPosition) / getDistance(segmentStart, segmentEnd)\n        };\n      }\n  \n      attachmentDistance = getDistance(attachment.position, point);\n  \n      if (!closestAttachment || closestAttachmentDistance > attachmentDistance) {\n        closestAttachment = attachment;\n        closestAttachmentDistance = attachmentDistance;\n      }\n    }\n  \n    return closestAttachment;\n  }\n  \n\nLabelBehaviour.$inject = [\n    'eventBus',\n    'modeling',\n    'elementFactory',\n    'textRenderer'\n]\n\nexport default LabelBehaviour","import ChangeSupportModule from 'diagram-js/lib/features/change-support';\nimport DirectEditingModule from 'diagram-js-direct-editing';\n\nimport ExamplePaletteProvider from \"./PaletteProvider.js\"\nimport ContextPadProvider from \"./ContextPadProvider.js\"\nimport LabelEditingProvider from \"./StateLabelEditingProvider.js\"\nimport OrderingProvider from \"./OrderingProvider.js\"\nimport LabelBehaviour from './LabelBehaviour.js';\n\nexport default {\n    __depends__:[\n        ChangeSupportModule,\n        DirectEditingModule\n    ],\n    __init__ : [\n        'examplePaletteProvider',\n        // 'popupMenuProvider',\n        'contextPadProvider',\n        'labelEditingProvider',\n        'orderingProvidier',\n        'labelBehaviour'\n    ],\n    examplePaletteProvider: ['type', ExamplePaletteProvider],\n    // popupMenuProvider: ['type', PopupMenuProvider],\n    contextPadProvider: ['type', ContextPadProvider],\n    labelEditingProvider: ['type', LabelEditingProvider],\n    orderingProvidier: ['type', OrderingProvider],\n    labelBehaviour: ['type', LabelBehaviour]\n}","import {\n    classes as svgClasses,\n    append as svgAppend,\n    attr as svgAttr,\n    create as svgCreate,\n    clone as svgClone\n  } from 'tiny-svg';\n\nimport { assign } from 'min-dash';\n\nimport BaseRenderer from \"diagram-js/lib/draw/BaseRenderer\"\nimport {\n    createLine\n  } from 'diagram-js/lib/util/RenderUtil';\n\nimport { \n    isInternalState, \n    isEndingState, \n    isStartingState,\n    isState } from '../elements/TSElementFactory';\n\nimport {\n    stateRadius\n} from \"../elements/staticShapeDesc\"\n  \n\n\nvar RENDER_PRIORITY = 1500;\nconst LABEL_COLOUR = \"#01031b\"\nconst INNER_ICON_FILL_COLOUR = \"#222222\"\nconst MARKED_COLOR = \"#ebdf3f\"\nconst TEXT_STYLE = {\n      fontFamily: 'Arial, sans-serif',\n      fontSize: 8,\n      fontWeight: 'normal',\n      textLength: (stateRadius * 2) - 10,\n      textAnchor: 'middle',\n      dominantBaseline: 'middle'\n}\n\nexport default class TSRenderer extends  BaseRenderer {\n    \n    constructor(eventBus, styles, canvas, textRender) {\n        super(eventBus, 1)\n        var self = this;\n        this._textRender = textRender\n\n        var renderPriority = RENDER_PRIORITY;\n\n        eventBus.on([ 'render.shape' ], renderPriority, function(evt, context) {\n            var type = evt.type,\n                element = context.element,\n                visuals = context.gfx,\n                attrs = context.attrs;\n\n            if (self.canRender(element)) {\n                return self.drawShape(visuals, element, attrs);\n            }\n        });\n        eventBus.on(['render.connection' ], renderPriority - 50, function(evt, context) {\n            var type = evt.type,\n                element = context.element,\n                visuals = context.gfx,\n                attrs = context.attrs;\n\n            if (self.canRender(element)) {\n                return self.drawConnection(visuals, element, attrs);\n            }\n        });\n\n        this.CONNECTION_STYLE = styles.style(\n            { strokeWidth: 3, stroke: '#303c4a', strokeLinecap: 'round',\n                strokeLinejoin: 'round', fill: 'none'});\n        this.INTERNAL_SHAPE_STYLE = styles.style(\n            { fill: '#f5f5f5', stroke: '#222222', strokeWidth: 2 }\n        );\n        this.STARTING_SHAPE_STYLE = styles.style(\n            { fill: '#67f5a9', stroke: '#222222', strokeWidth: 2 }\n        );\n        this.ENDING_SHAPE_STYLE = styles.style(\n            { fill: '#f58867', stroke: '#222222', strokeWidth: 2 }\n        );\n        \n        var xOffset = ((stateRadius+5) * 2) / 5.0\n        var yOffset = (((stateRadius-8) / 2)) / 5\n        var defs = svgCreate(\"defs\", {})\n        var marker = svgCreate(\"marker\", {\n            id: 'arrow',\n            viewbox: '0 0 10 10',\n            refX: xOffset,\n            refY: yOffset,\n            markerWidth: 5,\n            markerHeight: 5,\n            strokeWidth: 0,\n            orient: 'auto-start-reverse',\n            stroke: '#303c4a',\n            fill: '#303c4a'\n        })\n        var markerPath = svgCreate(\"path\", {\n            d: \"M 0 0 L 5 2.5 L 0 5 z\"\n        })\n        svgAppend(marker, markerPath)\n        svgAppend(defs, marker)\n        svgAppend(canvas.getActiveLayer(), defs)\n    }\n\n    canRender(element){\n        return true;\n    }\n\n    drawShape(visuals, element, attrs) {\n            // init\n            var svgElements;\n            var group = svgCreate(\"g\", {})\n            \n            // construct the svg elements for the state\n            if (isStartingState(element)){\n                svgElements = this.drawStartingState(element)\n            } else if (isInternalState(element)){\n                svgElements = this.drawInternalState(element)\n            } else if (isEndingState(element)){\n                svgElements = this.drawEndingState(element)\n            } else {\n                if (!isState(element.labelTarget)){\n                    var labelAttrs = assign({\n                        x: 0,\n                        fitBox: true\n                    }, element)\n                    labelAttrs.x = labelAttrs.x - labelAttrs.width\n                    var text = this._textRender.createText(\n                        element.text || '', labelAttrs)\n                    svgClasses(text).add('djs-label');\n                    svgAppend(visuals, text);\n                    return [text]\n                }\n                return []\n            }\n\n            // check for label\n            if (element.stateLabel != null){\n                svgElements.push(\n                    this.drawStateLabel(element)\n                )\n            }\n            \n            // append svgs and return the svg group\n            for(var svg of svgElements){\n                svgAppend(group, svg)\n            }\n            svgAppend(visuals, group)\n            return group;\n    };\n\n    createCircleForState(element, style){\n        var svg = svgCreate(\"circle\", style || {})\n        svgAttr(svg, \n            {\n                cx: element.cx,\n                cy: element.cy,\n                r: element.r,\n                fill: svg.fill\n            }\n        );\n        if (element.selected) {\n            svgAttr(svg,\n                {fill: MARKED_COLOR}\n            )\n        }\n        return svg\n    }\n    \n    createShadowForState(svgElement){\n        var svg = svgClone(svgElement)\n        svgAttr(svg,{\n            opacity: 0.25,\n            cx: parseFloat(svgElement.attributes.cx.nodeValue) + 2.5,\n            cy: parseFloat(svgElement.attributes.cy.nodeValue) + 2.5\n        })\n        return svg\n    }\n\n    drawInternalState(element){\n        var state = this.createCircleForState(\n            element, this.INTERNAL_SHAPE_STYLE)\n        var shadow = this.createShadowForState(state)\n\n        return [shadow, state]\n    }\n\n    drawStartingState(element){\n        var state = this.createCircleForState(\n            element, this.STARTING_SHAPE_STYLE)\n        var shadow = this.createShadowForState(state)\n        var icon = this.createStartingIcon(element)\n\n        return [shadow, state, icon]\n    }\n\n    createStartingIcon(element){\n        var w = (element.r/ 2.0)\n        var svg = svgCreate('polygon', \n            {\n                points: [\n                    {x: element.cx + 2.5 - w, y: element.cy- w},\n                    {x: element.cx + 2.5 + w, y:element.cy},\n                    {x: element.cx + 2.5 - w, y: element.cy + w}\n                ].reduce((pv,cv) => {\n                    return \"\" + pv + cv.x + \",\" + cv.y + \" \"\n                }, \"\"), \n                fill: INNER_ICON_FILL_COLOUR\n            }\n        )\n        return svg\n    }\n\n    drawEndingState(element){\n        var inner = this.createCircleForState(\n            element, this.ENDING_SHAPE_STYLE)\n        var outer = svgClone(inner)\n        svgAttr(outer, {\n            r: element.r + 4\n        })\n        var shadow = this.createShadowForState(outer)\n        var icon = this.createEndingIcon(element)\n\n        return [shadow, outer, inner , icon]\n    }\n\n    createEndingIcon(element){\n        var w = (element.r/ 2.0)\n        var svg = svgCreate('polygon', \n            {\n                points: [\n                    {x: element.cx - w, y: element.cy - w},\n                    {x: element.cx + w, y: element.cy - w},\n                    {x: element.cx + w, y: element.cy + w},\n                    {x: element.cx - w, y: element.cy + w}\n                ].reduce((pv,cv) => {\n                    return \"\" + pv + cv.x + \",\" + cv.y + \" \"\n                }, \"\"), \n                fill: INNER_ICON_FILL_COLOUR\n            }\n        )\n        return svg\n    }\n\n    drawStateLabel(element){\n        var text = svgCreate('text',\n            assign({\n                x: stateRadius,\n                y: stateRadius,\n                fill: LABEL_COLOUR,\n            }, TEXT_STYLE)\n        )\n\n        if (!isInternalState(element)){\n            svgAttr(text,\n                {\n                fill: \"#F8F8FF\"\n            })\n        }\n        if (element.stateLabel.length > 0)\n            text.textContent = element.stateLabel\n        else \n        text.textContent = element.id\n        return text\n    }\n\n    _drawSimpleConnection(visuals, connection, attrs){\n        var line = createLine(\n            connection.waypoints, assign({\n                id: connection.id\n            }, \n            this.CONNECTION_STYLE, attrs || {})\n        );\n        var waypoints = connection.waypoints.slice(0,2).map(p => {\n            return {x:p.x+5, y:p.y-5}\n        })\n        waypoints.sort(\n            (a,b) => a.x - b.x\n        )\n        var pather = createLine(\n            waypoints, {\n                id: \"d\"+connection.id\n            })\n        \n        svgAttr(\n            line,\n            {'marker-end' : \"url(#arrow)\",}\n        )\n        var text = svgCreate('text', {})\n        var textPath = svgCreate('textPath', assign({\n            href: \"#d\"+connection.id,\n            startOffset: \"50%\",\n            side: \"right\",\n            fill: '#303c4a',\n        }, TEXT_STYLE))\n        textPath.textContent = connection.arcLabel\n        svgAppend(visuals, pather);\n        svgAppend(visuals, line);\n        // svgAppend(text, textPath)\n        svgAppend(visuals, text)\n        return line;\n    }\n\n    _drawSelfLoopConnection(visuals, connection, attrs){\n        // work out self loop from the src \n        var d = \"M \"\n        var src = connection.source\n        console.log(src)\n        // add src\n        d += \"\" + (src.x + src.cx)\n        d += \" \" + (src.y + src.cy)\n        // work out equal right sides\n        //((src.r) ^ 2) .  sqrt(2) = s\n        var side = (src.r / 2.0) * Math.sqrt(2)\n        console.log(side)\n        d += \" L \"\n        d += \"\" + (src.x + src.cx + side)\n        d += \" \" + (src.y + src.cy - side)\n        d += \" Q \"\n        d += \"\" + (src.x + src.cx + (src.r * 4))\n        d += \" \" + (src.y + src.cy)\n        d += \" \" + (src.x + src.cx + side)\n        d += \" \" + (src.y + src.cy + side)\n        d += \" Z\"\n        console.log(d)\n        // construct line\n        var line = svgCreate('path',\n            {\n                id: connection.id,\n                d: d\n            }\n        )\n        svgAttr(line, this.CONNECTION_STYLE)\n        svgAttr(line, attrs)\n        // var waypoints = [\n        //     connection.waypoints[0],\n        //     {},\n        //     connection.waypoints[1]\n        // ]\n        // var line = createLine(\n        //     waypoints, assign({\n        //         id: connection.id\n        //     }, \n        //     this.CONNECTION_STYLE, attrs || {})\n        // );\n        // var waypoints = connection.waypoints.slice(0,2).map(p => {\n        //     return {x:p.x+5, y:p.y-5}\n        // })\n        // waypoints.sort(\n        //     (a,b) => a.x - b.x\n        // )\n        // var pather = createLine(\n        //     waypoints, {\n        //         id: \"d\"+connection.id\n        //     })\n        var xOffset = ((side - 5) * 2.5) / 5.0\n        var yOffset = (((side + side + 10) / 2) / 5) * -1.0\n        var viewbox = \"\" + (src.x + src.cx + side)\n        viewbox += \" \" + (src.y + src.cy + side)\n        viewbox += \" \" + (src.x + src.cx + side + 10)\n        viewbox += \" \" + (src.y + src.cy + side + 10)\n        var marker = svgCreate(\"marker\", {\n            id: 'newArrow',\n            viewbox: viewbox,\n            refX: xOffset,\n            refY: yOffset,\n            markerWidth: 5,\n            markerHeight: 5,\n            strokeWidth: 0,\n            orient: 'auto-start-reverse',\n            stroke: '#303c4a',\n            fill: '#303c4a'\n        })\n        var markerPath = svgCreate(\"path\", {\n            d: \"M 0 0 L 5 2.5 L 0 5 z\"\n        })\n        svgAppend(marker, markerPath)\n        svgAttr(\n            line,\n            {'marker-end' : \"url(#newArrow)\", 'stroke' : \"#ba3d23\"}\n        )\n        var text = svgCreate('text', {})\n        var textPath = svgCreate('textPath', assign({\n            href: \"#d\"+connection.id,\n            startOffset: \"50%\",\n            side: \"right\",\n            fill: '#ba3d23',\n        }, TEXT_STYLE))\n        textPath.textContent = connection.arcLabel\n        svgAppend(visuals, marker);\n        svgAppend(visuals, line);\n        svgAppend(text, textPath)\n        svgAppend(visuals, text)\n        return line;\n    }\n\n    drawConnection(visuals, connection, attrs) {\n        return this._drawSimpleConnection(\n            visuals, connection, attrs\n        )\n            if (connection.selfLoop){\n                return this._drawSelfLoopConnection(\n                    visuals, connection, attrs)\n            } else {\n                return this._drawSimpleConnection(\n                    visuals, connection, attrs\n                )\n            }\n    };\n\n    \n}\n\nTSRenderer.$inject = [\n    'eventBus',\n    'styles',\n    'canvas',\n    'textRenderer'\n]","import {\n  isObject,\n  assign,\n  forEach,\n  reduce\n} from 'min-dash';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport {\n  assignStyle\n} from 'min-dom';\n\n\n/**\n * @typedef {import('../util/Types').Dimensions} Dimensions\n *\n * @typedef { {\n *   top: number;\n *   left: number;\n *   right: number;\n *   bottom: number;\n * } } Padding\n *\n * @typedef { number | Partial<Padding> } PaddingConfig\n *\n * @typedef { {\n *   horizontal: 'center' | 'left' | 'right';\n *   vertical: 'top' | 'middle';\n * } } Alignment\n *\n *  @typedef { 'center-middle' | 'center-top' } AlignmentConfig\n *\n * @typedef { Partial<{\n *   align: AlignmentConfig;\n *   style: Record<string, number | string>;\n *   padding: PaddingConfig;\n * }> } BaseTextConfig\n *\n * @typedef { BaseTextConfig & Partial<{\n *   size: Dimensions;\n * }> } TextConfig\n *\n * @typedef { BaseTextConfig & Partial<{\n *   box: Dimensions;\n *   fitBox: boolean;\n * }> } TextLayoutConfig\n *\n *  @typedef { Dimensions & {\n *  text: string;\n * } } LineDescriptor\n */\n\nvar DEFAULT_BOX_PADDING = 0;\n\nvar DEFAULT_LABEL_SIZE = {\n  width: 150,\n  height: 50\n};\n\n\n/**\n * @param {AlignmentConfig} align\n * @return {Alignment}\n */\nfunction parseAlign(align) {\n\n  var parts = align.split('-');\n\n  return {\n    horizontal: parts[0] || 'center',\n    vertical: parts[1] || 'top'\n  };\n}\n\n/**\n * @param {PaddingConfig} padding\n *\n * @return {Padding}\n */\nfunction parsePadding(padding) {\n\n  if (isObject(padding)) {\n    return assign({ top: 0, left: 0, right: 0, bottom: 0 }, padding);\n  } else {\n    return {\n      top: padding,\n      left: padding,\n      right: padding,\n      bottom: padding\n    };\n  }\n}\n\n/**\n * @param {string} text\n * @param {SVGTextElement} fakeText\n *\n * @return {import('../util/Types').Dimensions}\n */\nfunction getTextBBox(text, fakeText) {\n\n  fakeText.textContent = text;\n\n  var textBBox;\n\n  try {\n    var bbox,\n        emptyLine = text === '';\n\n    // add dummy text, when line is empty to\n    // determine correct height\n    fakeText.textContent = emptyLine ? 'dummy' : text;\n\n    textBBox = fakeText.getBBox();\n\n    // take text rendering related horizontal\n    // padding into account\n    bbox = {\n      width: textBBox.width + textBBox.x * 2,\n      height: textBBox.height\n    };\n\n    if (emptyLine) {\n\n      // correct width\n      bbox.width = 0;\n    }\n\n    return bbox;\n  } catch (e) {\n    console.log(e);\n\n    return { width: 0, height: 0 };\n  }\n}\n\n\n/**\n * Layout the next line and return the layouted element.\n *\n * Alters the lines passed.\n *\n * @param {string[]} lines\n * @param {number} maxWidth\n * @param {SVGTextElement} fakeText\n *\n * @return {LineDescriptor} the line descriptor\n */\nfunction layoutNext(lines, maxWidth, fakeText) {\n\n  var originalLine = lines.shift(),\n      fitLine = originalLine;\n\n  var textBBox;\n\n  for (;;) {\n    textBBox = getTextBBox(fitLine, fakeText);\n\n    textBBox.width = fitLine ? textBBox.width : 0;\n\n    // try to fit\n    if (fitLine === ' ' || fitLine === '' || textBBox.width < Math.round(maxWidth) || fitLine.length < 2) {\n      return fit(lines, fitLine, originalLine, textBBox);\n    }\n\n    fitLine = shortenLine(fitLine, textBBox.width, maxWidth);\n  }\n}\n\n/**\n * @param {string[]} lines\n * @param {string} fitLine\n * @param {string} originalLine\n * @param {Dimensions} textBBox\n *\n * @return {LineDescriptor}\n */\nfunction fit(lines, fitLine, originalLine, textBBox) {\n  if (fitLine.length < originalLine.length) {\n    var remainder = originalLine.slice(fitLine.length).trim();\n\n    lines.unshift(remainder);\n  }\n\n  return {\n    width: textBBox.width,\n    height: textBBox.height,\n    text: fitLine\n  };\n}\n\nvar SOFT_BREAK = '\\u00AD';\n\n\n/**\n * Shortens a line based on spacing and hyphens.\n * Returns the shortened result on success.\n *\n * @param {string} line\n * @param {number} maxLength the maximum characters of the string\n *\n * @return {string} the shortened string\n */\nfunction semanticShorten(line, maxLength) {\n\n  var parts = line.split(/(\\s|-|\\u00AD)/g),\n      part,\n      shortenedParts = [],\n      length = 0;\n\n  // try to shorten via break chars\n  if (parts.length > 1) {\n\n    while ((part = parts.shift())) {\n      if (part.length + length < maxLength) {\n        shortenedParts.push(part);\n        length += part.length;\n      } else {\n\n        // remove previous part, too if hyphen does not fit anymore\n        if (part === '-' || part === SOFT_BREAK) {\n          shortenedParts.pop();\n        }\n\n        break;\n      }\n    }\n  }\n\n  var last = shortenedParts[shortenedParts.length - 1];\n\n  // translate trailing soft break to actual hyphen\n  if (last && last === SOFT_BREAK) {\n    shortenedParts[shortenedParts.length - 1] = '-';\n  }\n\n  return shortenedParts.join('');\n}\n\n\n/**\n * @param {string} line\n * @param {number} width\n * @param {number} maxWidth\n *\n * @return {string}\n */\nfunction shortenLine(line, width, maxWidth) {\n  var length = Math.max(line.length * (maxWidth / width), 1);\n\n  // try to shorten semantically (i.e. based on spaces and hyphens)\n  var shortenedLine = semanticShorten(line, length);\n\n  if (!shortenedLine) {\n\n    // force shorten by cutting the long word\n    shortenedLine = line.slice(0, Math.max(Math.round(length - 1), 1));\n  }\n\n  return shortenedLine;\n}\n\n\n/**\n * @return {SVGSVGElement}\n */\nfunction getHelperSvg() {\n  var helperSvg = document.getElementById('helper-svg');\n\n  if (!helperSvg) {\n    helperSvg = svgCreate('svg');\n\n    svgAttr(helperSvg, {\n      id: 'helper-svg'\n    });\n\n    assignStyle(helperSvg, {\n      visibility: 'hidden',\n      position: 'fixed',\n      width: 0,\n      height: 0\n    });\n\n    document.body.appendChild(helperSvg);\n  }\n\n  return helperSvg;\n}\n\n\n/**\n * Creates a new label utility\n *\n * @param {TextConfig} [config]\n */\nexport default function Text(config) {\n\n  this._config = assign({}, {\n    size: DEFAULT_LABEL_SIZE,\n    padding: DEFAULT_BOX_PADDING,\n    style: {},\n    align: 'center-top'\n  }, config || {});\n}\n\n/**\n * Returns the layouted text as an SVG element.\n *\n * @param {string} text\n * @param {TextLayoutConfig} options\n *\n * @return {SVGElement}\n */\nText.prototype.createText = function(text, options) {\n  return this.layoutText(text, options).element;\n};\n\n/**\n * Returns a labels layouted dimensions.\n *\n * @param {string} text to layout\n * @param {TextLayoutConfig} options\n *\n * @return {Dimensions}\n */\nText.prototype.getDimensions = function(text, options) {\n  return this.layoutText(text, options).dimensions;\n};\n\n/**\n * Creates and returns a label and its bounding box.\n *\n * @param {string} text the text to render on the label\n * @param {TextLayoutConfig} options\n *\n * @return { {\n *   element: SVGElement,\n *   dimensions: Dimensions\n * } }\n */\nText.prototype.layoutText = function(text, options) {\n  var box = assign({}, this._config.size, options.box),\n      style = assign({}, this._config.style, options.style),\n      align = parseAlign(options.align || this._config.align),\n      padding = parsePadding(options.padding !== undefined ? options.padding : this._config.padding),\n      fitBox = options.fitBox || false;\n\n  var lineHeight = getLineHeight(style);\n\n  // we split text by lines and normalize\n  // {soft break} + {line break} => { line break }\n  var lines = text.split(/\\u00AD?\\r?\\n/),\n      layouted = [];\n\n  var maxWidth = box.width - padding.left - padding.right;\n\n  // ensure correct rendering by attaching helper text node to invisible SVG\n  var helperText = svgCreate('text');\n  svgAttr(helperText, { x: 0, y: 0 });\n  svgAttr(helperText, style);\n\n  var helperSvg = getHelperSvg();\n\n  svgAppend(helperSvg, helperText);\n\n  while (lines.length) {\n    layouted.push(layoutNext(lines, maxWidth, helperText));\n  }\n\n  if (align.vertical === 'middle') {\n    padding.top = padding.bottom = 0;\n  }\n\n  var totalHeight = reduce(layouted, function(sum, line, idx) {\n    return sum + (lineHeight || line.height);\n  }, 0) + padding.top + padding.bottom;\n\n  var maxLineWidth = reduce(layouted, function(sum, line, idx) {\n    return line.width > sum ? line.width : sum;\n  }, 0);\n\n  // the y position of the next line\n  var y = padding.top;\n\n  if (align.vertical === 'middle') {\n    y += (box.height - totalHeight) / 2;\n  }\n\n  // magic number initial offset\n  y -= (lineHeight || layouted[0].height) / 4;\n\n\n  var textElement = svgCreate('text');\n\n  svgAttr(textElement, style);\n\n  // layout each line taking into account that parent\n  // shape might resize to fit text size\n  forEach(layouted, function(line) {\n\n    var x;\n\n    y += (lineHeight || line.height);\n\n    switch (align.horizontal) {\n    case 'left':\n      x = padding.left;\n      break;\n\n    case 'right':\n      x = ((fitBox ? maxLineWidth : maxWidth)\n        - padding.right - line.width);\n      break;\n\n    default:\n\n      // aka center\n      x = Math.max((((fitBox ? maxLineWidth : maxWidth)\n        - line.width) / 2 + padding.left), 0);\n    }\n\n    var tspan = svgCreate('tspan');\n    svgAttr(tspan, { x: x, y: y });\n\n    tspan.textContent = line.text;\n\n    svgAppend(textElement, tspan);\n  });\n\n  svgRemove(helperText);\n\n  var dimensions = {\n    width: maxLineWidth,\n    height: totalHeight\n  };\n\n  return {\n    dimensions: dimensions,\n    element: textElement\n  };\n};\n\n\nfunction getLineHeight(style) {\n  if ('fontSize' in style && 'lineHeight' in style) {\n    return style.lineHeight * parseInt(style.fontSize, 10);\n  }\n}\n","import { assign } from 'min-dash';\n\nimport TextUtil from 'diagram-js/lib/util/Text';\n\nvar DEFAULT_FONT_SIZE = 12;\nvar LINE_HEIGHT_RATIO = 1.2;\nconst LABEL_COLOUR = \"#01031b\"\nvar MIN_TEXT_ANNOTATION_HEIGHT = 30;\n\nexport default function TSTextRenderer(config) {\n\n  var defaultStyle = assign({\n    fontFamily: 'Arial, sans-serif',\n    fontSize: DEFAULT_FONT_SIZE,\n    fontWeight: 'normal',\n    color: LABEL_COLOUR,\n    background: \"rgba(0,0,0,0.5)\",\n    lineHeight: LINE_HEIGHT_RATIO\n  }, config && config.defaultStyle || {});\n\n  var fontSize = parseInt(defaultStyle.fontSize, 10) - 1;\n\n  var externalStyle = assign({}, defaultStyle, {\n    fontSize: fontSize\n  }, config && config.externalStyle || {});\n\n  var textUtil = new TextUtil({\n    style: defaultStyle\n  });\n\n  /**\n   * Get the new bounds of an externally rendered,\n   * layouted label.\n   *\n   * @param {Rect} bounds\n   * @param {string} text\n   *\n   * @return {Rect}\n   */\n  this.getExternalLabelBounds = function(bounds, text) {\n\n    var layoutedDimensions = textUtil.getDimensions(text, {\n      box: {\n        width: 90,\n        height: 30\n      },\n      style: externalStyle\n    });\n\n    // resize label shape to fit label text\n    return {\n      x: Math.round(bounds.x + bounds.width / 2 - layoutedDimensions.width / 2),\n      y: Math.round(bounds.y),\n      width: Math.ceil(layoutedDimensions.width),\n      height: Math.ceil(layoutedDimensions.height)\n    };\n\n  };\n\n  /**\n   * Get the new bounds of text annotation.\n   *\n   * @param {Rect} bounds\n   * @param {string} text\n   *\n   * @return {Rect}\n   */\n  this.getTextAnnotationBounds = function(bounds, text) {\n\n    var layoutedDimensions = textUtil.getDimensions(text, {\n      box: bounds,\n      style: defaultStyle,\n      align: 'left-top',\n      padding: 5\n    });\n\n    return {\n      x: bounds.x,\n      y: bounds.y,\n      width: bounds.width,\n      height: Math.max(MIN_TEXT_ANNOTATION_HEIGHT, Math.round(layoutedDimensions.height))\n    };\n  };\n\n  /**\n   * Create a layouted text element.\n   *\n   * @param {string} text\n   * @param {TextLayoutConfig} [options]\n   *\n   * @return {SVGElement} rendered text\n   */\n  this.createText = function(text, options) {\n    return textUtil.createText(text, options || {});\n  };\n\n  /**\n   * Get default text style.\n   */\n  this.getDefaultStyle = function() {\n    return defaultStyle;\n  };\n\n  /**\n   * Get the external text style.\n   */\n  this.getExternalStyle = function() {\n    return externalStyle;\n  };\n\n}\n\nTSTextRenderer.$inject = [\n  'config.textRenderer'\n];","import TSRenderer from \"./TSRender\";\nimport TSTextRenderer from \"./TSTextRenderer\"\n\nexport default {\n    __init__ : ['tsRenderer'],\n    tsRenderer: ['type', TSRenderer],\n    textRenderer: ['type', TSTextRenderer]\n}","import { TSElementFactory } from \"./TSElementFactory\";\n\nexport default {\n    __init__ : [\n        'elementFactory'\n    ],\n    elementFactory: ['type', TSElementFactory]\n}","import {\n    getMid\n  } from 'diagram-js/lib/layout/LayoutUtil';\n  \n  import {\n    isNil,\n    isObject\n  } from 'min-dash';\n  \nexport default function Connect(eventBus, dragging, modeling, rules, \n    factory) {\n  \n\n    this._factory = factory\n    // rules\n  \n    function canConnect(source, target) {\n      return rules.allowed('connection.create', {\n        source: source,\n        target: target\n      });\n    }\n  \n    function canConnectReverse(source, target) {\n      return canConnect(target, source);\n    }\n  \n  \n    // event handlers\n  \n    eventBus.on('connect.hover', function(event) {\n      var context = event.context,\n          start = context.start,\n          hover = event.hover,\n          canExecute;\n  \n      // cache hover state\n      context.hover = hover;\n  \n      canExecute = context.canExecute = canConnect(start, hover);\n  \n      // ignore hover\n      if (isNil(canExecute)) {\n        return;\n      }\n  \n      if (canExecute !== false) {\n        context.source = start;\n        context.target = hover;\n  \n        return;\n      }\n  \n      canExecute = context.canExecute = canConnectReverse(start, hover);\n  \n      // ignore hover\n      if (isNil(canExecute)) {\n        return;\n      }\n  \n      if (canExecute !== false) {\n        context.source = hover;\n        context.target = start;\n      }\n    });\n  \n    eventBus.on([ 'connect.out', 'connect.cleanup' ], function(event) {\n      var context = event.context;\n  \n      context.hover = null;\n      context.source = null;\n      context.target = null;\n  \n      context.canExecute = false;\n    });\n  \n    eventBus.on('connect.end', function(event) {\n      var context = event.context,\n          canExecute = context.canExecute,\n          connectionStart = context.connectionStart,\n          connectionEnd = {\n            x: event.x,\n            y: event.y\n          },\n          source = context.source,\n          target = context.target;\n  \n      if (!canExecute) {\n        return false;\n      }\n  \n      var attrs = {\n        id: context.id\n      },\n          hints = {\n            connectionStart: isReverse(context) ? connectionEnd : connectionStart,\n            connectionEnd: isReverse(context) ? connectionStart : connectionEnd,\n          };\n  \n      if (isObject(canExecute)) {\n        attrs = canExecute;\n      }\n      context.connection = modeling.connect(source, target, attrs, hints);\n      eventBus.fire('elements.changed', {\n        elements: [source,target,context.connection]\n      })\n    });\n  \n  \n    // API\n  \n    /**\n     * Start connect operation.\n     *\n     * @param {MouseEvent|TouchEvent} event\n     * @param {Element} start\n     * @param {Point} [connectionStart]\n     * @param {boolean} [autoActivate=false]\n     */\n    this.start = function(event, start, connectionStart, autoActivate) {\n      if (!isObject(connectionStart)) {\n        autoActivate = connectionStart;\n        connectionStart = getMid(start);\n      }\n  \n      dragging.init(event, 'connect', {\n        autoActivate: autoActivate,\n        data: {\n          shape: start,\n          context: {\n            start: start,\n            connectionStart: connectionStart,\n            id: this._factory.getNextConnectionId()\n          }\n        }\n      });\n    };\n  }\n  \nConnect.$inject = [\n    'eventBus',\n    'dragging',\n    'modeling',\n    'rules',\n    'elementFactory'\n  ];\n  \n  \n// helpers //////////\n  \nexport function isReverse(context) {\nvar hover = context.hover,\n    source = context.source,\n    target = context.target;\n\nreturn hover && source && hover === source && source !== target;\n}","import CustomConnect from \"./CustomConnect\"\nimport SelectionModule from 'diagram-js/lib/features/selection';\nimport RulesModule from 'diagram-js/lib/features/rules';\nimport DraggingModule from 'diagram-js/lib/features/dragging';\n\nexport default {\n    __depends__: [\n        SelectionModule,\n        RulesModule,\n        DraggingModule\n      ],\n    __init__ : [\n        'connect'\n    ],\n    connect: ['type', CustomConnect]\n}","import Diagram from 'diagram-js';\n\nimport ConnectModule from 'diagram-js/lib/features/connect';\nimport ConnectPreview from 'diagram-js/lib/features/connection-preview'\nimport ContextPadModule from 'diagram-js/lib/features/context-pad';\nimport CreateModule from 'diagram-js/lib/features/create';\nimport LassoToolModule from 'diagram-js/lib/features/lasso-tool';\nimport ModelingModule from 'diagram-js/lib/features/modeling';\nimport MoveCanvasModule from 'diagram-js/lib/navigation/movecanvas';\nimport MoveModule from 'diagram-js/lib/features/move';\nimport OutlineModule from 'diagram-js/lib/features/outline';\nimport PaletteModule from 'diagram-js/lib/features/palette';\nimport BendingModule from 'diagram-js/lib/features/bendpoints';\nimport RulesModule from 'diagram-js/lib/features/rules';\nimport SelectionModule from 'diagram-js/lib/features/selection';\nimport ZoomScrollModule from 'diagram-js/lib/navigation/zoomscroll';\nimport SnappingModule from 'diagram-js/lib/features/snapping'\nimport LabelSupport from 'diagram-js/lib/features/label-support'\nimport ChangeSupport from 'diagram-js/lib/features/change-support'\n\n// custom providers\nimport ProvidersModule from './providers';\n\n// custom renderers\nimport TSRenderer from './draw';\n\n// custom element factory\nimport elementFactory from './elements'\n\n// custom connect\nimport customConnect from \"./connect\"\n\n/**\n * A module that changes the default diagram look.\n */\nconst ElementStyleModule = {\n    __init__: [\n      [ 'defaultRenderer', function(defaultRenderer) {\n        // override default styles\n        defaultRenderer.CONNECTION_STYLE = { fill: 'none', strokeWidth: 5, stroke: '#000' };\n        defaultRenderer.SHAPE_STYLE = { fill: '#303c4a', stroke: '#000', strokeWidth: 2 };\n        // defaultRenderer.FRAME_STYLE = { fill: 'none', stroke: '#000', strokeDasharray: 4, strokeWidth: 2 };\n      } ]\n    ]\n  };\n\nexport default function TSEditor(options) {\n\n    const {\n        container,\n        additionalModules = [ TSRenderer,  ]\n      } = options;\n\n    \n\n    // default modules provided by the toolbox\n    const builtinModules = [\n        ConnectModule,\n        ConnectPreview,\n        ContextPadModule,\n        CreateModule,\n        LassoToolModule,\n        ModelingModule,\n        MoveCanvasModule,\n        BendingModule,\n        MoveModule,\n        OutlineModule,\n        PaletteModule,\n        RulesModule,\n        SelectionModule,\n        ZoomScrollModule,\n        SnappingModule,\n        LabelSupport,\n        ChangeSupport\n    ];\n\n    // our own modules, contributing controls, customizations, and more\n    const customModules = [\n        ProvidersModule,\n        customConnect,\n        elementFactory\n    ];\n\n    var diagram =  new Diagram({\n        canvas: {\n            container\n        },\n        modules: [\n        ...builtinModules,\n        ...customModules,\n        ...additionalModules\n        ],\n        defaultRenderer: ['type', TSRenderer]\n    });\n\n    \n\n    return diagram\n}","export default `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<transition-system>\n\t<state id=\"b1\" type=\"internal\">\n\t\t<label>&lt;R,R,0&gt;</label>\n\t\t<position x=\"46\" y=\"-110\" />\n\t</state>\n\t<state id=\"b4\" type=\"internal\">\n\t\t<label>&lt;G,R,0&gt;</label>\n\t\t<position x=\"46\" y=\"223\" />\n\t</state>\n\t<state id=\"b5\" type=\"internal\">\n\t\t<label>&lt;Y,R,0&gt;</label>\n\t\t<position x=\"129\" y=\"58\" />\n\t</state>\n\t<state id=\"b6\" type=\"internal\">\n\t\t<label>&lt;G,R,1&gt;</label>\n\t\t<position x=\"354\" y=\"223\" />\n\t</state>\n\t<state id=\"b7\" type=\"internal\">\n\t\t<label>&lt;Y,R,1&gt;</label>\n\t\t<position x=\"354\" y=\"58\" />\n\t</state>\n\t<state id=\"b8\" type=\"internal\">\n\t\t<label>&lt;R,R,1&gt;</label>\n\t\t<position x=\"354\" y=\"-110\" />\n\t</state>\n\t<state id=\"b9\" type=\"internal\">\n\t\t<label>&lt;R,G,0&gt;</label>\n\t\t<position x=\"648\" y=\"-110\" />\n\t</state>\n\t<state id=\"b10\" type=\"ending\">\n\t\t<label>&lt;R,R,2&gt;</label>\n\t\t<position x=\"648\" y=\"223\" />\n\t</state>\n\t<state id=\"b11\" type=\"starting\">\n\t\t<label>srt</label>\n\t\t<position x=\"-114\" y=\"-110\" />\n\t</state>\n\t<arc id=\"a3\">\n\t\t<label>green</label>\n\t\t<source id=\"b1\" />\n\t\t<target id=\"b4\" />\n\t\t<waypoints>\n\t\t\t<position x=\"76\" y=\"-80\" />\n\t\t\t<position x=\"19\" y=\"-2\" />\n\t\t\t<position x=\"19\" y=\"156\" />\n\t\t\t<position x=\"76\" y=\"253\" />\n\t\t</waypoints>\n\t</arc>\n\t<arc id=\"a4\">\n\t\t<label>yellow</label>\n\t\t<source id=\"b4\" />\n\t\t<target id=\"b5\" />\n\t\t<waypoints>\n\t\t\t<position x=\"76\" y=\"253\" />\n\t\t\t<position x=\"159\" y=\"88\" />\n\t\t</waypoints>\n\t</arc>\n\t<arc id=\"connection_13\">\n\t\t<label>red</label>\n\t\t<source id=\"b5\" />\n\t\t<target id=\"b1\" />\n\t\t<waypoints>\n\t\t\t<position x=\"159\" y=\"88\" />\n\t\t\t<position x=\"76\" y=\"-80\" />\n\t\t</waypoints>\n\t</arc>\n\t<arc id=\"a5\">\n\t\t<label>click</label>\n\t\t<source id=\"b4\" />\n\t\t<target id=\"b6\" />\n\t\t<waypoints>\n\t\t\t<position x=\"76\" y=\"253\" />\n\t\t\t<position x=\"384\" y=\"253\" />\n\t\t</waypoints>\n\t</arc>\n\t<arc id=\"a6\">\n\t\t<label>yellow</label>\n\t\t<source id=\"b6\" />\n\t\t<target id=\"b7\" />\n\t\t<waypoints>\n\t\t\t<position x=\"384\" y=\"253\" />\n\t\t\t<position x=\"384\" y=\"88\" />\n\t\t</waypoints>\n\t</arc>\n\t<arc id=\"a7\">\n\t\t<label>red</label>\n\t\t<source id=\"b7\" />\n\t\t<target id=\"b8\" />\n\t\t<waypoints>\n\t\t\t<position x=\"384\" y=\"88\" />\n\t\t\t<position x=\"384\" y=\"-80\" />\n\t\t</waypoints>\n\t</arc>\n\t<arc id=\"connection_15\">\n\t\t<label>click</label>\n\t\t<source id=\"b1\" />\n\t\t<target id=\"b8\" />\n\t\t<waypoints>\n\t\t\t<position x=\"76\" y=\"-80\" />\n\t\t\t<position x=\"384\" y=\"-80\" />\n\t\t</waypoints>\n\t</arc>\n\t<arc id=\"connection_17\">\n\t\t<label>click</label>\n\t\t<source id=\"b5\" />\n\t\t<target id=\"b7\" />\n\t\t<waypoints>\n\t\t\t<position x=\"159\" y=\"88\" />\n\t\t\t<position x=\"384\" y=\"88\" />\n\t\t</waypoints>\n\t</arc>\n\t<arc id=\"a8\">\n\t\t<label>walk</label>\n\t\t<source id=\"b8\" />\n\t\t<target id=\"b9\" />\n\t\t<waypoints>\n\t\t\t<position x=\"384\" y=\"-80\" />\n\t\t\t<position x=\"384\" y=\"-190\" />\n\t\t\t<position x=\"678\" y=\"-190\" />\n\t\t\t<position x=\"678\" y=\"-80\" />\n\t\t</waypoints>\n\t</arc>\n\t<arc id=\"a9\">\n\t\t<label>cross</label>\n\t\t<source id=\"b9\" />\n\t\t<target id=\"b10\" />\n\t\t<waypoints>\n\t\t\t<position x=\"678\" y=\"-80\" />\n\t\t\t<position x=\"678\" y=\"253\" />\n\t\t</waypoints>\n\t</arc>\n\t<arc id=\"a11\">\n\t\t<label>click</label>\n\t\t<source id=\"b6\" />\n\t\t<target id=\"b6\" />\n\t\t<waypoints>\n\t\t\t<position x=\"384\" y=\"253\" />\n\t\t\t<position x=\"399\" y=\"208\" />\n\t\t\t<position x=\"466\" y=\"208\" />\n\t\t\t<position x=\"466\" y=\"298\" />\n\t\t\t<position x=\"399\" y=\"298\" />\n\t\t\t<position x=\"384\" y=\"253\" />\n\t\t</waypoints>\n\t</arc>\n\t<arc id=\"a12\">\n\t\t<label>click</label>\n\t\t<source id=\"b7\" />\n\t\t<target id=\"b7\" />\n\t\t<waypoints>\n\t\t\t<position x=\"384\" y=\"88\" />\n\t\t\t<position x=\"399\" y=\"43\" />\n\t\t\t<position x=\"462\" y=\"43\" />\n\t\t\t<position x=\"462\" y=\"133\" />\n\t\t\t<position x=\"399\" y=\"133\" />\n\t\t\t<position x=\"384\" y=\"88\" />\n\t\t</waypoints>\n\t</arc>\n\t<arc id=\"a13\">\n\t\t<label>click</label>\n\t\t<source id=\"b8\" />\n\t\t<target id=\"b8\" />\n\t\t<waypoints>\n\t\t\t<position x=\"384\" y=\"-80\" />\n\t\t\t<position x=\"399\" y=\"-125\" />\n\t\t\t<position x=\"459\" y=\"-125\" />\n\t\t\t<position x=\"459\" y=\"-35\" />\n\t\t\t<position x=\"399\" y=\"-35\" />\n\t\t\t<position x=\"384\" y=\"-80\" />\n\t\t</waypoints>\n\t</arc>\n\t<arc id=\"a14\">\n\t\t<label></label>\n\t\t<source id=\"b11\" />\n\t\t<target id=\"b1\" />\n\t\t<waypoints>\n\t\t\t<position x=\"-84\" y=\"-80\" />\n\t\t\t<position x=\"75\" y=\"-82\" />\n\t\t</waypoints>\n\t</arc>\n</transition-system>\n`","<template>\n  <div class=\"editor-content\">\n    <div class=\"editor-header\">\n      <h4>\n        This is an editor to create transition systems, powered by \n        <a \n          href=\"https://github.com/bpmn-io/diagram-js/tree/develop\" \n          target=\"_blank\"\n        >\n          diagram-js\n        </a>.\n      </h4>\n      <p>\n        For more information on the formalism and its structure see: \n        <a\n          href=\"/docs/editors/ts/Adam_Banham___Transition_Systems.pdf\"\n          target=\"_blank\"\n        >A Brief Introduction to Labelled Transition Systems</a>.\n      </p>\n      <p>\n        Notably, the editor is still a bit fragile and can crash.\n      </p>\n    </div>\n    <div\n      ref=\"container\"\n      class=\"editor-canvas-ts-container\"\n    >\n      <div\n        ref=\"canvas\"\n        class=\"editor-canvas\"\n      />\n    </div>\n    <div\n      ref=\"editor-ts-math\"\n      class=\"net-compontents\"\n    >\n      <h3> Transition Net Components </h3>\n      <div class=\"net\">\n        <div class=\"net-states\">\n          <div class=\"net-header\">\n            <h4> States, or \\(Q\\) ({{ states.length }})</h4>\n            <v-btn\n              icon=\"mdi-content-copy\"\n              :rounded=\"true\"\n              variant=\"text\"\n              @click=\"copyStates\"\n            />\n          </div>\n          \n          <p> {{ statesML }} </p>\n        </div>\n        <div class=\"net-actions\">\n          <div class=\"net-header\">\n            <h4> Actions, or \\(\\Sigma\\) ({{ actions.length }})</h4>\n            <v-btn\n              icon=\"mdi-content-copy\"\n              :rounded=\"true\"\n              variant=\"text\"\n              @click=\"copyActions\"\n            />\n          </div>\n          <p> {{ actionsML }} </p>\n        </div>\n        <div class=\"net-transitions\">\n          <div class=\"net-header\">\n            <h4> Transitions, or \\(\\rightarrow\\) ({{ transitions.length }})</h4>\n            <v-btn\n              icon=\"mdi-content-copy\"\n              :rounded=\"true\"\n              variant=\"text\"\n              @click=\"copyTransitions\"\n            />\n          </div>\n          <p> {{ transitionsML }} </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n    \n<script>\n    import EditorTS  from \"./TS/editor.js\"\n    import defaultSystem from \"./TS/system.js\"\n    import TsXmlImporter from \"./TS/importer.js\"\n\n    import {\n      getConnectionMid\n    } from \"diagram-js/lib/layout/LayoutUtil\"\n    \n    export default {\n        name: \"EditorTS\",\n        data: function(){\n            return {\n                root: null,\n                editor: null,\n                diagramXML: null,\n                states : [],\n                transitions : [],\n                typesetPromise: Promise.resolve()\n            }\n        },\n        computed : {\n          statesML : function(){\n            var ret = \"\\\\begin{align*} \\\\{ \"\n            for(const state of this.states){\n              var label = this.findLabel(state)\n              ret += \"\\\\text{\"+ label + \"}, \"\n            }\n            this.triggerMathjax()\n            return ret.substring(0, ret.length-2) + \" \\\\} \\\\end{align*}\"\n          },\n          actions : function(){\n            var ret = []\n            for(const trans of this.transitions){\n              if (!ret.includes(trans.label)){\n                ret.push(trans.label)\n              }\n            }\n            return ret\n          },\n          actionsML : function(){\n            var ret = \"\\\\begin{align*} \\\\{ \"\n            for(const act of this.actions){\n              if (act.startsWith(\"\\\\\")){\n                ret += \" \" + act + \", \"\n              } else {\n                ret += \" \\\\textit{\"+act+\"}, \"\n              }\n            }\n            this.triggerMathjax()\n            return ret.substring(0, ret.length-2) + \" \\\\} \\\\end{align*}\"\n          },\n          transitionsML : function(){\n            var ret = \"\\\\begin{align*} \\\\{ \"\n            for(const trans of this.transitions){\n              var action = this.findLabel(trans)\n              if (!action.startsWith(\"\\\\\")){\n                action = \"\\\\textit{\"+action+\"}\"\n              } \n              var src = this.findLabel(trans.src)\n              var tgt = this.findLabel(trans.tgt)\n              ret += \" (\\\\text{\"+src+\"}, \"+action+\", \\\\text{\"+tgt+\"}), \"\n            }\n            this.triggerMathjax()\n            return ret.substring(0, ret.length-2) + \" \\\\} \\\\end{align*}\"\n          }\n        },\n        mounted: function(){\n            this.root = this.$refs.canvas;\n            var _options = {\n                container:  this.root\n            }\n            this.editor = new EditorTS(\n                _options\n            );\n            // add hanlders to track net state\n            var that = this\n            this.editor.invoke(['eventBus', function(bus){\n              bus.on(\n                [\n                  'state.create','transition.create', 'action.create',\n                  'element.create', 'connect.end'\n                ],\n              50, (ev) => {\n                that.handleElementCreate(ev)\n            }, that)\n            }]);\n            this.editor.invoke(['eventBus', function(bus){\n                bus.on(\n                  [\n                  'pad.delete'\n                  ],\n                50, (ev) => {\n                  that.handleElementDelete(ev)\n              }, that)\n            }]);\n            this.editor.invoke(['eventBus', function(bus){\n                bus.on(\n                  [\n                  'element.changed', 'elements.changed'\n                  ],\n                50, (ev) => {\n                  that.handleElementChange(ev)\n              }, that)\n            }]);\n            this.editor.invoke(['eventBus', function(bus){\n                bus.on(\n                  [\n                  'formal.clear',\n                  ],\n                50, (ev) => {\n                  that.resetToEmpty()\n              }, that)\n            }]);\n            // add default system\n            this.loadDefaultSystem()\n            this.editor.get('canvas').zoom('fit-viewport');\n            this.triggerMathjax()\n          },\n        methods: {\n            addDefaultSystem: function(){\n                this.editor.invoke([ 'eventBus', 'elementFactory', 'canvas', 'modeling', \n                    function(events, factory, canvas, modeling) {\n\n                    var s1 = { id: factory.getNextStateId(),\n                      stateLabel: \"srt\", x: 300, y: 100,};\n                    var s3 = { id: factory.getNextStateId(),\n                      stateLabel: \"a\", x: 300, y: 300,}\n                    var s2 = { id: factory.getNextStateId(),\n                      stateLabel: \"end\", x: 300, y: 500,};\n                    s1 = factory.createStartingState(s1);\n                    s3 = factory.createInternalState(s3);\n                    s2 = factory.createEndingState(s2);\n\n                    var c1 = factory.createConnectionBetweenStates(\n                        factory.getNextConnectionId(), \n                        s1,\n                        s3,\n                        'foo'\n                    );\n                    var c2 = factory.createConnectionBetweenStates(\n                        factory.getNextConnectionId(), \n                        s3,\n                        s2,\n                        'baz'\n                    );\n                    modeling.createShape(\n                      s1, {x: s1.x, y:s1.y}, canvas.getRootElement()\n                    )\n                    modeling.createShape(\n                      s2, {x: s2.x, y:s2.y}, canvas.getRootElement()\n                    )\n                    modeling.createShape(\n                      s3, {x: s3.x, y:s3.y}, canvas.getRootElement()\n                    )\n                    canvas.addConnection(c1)\n                    modeling.layoutConnection(c1,)\n                    canvas.addConnection(c2)\n                    modeling.layoutConnection(c2,)\n\n                    var position = getConnectionMid(c2)\n                    var label = factory.createLabel({\n                      text: 'baz',\n                      width: 50,\n                      height: 12,\n                      labelTarget: c2,\n                      x: 0\n                    })\n                    modeling.createLabel(\n                      c2,\n                      position,\n                      label,\n                      c2\n                    )\n\n                    position = getConnectionMid(c1)\n                    label = factory.createLabel({\n                      text: 'foo',\n                      width: 50,\n                      height: 12,\n                      labelTarget: c1,\n                      x: 0\n                    })\n                    modeling.createLabel(\n                      c1,\n                      position,\n                      label,\n                      c1\n                    )\n\n                    modeling.moveElements([s1,s2,s3], {x:0,y:0})\n                    \n            }]);\n            },\n          loadDefaultSystem: function(){\n            this.editor.invoke([\n              'modeling', 'elementFactory', 'canvas', 'elementRegistry',\n              'eventBus', 'textRenderer'\n            ,function(modeling, factory, canvas, registry, bus, \n                      textRenderer) {\n              var parser = new TsXmlImporter(modeling, \n                factory, canvas, registry, bus, textRenderer\n              );\n              var tree = new DOMParser().parseFromString(\n                            defaultSystem, \"text/xml\"\n              )\n              var system = tree.getElementsByTagName(\"transition-system\")[0]\n              parser.import(system)\n            }\n            ])\n          },\n          triggerMathjax: function(){\n            const mathjax = window.MathJax\n            const that = this\n            const math = this.$refs['editor-ts-math']\n            // using setTimeout, which can get the right result\n            that.$nextTick( () => {\n              that.typesetPromise = that.typesetPromise.then(() => {\n                return mathjax.typesetPromise([that.$refs['editor-ts-math']])\n              }\n            )})\n          },\n        handleElementCreate: function(event){\n          \n          function handleState(el){\n            return  {\n              id: el.id,\n              label: el.stateLabel\n            }\n          }\n\n          function handleTransition(el){\n            var label;\n            if (el.arcLabel == null){\n              label = '\\\\tau'\n            } else if (el.arcLabel.length < 1){\n              label = '\\\\tau'\n            } else {\n              label = el.arcLabel\n            }\n            return {\n              id: el.id,\n              label: label,\n              src: handleState(el.source),\n              tgt: handleState(el.target)\n            }\n          }\n\n          if (event.type.startsWith('state')){\n            this.states.push(handleState(event.element))\n          } else if (event.type.startsWith('transition')){\n            var trans = handleTransition(event.element)\n            this.transitions.push(trans)\n          } else {\n            if (event.context && event.context.connection){\n              var trans = handleTransition(event.context.connection)\n              this.transitions.push(trans)\n            }\n          }\n          return event\n        },\n        handleElementDelete: function(event){\n          var deleted;\n          if (event.type.startsWith(\"pad.\")){\n            deleted = event.elements[0]\n            this.states = this.states.filter(\n              (v) => v.id != deleted.id\n            )\n            this.transitions = this.transitions.filter(\n              (v) => v.id != deleted.id\n            )\n            if (deleted.incoming.length){\n              for(const inc of deleted.incoming){\n                console.log(\"removing \", inc.id)\n                this.transitions = this.transitions.filter(\n                  (v) => v.id != inc.id\n                )\n              }\n            }\n            if (deleted.outgoing.length){\n              for(const out of deleted.outgoing){\n                this.transitions = this.transitions.filter(\n                  (v) => v.id != out.id\n                )\n              }\n            }\n          } else {\n\n          }\n        },\n        handleElementChange: function(event){\n          var that = this\n          function update(el){\n            that.states.forEach((v) => {\n              if (v.id == el.id){\n                  v.label = el.stateLabel\n              }\n            })\n            that.transitions.forEach( (v) => {\n              if (v.id == el.id){\n                var label;\n                if (el.arcLabel == null){\n                  label = '\\\\tau'\n                } else if (el.arcLabel.length < 1){\n                  label = '\\\\tau'\n                } else {\n                  label = el.arcLabel\n                }\n                v.label = label\n              }\n              if (v.src.id == el.id){\n                v.src.label = el.stateLabel\n              }\n              if (v.tgt.id == el.id){\n                v.tgt.label = el.stateLabel\n              }\n            })\n          }\n          \n          if(event.type.startsWith(\"element.\")){\n            update(event.element)\n          } else {\n            for(const el of event.elements){\n              update(el)\n            }\n          }\n        },  \n        copyStates: function(){\n          navigator.clipboard.writeText(this.statesML);\n        },\n        copyActions: function(){\n          navigator.clipboard.writeText(this.actionsML);\n        },\n        copyTransitions: function(){\n          navigator.clipboard.writeText(this.transitionsML);\n        },\n        findLabel : function(state){\n          let label;\n          if (state.label.length > 0){\n                label = state.label\n              } else {\n                label = state.id\n              }\n          return label\n        },\n        resetToEmpty: function(){\n          this.states = []\n          this.transitions = []\n        }\n      },\n\n    }\n</script>\n    \n<style lang=\"sass\" scoped>\n@use \"@/styles/coloursAnt.sass\" as c\n@use \"@/styles/content.sass\" as cont\n    \n.editor-canvas-ts-container\n  margin-top: 25px\n  min-width: 1000px\n  min-height: 640px\n  background: none\n  border: 2px c.$black-blue\n  border-style: solid\n  border-radius: 15px\n  margin-bottom: 15px\n      \n  .editor-canvas\n    width: 100%\n    height: 100%\n\n    div \n        background: none\n\n    .djs-container\n        .djs-context-pad-parent\n            .open\n                .group\n                    .editor-hover\n                        color: black\n                        width: 20px\n                        height: 20px\n                        border: 2px red solid\n                        &:hover\n                            color: c.$blue-7\n\n.editor-content\n  margin-bottom: 100px\n  .net-compontents\n    width: 95%\n    border-radius: 15px \n    margin-left: 2.5%\n    margin-right: 2.5%\n    background-color: c.$gray-5\n    height: fit-content\n    flex-direction: row\n    max-width: 95%\n    h3, h4 \n      text-align: center\n      vertical-align: middle\n      padding: 5px\n      color: c.$black-blue\n    p \n      margin-bottom: 5px\n    .net \n      display: flex \n      flex-direction: row\n      width: 96%\n      max-width: 96%\n      margin-left: 2%\n      margin-right: 2%\n      flex-wrap: wrap\n      p \n        color: c.$black-blue\n      .net-header\n        display: flex \n        flex: 1\n        flex-direction: row\n        justify-content: center\n        align-items: center\n        h4\n          flex: 5\n          text-align: left\n          padding-left: 20px\n        button \n          flex: 1\n      .net-states\n        width: 100%\n        max-width: 100%\n        background-color: c.$gray-6\n        border-radius: 15px \n        margin: 5px\n        flex: 1 1\n        p\n          flex-wrap: wrap\n          width: 100%\n          max-width: 100%\n      .net-actions\n        width: 100%\n        background-color: c.$gray-6\n        border-radius: 15px \n        margin: 5px\n        flex: 1 1\n      .net-transitions\n        width: 100%\n        background-color: c.$gray-6\n        border-radius: 15px \n        margin: 5px\n        flex: 1 1\n</style>\n\n<style lang=\"sass\">\n@use \"@/styles/coloursAnt.sass\" as c\n.editor-canvas-ts-container\n    .editor-canvas\n        border-radius: 15px\n        .djs-palette\n          border-radius: 15px\n          box-shadow: 5px 5px 15px black\n        .djs-container\n          border-radius: 15px\n          background: c.$gray-5\n          .djs-context-pad-parent\n              .open\n                  .group\n                      .editor-hover\n                          color: black\n                          &:hover\n                              color: c.$blue-7\n                              // background: $background-light-50\n</style>","\nconst placeRadius = 25;\nconst transitionSize = 60;\n\nexport { placeRadius, transitionSize }; ","import ElementFactory from \"diagram-js/lib/core/ElementFactory\"\n\nimport {\n    assign\n} from \"min-dash\"\n\nimport {\n    placeRadius, transitionSize\n} from './staticShapeDesc';\n\nfunction isPlace(element) {\n    if (!element.type) return false\n    return element.type === 'place';\n}\n\nfunction isTransition(element) {\n    if (!element.type) return false\n    return element.type === 'transition';\n}\n\nfunction isFlow(element) {\n    if (!element.type) {\n        return element.id.startsWith('flow')\n    }\n    return element.type === 'flow';\n}\n\nclass PetriElementFactory extends ElementFactory {\n\n    constructor(eventBus,textRenderer){\n        super()\n        this._lastStateId = 0;\n        this._lastConnectionId = 0;\n        this._seen = []\n        this._bus = eventBus\n        this._textRenderer = textRenderer\n    }\n\n    logIdentifer(id){\n        if (!this._seen.includes(id)){\n            this._seen.push(id)\n        }\n    }\n\n    releaseIdentifer(id){\n        if (this._seen.includes(id)){\n            this._seen = this._seen.filter((x) => x !== id)\n        }\n    }\n\n    checkIdentifer(id){\n        return !this._seen.includes(id)\n    }\n\n    getNextPlaceId(){\n        var id = `place-${this._lastStateId++}`\n        while (!this.checkIdentifer(id)){\n            id = `place-${this._lastStateId++}`\n        }\n        this.logIdentifer(id)\n        return id\n    }\n\n    getNextTransitionId(){\n        var id = `transition-${this._lastStateId++}`\n        while (!this.checkIdentifer(id)){\n            id = `transition-${this._lastStateId++}`\n        }\n        this.logIdentifer(id)\n        return id\n    }\n\n    getNextFlowId(){\n        var id = `flow-${this._lastConnectionId++}`\n        while (!this.checkIdentifer(id)){\n            id = `flow-${this._lastConnectionId++}`\n        }\n        this.logIdentifer(id)\n        return id\n    }\n\n    createPlace(context){\n        var place = {\n            id: context.id ? context.id : this.getNextPlaceId(),\n            type: 'place',\n            x: context.x,\n            y: context.y,\n            cx: placeRadius,\n            cy: placeRadius,\n            width: placeRadius * 2,\n            height: placeRadius * 2,\n            r: placeRadius\n        }\n        this._bus.fire('formal.create.place', {element: place})\n        return place\n    }\n\n    createTransition(context, silent=false){\n        var transition = {\n            id: context.id ? context.id : this.getNextTransitionId(),\n            type: 'transition',\n            x: context.x,\n            y: context.y,\n            silent: silent,\n            width: transitionSize,\n            height: transitionSize,\n            labelText: context.labelText ? context.labelText : 'action'\n        }\n        this._bus.fire('formal.create.transition', {element: transition})\n        return transition\n    }\n\n    createFlow(context){\n        var flow = {\n            id: context.id ? context.id : this.getNextFlowId(),\n            type: 'flow',\n            waypoints: context.waypoints,\n            source: context.source,\n            target: context.target\n        }\n        this._bus.fire('formal.create.flow', {element: flow})\n        return flow\n    }\n\n   \n}\n\nPetriElementFactory.$inject = [\n    'eventBus',\n    'textRenderer',\n]\n\nexport default PetriElementFactory;\n\nexport {\n    isPlace,\n    isTransition,\n    isFlow\n}","import validate from './validate.js';\nconst byteToHex = [];\nfor (let i = 0; i < 256; ++i) {\n    byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n    return (byteToHex[arr[offset + 0]] +\n        byteToHex[arr[offset + 1]] +\n        byteToHex[arr[offset + 2]] +\n        byteToHex[arr[offset + 3]] +\n        '-' +\n        byteToHex[arr[offset + 4]] +\n        byteToHex[arr[offset + 5]] +\n        '-' +\n        byteToHex[arr[offset + 6]] +\n        byteToHex[arr[offset + 7]] +\n        '-' +\n        byteToHex[arr[offset + 8]] +\n        byteToHex[arr[offset + 9]] +\n        '-' +\n        byteToHex[arr[offset + 10]] +\n        byteToHex[arr[offset + 11]] +\n        byteToHex[arr[offset + 12]] +\n        byteToHex[arr[offset + 13]] +\n        byteToHex[arr[offset + 14]] +\n        byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n    const uuid = unsafeStringify(arr, offset);\n    if (!validate(uuid)) {\n        throw TypeError('Stringified UUID is invalid');\n    }\n    return uuid;\n}\nexport default stringify;\n","let getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n    if (!getRandomValues) {\n        if (typeof crypto === 'undefined' || !crypto.getRandomValues) {\n            throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n        }\n        getRandomValues = crypto.getRandomValues.bind(crypto);\n    }\n    return getRandomValues(rnds8);\n}\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default { randomUUID };\n","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\nfunction v4(options, buf, offset) {\n    if (native.randomUUID && !buf && !options) {\n        return native.randomUUID();\n    }\n    options = options || {};\n    const rnds = options.random ?? options.rng?.() ?? rng();\n    if (rnds.length < 16) {\n        throw new Error('Random bytes length must be >= 16');\n    }\n    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n    if (buf) {\n        offset = offset || 0;\n        if (offset < 0 || offset + 16 > buf.length) {\n            throw new RangeError(`UUID byte range ${offset}:${offset + 15} is out of buffer bounds`);\n        }\n        for (let i = 0; i < 16; ++i) {\n            buf[offset + i] = rnds[i];\n        }\n        return buf;\n    }\n    return unsafeStringify(rnds);\n}\nexport default v4;\n","import {\n    isPlace,\n    isTransition,\n    isFlow\n} from \"./elements/pertiElementFactory\"\n\nimport {v4 as uuidv4} from 'uuid';\n\nfunction template(strings, ...keys){\n    return (...values) => {\n        const dict = values[values.length - 1] || {};\n        const result = [strings[0]];\n        keys.forEach((key, i) => {\n          const value = Number.isInteger(key) ? values[key] : dict[key];\n          result.push(value, strings[i + 1]);\n        });\n        return result.join(\"\");\n      };\n}\n\nconst PNML_URL = \"http://www.pnml.org/version-2009/grammar/pnmlcoremodel\"\n\nconst XML_HEAD = \n`<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<pnml>\n<net type=\"${PNML_URL}\" id=\"Generated by Petri Net Editor\">\n    <name>\n        <text>Generated by Petri Net Editor</text>\n    </name>\n    <page id=\"page-1\">\n`\n\nconst XML_TAIL = \n`   </page>\n</net>\n</pnml>\n`\n\nconst PLACE_TEMPLATE = \ntemplate`       <place id=\"${\"id\"}\">\n            <name>\n                <text>${\"name\"}</text>\n            </name>\n            <graphics>\n                <position x=\"${\"x\"}\" y=\"${\"y\"}\"/>\n            </graphics>\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"${\"UUID\"}\" />\n`\n\nconst PLACE_INITIAL_MARKING =\ntemplate`           <initialMarking>\n                <text>${\"marking\"}</text>\n            </initialMarking>\n`\n\nconst PLACE_FINAL_MARKING =\ntemplate`           <finalMarking>\n                <text>${\"marking\"}</text>\n            </finalMarking>\n`\n\nconst PLACE_CLOSURE = \n`       </place>\n`\n\nconst TRANSITION_TEMPLATE = \ntemplate`       <transition id=\"${\"id\"}\" invisible=\"${\"silent\"}\">\n            <name>\n                <text>${\"name\"}</text>\n            </name>\n            <graphics>\n                <position x=\"${\"x\"}\" y=\"${\"y\"}\"/>\n            </graphics>\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"${\"UUID\"}\" activity=\"${\"activity\"}\"/>\n`\n\nconst TRANSITION_CLOSURE =\n`       </transition>\n`\n\nconst FLOW_TEMPLATE = \ntemplate`       <arc id=\"${\"id\"}\" source=\"${\"src\"}\" target=\"${\"tgt\"}\">\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"${\"UUID\"}\" />\n            <arctype>\n                <text>normal</text>\n            </arctype>\n            <graphics>            \n`\n\nconst FLOW_WAYPOINT = \ntemplate`                <position x=\"${\"x\"}\" y=\"${\"y\"}\"/>\n`\n\nconst FLOW_CLOSURE =\n`           </graphics>       \n        </arc>\n`\n\n\nconst XML_ILLEGALS = {\n    '&' : '&amp;',\n    '<' : '&lt;',\n    '>' : '&gt;',\n    \"'\" : '&apos;',\n    '\"' : '&quot;'\n}\n\n\nclass TsXmlExporter {\n\n    constructor(registry){\n        this._registry = registry\n        this._xml = \"\"\n    }\n\n    encode(text){\n        var ret = text\n        for(const illegal in XML_ILLEGALS){\n            ret = ret.replace(\n                illegal, XML_ILLEGALS[illegal]\n            )\n        }\n        return ret\n    }\n\n    export(){\n        this._xml = this.createHead()\n        var that = this\n        // process places first\n        var check = isPlace\n        var els = this._registry.filter(check)\n        var f = function(el,gfx) {\n            return that.serialise(that,el,gfx)\n        }\n        els.forEach(f)\n        // then transitions \n        check = isTransition\n        els = this._registry.filter(check)\n        var f = function(el,gfx) {\n            return that.serialise(that,el,gfx)\n        }\n        els.forEach(f)\n        // then flows\n        check = isFlow\n        els = this._registry.filter(check)\n        var f = function(el,gfx) {\n            return that.serialise(that,el,gfx)\n        }\n        els.forEach(f)\n        // then add initial marking\n        // TODO\n        // then add final marking\n        // TODO\n        // add tail and return\n        return this._xml + this.createTail()\n    }\n\n    createHead(){\n        return XML_HEAD\n    }\n\n    serialise(self, element, gfx){\n        if (isPlace(element)){\n            self._xml += self._serialisePlace(self, element, gfx)\n        } else if (isTransition(element)){\n            self._xml += self._serialiseTransition(self, element, gfx)\n        } else if (isFlow(element)){\n            self._xml += self._serialiseFlow(self, element, gfx)\n        } else {\n            console.error(`Unknown element type: ${element.type}`)\n        }\n    }\n\n    _serialisePlace(self, element, gfx){\n        var UUID = uuidv4()\n        var placeSvg = \"\"+ PLACE_TEMPLATE({\n            id: element.id,\n            name: element.id,\n            x: parseInt(element.x),\n            y: parseInt(element.y),\n            UUID: UUID\n        })\n        // check for initial marking\n        // TODO\n        // check for final marking\n        // TODO\n        return placeSvg + PLACE_CLOSURE\n    }\n\n    _serialiseTransition(self, element, gfx){\n        var UUID = uuidv4()\n        var transitionSvg = \"\"+ TRANSITION_TEMPLATE({\n            id: element.id,\n            name: element.labelText,\n            silent: element.silent,\n            x: parseInt(element.x),\n            y: parseInt(element.y),\n            activity: element.silent ? \"$invisible$\" : \"\",\n            UUID: UUID\n        })\n        return transitionSvg + TRANSITION_CLOSURE\n    }\n\n    _serialiseFlow(self, element, gfx){\n        var UUID = uuidv4()\n        console.log(element)\n        var flowSvg = \"\"+ FLOW_TEMPLATE({\n            id: element.id,\n            src: element.source.id,\n            tgt: element.target.id,\n            UUID: UUID\n        })\n        for(var way of element.waypoints){\n            flowSvg += FLOW_WAYPOINT({\n                x: parseInt(way.x),\n                y: parseInt(way.y)\n            })\n        }\n        return flowSvg + FLOW_CLOSURE\n    }\n\n    createTail(){\n        return XML_TAIL\n    }\n}\n\nexport default TsXmlExporter","import {\n    assign\n} from 'min-dash'\n\nimport {\n    getConnectionMid\n} from \"diagram-js/lib/layout/LayoutUtil\"\nimport PetriElementFactory from './elements/pertiElementFactory'\nimport PetriModeling from './modeling/petriModeling'\n\nconst XML_ILLEGALS = {\n    '<' : '&lt;',\n    '>' : '&gt;',\n    \"'\" : '&apos;',\n    '\"' : '&quot;',\n    '&' : '&amp;',\n}\n\n\nclass TsXmlImporter {\n\n    /**\n     * \n     * @param {PetriModeling} modeling \n     * @param {PetriElementFactory} factory \n     * @param {*} canvas \n     * @param {*} registry \n     * @param {*} bus \n     * @param {*} txRenderer \n     */\n    constructor(modeling, factory, canvas, registry, bus, txRenderer){\n        this._modeling = modeling \n        this._factory = factory\n        this._canvas = canvas\n        this._registry = registry\n        this._bus = bus\n        this._txRender = txRenderer\n    }\n\n    decode(text){\n        var ret = text\n        for(const illegal in XML_ILLEGALS){\n            ret = ret.replace(\n                XML_ILLEGALS[illegal], illegal\n            )\n        }\n        return ret\n    }\n\n    import(system){\n        try {\n            this._import(system)\n        } catch (error){\n            alert(\"Failed to parse and load in system :: \"\n                + error\n            )\n            throw error\n        }\n    }\n\n    _import(system){\n        // clear the system, except for root\n        var that = this\n        var els = this._registry.getAll().filter(\n            (v) => {\n                return !v.id.includes(\"implicitroot\")\n            }\n        )\n        if (els.length > 0){\n            this._bus.fire('formal.clear', {})\n            els.forEach(\n                (el) => this._factory.releaseIdentifer(el)\n            )\n            this._modeling.removeElements(\n                els\n            )\n        }\n        // parse states\n        var named_els = {}\n        \n        var places = system.getElementsByTagName(\"place\")\n        for (var place of places){\n            var attrs = place.attributes\n            var pos = place.getElementsByTagName(\"graphics\")[0]\n                .getElementsByTagName(\"position\")[0]\n            var context = {\n                id: attrs.id.value,\n                x: parseInt(pos.attributes.x.value),\n                y: parseInt(pos.attributes.y.value),\n            }\n            var shape = this._factory.createPlace(\n                context\n            )\n            this._factory.logIdentifer(shape.id)\n            const mshape = this._modeling.createShape(\n                shape, {x: shape.x, y:shape.y}, \n                this._canvas.getRootElement(),\n                1\n            )\n            named_els[mshape.id] = mshape\n        }\n        // parse transitions \n        var trans = system.getElementsByTagName(\"transition\")\n        for (var tran of trans){\n            var attrs = tran.attributes\n            console.log(trans)\n            var pos = tran.getElementsByTagName(\"graphics\")[0]\n                .getElementsByTagName(\"position\")[0]\n            var label = this.decode(tran.getElementsByTagName(\"name\")[0]\n                .textContent).trim()\n            var context = {\n                id: attrs.id.value,\n                x: parseInt(pos.attributes.x.value),\n                y: parseInt(pos.attributes.y.value),\n                labelText: label\n            }\n            var shape = this._factory.createTransition(\n                context, attrs.invisible.value == \"true\"\n            )\n            this._factory.logIdentifer(shape.id)\n            const mshape = this._modeling.createShape(\n                shape, {x: shape.x, y:shape.y}, \n                this._canvas.getRootElement(),\n                1\n            )\n            named_els[mshape.id] = mshape\n        }\n        // parse flows\n        var arcs = system.getElementsByTagName(\"arc\")\n        for (var arc of arcs){\n            var attrs = arc.attributes\n            var src = named_els[attrs.source.value]\n            var tgt = named_els[attrs.target.value]\n            if (arc.getElementsByTagName(\"graphics\").length > 0){\n                var points = []\n                var tmp = arc.getElementsByTagName(\"graphics\")[0]\n                .getElementsByTagName(\"position\");\n                for(var pos of tmp){\n                    points.push({\n                        x: parseInt(pos.attributes.x.value),\n                        y: parseInt(pos.attributes.y.value)\n                    });\n                }\n                points = points.map((p) => {\n                    return {\n                        x: p.x - src.width/2,\n                        y: p.y - src.height/2\n                    }\n                })\n            } else {\n                var points = [\n                    {x: src.x+src.width/2, y: src.y+src.height/2},\n                    {x: tgt.x+tgt.width/2, y: tgt.y+src.height/2}\n                ]\n            }\n            \n            var context = {\n                id: attrs.id.value,\n                source: src,\n                target: tgt,\n                waypoints: points\n            }\n            var shape = this._factory.createFlow(\n                context\n            )\n            this._factory.logIdentifer(shape.id)\n            const mshape = this._modeling.createConnection(\n                src, tgt, \n                shape,\n                this._canvas.getRootElement()\n            )\n            named_els[shape.id] = mshape\n            // this._modeling.reconnectStart(mshape, src, {x: src.x+src.width/2, y: src.y+tgt.height/2})\n            // this._modeling.reconnectEnd(mshape, tgt, {x: tgt.x+tgt.width/2, y: tgt.y+tgt.height/2})\n            // this._modeling.updateWaypoints(mshape, points)\n        }\n        // move all states to ensure a clean start\n        var bus = this._bus\n        var modeler = this._modeling\n        var push = 1\n        for(var k in named_els){\n            const item = named_els[k]\n            setTimeout( () => \n            {\n                modeler.moveShape(item,\n                    {x: 0.01, y:0.01},\n                    false,\n                    {\n                        recurse: false,\n                        layout: false\n                    }\n                )\n                bus.fire('element.changed', \n                    {element: item}\n                )\n            }\n            , push) \n            push += 1\n        }\n    }\n}\n\nexport default TsXmlImporter","import {\n    query as domQuery,\n} from 'min-dom';\n\nimport {\n    innerSVG\n} from 'tiny-svg';\n\nclass SvgSaver {\n\n    constructor(canvas){\n        this._canvas = canvas\n    }\n\n    save(){\n        var svg;\n        try {        \n            const contentNode = this._canvas.getActiveLayer(),\n                  defsNode = domQuery(':scope > defs', this._canvas._svg);\n        \n            const contents = innerSVG(contentNode),\n                  defs = defsNode ? '<defs>' + innerSVG(defsNode) + '</defs>' : '';\n        \n            const bbox = contentNode.getBBox();\n        \n            svg =\n              '<?xml version=\"1.0\" encoding=\"utf-8\"?>\\n' +\n              '<!-- created with the help of adam banham / http://adambanham.io -->\\n' +\n              '<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\\n' +\n              '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" ' +\n              'width=\"' + bbox.width + '\" height=\"' + bbox.height + '\" ' +\n              'viewBox=\"' + bbox.x + ' ' + bbox.y + ' ' + bbox.width + ' ' + bbox.height + '\" version=\"1.1\">' +\n              defs + contents +\n              '</svg>';\n          } catch (err) {\n            alert(\"Unable to serialise svg :: \" +\n                err\n            )\n            return null\n          }\n          return svg\n    }\n}\n\nexport default SvgSaver","\nimport TsXmlExporter from \"../exporter.js\"\nimport TsXmlImporter from \"../importer.js\";\nimport SvgSaver from \"../svgSaver.js\";\n\n/**\n * A example palette provider.\n */\nexport default function ExamplePaletteProvider(\n    create, elementFactory, lassoTool, palette, connect, registry,\n    modeling, canvas, eventBus, textRenderer) {\n    this._create = create;\n    this._elementFactory = elementFactory;\n    this._lassoTool = lassoTool;\n    this._palette = palette;\n    this._connect = connect;\n    this._registry = registry;\n    this._modeling = modeling\n    this._canvas = canvas\n    this._bus = eventBus\n    this._textRenderer = textRenderer\n  \n    palette.registerProvider(this);\n  }\n  \n  ExamplePaletteProvider.$inject = [\n    'create',\n    'elementFactory',\n    'lassoTool',\n    'palette',\n    'connect',\n    'elementRegistry',\n    'modeling',\n    'canvas',\n    'eventBus',\n    'textRenderer'\n  ];\n  \n  \n  ExamplePaletteProvider.prototype.getPaletteEntries = function() {\n    var create = this._create,\n        elementFactory = this._elementFactory,\n        lassoTool = this._lassoTool,\n        registry = this._registry,\n        modeling = this._modeling,\n        canvas = this._canvas,\n        bus = this._bus,\n        connect = this._connect,\n        textRenderer = this._textRenderer;\n  \n    return {\n      'lasso-tool': {\n        group: 'tools',\n        className: 'mdi-lasso mdi',\n        title: 'Activate Lasso Tool',\n        action: {\n          click: function(event) {\n            lassoTool.activateSelection(event);\n          }\n        }\n      },\n      'tool-separator': {\n        group: 'tools',\n        separator: true\n      },\n      'create-place': {\n        group: 'create',\n        className: 'mdi-circle-outline mdi',\n        title: 'Add Place',\n        action: {\n          click: function(event) {\n            var shape = elementFactory.createPlace({\n              x: 0, y:0,\n            });\n            create.start(event, shape);\n          }\n        }\n      },\n      'create-transition': {\n        group: 'create',\n        className: 'mdi-square-rounded-outline mdi',\n        title: 'Add Transition',\n        action: {\n          click: function(event) {\n            var shape = elementFactory.createTransition({\n              x: 0, y:0,\n            });\n            create.start(event, shape);\n          }\n        }\n      },\n      'create-separator': {\n        group: 'create',\n        separator: true\n      },\n      'import-model': {\n        group: 'model',\n        className: 'mdi-import mdi',\n        title: 'Import Model',\n        action: {\n          click: function(event) {\n            let input = document.createElement('input');\n            var parser = new TsXmlImporter(modeling,\n              elementFactory, canvas, registry, bus, textRenderer)\n            input.type = 'file';\n            input.accept = '.pnml';\n            input.onchange = _ => {\n              // you can use this method to get file and perform respective operations\n                      let xml =   Array.from(input.files)[0];\n                      xml.text()\n                        .then( content => \n                        {\n                          input.remove()\n                          URL.revokeObjectURL(input)\n                          var tree = new DOMParser().parseFromString(\n                            content, \"text/xml\"\n                          )\n                          \n                          var errors = tree.getElementsByTagName(\"parsererror\")\n                          if (errors.length > 0){\n                            alert(\n                              \"Parsing failed :: \"\n                              + errors[0].textContent\n                            )\n                            return\n                          }\n                          var system = tree.getElementsByTagName(\"page\")\n                          if (system.length > 0){\n                            parser.import(system[0])\n                          }\n                        }\n                        )\n                  };\n            input.click();\n          }\n        }\n      },\n      'export-model': {\n        group: 'model',\n        className: 'mdi-export mdi',\n        title: 'Export Model',\n        action: {\n          click: function(event) {\n            // Generate the content you want to download as a string\n            const content = new TsXmlExporter(registry).export()\n\n            // Create a Blob (Binary Large Object) from the content\n            const blob = new Blob([content], { type: 'text/plain' });\n\n            // Create a link element for downloading the file\n            const a = document.createElement('a');\n            a.href = URL.createObjectURL(blob);\n            a.download = 'petri_net.pnml'; // Specify the default filename\n\n            // Trigger a click event on the link to initiate the download\n            a.click();\n\n            // Clean up resources (revoke the URL to free up memory)\n            URL.revokeObjectURL(blob);\n            a.remove()\n          }\n        }\n      },\n      'export-svg': {\n        group: 'model',\n        className: 'mdi-content-save-move-outline mdi',\n        title: 'Export SVG',\n        action: {\n          click: function(event) {\n            // Generate the content you want to download as a string\n            const content = new SvgSaver(canvas).save()\n\n            // Create a Blob (Binary Large Object) from the content\n            const blob = new Blob([content], { type: 'text/plain' });\n\n            // Create a link element for downloading the file\n            const a = document.createElement('a');\n            a.href = URL.createObjectURL(blob);\n            a.download = 'transition_system.svg'; // Specify the default filename\n\n            // Trigger a click event on the link to initiate the download\n            a.click();\n\n            // Clean up resources (revoke the URL to free up memory)\n            URL.revokeObjectURL(blob);\n            a.remove()\n          }\n        }\n      },\n      'model-separator': {\n        group: 'model',\n        separator: true\n      },\n      'fitview': {\n        group: 'view',\n        className: 'mdi-overscan mdi',\n        title: 'fit to screen',\n        action: {\n          click: function(event) {\n            const {inner} = canvas.viewbox()\n            var center = {\n              x: inner.x + inner.width/2,\n              y: inner.y + inner.height/2\n            }\n            canvas.zoom('fit-viewport', center)\n          }\n        }\n      },\n      'view-separator': {\n        group: 'view',\n        separator: true\n      },\n      'clear-model': {\n        group: 'clear',\n        className: 'mdi-trash-can-outline mdi',\n        title: 'clear all elements',\n        action: {\n          click: function(event) {\n            // clear the system, except for root\n            var els = registry.getAll().filter(\n                (v) => {\n                    return !v.id.includes(\"implicitroot\")\n                }\n            )\n            if (els.length > 0){\n                bus.fire('formal.clear', {})\n                els.forEach(\n                  (el) => elementFactory.releaseIdentifer(el)\n                )\n                modeling.removeElements(\n                    els\n                )\n            }\n          }\n        }\n      },\n    };\n  };","\nimport {\n    isPlace, isTransition, isFlow\n} from \"../elements/pertiElementFactory\"\n\nimport  {\n    isLabel, isConnection\n} from \"diagram-js/lib/util/ModelUtil\"\n\nimport {\n    findFreePosition,\n    generateGetNextPosition,\n    getConnectedDistance\n} from 'diagram-js/lib/features/auto-place/AutoPlaceUtil.js';\n  \n\nexport default function ContextPadProvider(\n    create, elementFactory, connect, contextPad, modeling, eventBus, registry\n) {\n    this._create = create;\n    this._elementFactory = elementFactory;\n    this._connect = connect;\n    this._modeling = modeling;\n    this._eventBus = eventBus;\n    this._registry = registry\n    // debugger;\n    contextPad.registerProvider(this);\n}\n\n    ContextPadProvider.$inject = [\n        'create',\n        'elementFactory',\n        'connect',\n        'contextPad',\n        'modeling',\n        'eventBus',\n        'elementRegistry'\n\n    ];\n\n    ContextPadProvider.prototype.getContextPadEntries = function(element){\n        \n        var connect = this._connect,\n            modeling = this._modeling,\n            factory = this._elementFactory,\n            create = this._create,\n            registry = this._registry,\n            bus = this._eventBus;\n\n        function removeElement(event, target, autoActivate) {\n            bus.fire('pad.delete', {\n                elements: [element]\n            })\n            modeling.removeElements([ element ]);\n        }\n            \n\n        function startConnect(event, element, autoActivate) {\n            connect.start(event, element, autoActivate);\n        }\n\n        function switchStateType(event, element, autoActivate){\n            modeling.toggleTransitionType(element)\n        }\n\n        function flipConnection(event, element){\n            var src = element.source\n            var tgt = element.target\n            var waypoints = [\n                {x: tgt.x, y: tgt.y},\n                {x: src.x, y: src.y}\n            ]\n            element.source = tgt \n            element.target = src \n            element.waypoints = waypoints\n            modeling.removeConnection(element)\n            var connect = modeling.createConnection(tgt, src, element, src.parent)\n            modeling.layoutConnection (\n                connect,\n            )\n            bus.fire('elements.changed', {\n                elements: [connect, element, tgt, src]})\n        }\n\n        function createConnectedTransition(event, element, silent=false){\n            var trans = factory.createTransition({\n                x: element.x+100,\n                y: element.y+100\n            }, silent)\n            trans = modeling.createShape(\n                trans, {x:trans.x, y:trans.y}, element.parent, 1\n            )\n            var connect = factory.createFlow({\n                source: element,\n                target: trans})\n            modeling.createConnection(\n                element, trans, connect, element.parent)\n            bus.fire('elements.changed', {\n                elements: [trans,element, connect]}\n            )            \n        }\n\n        function createConnectedPlace(event, element){\n            var place = factory.createPlace({\n                x: element.x+100,\n                y: element.y+100\n            })\n            place = modeling.createShape(\n                place, {x:place.x, y:place.y}, element.parent, 1\n            )\n            var connect = factory.createFlow({\n                source: element,\n                target: place})\n            modeling.createConnection(\n                element, place, connect, element.parent)\n            bus.fire('elements.changed', {\n                elements: [place,element, connect]}\n            )\n        }\n\n        var contextPadOptions = {}\n\n        // alaways present\n        contextPadOptions['delete'] = {\n            action: {\n                click: removeElement,\n            },\n            className: 'context-pad-delete',\n            html: '<div class=\"entry mdi-delete mdi editor-hover\"/>',\n            title: 'delete',\n            group: 'edit'\n        }\n\n        if (isLabel(element)){\n            return contextPadOptions\n        }\n\n        if (isFlow(element)){\n\n            contextPadOptions['flip'] = {\n                action: {\n                    click: flipConnection\n                },\n                class: 'context-pad-flip',\n                html: '<div class=\"entry mdi mdi-arrow-left-right editor-hover\"/>',\n                title: 'flip direction',\n                group: 'edit'\n            }\n\n            return contextPadOptions\n        }\n\n        if (isTransition(element)){\n            contextPadOptions['switch'] = {\n                action: {\n                    click: switchStateType\n                },\n                class: 'context-pad-switch',\n                html: '<div class=\"entry mdi mdi-toggle-switch mdi editor-hover\"/>',\n                title: element.silent ? 'make visible' : 'make silent',\n                group: 'edit'\n            }\n\n        }\n\n        if (isPlace(element)){\n            contextPadOptions['create-trans'] = {\n                action: {\n                    click: createConnectedTransition\n                },\n                class: 'context-pad-create-trans',\n                html: '<div class=\"entry mdi mdi-square-rounded-outline editor-hover\"/>',\n                title: 'add transition',\n                group: 'add'\n            }\n            contextPadOptions['create-sil-trans'] = {\n                action: {\n                    click: (ev,el) => createConnectedTransition(ev, el, true)\n                },\n                class: 'context-pad-create-sil-trans',\n                html: '<div class=\"entry mdi mdi-square-rounded editor-hover\"/>',\n                title: 'add silent transition',\n                group: 'add'\n            }\n        }\n\n        if (isTransition(element)){\n            contextPadOptions['create-place'] = {\n                action: {\n                    click: createConnectedPlace\n                },\n                class: 'context-pad-create-place',\n                html: '<div class=\"entry mdi mdi-circle-outline editor-hover\"/>',\n                title: 'add place',\n                group: 'add'\n            }\n        }\n\n        contextPadOptions['connect'] = {\n            action: {\n                click: startConnect,\n                dragstart: startConnect\n            },\n            className: 'context-pad-contect',\n            html: '<div class=\"entry mdi-arrow-right-thick mdi editor-hover\"/>',\n            title: 'connect',\n            group: 'join'\n        }\n        \n\n        return contextPadOptions\n    }","import {\n    assign\n} from 'min-dash';\n\nimport  {\n  isLabel\n} from \"diagram-js/lib/util/ModelUtil\"\n\nimport {\n  isTransition\n} from '../elements/pertiElementFactory'\n\n// helpers //////////\nfunction isEmptyText(label) {\n    return !label || !label.trim();\n}\n\nfunction isState(element) {\n    return isTransition(element) \n}\n\nfunction getLabel(element){\n  if (isState(element))\n    return element.stateLabel || null\n  else if (isLabel(element))\n    return element.text || null\n  return element.arcLabel || null\n}\n  \nvar HIGH_PRIORITY = 2000;\n  \nexport default function LabelEditingProvider(\n      eventBus, factory, canvas, directEditing,\n      modeling, textRenderer) {\n  \n    this._factory = factory;\n    this._canvas = canvas;\n    this._modeling = modeling;\n    this._textRenderer = textRenderer;\n    this._bus = eventBus\n  \n    directEditing.registerProvider(this);\n  \n    // listen to dblclick on non-root elements\n    eventBus.on('element.dblclick', function(event) {\n      activateDirectEdit(event.element, true);\n    });\n  \n    // complete on followup canvas operation\n    eventBus.on([\n      'autoPlace.start',\n      'canvas.viewbox.changing',\n      'drag.init',\n      'element.mousedown',\n      'popupMenu.open',\n      'root.set',\n      'selection.changed'\n    ], function() {\n      if (directEditing.isActive()) {\n        directEditing.complete();\n      }\n    });\n  \n    eventBus.on([\n      'shape.remove',\n      'connection.remove'\n    ], HIGH_PRIORITY, function(event) {\n  \n      if (directEditing.isActive(event.element)) {\n        directEditing.cancel();\n      }\n    });\n  \n    // cancel on command stack changes\n    eventBus.on([ 'commandStack.changed' ], function(e) {\n      if (directEditing.isActive()) {\n        directEditing.cancel();\n      }\n    });\n  \n  \n    eventBus.on('directEditing.activate', function(event) {\n    //   resizeHandles.removeResizers();\n    });\n  \n    eventBus.on('create.end', 500, function(event) {\n  \n      var context = event.context,\n          element = context.shape,\n          canExecute = event.context.canExecute,\n          isTouch = event.isTouch;\n  \n      if (isTouch) {\n        return;\n      }\n  \n      if (!canExecute) {\n        return;\n      }\n  \n      if (context.hints && context.hints.createElementsBehavior === false) {\n        return;\n      }\n  \n      activateDirectEdit(element);\n    });\n  \n    eventBus.on('autoPlace.end', 500, function(event) {\n      activateDirectEdit(event.shape);\n    });\n  \n  \n    function activateDirectEdit(element, force) {\n        directEditing.activate(element);\n    }\n  \n  }\n  \n  LabelEditingProvider.$inject = [\n    'eventBus',\n    'elementFactory',\n    'canvas',\n    'directEditing',\n    'modeling',\n    // 'resizeHandles',\n    'textRenderer'\n  ];\n  \n  \n  /**\n   * Activate direct editing for activities and text annotations.\n   *\n   * @param {Element} element\n   *\n   * @return { {\n   *   text: string;\n   *   options?: {\n   *     autoResize?: boolean;\n   *     centerVertically?: boolean;\n   *     resizable?: boolean;\n   *   }\n   * } & DirectEditingContext }\n   */\n  LabelEditingProvider.prototype.activate = function(element) {\n\n    // only allow label editing on transitions\n    if (!isTransition(element)){return}\n    // allow allow label editing on non silent\n    if(element.silent){return}\n  \n    // text\n    var text = getLabel(element);\n  \n    if (text === undefined) {\n      return;\n    }\n  \n    var context = {\n      text: text\n    };\n  \n    // bounds\n    var bounds = this.getEditingBBox(element);\n  \n    assign(context, bounds);\n  \n    var options = {};\n    var style = context.style || {};\n  \n    // Remove background and border\n    assign(style, {\n      backgroundColor: \"rgba(0,0,0,0.5)\",\n      padding: '3px',\n      'border-radius': '5px',\n      color: 'red',\n      border: null\n    });\n  \n    assign(context, {\n      options: options,\n      style: style\n    });\n  \n    return context;\n  };\n  \n  \n  /**\n   * Get the editing bounding box based on the element's size and position.\n   *\n   * @param {Element} element\n   *\n   * @return {DirectEditingContext}\n   */\n  LabelEditingProvider.prototype.getEditingBBox = function(element) {\n    var canvas = this._canvas;\n  \n    var target = element.label || element;\n  \n    var bbox = canvas.getAbsoluteBBox(target);\n  \n    var mid = {\n      x: bbox.x + bbox.width / 2,\n      y: bbox.y + bbox.height / 2\n    };\n  \n    // default position\n    var bounds = { x: bbox.x, y: bbox.y };\n  \n    var zoom = canvas.zoom();\n  \n    var defaultStyle = this._textRenderer.getDefaultStyle(),\n        externalStyle = this._textRenderer.getExternalStyle();\n  \n    // take zoom into account\n    var externalFontSize = externalStyle.fontSize * zoom,\n        externalLineHeight = externalStyle.lineHeight,\n        defaultFontSize = defaultStyle.fontSize * zoom,\n        defaultLineHeight = defaultStyle.lineHeight;\n  \n    var style = defaultStyle;\n\n    return { bounds: bounds, style: style };\n  };\n  \n  \n  LabelEditingProvider.prototype.update = function(\n      element, newLabel,\n      activeContextText, bounds) {\n  \n    if (isEmptyText(newLabel)) {\n      newLabel = \"\";\n      return\n    }\n    var position;\n    if (isState(element)){\n      element.labelText = newLabel\n      this._bus.fire('elements.changed', {elements: [element]})\n      return\n    } \n   \n  };","import OrderingProvider from \"diagram-js/lib/features/ordering/OrderingProvider.js\"\n\nimport { \n    isFlow } from '../elements/pertiElementFactory';\n\nclass CustomOrderingProvider extends OrderingProvider{\n\n    constructor(eventbus){\n        super(eventbus)\n    }\n\n    getOrdering(element, newParent){\n        if (isFlow(element)){\n            return {\n                index: 1,\n                parent: newParent\n            }\n        } else {\n            return {\n                index: -1,\n                parent: newParent\n            }\n        }\n    }\n}\n\nCustomOrderingProvider.$inject = ['eventBus']\n\nexport default CustomOrderingProvider","import {\n    assign\n} from 'min-dash';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport {\n    getDistancePointPoint,\n    rotateVector,\n    getAngle\n  } from 'diagram-js/lib/features/bendpoints/GeometricUtil'\n\nimport {\n  getMid,\n  roundPoint\n} from 'diagram-js/lib/layout/LayoutUtil';\n\nvar sqrt = Math.sqrt,\n    min = Math.min,\n    max = Math.max,\n    abs = Math.abs;\n\nfunction sq(n) {\n    return Math.pow(n, 2);\n}\n\nvar EQUAL_THRESHOLD = 0.1;\n\nclass LabelBehaviour extends CommandInterceptor {\n\n    constructor(eventBus, modeling, factory, textRenderer){\n        super(eventBus)\n\n        // have labels move around when connections move\n        var self = this\n        this.postExecute([\n            'connection.layout',\n            'connection.updateWaypoints'\n          ], function(event) {\n            var context = event.context,\n                hints = context.hints || {};\n        \n            if (hints.labelBehavior === false) {\n              return;\n            }\n        \n            var connection = context.connection,\n                label = connection.label,\n                labelAdjustment;\n        \n            // handle missing label as well as the case\n            // that the label parent does not exist (yet),\n            // because it is being pasted / created via multi element create\n            //\n            // Cf. https://github.com/bpmn-io/bpmn-js/pull/1227\n            if (!label || !label.parent) {\n              return;\n            }\n        \n            labelAdjustment = self.getVisibleLabelAdjustment(event);\n        \n            modeling.moveShape(label, labelAdjustment);\n          });\n    }\n\n    getVisibleLabelAdjustment(event) {\n\n        var context = event.context,\n            connection = context.connection,\n            label = connection.label,\n            hints = assign({}, context.hints),\n            newWaypoints = context.newWaypoints || connection.waypoints,\n            oldWaypoints = context.oldWaypoints;\n    \n    \n        if (typeof hints.startChanged === 'undefined') {\n          hints.startChanged = !!hints.connectionStart;\n        }\n    \n        if (typeof hints.endChanged === 'undefined') {\n          hints.endChanged = !!hints.connectionEnd;\n        }\n    \n        return this.getLabelAdjustment(label, newWaypoints, oldWaypoints, hints);\n    }\n\n    getLabelAdjustment(label, newWaypoints, oldWaypoints, hints) {\n        var labelPosition = getMid(label);\n      \n        return this.getAnchorPointAdjustment(labelPosition, newWaypoints, oldWaypoints, hints).delta;\n    }\n\n    findNewLineStartIndex(oldWaypoints, newWaypoints, attachment, hints) {\n\n        var index = attachment.segmentIndex;\n      \n        var offset = newWaypoints.length - oldWaypoints.length;\n      \n        // segmentMove happened\n        if (hints.segmentMove) {\n      \n          var oldSegmentStartIndex = hints.segmentMove.segmentStartIndex,\n              newSegmentStartIndex = hints.segmentMove.newSegmentStartIndex;\n      \n          // if point was on moved segment return new segment index\n          if (index === oldSegmentStartIndex) {\n            return newSegmentStartIndex;\n          }\n      \n          // point is after new segment index\n          if (index >= newSegmentStartIndex) {\n            return (index + offset < newSegmentStartIndex) ? newSegmentStartIndex : index + offset;\n          }\n      \n          // if point is before new segment index\n          return index;\n        }\n      \n        // bendpointMove happened\n        if (hints.bendpointMove) {\n      \n          var insert = hints.bendpointMove.insert,\n              bendpointIndex = hints.bendpointMove.bendpointIndex,\n              newIndex;\n      \n          // waypoints length didnt change\n          if (offset === 0) {\n            return index;\n          }\n      \n          // point behind new/removed bendpoint\n          if (index >= bendpointIndex) {\n            newIndex = insert ? index + 1 : index - 1;\n          }\n      \n          // point before new/removed bendpoint\n          if (index < bendpointIndex) {\n      \n            newIndex = index;\n      \n            // decide point should take right or left segment\n            if (insert && attachment.type !== 'bendpoint' && bendpointIndex - 1 === index) {\n      \n              var rel = relativePositionMidWaypoint(newWaypoints, bendpointIndex);\n      \n              if (rel < attachment.relativeLocation) {\n                newIndex++;\n              }\n            }\n          }\n      \n          return newIndex;\n        }\n      \n        // start/end changed\n        if (offset === 0) {\n          return index;\n        }\n      \n        if (hints.connectionStart && index === 0) {\n          return 0;\n        }\n      \n        if (hints.connectionEnd && index === oldWaypoints.length - 2) {\n          return newWaypoints.length - 2;\n        }\n      \n        // if nothing fits, take the middle segment\n        return Math.floor((newWaypoints.length - 2) / 2);\n      }\n      \n\n    getAnchorPointAdjustment(position, newWaypoints, oldWaypoints, hints) {\n        var dx = 0,\n            dy = 0;\n      \n        var oldPosition = {\n          point: position,\n          delta: { x: 0, y: 0 }\n        };\n      \n        // get closest attachment\n        var attachment = getAttachment(position, oldWaypoints),\n            oldLabelLineIndex = attachment.segmentIndex,\n            newLabelLineIndex = findNewLineStartIndex(oldWaypoints, newWaypoints, attachment, hints);\n      \n      \n        // should never happen\n        // TODO(@janstuemmel): throw an error here when connectionSegmentMove is refactored\n        if (newLabelLineIndex < 0 ||\n            newLabelLineIndex > newWaypoints.length - 2 ||\n            newLabelLineIndex === null) {\n          return oldPosition;\n        }\n      \n        var oldLabelLine = getLine(oldWaypoints, oldLabelLineIndex),\n            newLabelLine = getLine(newWaypoints, newLabelLineIndex),\n            oldFoot = attachment.position;\n      \n        var relativeFootPosition = getRelativeFootPosition(oldLabelLine, oldFoot),\n            angleDelta = getAngleDelta(oldLabelLine, newLabelLine);\n      \n        // special rule if label on bendpoint\n        if (attachment.type === 'bendpoint') {\n      \n          var offset = newWaypoints.length - oldWaypoints.length,\n              oldBendpointIndex = attachment.bendpointIndex,\n              oldBendpoint = oldWaypoints[oldBendpointIndex];\n      \n          // bendpoint position hasn't changed, return same position\n          if (newWaypoints.indexOf(oldBendpoint) !== -1) {\n            return oldPosition;\n          }\n      \n          // new bendpoint and old bendpoint have same index, then just return the offset\n          if (offset === 0) {\n            var newBendpoint = newWaypoints[oldBendpointIndex];\n      \n            dx = newBendpoint.x - attachment.position.x,\n            dy = newBendpoint.y - attachment.position.y;\n      \n            return {\n              delta: {\n                x: dx,\n                y: dy\n              },\n              point: {\n                x: position.x + dx,\n                y: position.y + dy\n              }\n            };\n          }\n      \n          // if bendpoints get removed\n          if (offset < 0 && oldBendpointIndex !== 0 && oldBendpointIndex < oldWaypoints.length - 1) {\n            relativeFootPosition = relativePositionMidWaypoint(oldWaypoints, oldBendpointIndex);\n          }\n        }\n      \n        var newFoot = {\n          x: (newLabelLine[1].x - newLabelLine[0].x) * relativeFootPosition + newLabelLine[0].x,\n          y: (newLabelLine[1].y - newLabelLine[0].y) * relativeFootPosition + newLabelLine[0].y\n        };\n      \n        // the rotated vector to label\n        var newLabelVector = rotateVector({\n          x: position.x - oldFoot.x,\n          y: position.y - oldFoot.y\n        }, angleDelta);\n      \n        // the new relative position\n        dx = newFoot.x + newLabelVector.x - position.x;\n        dy = newFoot.y + newLabelVector.y - position.y;\n      \n        return {\n          point: roundPoint(newFoot),\n          delta: roundPoint({\n            x: dx,\n            y: dy\n          })\n        };\n    }\n}\n\nfunction getRelativeFootPosition(line, foot) {\n\n    var length = getDistancePointPoint(line[0], line[1]),\n        lengthToFoot = getDistancePointPoint(line[0], foot);\n  \n    return length === 0 ? 0 : lengthToFoot / length;\n}\n\nfunction getAngleDelta(l1, l2) {\n    var a1 = getAngle(l1),\n        a2 = getAngle(l2);\n    return a2 - a1;\n  }\n\nfunction relativePositionMidWaypoint(waypoints, idx) {\n\n    var distanceSegment1 = getDistancePointPoint(waypoints[idx - 1], waypoints[idx]),\n        distanceSegment2 = getDistancePointPoint(waypoints[idx], waypoints[idx + 1]);\n  \n    var relativePosition = distanceSegment1 / (distanceSegment1 + distanceSegment2);\n  \n    return relativePosition;\n  }\n\nfunction getLine(waypoints, idx) {\n    return [ waypoints[idx], waypoints[idx + 1] ];\n}\n\nfunction getDistance(p1, p2) {\n    return sqrt(sq(p1.x - p2.x) + sq(p1.y - p2.y));\n}\n\nfunction pointsEqual(p1, p2) {\n    return (\n        abs(p1.x - p2.x) <= EQUAL_THRESHOLD &&\n        abs(p1.y - p2.y) <= EQUAL_THRESHOLD\n    );\n}\n\nfunction isPointInSegment(p, segmentStart, segmentEnd) {\n    return (\n      fenced(p.x, segmentStart.x, segmentEnd.x) &&\n      fenced(p.y, segmentStart.y, segmentEnd.y)\n    );\n}\n\nfunction fenced(n, rangeStart, rangeEnd) {\n    // use matching threshold to work around\n    // precision errors in intersection computation\n  \n    return (\n      n >= min(rangeStart, rangeEnd) - EQUAL_THRESHOLD &&\n      n <= max(rangeStart, rangeEnd) + EQUAL_THRESHOLD\n    );\n}\n\nfunction mid(p1, p2) {\n\n    return {\n      x: (p1.x + p2.x) / 2,\n      y: (p1.y + p2.y) / 2\n    };\n}\n\nfunction findNewLineStartIndex(oldWaypoints, newWaypoints, attachment, hints) {\n\n    var index = attachment.segmentIndex;\n  \n    var offset = newWaypoints.length - oldWaypoints.length;\n  \n    // segmentMove happened\n    if (hints.segmentMove) {\n  \n      var oldSegmentStartIndex = hints.segmentMove.segmentStartIndex,\n          newSegmentStartIndex = hints.segmentMove.newSegmentStartIndex;\n  \n      // if point was on moved segment return new segment index\n      if (index === oldSegmentStartIndex) {\n        return newSegmentStartIndex;\n      }\n  \n      // point is after new segment index\n      if (index >= newSegmentStartIndex) {\n        return (index + offset < newSegmentStartIndex) ? newSegmentStartIndex : index + offset;\n      }\n  \n      // if point is before new segment index\n      return index;\n    }\n  \n    // bendpointMove happened\n    if (hints.bendpointMove) {\n  \n      var insert = hints.bendpointMove.insert,\n          bendpointIndex = hints.bendpointMove.bendpointIndex,\n          newIndex;\n  \n      // waypoints length didnt change\n      if (offset === 0) {\n        return index;\n      }\n  \n      // point behind new/removed bendpoint\n      if (index >= bendpointIndex) {\n        newIndex = insert ? index + 1 : index - 1;\n      }\n  \n      // point before new/removed bendpoint\n      if (index < bendpointIndex) {\n  \n        newIndex = index;\n  \n        // decide point should take right or left segment\n        if (insert && attachment.type !== 'bendpoint' && bendpointIndex - 1 === index) {\n  \n          var rel = relativePositionMidWaypoint(newWaypoints, bendpointIndex);\n  \n          if (rel < attachment.relativeLocation) {\n            newIndex++;\n          }\n        }\n      }\n  \n      return newIndex;\n    }\n  \n    // start/end changed\n    if (offset === 0) {\n      return index;\n    }\n  \n    if (hints.connectionStart && index === 0) {\n      return 0;\n    }\n  \n    if (hints.connectionEnd && index === oldWaypoints.length - 2) {\n      return newWaypoints.length - 2;\n    }\n  \n    // if nothing fits, take the middle segment\n    return Math.floor((newWaypoints.length - 2) / 2);\n}\n  \n\nfunction getCircleSegmentIntersections(s1, s2, cc, cr) {\n\n    var baX = s2.x - s1.x;\n    var baY = s2.y - s1.y;\n    var caX = cc.x - s1.x;\n    var caY = cc.y - s1.y;\n  \n    var a = baX * baX + baY * baY;\n    var bBy2 = baX * caX + baY * caY;\n    var c = caX * caX + caY * caY - cr * cr;\n  \n    var pBy2 = bBy2 / a;\n    var q = c / a;\n  \n    var disc = pBy2 * pBy2 - q;\n  \n    // check against negative value to work around\n    // negative, very close to zero results (-4e-15)\n    // being produced in some environments\n    if (disc < 0 && disc > -0.000001) {\n      disc = 0;\n    }\n  \n    if (disc < 0) {\n      return [];\n    }\n  \n    // if disc == 0 ... dealt with later\n    var tmpSqrt = sqrt(disc);\n    var abScalingFactor1 = -pBy2 + tmpSqrt;\n    var abScalingFactor2 = -pBy2 - tmpSqrt;\n  \n    var i1 = {\n      x: s1.x - baX * abScalingFactor1,\n      y: s1.y - baY * abScalingFactor1\n    };\n  \n    if (disc === 0) { // abScalingFactor1 == abScalingFactor2\n      return [ i1 ];\n    }\n  \n    var i2 = {\n      x: s1.x - baX * abScalingFactor2,\n      y: s1.y - baY * abScalingFactor2\n    };\n  \n    // return only points on line segment\n    return [ i1, i2 ].filter(function(p) {\n      return isPointInSegment(p, s1, s2);\n    });\n  }\n  \n\nfunction getAttachment(point, line) {\n\n    var idx = 0,\n        segmentStart,\n        segmentEnd,\n        segmentStartDistance,\n        segmentEndDistance,\n        attachmentPosition,\n        minDistance,\n        intersections,\n        attachment,\n        attachmentDistance,\n        closestAttachmentDistance,\n        closestAttachment;\n  \n    for (idx = 0; idx < line.length - 1; idx++) {\n  \n      segmentStart = line[idx];\n      segmentEnd = line[idx + 1];\n  \n      if (pointsEqual(segmentStart, segmentEnd)) {\n        intersections = [ segmentStart ];\n      } else {\n        segmentStartDistance = getDistance(point, segmentStart);\n        segmentEndDistance = getDistance(point, segmentEnd);\n  \n        minDistance = min(segmentStartDistance, segmentEndDistance);\n  \n        intersections = getCircleSegmentIntersections(segmentStart, segmentEnd, point, minDistance);\n      }\n  \n      if (intersections.length < 1) {\n        throw new Error('expected between [1, 2] circle -> line intersections');\n      }\n  \n      // one intersection -> bendpoint attachment\n      if (intersections.length === 1) {\n        attachment = {\n          type: 'bendpoint',\n          position: intersections[0],\n          segmentIndex: idx,\n          bendpointIndex: pointsEqual(segmentStart, intersections[0]) ? idx : idx + 1\n        };\n      }\n  \n      // two intersections -> segment attachment\n      if (intersections.length === 2) {\n  \n        attachmentPosition = mid(intersections[0], intersections[1]);\n  \n        attachment = {\n          type: 'segment',\n          position: attachmentPosition,\n          segmentIndex: idx,\n          relativeLocation: getDistance(segmentStart, attachmentPosition) / getDistance(segmentStart, segmentEnd)\n        };\n      }\n  \n      attachmentDistance = getDistance(attachment.position, point);\n  \n      if (!closestAttachment || closestAttachmentDistance > attachmentDistance) {\n        closestAttachment = attachment;\n        closestAttachmentDistance = attachmentDistance;\n      }\n    }\n  \n    return closestAttachment;\n  }\n  \n\nLabelBehaviour.$inject = [\n    'eventBus',\n    'modeling',\n    'elementFactory',\n    'textRenderer'\n]\n\nexport default LabelBehaviour","import ChangeSupportModule from 'diagram-js/lib/features/change-support';\nimport DirectEditingModule from 'diagram-js-direct-editing';\n\nimport ExamplePaletteProvider from \"./PaletteProvider.js\"\nimport ContextPadProvider from \"./ContextPadProvider.js\"\nimport LabelEditingProvider from \"./StateLabelEditingProvider.js\"\nimport OrderingProvider from \"./OrderingProvider.js\"\nimport LabelBehaviour from './LabelBehaviour.js';\n\nexport default {\n    __depends__:[\n        ChangeSupportModule,\n        DirectEditingModule\n    ],\n    __init__ : [\n        'examplePaletteProvider',\n        // 'popupMenuProvider',\n        'contextPadProvider',\n        'labelEditingProvider',\n        'orderingProvidier',\n        'labelBehaviour'\n    ],\n    examplePaletteProvider: ['type', ExamplePaletteProvider],\n    // popupMenuProvider: ['type', PopupMenuProvider],\n    contextPadProvider: ['type', ContextPadProvider],\n    labelEditingProvider: ['type', LabelEditingProvider],\n    orderingProvidier: ['type', OrderingProvider],\n    labelBehaviour: ['type', LabelBehaviour]\n}","import {\n    classes as svgClasses,\n    append as svgAppend,\n    attr as svgAttr,\n    create as svgCreate,\n    clone as svgClone\n  } from 'tiny-svg';\n\nimport { assign } from 'min-dash';\n\nimport BaseRenderer from \"diagram-js/lib/draw/BaseRenderer\"\nimport {\n    createLine\n  } from 'diagram-js/lib/util/RenderUtil';\n\nimport { \n    isPlace,\n    isTransition,\n    isFlow\n} from '../elements/pertiElementFactory';\n\nimport {\n    transitionSize, placeRadius\n} from \"../elements/staticShapeDesc\"\n  \n\n\nvar RENDER_PRIORITY = 1500;\nconst LABEL_COLOUR = \"#01031b\"\nconst INNER_ICON_FILL_COLOUR = \"#222222\"\nconst MARKED_COLOR = \"#ebdf3f\"\nconst TEXT_STYLE = {\n      fontFamily: 'Arial, sans-serif',\n      fontSize: 8,\n      fontWeight: 'normal',\n      textLength: (transitionSize) - 10,\n      textAnchor: 'middle',\n      dominantBaseline: 'middle'\n}\nconst PLACE_TEXT_STYLE = {\n    fontFamily: 'Arial, sans-serif',\n    fontSize: 8,\n    fontWeight: 'normal',\n    textAnchor: 'middle',\n    dominantBaseline: 'middle'\n}\n\n\nexport default class PetriRenderer extends  BaseRenderer {\n    \n    constructor(eventBus, styles, canvas, textRender) {\n        super(eventBus, 1)\n        var self = this;\n        this._textRender = textRender\n\n        var renderPriority = RENDER_PRIORITY;\n\n        eventBus.on([ 'render.shape' ], renderPriority, function(evt, context) {\n            var type = evt.type,\n                element = context.element,\n                visuals = context.gfx,\n                attrs = context.attrs;\n\n            if (self.canRender(element)) {\n                return self.drawShape(visuals, element, attrs);\n            }\n        });\n        eventBus.on(['render.connection' ], renderPriority - 50, function(evt, context) {\n            var type = evt.type,\n                element = context.element,\n                visuals = context.gfx,\n                attrs = context.attrs;\n\n            if (self.canRender(element)) {\n                return self.drawConnection(visuals, element, attrs);\n            }\n        });\n\n        this.CONNECTION_STYLE = styles.style(\n            { strokeWidth: 3, stroke: '#303c4a', strokeLinecap: 'round',\n                strokeLinejoin: 'round', fill: 'none'});\n        this.PLACE_STYLE = styles.style(\n            { fill: '#f5f5f5', stroke: '#222222', strokeWidth: 2 }\n        );\n        this.TRANSITION_STYLE = styles.style(\n            { fill: '#eea159', stroke: '#222222', strokeWidth: 2 }\n        );\n        this.SILENT_TRANSITION_STYLE = styles.style(\n            { fill: '#404040', stroke: '#222222', strokeWidth: 2 }\n        );\n\n        var defs = svgCreate(\"defs\", {})\n        this._setupMarkers(defs)\n        svgAppend(canvas.getActiveLayer(), defs)\n    }\n\n    _setupMarkers(defs){\n        var xOffset = ((placeRadius+5) * 2) / 5.0\n        var yOffset = (((placeRadius-4) / 2)) / 5\n        var marker = svgCreate(\"marker\", {\n            id: 'src-place-arrow',\n            viewbox: '0 0 10 10',\n            refX: xOffset,\n            refY: yOffset,\n            markerWidth: 5,\n            markerHeight: 5,\n            strokeWidth: 0,\n            orient: 'auto-start-reverse',\n            stroke: '#303c4a',\n            fill: '#303c4a'\n        })\n        xOffset = (((transitionSize/2)+8) * 2) / 5.0\n        yOffset = ((((transitionSize/2)-8) / 2)) / 5\n        var marker2 = svgCreate(\"marker\", {\n            id: 'src-trans-arrow',\n            viewbox: '0 0 10 10',\n            refX: xOffset,\n            refY: yOffset,\n            markerWidth: 5,\n            markerHeight: 5,\n            strokeWidth: 0,\n            orient: 'auto-start-reverse',\n            stroke: '#303c4a',\n            fill: '#303c4a'\n        })\n\n        xOffset = (((transitionSize/4) * 2.0) / 5.0) * 2.1\n        yOffset = (((transitionSize/2) / 2.0) / 5.0) * 0.9\n        var marker3 = svgCreate(\"marker\", {\n            id: 'src-silent-trans-arrow',\n            viewbox: '0 0 10 10',\n            refX: xOffset,\n            refY: yOffset,\n            markerWidth: 5,\n            markerHeight: 5,\n            strokeWidth: 0,\n            orient: 'auto-start-reverse',\n            stroke: '#303c4a',\n            fill: '#303c4a'\n        })\n        var marker4 = svgCreate(\"marker\", {\n            id: 'connect-hover-arrow',\n            viewbox: '0 0 10 10',\n            refX: 2.5,\n            refY: 2.5,\n            markerWidth: 5,\n            markerHeight: 5,\n            strokeWidth: 0,\n            orient: 'auto-start-reverse',\n            stroke: '#303c4a',\n            fill: '#2f5274'\n        })\n        var markerPath = svgCreate(\"path\", {\n            d: \"M 0 0 L 5 2.5 L 0 5 z\"\n        })\n        svgAppend(marker, markerPath)\n        markerPath = svgCreate(\"path\", {\n            d: \"M 0 0 L 5 2.5 L 0 5 z\"\n        })\n        svgAppend(marker2, markerPath)\n        markerPath = svgCreate(\"path\", {\n            d: \"M 0 0 L 5 2.5 L 0 5 z\"\n        })\n        svgAppend(marker3, markerPath)\n        markerPath = svgCreate(\"path\", {\n            d: \"M 0 0 L 5 2.5 L 0 5 z\"\n        })\n        svgAppend(marker4, markerPath)\n        svgAppend(defs, marker)\n        svgAppend(defs, marker2)\n        svgAppend(defs, marker3)\n        svgAppend(defs, marker4)\n    }\n\n    canRender(element){\n        return true;\n    }\n\n    trimId(id){\n        return id.split('-')[0][0] + id.split('-')[1]\n    }\n\n    drawShape(visuals, element, attrs) {\n            // init\n            var svgElements = [];\n            var group = svgCreate(\"g\", {})\n            \n            // construct the svg elements for the state\n            if (isPlace(element)){\n                var place = this.createCircleForState(element, this.PLACE_STYLE)\n                svgElements.push(\n                    this.createShadowForState(place)\n                )\n                svgElements.push(\n                    place\n                )\n                svgElements.push(\n                    this.drawPlaceLabel(element)\n                )\n            } else if (isTransition(element)){\n                var trans = this.drawTransition(element, this.TRANSITION_STYLE)\n                svgElements.push(\n                    this.drawTransitionShadow(trans)\n                )\n                svgElements.push(\n                    trans\n                )\n                if (!element.silent){\n                    svgElements.push(\n                        this.drawTransitionLabel(element)\n                    )\n                } else {\n                    svgElements.push(\n                        this.drawPlaceLabel(element)\n                    )\n                }\n            } else if (isFlow(element)){\n                svgElements.push(\n                    this._drawSimpleConnection(visuals, element, attrs)\n                )\n            }\n\n            // check for label\n            \n            \n            // append svgs and return the svg group\n            for(var svg of svgElements){\n                svgAppend(group, svg)\n            }\n            svgAppend(visuals, group)\n            return group;\n    };\n\n    createCircleForState(element, style){\n        var svg = svgCreate(\"circle\", style || {})\n        svgAttr(svg, \n            {\n                cx: element.cx,\n                cy: element.cy,\n                r: element.r,\n                fill: svg.fill\n            }\n        );\n        if (element.selected) {\n            svgAttr(svg,\n                {fill: MARKED_COLOR}\n            )\n        }\n        return svg\n    }\n    \n    createShadowForState(svgElement){\n        var svg = svgClone(svgElement)\n        svgAttr(svg,{\n            opacity: 0.25,\n            cx: parseFloat(svgElement.attributes.cx.nodeValue) + (placeRadius * 0.1),\n            cy: parseFloat(svgElement.attributes.cy.nodeValue) + (placeRadius * 0.1)\n        })\n        return svg\n    }\n\n    drawPlaceLabel(element){\n        var text = svgCreate('text',\n            assign({\n                opacity: 0.75,\n                x: -1 * placeRadius * 0.05,\n                y: placeRadius * 2,\n                fill: LABEL_COLOUR,\n            }, PLACE_TEXT_STYLE)\n        )\n        text.textContent = this.trimId(element.id)\n        return text\n    }\n\n    drawTransition(element, style){\n        var rect = svgCreate('rect', style || {});\n        svgAttr(rect,\n            {x:0, y:0})\n        if (element.silent){\n            svgAttr(rect, \n                {\n                    x: element.width / 4,\n                    width: element.width /2,\n                    height: element.height,\n                    rx: 10\n                }\n            );\n            svgAttr(rect, this.SILENT_TRANSITION_STYLE)\n        } else {\n            svgAttr(rect, \n                {\n                    width: element.width,\n                    height: element.height,\n                    rx: 10\n                }\n            );\n        }\n        return rect\n    }\n\n    drawTransitionLabel(element){\n        var text = svgCreate('text',\n            assign({\n                x: transitionSize/2,\n                y: transitionSize/2,\n                fill: LABEL_COLOUR,\n            }, TEXT_STYLE)\n        )\n        if (element.labelText.length > 0)\n            text.textContent = element.labelText\n        else \n        text.textContent = element.id\n        return text\n    }\n\n    drawTransitionShadow(svgElement){\n        var svg = svgClone(svgElement)\n        svgAttr(svg,{\n            opacity: 0.25,\n            x: parseFloat(svgElement.attributes.x.nodeValue) \n            + transitionSize * 0.05,\n            y: parseFloat(svgElement.attributes.y.nodeValue) \n            + transitionSize * 0.05\n        })\n        return svg\n    }\n\n    _drawSimpleConnection(visuals, connection, attrs){\n        var line = createLine(\n            connection.waypoints, assign({\n                id: connection.id\n            }, \n            this.CONNECTION_STYLE, attrs || {})\n        );\n        var waypoints = connection.waypoints.slice(0,2).map(p => {\n            return {x:p.x+5, y:p.y-5}\n        })\n        waypoints.sort(\n            (a,b) => a.x - b.x\n        )\n        var pather = createLine(\n            waypoints, {\n                id: \"d\"+connection.id\n            })\n        if (!connection.target){\n            svgAttr(\n                line,\n                {'marker-end' : \"url(#connect-hover-arrow)\",}\n            )\n        } else if (isPlace(connection.target)){\n            svgAttr(\n                line,\n                {'marker-end' : \"url(#src-place-arrow)\",}\n            )\n        } else if (isTransition(connection.target)){\n            if (connection.target.silent){\n                svgAttr(\n                    line,\n                    {'marker-end' : \"url(#src-silent-trans-arrow\"}\n                )\n            } else\n                svgAttr(\n                    line,\n                    {'marker-end' : \"url(#src-trans-arrow)\",}\n                )\n        }\n        svgAppend(visuals, pather);\n        svgAppend(visuals, line);\n        return line;\n    }\n\n    drawConnection(visuals, connection, attrs) {\n        return this._drawSimpleConnection(\n            visuals, connection, attrs\n        )\n    };\n\n    \n}\n\nPetriRenderer.$inject = [\n    'eventBus',\n    'styles',\n    'canvas',\n    'textRenderer'\n]","import { assign } from 'min-dash';\n\nimport TextUtil from 'diagram-js/lib/util/Text';\n\nvar DEFAULT_FONT_SIZE = 12;\nvar LINE_HEIGHT_RATIO = 1.2;\nconst LABEL_COLOUR = \"#01031b\"\nvar MIN_TEXT_ANNOTATION_HEIGHT = 30;\n\nexport default function TSTextRenderer(config) {\n\n  var defaultStyle = assign({\n    fontFamily: 'Arial, sans-serif',\n    fontSize: DEFAULT_FONT_SIZE,\n    fontWeight: 'normal',\n    color: LABEL_COLOUR,\n    background: \"rgba(0,0,0,0.5)\",\n    lineHeight: LINE_HEIGHT_RATIO\n  }, config && config.defaultStyle || {});\n\n  var fontSize = parseInt(defaultStyle.fontSize, 10) - 1;\n\n  var externalStyle = assign({}, defaultStyle, {\n    fontSize: fontSize\n  }, config && config.externalStyle || {});\n\n  var textUtil = new TextUtil({\n    style: defaultStyle\n  });\n\n  /**\n   * Get the new bounds of an externally rendered,\n   * layouted label.\n   *\n   * @param {Rect} bounds\n   * @param {string} text\n   *\n   * @return {Rect}\n   */\n  this.getExternalLabelBounds = function(bounds, text) {\n\n    var layoutedDimensions = textUtil.getDimensions(text, {\n      box: {\n        width: 90,\n        height: 30\n      },\n      style: externalStyle\n    });\n\n    // resize label shape to fit label text\n    return {\n      x: Math.round(bounds.x + bounds.width / 2 - layoutedDimensions.width / 2),\n      y: Math.round(bounds.y),\n      width: Math.ceil(layoutedDimensions.width),\n      height: Math.ceil(layoutedDimensions.height)\n    };\n\n  };\n\n  /**\n   * Get the new bounds of text annotation.\n   *\n   * @param {Rect} bounds\n   * @param {string} text\n   *\n   * @return {Rect}\n   */\n  this.getTextAnnotationBounds = function(bounds, text) {\n\n    var layoutedDimensions = textUtil.getDimensions(text, {\n      box: bounds,\n      style: defaultStyle,\n      align: 'left-top',\n      padding: 5\n    });\n\n    return {\n      x: bounds.x,\n      y: bounds.y,\n      width: bounds.width,\n      height: Math.max(MIN_TEXT_ANNOTATION_HEIGHT, Math.round(layoutedDimensions.height))\n    };\n  };\n\n  /**\n   * Create a layouted text element.\n   *\n   * @param {string} text\n   * @param {TextLayoutConfig} [options]\n   *\n   * @return {SVGElement} rendered text\n   */\n  this.createText = function(text, options) {\n    return textUtil.createText(text, options || {});\n  };\n\n  /**\n   * Get default text style.\n   */\n  this.getDefaultStyle = function() {\n    return defaultStyle;\n  };\n\n  /**\n   * Get the external text style.\n   */\n  this.getExternalStyle = function() {\n    return externalStyle;\n  };\n\n}\n\nTSTextRenderer.$inject = [\n  'config.textRenderer'\n];","import PetriRenderer from \"./petriRender\";\nimport TSTextRenderer from \"./TSTextRenderer\"\n\nexport default {\n    __init__ : ['petriRenderer'],\n    petriRenderer: ['type', PetriRenderer],\n    textRenderer: ['type', TSTextRenderer]\n}","import PetriElementFactory from \"./pertiElementFactory\";\n\nexport default {\n    __init__ : [\n        'elementFactory'\n    ],\n    elementFactory: ['type', PetriElementFactory]\n}","import modeling from 'diagram-js/lib/features/modeling/Modeling';\nimport { isTransition } from '../elements/pertiElementFactory';\n\nclass PetriModeling extends modeling {\n  \n  constructor(eventBus, elementRegistry, commandStack) {\n    super(\n      eventBus, \n      elementRegistry, \n      commandStack\n    );\n  }\n\n  getHandlers() {\n    var handlers = super.getHandlers();\n    return handlers;\n  }\n\n  toggleTransitionType(element) {\n    if (isTransition(element)) {\n\n      element.silent = !element.silent;\n\n      var context = {\n        elements: [element].concat(element.incoming).concat(element.outgoing)\n      }\n\n      this._eventBus.fire('elements.changed', context)\n    }\n\n  }\n}\n\nPetriModeling.$inject = [ 'eventBus', 'elementFactory', 'commandStack' ];\n\nexport default PetriModeling;","import PetriModelling from \"./petriModeling\";\n\nexport default {\n    __init__ : [\n        'modeling'\n    ],\n    modeling: ['type', PetriModelling]\n}","import Rules from 'diagram-js/lib/features/rules/Rules';\nimport { isPlace,isTransition } from '../elements/pertiElementFactory';\n\nclass PetriRules extends Rules {\n    constructor(eventBus) {\n        super(eventBus);\n    }\n\n    allowed(action, context){\n        if (action === 'connection.create'){\n            if (isPlace(context.source) && isTransition(context.target)){\n                return true\n            } else if (isTransition(context.source) && isPlace(context.target)){\n                return true\n            } else {\n                return false\n            }\n        } else {\n            return super.allowed(action, context)\n        }\n    }\n\n}\n\nexport default PetriRules;","import PetriRules from './petriRules.js';\n\nexport default {\n    __init__: ['rules'],\n    rules: ['type', PetriRules]\n};","import {\n    getMid\n  } from 'diagram-js/lib/layout/LayoutUtil';\n  \n  import {\n    isNil,\n    isObject\n  } from 'min-dash';\n  \nexport default function Connect(eventBus, dragging, modeling, rules, \n    factory) {\n  \n\n    this._factory = factory\n    // rules\n  \n    function canConnect(source, target) {\n      return rules.allowed('connection.create', {\n        source: source,\n        target: target\n      });\n    }\n  \n    function canConnectReverse(source, target) {\n      return canConnect(target, source);\n    }\n  \n  \n    // event handlers\n  \n    eventBus.on('connect.hover', function(event) {\n      var context = event.context,\n          start = context.start,\n          hover = event.hover,\n          canExecute;\n  \n      // cache hover state\n      context.hover = hover;\n  \n      canExecute = context.canExecute = canConnect(start, hover);\n  \n      // ignore hover\n      if (isNil(canExecute)) {\n        return;\n      }\n  \n      if (canExecute !== false) {\n        context.source = start;\n        context.target = hover;\n  \n        return;\n      }\n  \n      canExecute = context.canExecute = canConnectReverse(start, hover);\n  \n      // ignore hover\n      if (isNil(canExecute)) {\n        return;\n      }\n  \n      if (canExecute !== false) {\n        context.source = hover;\n        context.target = start;\n      }\n    });\n  \n    eventBus.on([ 'connect.out', 'connect.cleanup' ], function(event) {\n      var context = event.context;\n  \n      context.hover = null;\n      context.source = null;\n      context.target = null;\n  \n      context.canExecute = false;\n    });\n  \n    eventBus.on('connect.end', function(event) {\n      var context = event.context,\n          canExecute = context.canExecute,\n          connectionStart = context.connectionStart,\n          connectionEnd = {\n            x: event.x,\n            y: event.y\n          },\n          source = context.source,\n          target = context.target;\n  \n      if (!canExecute) {\n        return false;\n      }\n  \n      var attrs = {\n        id: context.id\n      },\n          hints = {\n            connectionStart: isReverse(context) ? connectionEnd : connectionStart,\n            connectionEnd: isReverse(context) ? connectionStart : connectionEnd,\n          };\n  \n      if (isObject(canExecute)) {\n        attrs = canExecute;\n      }\n      var connection = factory.createFlow({\n        source: source,\n        target: target,\n        waypoints: [ connectionStart, connectionEnd ]\n      });\n      context.connection = modeling.connect(source, target, connection, hints);\n      eventBus.fire('elements.changed', {\n        elements: [source,target,context.connection]\n      })\n    });\n  \n  \n    // API\n  \n    /**\n     * Start connect operation.\n     *\n     * @param {MouseEvent|TouchEvent} event\n     * @param {Element} start\n     * @param {Point} [connectionStart]\n     * @param {boolean} [autoActivate=false]\n     */\n    this.start = function(event, start, connectionStart, autoActivate) {\n      if (!isObject(connectionStart)) {\n        autoActivate = connectionStart;\n        connectionStart = getMid(start);\n      }\n\n      dragging.init(event, 'connect', {\n        autoActivate: autoActivate,\n        data: {\n          shape: start,\n          type: 'flow',\n          context: {\n            start: start,\n            type: 'flow',\n            connectionStart: connectionStart,\n            id: this._factory.getNextFlowId()\n          }\n        }\n      });\n    };\n  }\n  \nConnect.$inject = [\n    'eventBus',\n    'dragging',\n    'modeling',\n    'rules',\n    'elementFactory'\n  ];\n  \n  \n// helpers //////////\n  \nexport function isReverse(context) {\nvar hover = context.hover,\n    source = context.source,\n    target = context.target;\n\nreturn hover && source && hover === source && source !== target;\n}","import CustomConnect from \"./CustomConnect\"\nimport SelectionModule from 'diagram-js/lib/features/selection';\nimport RulesModule from 'diagram-js/lib/features/rules';\nimport DraggingModule from 'diagram-js/lib/features/dragging';\n\nexport default {\n    __depends__: [\n        SelectionModule,\n        RulesModule,\n        DraggingModule\n      ],\n    __init__ : [\n        'connect'\n    ],\n    connect: ['type', CustomConnect]\n}","import Diagram from 'diagram-js';\n\nimport ConnectModule from 'diagram-js/lib/features/connect';\nimport ConnectPreview from 'diagram-js/lib/features/connection-preview'\nimport ContextPadModule from 'diagram-js/lib/features/context-pad';\nimport CreateModule from 'diagram-js/lib/features/create';\nimport LassoToolModule from 'diagram-js/lib/features/lasso-tool';\nimport ModelingModule from 'diagram-js/lib/features/modeling';\nimport MoveCanvasModule from 'diagram-js/lib/navigation/movecanvas';\nimport MoveModule from 'diagram-js/lib/features/move';\nimport OutlineModule from 'diagram-js/lib/features/outline';\nimport PaletteModule from 'diagram-js/lib/features/palette';\nimport BendingModule from 'diagram-js/lib/features/bendpoints';\nimport RulesModule from 'diagram-js/lib/features/rules';\nimport SelectionModule from 'diagram-js/lib/features/selection';\nimport ZoomScrollModule from 'diagram-js/lib/navigation/zoomscroll';\nimport SnappingModule from 'diagram-js/lib/features/snapping'\nimport LabelSupport from 'diagram-js/lib/features/label-support'\nimport ChangeSupport from 'diagram-js/lib/features/change-support'\n\n// custom providers\nimport ProvidersModule from './providers';\n\n// custom renderers\nimport TSRenderer from './draw';\n\n// custom element factory\nimport elementFactory from './elements'\n\n// custom modeling \nimport customModeling from './modeling'\n\n// custom rules for Petri nets\nimport PetriRules from './rules'\n\n// custom connect\nimport customConnect from \"./connect\"\n\n/**\n * A module that changes the default diagram look.\n */\nconst ElementStyleModule = {\n    __init__: [\n      [ 'defaultRenderer', function(defaultRenderer) {\n        // override default styles\n        defaultRenderer.CONNECTION_STYLE = { fill: 'none', strokeWidth: 5, stroke: '#000' };\n        defaultRenderer.SHAPE_STYLE = { fill: '#303c4a', stroke: '#000', strokeWidth: 2 };\n        // defaultRenderer.FRAME_STYLE = { fill: 'none', stroke: '#000', strokeDasharray: 4, strokeWidth: 2 };\n      } ]\n    ]\n  };\n\nexport default function TSEditor(options) {\n\n    const {\n        container,\n        additionalModules = [ TSRenderer,  ]\n      } = options;\n\n    \n\n    // default modules provided by the toolbox\n    const builtinModules = [\n        ConnectModule,\n        ConnectPreview,\n        ContextPadModule,\n        CreateModule,\n        LassoToolModule,\n        ModelingModule,\n        MoveCanvasModule,\n        BendingModule,\n        MoveModule,\n        OutlineModule,\n        PaletteModule,\n        RulesModule,\n        SelectionModule,\n        ZoomScrollModule,\n        SnappingModule,\n        LabelSupport,\n        ChangeSupport\n    ];\n\n    // our own modules, contributing controls, customizations, and more\n    const customModules = [\n        ProvidersModule,\n        customConnect,\n        elementFactory,\n        customModeling,\n        PetriRules\n    ];\n\n    var diagram =  new Diagram({\n        canvas: {\n            container\n        },\n        modules: [\n        ...builtinModules,\n        ...customModules,\n        ...additionalModules\n        ],\n        defaultRenderer: ['type', TSRenderer]\n    });\n\n    \n\n    return diagram\n}","export default `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<pnml>\n<net type=\"http://www.pnml.org/version-2009/grammar/pnmlcoremodel\" id=\"Generated by Petri Net Editor\">\n    <name>\n        <text>Generated by Petri Net Editor</text>\n    </name>\n    <page id=\"page-1\">\n       <place id=\"place-5\">\n            <name>\n                <text>place-5</text>\n            </name>\n            <graphics>\n                <position x=\"10\" y=\"-54\"/>\n            </graphics>\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"84802b06-eb14-490a-892d-0e22ef1ae24f\" />\n       </place>\n       <place id=\"place-8\">\n            <name>\n                <text>place-8</text>\n            </name>\n            <graphics>\n                <position x=\"246\" y=\"144\"/>\n            </graphics>\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"b88a249a-3621-48af-8f91-249632d65931\" />\n       </place>\n       <place id=\"place-9\">\n            <name>\n                <text>place-9</text>\n            </name>\n            <graphics>\n                <position x=\"246\" y=\"-54\"/>\n            </graphics>\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"3716cfcc-598d-4596-a64d-c523162fef2b\" />\n       </place>\n       <place id=\"place-12\">\n            <name>\n                <text>place-12</text>\n            </name>\n            <graphics>\n                <position x=\"480\" y=\"-54\"/>\n            </graphics>\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"d4cfea4a-5876-402c-a480-5df94e447e99\" />\n       </place>\n       <place id=\"place-14\">\n            <name>\n                <text>place-14</text>\n            </name>\n            <graphics>\n                <position x=\"480\" y=\"144\"/>\n            </graphics>\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"7b398a5c-6400-4181-90a6-9171f8eed694\" />\n       </place>\n       <place id=\"place-17\">\n            <name>\n                <text>place-17</text>\n            </name>\n            <graphics>\n                <position x=\"681\" y=\"44\"/>\n            </graphics>\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"02cfa26c-2466-4998-a73b-cc52e6793eac\" />\n       </place>\n       <transition id=\"transition-7\" invisible=\"true\">\n            <name>\n                <text>action</text>\n            </name>\n            <graphics>\n                <position x=\"103\" y=\"-59\"/>\n            </graphics>\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"3e62a03d-0567-4696-9741-f9dd6fc9d5fc\" activity=\"$invisible$\"/>\n       </transition>\n       <transition id=\"transition-10\" invisible=\"false\">\n            <name>\n                <text>a</text>\n            </name>\n            <graphics>\n                <position x=\"359\" y=\"-59\"/>\n            </graphics>\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"b5ddcb02-caf5-4589-a91b-05889adeecb9\" activity=\"\"/>\n       </transition>\n       <transition id=\"transition-11\" invisible=\"false\">\n            <name>\n                <text>b</text>\n            </name>\n            <graphics>\n                <position x=\"359\" y=\"39\"/>\n            </graphics>\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"67028e7d-43a7-47e6-a384-0e6947afa8d2\" activity=\"\"/>\n       </transition>\n       <transition id=\"transition-13\" invisible=\"false\">\n            <name>\n                <text>c</text>\n            </name>\n            <graphics>\n                <position x=\"359\" y=\"139\"/>\n            </graphics>\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"42bb413e-9ac5-41ae-a333-f9fc48a6af5b\" activity=\"\"/>\n       </transition>\n       <transition id=\"transition-15\" invisible=\"true\">\n            <name>\n                <text>action</text>\n            </name>\n            <graphics>\n                <position x=\"359\" y=\"233\"/>\n            </graphics>\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"c19a6db8-c2d6-4bbf-9c23-762f4bb6e895\" activity=\"$invisible$\"/>\n       </transition>\n       <transition id=\"transition-16\" invisible=\"true\">\n            <name>\n                <text>action</text>\n            </name>\n            <graphics>\n                <position x=\"569\" y=\"39\"/>\n            </graphics>\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"ca3c4d3b-c751-48ac-be29-30308e591f50\" activity=\"$invisible$\"/>\n       </transition>\n       <arc id=\"flow-12\" source=\"place-5\" target=\"transition-7\">\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"e8d6d9f2-380b-44d1-a7ab-ab7a1598fe19\" />\n            <arctype>\n                <text>normal</text>\n            </arctype>\n            <graphics>            \n                <position x=\"35\" y=\"-30\"/>\n                <position x=\"133\" y=\"-30\"/>\n           </graphics>       \n        </arc>\n       <arc id=\"flow-14\" source=\"transition-7\" target=\"place-8\">\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"57ccb4be-c9e4-4f9f-a05a-595069ca8c53\" />\n            <arctype>\n                <text>normal</text>\n            </arctype>\n            <graphics>            \n                <position x=\"133\" y=\"-30\"/>\n                <position x=\"133\" y=\"169\"/>\n                <position x=\"271\" y=\"169\"/>\n           </graphics>       \n        </arc>\n       <arc id=\"flow-16\" source=\"transition-7\" target=\"place-9\">\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"3d1d0e5b-ce13-458b-9a6b-bb914386d329\" />\n            <arctype>\n                <text>normal</text>\n            </arctype>\n            <graphics>            \n                <position x=\"133\" y=\"-30\"/>\n                <position x=\"271\" y=\"-30\"/>\n           </graphics>       \n        </arc>\n       <arc id=\"flow-17\" source=\"place-9\" target=\"transition-10\">\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"52a25f83-d561-4a36-a1d6-80c6e53f7384\" />\n            <arctype>\n                <text>normal</text>\n            </arctype>\n            <graphics>            \n                <position x=\"271\" y=\"-31\"/>\n                <position x=\"389\" y=\"-30\"/>\n           </graphics>       \n        </arc>\n       <arc id=\"flow-18\" source=\"place-9\" target=\"transition-11\">\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"10adbdfc-1093-4b41-a3c5-c7e9c6649e7a\" />\n            <arctype>\n                <text>normal</text>\n            </arctype>\n            <graphics>            \n                <position x=\"271\" y=\"-30\"/>\n                <position x=\"271\" y=\"69\"/>\n                <position x=\"389\" y=\"69\"/>\n           </graphics>       \n        </arc>\n       <arc id=\"flow-19\" source=\"transition-11\" target=\"place-12\">\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"201f8661-873f-4170-af0a-a168c2dc806e\" />\n            <arctype>\n                <text>normal</text>\n            </arctype>\n            <graphics>            \n                <position x=\"389\" y=\"69\"/>\n                <position x=\"505\" y=\"69\"/>\n                <position x=\"505\" y=\"-30\"/>\n           </graphics>       \n        </arc>\n       <arc id=\"flow-21\" source=\"transition-10\" target=\"place-12\">\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"93fd3088-b10c-497e-a049-bbd656ba64e0\" />\n            <arctype>\n                <text>normal</text>\n            </arctype>\n            <graphics>            \n                <position x=\"389\" y=\"-30\"/>\n                <position x=\"505\" y=\"-30\"/>\n           </graphics>       \n        </arc>\n       <arc id=\"flow-22\" source=\"place-8\" target=\"transition-13\">\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"43875f2b-1fd3-48cd-8c2d-be396c756ef3\" />\n            <arctype>\n                <text>normal</text>\n            </arctype>\n            <graphics>            \n                <position x=\"271\" y=\"169\"/>\n                <position x=\"389\" y=\"169\"/>\n           </graphics>       \n        </arc>\n       <arc id=\"flow-23\" source=\"transition-13\" target=\"place-14\">\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"bfe671ca-71ae-47ab-8488-c7eb37de897c\" />\n            <arctype>\n                <text>normal</text>\n            </arctype>\n            <graphics>            \n                <position x=\"389\" y=\"169\"/>\n                <position x=\"505\" y=\"169\"/>\n           </graphics>       \n        </arc>\n       <arc id=\"flow-24\" source=\"place-14\" target=\"transition-15\">\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"07bb6cd8-0bb9-41bb-8de7-a5d2dadf7dac\" />\n            <arctype>\n                <text>normal</text>\n            </arctype>\n            <graphics>            \n                <position x=\"505\" y=\"169\"/>\n                <position x=\"505\" y=\"268\"/>\n                <position x=\"394\" y=\"268\"/>\n           </graphics>       \n        </arc>\n       <arc id=\"flow-26\" source=\"transition-15\" target=\"place-8\">\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"519ace7f-30a1-4bee-a46b-ded16c3704ac\" />\n            <arctype>\n                <text>normal</text>\n            </arctype>\n            <graphics>            \n                <position x=\"389\" y=\"263\"/>\n                <position x=\"271\" y=\"263\"/>\n                <position x=\"271\" y=\"169\"/>\n           </graphics>       \n        </arc>\n       <arc id=\"flow-27\" source=\"place-14\" target=\"transition-16\">\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"d3cb8e16-259a-4eb2-a6f6-25f5402b1080\" />\n            <arctype>\n                <text>normal</text>\n            </arctype>\n            <graphics>            \n                <position x=\"505\" y=\"169\"/>\n                <position x=\"604\" y=\"169\"/>\n                <position x=\"604\" y=\"74\"/>\n           </graphics>       \n        </arc>\n       <arc id=\"flow-29\" source=\"place-12\" target=\"transition-16\">\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"531e0d37-9836-4310-9349-dc98b20781fd\" />\n            <arctype>\n                <text>normal</text>\n            </arctype>\n            <graphics>            \n                <position x=\"505\" y=\"-31\"/>\n                <position x=\"599\" y=\"-31\"/>\n                <position x=\"599\" y=\"69\"/>\n           </graphics>       \n        </arc>\n       <arc id=\"flow-30\" source=\"transition-16\" target=\"place-17\">\n            <toolspecific tool=\"ProM\" version=\"6.4\" localNodeID=\"76836f30-c123-4b5e-9200-b4b84e281867\" />\n            <arctype>\n                <text>normal</text>\n            </arctype>\n            <graphics>            \n                <position x=\"599\" y=\"69\"/>\n                <position x=\"706\" y=\"69\"/>\n           </graphics>       \n        </arc>\n   </page>\n</net>\n</pnml>\n\n`","<template>\n  <div class=\"pn-editor-content\">\n    <div class=\"editor-header\">\n      <h4>\n        This is an editor to create Petri nets, powered by \n        <a \n          href=\"https://github.com/bpmn-io/diagram-js/tree/develop\" \n          target=\"_blank\"\n        >\n          diagram-js\n        </a>.\n      </h4>\n      <p>\n        For more information on the formalism and its structure see: \n        <a\n          href=\"/docs/editors/ts/Adam_Banham___petri_nets.pdf\"\n          target=\"_blank\"\n        >A Brief Introduction to Petri Nets</a>.\n      </p>\n      <p>\n        Notably, the editor is still a bit fragile and can crash.\n      </p>\n    </div>\n    <div\n      ref=\"container\"\n      class=\"editor-canvas-ts-container\"\n    >\n      <div\n        ref=\"canvas\"\n        class=\"editor-canvas\"\n      />\n    </div>\n    <div\n      ref=\"editor-pn-math\"\n      class=\"net-compontents\"\n    >\n      <h3> Petri Net Components </h3>\n      <div class=\"net\">\n        <div class=\"net-states\">\n          <div class=\"net-header\">\n            <h4> Places, or \\(P\\) ({{ places.length }})</h4>\n            <v-btn\n              icon=\"mdi-content-copy\"\n              :rounded=\"true\"\n              variant=\"text\"\n              @click=\"() => copyToClip('places')\"\n            />\n          </div>\n          <p> {{ placesML }} </p>\n        </div>\n        <div class=\"net-states\">\n          <div class=\"net-header\">\n            <h4> Transitions, or \\(T\\) ({{ transitions.length }})</h4>\n            <v-btn\n              icon=\"mdi-content-copy\"\n              :rounded=\"true\"\n              variant=\"text\"\n              @click=\"() => copyToClip('transitions')\"\n            />\n          </div>\n          <p> {{ transitionsML }} </p>\n        </div>\n        <div class=\"net-states\">\n          <div class=\"net-header\">\n            <h4> Flows, or \\(F\\) ({{ flows.length }})</h4>\n            <v-btn\n              icon=\"mdi-content-copy\"\n              :rounded=\"true\"\n              variant=\"text\"\n              @click=\"() => copyToClip('flow')\"\n            />\n          </div>\n          <p> {{ flowsML }} </p>\n        </div>\n        <div class=\"net-states\">\n          <div class=\"net-header\">\n            <h4> Labels, or \\(\\lambda\\) ({{ labels.length }})</h4>\n            <v-btn\n              icon=\"mdi-content-copy\"\n              :rounded=\"true\"\n              variant=\"text\"\n              @click=\"() => copyToClip('labels')\"\n            />\n          </div>\n          <p> {{ labelsML }} </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n    \n<script>\nimport EditorTS  from \"./editor.js\"\nimport defaultSystem from \"./system.js\"\nimport TsXmlImporter from \"./importer.js\"\n\nimport {\n  getConnectionMid\n} from \"diagram-js/lib/layout/LayoutUtil\"\nexport default {\n  name: \"EditorPN\",\n  data: function(){\n    return {\n                root: null,\n                editor: null,\n                diagramXML: null,\n                places : [],\n                flows: [],\n                transitions : [],\n                typesetPromise: Promise.resolve()\n            }\n  },\n  computed : {\n          placesML : function(){\n            var ret = \"\"\n            this.places.forEach((place, index) => {\n              ret += place.label\n              if (index < this.places.length - 1){\n                ret += \", \"\n              }\n            })\n            this.triggerMathjax()\n            return \"\\\\begin{align*} \\\\{ \" + ret + \" \\\\}\\\\end{align*}\"\n          },\n          labels : function(){\n            var ret = []\n            this.transitions.forEach((t) => {\n              var label = t.silent ? \"silent\" : t.label\n              if (ret.includes(label)){\n                return\n              }\n              ret.push(label)\n            })\n            return ret\n          },\n          transitionsML : function(){\n            var ret = \"\"\n            this.transitions.forEach((t, index) => {\n              ret += this.trimId(t.id)\n              if (index < this.transitions.length - 1){\n                ret += \", \"\n              }\n            })\n            this.triggerMathjax()\n            return \"\\\\begin{align*} \\\\{ \" + ret + \" \\\\}\\\\end{align*}\"\n          },\n          labelsML: function(){\n            var ret = \"\"\n            this.transitions.forEach((t, index) => {\n              var label = t.silent ? \"\\\\tau\" : t.label\n              ret += this.trimId(t.id) \n              ret += \"\\\\rightarrow\"\n              ret += t.silent ? label : \"\\\\text{'\"+label+\"'}\"\n              if (index < this.transitions.length - 1){\n                ret += \", \"\n              }\n            })\n            this.triggerMathjax()\n            return \"\\\\begin{align*} \\\\{ \" + ret + \" \\\\}\\\\end{align*}\"\n          },\n          flowsML: function(){\n            var ret = \"\"\n            this.flows.forEach((flow, index) => {\n              ret += '('+this.trimId(flow.src) \n              ret += \", \"\n              ret += this.trimId(flow.tgt) + ')'\n              if (index < this.flows.length - 1){\n                ret += \", \"\n              }\n            })\n            this.triggerMathjax()\n            return \"\\\\begin{align*} \\\\{\" + ret + \" \\\\}\\\\end{align*}\"\n          }\n        },\n        mounted: function(){\n            this.root = this.$refs.canvas;\n            var _options = {\n                container:  this.root\n            }\n            this.editor = new EditorTS(\n                _options\n            );\n            // add hanlders to track net state\n            var that = this\n            this.editor.invoke(['eventBus', function(bus){\n              bus.on(\n                [\n                  'formal.create.place', 'formal.create.transition',\n                  'formal.create.flow',\n                ],\n              50, (ev) => {\n                that.handleElementCreate(ev)\n            }, that)\n            }]);\n            this.editor.invoke(['eventBus', function(bus){\n                bus.on(\n                  [\n                  'pad.delete'\n                  ],\n                50, (ev) => {\n                  that.handleElementDelete(ev)\n              }, that)\n            }]);\n            this.editor.invoke(['eventBus', function(bus){\n                bus.on(\n                  [\n                  'element.changed', 'elements.changed'\n                  ],\n                50, (ev) => {\n                  that.handleElementChange(ev)\n              }, that)\n            }]);\n            this.editor.invoke(['eventBus', function(bus){\n                bus.on(\n                  [\n                  'formal.clear',\n                  ],\n                50, (ev) => {\n                  that.resetToEmpty()\n              }, that)\n            }]);\n            // add default system\n            this.loadDefaultSystem()\n            this.editor.get('canvas').zoom('fit-viewport');\n            this.triggerMathjax()\n          },\n        methods: {\n            addDefaultSystem: function(){\n                this.editor.invoke([ 'eventBus', 'elementFactory', 'canvas', 'modeling', \n                    function(events, factory, canvas, modeling) {\n                      var inc = factory.createPlace({\n                        x: 100,\n                        y: 100\n                      })\n                      var transition = factory.createTransition({\n                        x: 200,\n                        y: 100\n                      })\n                      var out = factory.createPlace({\n                        x: 300,\n                        y: 100\n                      })\n                      var arcInc = factory.createFlow({\n                        source: inc,\n                        target: transition,\n                        waypoints: [\n                          {x: inc.x, y: inc.y},\n                          {x: transition.x, y: transition.y}\n                        ]\n                      })\n                      var arcOut = factory.createFlow({\n                        source: transition,\n                        target: out,\n                        waypoints: [\n                          {x: transition.x, y: transition.y},\n                          {x: out.x, y: out.y},\n                        ]\n                      })\n                      var root = canvas.getRootElement()\n                      inc = modeling.createShape(inc, {\n                        x: inc.x, y:inc.y\n                      }, root)\n                      transition = modeling.createShape(transition, {\n                        x: transition.x, y:transition.y\n                      }, root)\n                      out = modeling.createShape(out, {\n                        x: out.x, y:out.y\n                      }, root)\n                      modeling.createConnection(\n                        inc, transition,\n                        arcInc, root) \n                      modeling.layoutConnection(arcInc, root)\n                      modeling.createConnection(\n                        transition, out,\n                        arcOut, root) \n                      modeling.layoutConnection(arcOut, root)\n                      modeling.moveShape(inc, {x: 0.01, y: 0.01})\n            }]);\n            },\n          loadDefaultSystem: function(){\n            this.editor.invoke([\n              'modeling', 'elementFactory', 'canvas', 'elementRegistry',\n              'eventBus', 'textRenderer'\n            ,function(modeling, factory, canvas, registry, bus, \n                      textRenderer) {\n              //TODO: write load for default system\n              var parser = new TsXmlImporter(modeling, \n                factory, canvas, registry, bus, textRenderer\n              );\n              var tree = new DOMParser().parseFromString(\n                            defaultSystem, \"text/xml\"\n              )\n              var system = tree.getElementsByTagName(\"net\")[0]\n              parser.import(system)\n            }\n            ])\n          },\n          triggerMathjax: function(){\n            const mathjax = window.MathJax\n            const that = this\n            const math = this.$refs['editor-pn-math']\n            // using setTimeout, which can get the right result\n            that.$nextTick( () => {\n              that.typesetPromise = that.typesetPromise.then(() => {\n                return mathjax.typesetPromise([that.$refs['editor-pn-math']])\n              }\n            )})\n          },\n        trimId : function trimId(id){\n            return id.split('-')[0][0]+\"_{\" + id.split('-')[1] + \"}\"\n        },\n        handleElementCreate: function(event){\n          var that = this\n          function handleElement(el){\n            return {\n              id: el.id,\n              label: el.labelText || that.trimId(el.id),\n              silent: el.silent || false\n            }\n          }\n          function handleFlow(flow){\n            return {\n              id: flow.id,\n              src: flow.source.id,\n              tgt: flow.target.id\n            }\n          }\n          if (event.element.type === 'place'){\n            this.places.push(handleElement(event.element))\n          } else if (event.element.type === 'transition'){\n            this.transitions.push(handleElement(event.element))\n          } else if (event.element.type === 'flow'){\n            this.flows.push(handleFlow(event.element))\n          }\n          return event\n        },\n        handleElementDelete: function(event){\n          var deleted = event.elements;\n          var connected = []\n          deleted.forEach(el => {\n            if(el.type === 'place'){\n              connected = connected.concat(\n                this.flows.filter((f) => f.src === el.id || f.tgt === el.id)\n              )\n            } else if (el.type === 'transition'){\n              connected = connected.concat(\n                this.flows.filter((f) => f.src === el.id || f.tgt === el.id)\n              )\n            }\n          });\n          deleted.forEach(\n            (el) => {\n              if (el.type === 'place'){\n                this.places = this.places.filter((p) => p.id !== el.id)\n              } else if (el.type === 'transition'){\n                this.transitions = this.transitions.filter((t) => t.id !== el.id)\n              } else if (el.type === 'flow'){\n                this.flows = this.flows.filter((f) => f.id !== el.id)\n              }\n            }\n          )\n          connected.forEach(\n            (el) => {\n              this.flows = this.flows.filter((f) => f.id !== el.id)\n            }\n          )\n          \n        },\n        handleElementChange: function(event){\n          if (event.elements){\n            event.elements.forEach((el) => {\n              if (el.type === 'transition'){\n                var index = this.transitions.findIndex((t) => t.id === el.id)\n                if (index > -1){\n                  this.transitions[index].label = el.labelText\n                  this.transitions[index].silent = el.silent\n                }\n              }\n            })\n          } else {\n            if (event.element.type === 'transition'){\n              var index = this.transitions.findIndex((t) => t.id === event.element.id)\n              if (index > -1){\n                this.transitions[index].label = event.element.labelText\n                this.transitions[index].silent = event.element.silent\n              }\n            }\n          }\n        },  \n        copyToClip: function(hint){\n          if (hint === 'places'){\n            navigator.clipboard.writeText(this.placesML)\n          } else if (hint === 'transitions'){\n            navigator.clipboard.writeText(this.transitionsML)\n          } else if (hint === 'flow'){\n            navigator.clipboard.writeText(this.flowsML)\n          } else if (hint === 'labels'){\n            navigator.clipboard.writeText(this.labelsML)\n          }\n        },\n        findLabel : function(state){\n          let label;\n          if (state.label.length > 0){\n                label = state.label\n              } else {\n                label = state.id\n              }\n          return label\n        },\n        resetToEmpty: function(){\n          this.places = []\n          this.transitions = []\n          this.flows = []\n        }\n      }\n}\n</script>\n    \n<style lang=\"sass\" scoped>\n@use \"./scoped\"\n</style>\n\n<style lang=\"sass\">\n@use \"./global\"\n</style>","import {\n  isFunction\n} from 'min-dash';\n\nimport {\n  event as domEvent\n} from 'min-dom';\n\nimport {\n  hasModifier,\n  isCmd,\n  isKey,\n  isShift\n} from './KeyboardUtil';\n\n/**\n * @typedef {import('../../core/EventBus').default} EventBus\n *\n * @typedef {({ keyEvent: KeyboardEvent }) => any} Listener\n */\n\nvar KEYDOWN_EVENT = 'keyboard.keydown',\n    KEYUP_EVENT = 'keyboard.keyup';\n\nvar DEFAULT_PRIORITY = 1000;\n\nvar compatMessage = 'Keyboard binding is now implicit; explicit binding to an element got removed. For more information, see https://github.com/bpmn-io/diagram-js/issues/661';\n\n\n/**\n * A keyboard abstraction that may be activated and\n * deactivated by users at will, consuming global key events\n * and triggering diagram actions.\n *\n * For keys pressed down, keyboard fires `keyboard.keydown` event.\n * The event context contains one field which is `KeyboardEvent` event.\n *\n * The implementation fires the following key events that allow\n * other components to hook into key handling:\n *\n *  - keyboard.bind\n *  - keyboard.unbind\n *  - keyboard.init\n *  - keyboard.destroy\n *\n * All events contain one field which is node.\n *\n * Specify the initial keyboard binding state via the\n * `keyboard.bind=true|false` configuration option.\n *\n * @param {Object} config\n * @param {boolean} [config.bind]\n * @param {EventBus} eventBus\n */\nexport default function Keyboard(config, eventBus) {\n  var self = this;\n\n  this._config = config = config || {};\n\n  this._eventBus = eventBus;\n\n  this._keydownHandler = this._keydownHandler.bind(this);\n  this._keyupHandler = this._keyupHandler.bind(this);\n\n  // properly clean dom registrations\n  eventBus.on('diagram.destroy', function() {\n    self._fire('destroy');\n\n    self.unbind();\n  });\n\n  if (config.bindTo) {\n    console.error('unsupported configuration <keyboard.bindTo>', new Error(compatMessage));\n  }\n\n  var bind = config && config.bind !== false;\n\n  eventBus.on('canvas.init', function(event) {\n    self._target = event.svg;\n\n    if (bind) {\n      self.bind();\n    }\n\n    self._fire('init');\n  });\n\n}\n\nKeyboard.$inject = [\n  'config.keyboard',\n  'eventBus'\n];\n\nKeyboard.prototype._keydownHandler = function(event) {\n  this._keyHandler(event, KEYDOWN_EVENT);\n};\n\nKeyboard.prototype._keyupHandler = function(event) {\n  this._keyHandler(event, KEYUP_EVENT);\n};\n\nKeyboard.prototype._keyHandler = function(event, type) {\n  var eventBusResult;\n\n  if (this._isEventIgnored(event)) {\n    return;\n  }\n\n  var context = {\n    keyEvent: event\n  };\n\n  eventBusResult = this._eventBus.fire(type || KEYDOWN_EVENT, context);\n\n  if (eventBusResult) {\n    event.preventDefault();\n  }\n};\n\nKeyboard.prototype._isEventIgnored = function(event) {\n  return false;\n};\n\n/**\n * Bind keyboard events to the given DOM node.\n *\n * @overlord\n * @deprecated No longer in use since version 15.0.0.\n *\n * @param {EventTarget} node\n */\n/**\n * Bind keyboard events to the canvas node.\n */\nKeyboard.prototype.bind = function(node) {\n\n  // legacy <node> argument provided\n  if (node) {\n    console.error('unsupported argument <node>', new Error(compatMessage));\n  }\n\n  // make sure that the keyboard is only bound once to the DOM\n  this.unbind();\n\n  node = this._node = this._target;\n\n  // bind key events\n  domEvent.bind(node, 'keydown', this._keydownHandler);\n  domEvent.bind(node, 'keyup', this._keyupHandler);\n\n  this._fire('bind');\n};\n\n/**\n * @return {EventTarget}\n */\nKeyboard.prototype.getBinding = function() {\n  return this._node;\n};\n\nKeyboard.prototype.unbind = function() {\n  var node = this._node;\n\n  if (node) {\n    this._fire('unbind');\n\n    // unbind key events\n    domEvent.unbind(node, 'keydown', this._keydownHandler);\n    domEvent.unbind(node, 'keyup', this._keyupHandler);\n  }\n\n  this._node = null;\n};\n\n/**\n * @param {string} event\n */\nKeyboard.prototype._fire = function(event) {\n  this._eventBus.fire('keyboard.' + event, { node: this._node });\n};\n\n/**\n * Add a listener function that is notified with `KeyboardEvent` whenever\n * the keyboard is bound and the user presses a key. If no priority is\n * provided, the default value of 1000 is used.\n *\n * @param {number} [priority]\n * @param {Listener} listener\n * @param {string} [type='keyboard.keydown']\n */\nKeyboard.prototype.addListener = function(priority, listener, type) {\n  if (isFunction(priority)) {\n    type = listener;\n    listener = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  this._eventBus.on(type || KEYDOWN_EVENT, priority, listener);\n};\n\n/**\n * Remove a listener function.\n *\n * @param {Listener} listener\n * @param {string} [type='keyboard.keydown']\n */\nKeyboard.prototype.removeListener = function(listener, type) {\n  this._eventBus.off(type || KEYDOWN_EVENT, listener);\n};\n\nKeyboard.prototype.hasModifier = hasModifier;\nKeyboard.prototype.isCmd = isCmd;\nKeyboard.prototype.isShift = isShift;\nKeyboard.prototype.isKey = isKey;\n","import {\n  isCmd,\n  isKey,\n  isCopy,\n  isPaste,\n  isUndo,\n  isRedo,\n  KEYS_COPY,\n  KEYS_PASTE,\n  KEYS_UNDO,\n  KEYS_REDO\n} from './KeyboardUtil';\n\n/**\n * @typedef {import('../editor-actions/EditorActions').default} EditorActions\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('./Keyboard').default} Keyboard\n */\n\nexport {\n  KEYS_COPY,\n  KEYS_PASTE,\n  KEYS_UNDO,\n  KEYS_REDO\n};\n\n\nvar LOW_PRIORITY = 500;\n\n\n/**\n * Adds default keyboard bindings.\n *\n * This does not pull in any features will bind only actions that\n * have previously been registered against the editorActions component.\n *\n * @param {EventBus} eventBus\n * @param {Keyboard} keyboard\n */\nexport default function KeyboardBindings(eventBus, keyboard) {\n\n  var self = this;\n\n  eventBus.on('editorActions.init', LOW_PRIORITY, function(event) {\n\n    var editorActions = event.editorActions;\n\n    self.registerBindings(keyboard, editorActions);\n  });\n}\n\nKeyboardBindings.$inject = [\n  'eventBus',\n  'keyboard'\n];\n\n\n/**\n * Register available keyboard bindings.\n *\n * @param {Keyboard} keyboard\n * @param {EditorActions} editorActions\n */\nKeyboardBindings.prototype.registerBindings = function(keyboard, editorActions) {\n\n  /**\n   * Add keyboard binding if respective editor action\n   * is registered.\n   *\n   * @param {string} action name\n   * @param {Function} fn that implements the key binding\n   */\n  function addListener(action, fn) {\n\n    if (editorActions.isRegistered(action)) {\n      keyboard.addListener(fn);\n    }\n  }\n\n\n  // undo\n  // (CTRL|CMD) + Z\n  addListener('undo', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isUndo(event)) {\n      editorActions.trigger('undo');\n\n      return true;\n    }\n  });\n\n  // redo\n  // CTRL + Y\n  // CMD + SHIFT + Z\n  addListener('redo', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isRedo(event)) {\n      editorActions.trigger('redo');\n\n      return true;\n    }\n  });\n\n  // copy\n  // CTRL/CMD + C\n  addListener('copy', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isCopy(event)) {\n      editorActions.trigger('copy');\n\n      return true;\n    }\n  });\n\n  // paste\n  // CTRL/CMD + V\n  addListener('paste', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isPaste(event)) {\n      editorActions.trigger('paste');\n\n      return true;\n    }\n  });\n\n  // zoom in one step\n  // CTRL/CMD + +\n  addListener('stepZoom', function(context) {\n\n    var event = context.keyEvent;\n\n    // quirk: it has to be triggered by `=` as well to work on international keyboard layout\n    // cf: https://github.com/bpmn-io/bpmn-js/issues/1362#issuecomment-722989754\n    if (isKey([ '+', 'Add', '=' ], event) && isCmd(event)) {\n      editorActions.trigger('stepZoom', { value: 1 });\n\n      return true;\n    }\n  });\n\n  // zoom out one step\n  // CTRL + -\n  addListener('stepZoom', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isKey([ '-', 'Subtract' ], event) && isCmd(event)) {\n      editorActions.trigger('stepZoom', { value: -1 });\n\n      return true;\n    }\n  });\n\n  // zoom to the default level\n  // CTRL + 0\n  addListener('zoom', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isKey('0', event) && isCmd(event)) {\n      editorActions.trigger('zoom', { value: 1 });\n\n      return true;\n    }\n  });\n\n  // delete selected element\n  // DEL\n  addListener('removeSelection', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isKey([ 'Backspace', 'Delete', 'Del' ], event)) {\n      editorActions.trigger('removeSelection');\n\n      return true;\n    }\n  });\n};","import Keyboard from './Keyboard';\nimport KeyboardBindings from './KeyboardBindings';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __init__: [ 'keyboard', 'keyboardBindings' ],\n  keyboard: [ 'type', Keyboard ],\n  keyboardBindings: [ 'type', KeyboardBindings ]\n};\n","import {\n  assign,\n  filter,\n  forEach,\n  isNumber\n} from 'min-dash';\n\nimport {\n  asTRBL,\n  getMid\n} from '../../layout/LayoutUtil';\n\nimport { getBBox } from '../../util/Elements';\n\nimport { getDirection } from './SpaceUtil';\n\nimport {\n  hasPrimaryModifier,\n  hasSecondaryModifier\n} from '../../util/Mouse';\n\nimport { set as setCursor } from '../../util/Cursor';\n\nimport { selfAndAllChildren } from '../../util/Elements';\n\nimport {\n  isConnection,\n  isLabel\n} from '../../util/ModelUtil';\n\n/**\n * @typedef {import('../../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../dragging/Dragging').default} Dragging\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('../mouse/Mouse').default} Mouse\n * @typedef {import('../rules/Rules').default} Rules\n * @typedef {import('../tool-manager/ToolManager').default} ToolManager\n *\n * @typedef {import('../../util/Types').Axis} Axis\n * @typedef {import('../../util/Types').Direction} Direction\n * @typedef {import('../../util/Types').Point} Point\n */\n\nvar abs = Math.abs,\n    round = Math.round;\n\nvar AXIS_TO_DIMENSION = {\n  x: 'width',\n  y: 'height'\n};\n\nvar CURSOR_CROSSHAIR = 'crosshair';\n\nvar DIRECTION_TO_TRBL = {\n  n: 'top',\n  w: 'left',\n  s: 'bottom',\n  e: 'right'\n};\n\nvar HIGH_PRIORITY = 1500;\n\nvar DIRECTION_TO_OPPOSITE = {\n  n: 's',\n  w: 'e',\n  s: 'n',\n  e: 'w'\n};\n\nvar PADDING = 20;\n\n\n/**\n * Add or remove space by moving and resizing elements.\n *\n * @param {Canvas} canvas\n * @param {Dragging} dragging\n * @param {EventBus} eventBus\n * @param {Modeling} modeling\n * @param {Rules} rules\n * @param {ToolManager} toolManager\n * @param {Mouse} mouse\n */\nexport default function SpaceTool(\n    canvas, dragging, eventBus,\n    modeling, rules, toolManager,\n    mouse) {\n\n  this._canvas = canvas;\n  this._dragging = dragging;\n  this._eventBus = eventBus;\n  this._modeling = modeling;\n  this._rules = rules;\n  this._toolManager = toolManager;\n  this._mouse = mouse;\n\n  var self = this;\n\n  toolManager.registerTool('space', {\n    tool: 'spaceTool.selection',\n    dragging: 'spaceTool'\n  });\n\n  eventBus.on('spaceTool.selection.end', function(event) {\n    eventBus.once('spaceTool.selection.ended', function() {\n      self.activateMakeSpace(event.originalEvent);\n    });\n  });\n\n  eventBus.on('spaceTool.move', HIGH_PRIORITY , function(event) {\n    var context = event.context,\n        initialized = context.initialized;\n\n    if (!initialized) {\n      initialized = context.initialized = self.init(event, context);\n    }\n\n    if (initialized) {\n      ensureConstraints(event);\n    }\n  });\n\n  eventBus.on('spaceTool.end', function(event) {\n    var context = event.context,\n        axis = context.axis,\n        direction = context.direction,\n        movingShapes = context.movingShapes,\n        resizingShapes = context.resizingShapes,\n        start = context.start;\n\n    if (!context.initialized) {\n      return;\n    }\n\n    ensureConstraints(event);\n\n    var delta = {\n      x: 0,\n      y: 0\n    };\n\n    delta[ axis ] = round(event[ 'd' + axis ]);\n\n    self.makeSpace(movingShapes, resizingShapes, delta, direction, start);\n\n    eventBus.once('spaceTool.ended', function(event) {\n\n      // activate space tool selection after make space\n      self.activateSelection(event.originalEvent, true, true);\n    });\n  });\n}\n\nSpaceTool.$inject = [\n  'canvas',\n  'dragging',\n  'eventBus',\n  'modeling',\n  'rules',\n  'toolManager',\n  'mouse'\n];\n\n/**\n * Activate space tool selection.\n *\n * @param {MouseEvent|TouchEvent} event\n * @param {boolean} autoActivate\n * @param {boolean} reactivate\n */\nSpaceTool.prototype.activateSelection = function(event, autoActivate, reactivate) {\n  this._dragging.init(event, 'spaceTool.selection', {\n    autoActivate: autoActivate,\n    cursor: CURSOR_CROSSHAIR,\n    data: {\n      context: {\n        reactivate: reactivate\n      }\n    },\n    trapClick: false\n  });\n};\n\n/**\n * Activate space tool make space.\n *\n * @param {MouseEvent|TouchEvent} event\n */\nSpaceTool.prototype.activateMakeSpace = function(event) {\n  this._dragging.init(event, 'spaceTool', {\n    autoActivate: true,\n    cursor: CURSOR_CROSSHAIR,\n    data: {\n      context: {}\n    }\n  });\n};\n\n/**\n * Make space.\n *\n * @param {Array<Shape>} movingShapes\n * @param {Array<Shape>} resizingShapes\n * @param {Point} delta\n * @param {Direction} direction\n * @param {number} start\n */\nSpaceTool.prototype.makeSpace = function(movingShapes, resizingShapes, delta, direction, start) {\n  return this._modeling.createSpace(movingShapes, resizingShapes, delta, direction, start);\n};\n\n/**\n * Initialize make space and return true if that was successful.\n *\n * @param {MouseEvent|TouchEvent} event\n * @param {Object} context\n *\n * @return {boolean}\n */\nSpaceTool.prototype.init = function(event, context) {\n  var axis = abs(event.dx) > abs(event.dy) ? 'x' : 'y',\n      delta = event[ 'd' + axis ],\n      start = event[ axis ] - delta;\n\n  if (abs(delta) < 5) {\n    return false;\n  }\n\n  // invert delta to remove space when moving left\n  if (delta < 0) {\n    delta *= -1;\n  }\n\n  // invert delta to add/remove space when removing/adding space if modifier key is pressed\n  if (hasPrimaryModifier(event)) {\n    delta *= -1;\n  }\n\n  var direction = getDirection(axis, delta);\n\n  var root = this._canvas.getRootElement();\n\n  if (!hasSecondaryModifier(event) && event.hover) {\n    root = event.hover;\n  }\n\n  var children = [\n    ...selfAndAllChildren(root, true),\n    ...(root.attachers || [])\n  ];\n\n  var elements = this.calculateAdjustments(children, axis, delta, start);\n\n  var minDimensions = this._eventBus.fire('spaceTool.getMinDimensions', {\n    axis: axis,\n    direction: direction,\n    shapes: elements.resizingShapes,\n    start: start\n  });\n\n  var spaceToolConstraints = getSpaceToolConstraints(elements, axis, direction, start, minDimensions);\n\n  assign(\n    context,\n    elements,\n    {\n      axis: axis,\n      direction: direction,\n      spaceToolConstraints: spaceToolConstraints,\n      start: start\n    }\n  );\n\n  setCursor('resize-' + (axis === 'x' ? 'ew' : 'ns'));\n\n  return true;\n};\n\n/**\n * Get elements to be moved and resized.\n *\n * @param {Array<Shape>} elements\n * @param {Axis} axis\n * @param {Point} delta\n * @param {number} start\n *\n * @return {Object}\n */\nSpaceTool.prototype.calculateAdjustments = function(elements, axis, delta, start) {\n  var rules = this._rules;\n\n  var movingShapes = [],\n      resizingShapes = [];\n\n  var attachers = [],\n      connections = [];\n\n  function moveShape(shape) {\n    if (!movingShapes.includes(shape)) {\n      movingShapes.push(shape);\n    }\n\n    var label = shape.label;\n\n    // move external label if its label target is moving\n    if (label && !movingShapes.includes(label)) {\n      movingShapes.push(label);\n    }\n  }\n\n  function resizeShape(shape) {\n    if (!resizingShapes.includes(shape)) {\n      resizingShapes.push(shape);\n    }\n  }\n\n  forEach(elements, function(element) {\n    if (!element.parent || isLabel(element)) {\n      return;\n    }\n\n    // handle connections separately\n    if (isConnection(element)) {\n      connections.push(element);\n\n      return;\n    }\n\n    var shapeStart = element[ axis ],\n        shapeEnd = shapeStart + element[ AXIS_TO_DIMENSION[ axis ] ];\n\n    // handle attachers separately\n    if (isAttacher(element)\n      && ((delta > 0 && getMid(element)[ axis ] > start)\n        || (delta < 0 && getMid(element)[ axis ] < start))) {\n      attachers.push(element);\n\n      return;\n    }\n\n    // move shape if its start is after space tool\n    if ((delta > 0 && shapeStart > start)\n      || (delta < 0 && shapeEnd < start)) {\n      moveShape(element);\n\n      return;\n    }\n\n    // resize shape if it's resizable and its start is before and its end is after space tool\n    if (shapeStart < start\n      && shapeEnd > start\n      && rules.allowed('shape.resize', { shape: element })\n    ) {\n      resizeShape(element);\n\n      return;\n    }\n  });\n\n  // move attacher if its host is moving\n  forEach(movingShapes, function(shape) {\n    var attachers = shape.attachers;\n\n    if (attachers) {\n      forEach(attachers, function(attacher) {\n        moveShape(attacher);\n      });\n    }\n  });\n\n  var allShapes = movingShapes.concat(resizingShapes);\n\n  // move attacher if its mid is after space tool and its host is moving or resizing\n  forEach(attachers, function(attacher) {\n    var host = attacher.host;\n\n    if (includes(allShapes, host)) {\n      moveShape(attacher);\n    }\n  });\n\n  allShapes = movingShapes.concat(resizingShapes);\n\n  // move external label if its label target's (connection) source and target are moving\n  forEach(connections, function(connection) {\n    var source = connection.source,\n        target = connection.target,\n        label = connection.label;\n\n    if (includes(allShapes, source)\n      && includes(allShapes, target)\n      && label) {\n      moveShape(label);\n    }\n  });\n\n  return {\n    movingShapes: movingShapes,\n    resizingShapes: resizingShapes\n  };\n};\n\nSpaceTool.prototype.toggle = function() {\n\n  if (this.isActive()) {\n    return this._dragging.cancel();\n  }\n\n  var mouseEvent = this._mouse.getLastMoveEvent();\n\n  this.activateSelection(mouseEvent, !!mouseEvent);\n};\n\nSpaceTool.prototype.isActive = function() {\n  var context = this._dragging.context();\n\n  if (context) {\n    return /^spaceTool/.test(context.prefix);\n  }\n\n  return false;\n};\n\n// helpers //////////\n\nfunction addPadding(trbl) {\n  return {\n    top: trbl.top - PADDING,\n    right: trbl.right + PADDING,\n    bottom: trbl.bottom + PADDING,\n    left: trbl.left - PADDING\n  };\n}\n\nfunction ensureConstraints(event) {\n  var context = event.context,\n      spaceToolConstraints = context.spaceToolConstraints;\n\n  if (!spaceToolConstraints) {\n    return;\n  }\n\n  var x, y;\n\n  if (isNumber(spaceToolConstraints.left)) {\n    x = Math.max(event.x, spaceToolConstraints.left);\n\n    event.dx = event.dx + x - event.x;\n    event.x = x;\n  }\n\n  if (isNumber(spaceToolConstraints.right)) {\n    x = Math.min(event.x, spaceToolConstraints.right);\n\n    event.dx = event.dx + x - event.x;\n    event.x = x;\n  }\n\n  if (isNumber(spaceToolConstraints.top)) {\n    y = Math.max(event.y, spaceToolConstraints.top);\n\n    event.dy = event.dy + y - event.y;\n    event.y = y;\n  }\n\n  if (isNumber(spaceToolConstraints.bottom)) {\n    y = Math.min(event.y, spaceToolConstraints.bottom);\n\n    event.dy = event.dy + y - event.y;\n    event.y = y;\n  }\n}\n\nfunction getSpaceToolConstraints(elements, axis, direction, start, minDimensions) {\n  var movingShapes = elements.movingShapes,\n      resizingShapes = elements.resizingShapes;\n\n  if (!resizingShapes.length) {\n    return;\n  }\n\n  var spaceToolConstraints = {},\n      min,\n      max;\n\n  forEach(resizingShapes, function(resizingShape) {\n    var attachers = resizingShape.attachers,\n        children = resizingShape.children;\n\n    var resizingShapeBBox = asTRBL(resizingShape);\n\n    // find children that are not moving or resizing\n    var nonMovingResizingChildren = filter(children, function(child) {\n      return !isConnection(child) &&\n        !isLabel(child) &&\n        !includes(movingShapes, child) &&\n        !includes(resizingShapes, child);\n    });\n\n    // find children that are moving\n    var movingChildren = filter(children, function(child) {\n      return !isConnection(child) && !isLabel(child) && includes(movingShapes, child);\n    });\n\n    var minOrMax,\n        nonMovingResizingChildrenBBox,\n        movingChildrenBBox,\n        movingAttachers = [],\n        nonMovingAttachers = [],\n        movingAttachersBBox,\n        movingAttachersConstraint,\n        nonMovingAttachersBBox,\n        nonMovingAttachersConstraint;\n\n    if (nonMovingResizingChildren.length) {\n      nonMovingResizingChildrenBBox = addPadding(asTRBL(getBBox(nonMovingResizingChildren)));\n\n      minOrMax = start -\n        resizingShapeBBox[ DIRECTION_TO_TRBL[ direction ] ] +\n        nonMovingResizingChildrenBBox[ DIRECTION_TO_TRBL[ direction ] ];\n\n      if (direction === 'n') {\n        spaceToolConstraints.bottom = max = isNumber(max) ? Math.min(max, minOrMax) : minOrMax;\n      } else if (direction === 'w') {\n        spaceToolConstraints.right = max = isNumber(max) ? Math.min(max, minOrMax) : minOrMax;\n      } else if (direction === 's') {\n        spaceToolConstraints.top = min = isNumber(min) ? Math.max(min, minOrMax) : minOrMax;\n      } else if (direction === 'e') {\n        spaceToolConstraints.left = min = isNumber(min) ? Math.max(min, minOrMax) : minOrMax;\n      }\n    }\n\n    if (movingChildren.length) {\n      movingChildrenBBox = addPadding(asTRBL(getBBox(movingChildren)));\n\n      minOrMax = start -\n        movingChildrenBBox[ DIRECTION_TO_TRBL[ DIRECTION_TO_OPPOSITE[ direction ] ] ] +\n        resizingShapeBBox[ DIRECTION_TO_TRBL[ DIRECTION_TO_OPPOSITE[ direction ] ] ];\n\n      if (direction === 'n') {\n        spaceToolConstraints.bottom = max = isNumber(max) ? Math.min(max, minOrMax) : minOrMax;\n      } else if (direction === 'w') {\n        spaceToolConstraints.right = max = isNumber(max) ? Math.min(max, minOrMax) : minOrMax;\n      } else if (direction === 's') {\n        spaceToolConstraints.top = min = isNumber(min) ? Math.max(min, minOrMax) : minOrMax;\n      } else if (direction === 'e') {\n        spaceToolConstraints.left = min = isNumber(min) ? Math.max(min, minOrMax) : minOrMax;\n      }\n    }\n\n    if (attachers && attachers.length) {\n      attachers.forEach(function(attacher) {\n        if (includes(movingShapes, attacher)) {\n          movingAttachers.push(attacher);\n        } else {\n          nonMovingAttachers.push(attacher);\n        }\n      });\n\n      if (movingAttachers.length) {\n        movingAttachersBBox = asTRBL(getBBox(movingAttachers.map(getMid)));\n\n        movingAttachersConstraint = resizingShapeBBox[ DIRECTION_TO_TRBL[ DIRECTION_TO_OPPOSITE[ direction ] ] ]\n              - (movingAttachersBBox[ DIRECTION_TO_TRBL[ DIRECTION_TO_OPPOSITE[ direction ] ] ] - start);\n      }\n\n      if (nonMovingAttachers.length) {\n        nonMovingAttachersBBox = asTRBL(getBBox(nonMovingAttachers.map(getMid)));\n\n        nonMovingAttachersConstraint = nonMovingAttachersBBox[ DIRECTION_TO_TRBL[ direction ] ]\n              - (resizingShapeBBox[ DIRECTION_TO_TRBL[ direction ] ] - start);\n      }\n\n      if (direction === 'n') {\n        minOrMax = Math.min(movingAttachersConstraint || Infinity, nonMovingAttachersConstraint || Infinity);\n\n        spaceToolConstraints.bottom = max = isNumber(max) ? Math.min(max, minOrMax) : minOrMax;\n      } else if (direction === 'w') {\n        minOrMax = Math.min(movingAttachersConstraint || Infinity, nonMovingAttachersConstraint || Infinity);\n\n        spaceToolConstraints.right = max = isNumber(max) ? Math.min(max, minOrMax) : minOrMax;\n      } else if (direction === 's') {\n        minOrMax = Math.max(movingAttachersConstraint || -Infinity, nonMovingAttachersConstraint || -Infinity);\n\n        spaceToolConstraints.top = min = isNumber(min) ? Math.max(min, minOrMax) : minOrMax;\n      } else if (direction === 'e') {\n        minOrMax = Math.max(movingAttachersConstraint || -Infinity, nonMovingAttachersConstraint || -Infinity);\n\n        spaceToolConstraints.left = min = isNumber(min) ? Math.max(min, minOrMax) : minOrMax;\n      }\n    }\n\n    var resizingShapeMinDimensions = minDimensions && minDimensions[ resizingShape.id ];\n\n    if (resizingShapeMinDimensions) {\n\n      if (direction === 'n') {\n        minOrMax = start +\n          resizingShape[ AXIS_TO_DIMENSION [ axis ] ] -\n          resizingShapeMinDimensions[ AXIS_TO_DIMENSION[ axis ] ];\n\n        spaceToolConstraints.bottom = max = isNumber(max) ? Math.min(max, minOrMax) : minOrMax;\n      } else if (direction === 'w') {\n        minOrMax = start +\n          resizingShape[ AXIS_TO_DIMENSION [ axis ] ] -\n          resizingShapeMinDimensions[ AXIS_TO_DIMENSION[ axis ] ];\n\n        spaceToolConstraints.right = max = isNumber(max) ? Math.min(max, minOrMax) : minOrMax;\n      } else if (direction === 's') {\n        minOrMax = start -\n          resizingShape[ AXIS_TO_DIMENSION [ axis ] ] +\n          resizingShapeMinDimensions[ AXIS_TO_DIMENSION[ axis ] ];\n\n        spaceToolConstraints.top = min = isNumber(min) ? Math.max(min, minOrMax) : minOrMax;\n      } else if (direction === 'e') {\n        minOrMax = start -\n          resizingShape[ AXIS_TO_DIMENSION [ axis ] ] +\n          resizingShapeMinDimensions[ AXIS_TO_DIMENSION[ axis ] ];\n\n        spaceToolConstraints.left = min = isNumber(min) ? Math.max(min, minOrMax) : minOrMax;\n      }\n    }\n  });\n\n  return spaceToolConstraints;\n}\n\nfunction includes(array, item) {\n  return array.indexOf(item) !== -1;\n}\n\nfunction isAttacher(element) {\n  return !!element.host;\n}","import {\n  forEach\n} from 'min-dash';\n\nvar MARKER_DRAGGING = 'djs-dragging',\n    MARKER_RESIZING = 'djs-resizing';\n\nvar LOW_PRIORITY = 250;\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport {\n  translate\n} from '../../util/SvgTransformUtil';\n\nimport { isConnection } from '../../util/ModelUtil';\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../../draw/Styles').default} Styles\n */\n\nvar max = Math.max;\n\n\n/**\n * Provides previews for selecting/moving/resizing shapes when creating/removing space.\n *\n * @param {EventBus} eventBus\n * @param {ElementRegistry} elementRegistry\n * @param {Canvas} canvas\n * @param {Styles} styles\n */\nexport default function SpaceToolPreview(\n    eventBus, elementRegistry, canvas,\n    styles, previewSupport) {\n\n  function addPreviewGfx(collection, dragGroup) {\n    forEach(collection, function(element) {\n      previewSupport.addDragger(element, dragGroup);\n\n      canvas.addMarker(element, MARKER_DRAGGING);\n    });\n  }\n\n  // add crosshair\n  eventBus.on('spaceTool.selection.start', function(event) {\n    var space = canvas.getLayer('space'),\n        context = event.context;\n\n    var orientation = {\n      x: 'M 0,-10000 L 0,10000',\n      y: 'M -10000,0 L 10000,0'\n    };\n\n    var crosshairGroup = svgCreate('g');\n    svgAttr(crosshairGroup, styles.cls('djs-crosshair-group', [ 'no-events' ]));\n\n    svgAppend(space, crosshairGroup);\n\n    // horizontal path\n    var pathX = svgCreate('path');\n    svgAttr(pathX, 'd', orientation.x);\n    svgClasses(pathX).add('djs-crosshair');\n\n    svgAppend(crosshairGroup, pathX);\n\n    // vertical path\n    var pathY = svgCreate('path');\n    svgAttr(pathY, 'd', orientation.y);\n    svgClasses(pathY).add('djs-crosshair');\n\n    svgAppend(crosshairGroup, pathY);\n\n    context.crosshairGroup = crosshairGroup;\n  });\n\n  // update crosshair\n  eventBus.on('spaceTool.selection.move', function(event) {\n    var crosshairGroup = event.context.crosshairGroup;\n\n    translate(crosshairGroup, event.x, event.y);\n  });\n\n  // remove crosshair\n  eventBus.on('spaceTool.selection.cleanup', function(event) {\n    var context = event.context,\n        crosshairGroup = context.crosshairGroup;\n\n    if (crosshairGroup) {\n      svgRemove(crosshairGroup);\n    }\n  });\n\n  // add and update move/resize previews\n  eventBus.on('spaceTool.move', LOW_PRIORITY, function(event) {\n\n    var context = event.context,\n        line = context.line,\n        axis = context.axis,\n        movingShapes = context.movingShapes,\n        resizingShapes = context.resizingShapes;\n\n    if (!context.initialized) {\n      return;\n    }\n\n    if (!context.dragGroup) {\n      var spaceLayer = canvas.getLayer('space');\n\n      line = svgCreate('path');\n      svgAttr(line, 'd', 'M0,0 L0,0');\n      svgClasses(line).add('djs-crosshair');\n\n      svgAppend(spaceLayer, line);\n\n      context.line = line;\n\n      var dragGroup = svgCreate('g');\n      svgAttr(dragGroup, styles.cls('djs-drag-group', [ 'no-events' ]));\n\n      svgAppend(canvas.getActiveLayer(), dragGroup);\n\n      // shapes\n      addPreviewGfx(movingShapes, dragGroup);\n\n      // connections\n      var movingConnections = context.movingConnections = elementRegistry.filter(function(element) {\n        var sourceIsMoving = false;\n\n        forEach(movingShapes, function(shape) {\n          forEach(shape.outgoing, function(connection) {\n            if (element === connection) {\n              sourceIsMoving = true;\n            }\n          });\n        });\n\n        var targetIsMoving = false;\n\n        forEach(movingShapes, function(shape) {\n          forEach(shape.incoming, function(connection) {\n            if (element === connection) {\n              targetIsMoving = true;\n            }\n          });\n        });\n\n        var sourceIsResizing = false;\n\n        forEach(resizingShapes, function(shape) {\n          forEach(shape.outgoing, function(connection) {\n            if (element === connection) {\n              sourceIsResizing = true;\n            }\n          });\n        });\n\n        var targetIsResizing = false;\n\n        forEach(resizingShapes, function(shape) {\n          forEach(shape.incoming, function(connection) {\n            if (element === connection) {\n              targetIsResizing = true;\n            }\n          });\n        });\n\n        return isConnection(element)\n          && (sourceIsMoving || sourceIsResizing)\n          && (targetIsMoving || targetIsResizing);\n      });\n\n\n      addPreviewGfx(movingConnections, dragGroup);\n\n      context.dragGroup = dragGroup;\n    }\n\n    if (!context.frameGroup) {\n      var frameGroup = svgCreate('g');\n      svgAttr(frameGroup, styles.cls('djs-frame-group', [ 'no-events' ]));\n\n      svgAppend(canvas.getActiveLayer(), frameGroup);\n\n      var frames = [];\n\n      forEach(resizingShapes, function(shape) {\n        var frame = previewSupport.addFrame(shape, frameGroup);\n\n        var initialBounds = frame.getBBox();\n\n        frames.push({\n          element: frame,\n          initialBounds: initialBounds\n        });\n\n        canvas.addMarker(shape, MARKER_RESIZING);\n      });\n\n      context.frameGroup = frameGroup;\n      context.frames = frames;\n    }\n\n    var orientation = {\n      x: 'M' + event.x + ', -10000 L' + event.x + ', 10000',\n      y: 'M -10000, ' + event.y + ' L 10000, ' + event.y\n    };\n\n    svgAttr(line, { d: orientation[ axis ] });\n\n    var opposite = { x: 'y', y: 'x' };\n    var delta = { x: event.dx, y: event.dy };\n    delta[ opposite[ context.axis ] ] = 0;\n\n    // update move previews\n    translate(context.dragGroup, delta.x, delta.y);\n\n    // update resize previews\n    forEach(context.frames, function(frame) {\n      var element = frame.element,\n          initialBounds = frame.initialBounds,\n          width,\n          height;\n\n      if (context.direction === 'e') {\n        svgAttr(element, {\n          width: max(initialBounds.width + delta.x, 5)\n        });\n      } else {\n        width = max(initialBounds.width - delta.x, 5);\n\n        svgAttr(element, {\n          width: width,\n          x: initialBounds.x + initialBounds.width - width\n        });\n      }\n\n      if (context.direction === 's') {\n        svgAttr(element, {\n          height: max(initialBounds.height + delta.y, 5)\n        });\n      } else {\n        height = max(initialBounds.height - delta.y, 5);\n\n        svgAttr(element, {\n          height: height,\n          y: initialBounds.y + initialBounds.height - height\n        });\n      }\n    });\n\n  });\n\n  // remove move/resize previews\n  eventBus.on('spaceTool.cleanup', function(event) {\n\n    var context = event.context,\n        movingShapes = context.movingShapes,\n        movingConnections = context.movingConnections,\n        resizingShapes = context.resizingShapes,\n        line = context.line,\n        dragGroup = context.dragGroup,\n        frameGroup = context.frameGroup;\n\n    // moving shapes\n    forEach(movingShapes, function(shape) {\n      canvas.removeMarker(shape, MARKER_DRAGGING);\n    });\n\n    // moving connections\n    forEach(movingConnections, function(connection) {\n      canvas.removeMarker(connection, MARKER_DRAGGING);\n    });\n\n    if (dragGroup) {\n      svgRemove(line);\n      svgRemove(dragGroup);\n    }\n\n    forEach(resizingShapes, function(shape) {\n      canvas.removeMarker(shape, MARKER_RESIZING);\n    });\n\n    if (frameGroup) {\n      svgRemove(frameGroup);\n    }\n  });\n}\n\nSpaceToolPreview.$inject = [\n  'eventBus',\n  'elementRegistry',\n  'canvas',\n  'styles',\n  'previewSupport'\n];\n","import DraggingModule from '../dragging';\nimport RulesModule from '../rules';\nimport ToolManagerModule from '../tool-manager';\nimport PreviewSupportModule from '../preview-support';\nimport MouseModule from '../mouse';\n\nimport SpaceTool from './SpaceTool';\nimport SpaceToolPreview from './SpaceToolPreview';\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  __init__: [ 'spaceToolPreview' ],\n  __depends__: [\n    DraggingModule,\n    RulesModule,\n    ToolManagerModule,\n    PreviewSupportModule,\n    MouseModule\n  ],\n  spaceTool: [ 'type', SpaceTool ],\n  spaceToolPreview: [ 'type', SpaceToolPreview ]\n};\n","export var SPACING = 10;\n\nexport function quantize(value, quantum, fn) {\n  if (!fn) {\n    fn = 'round';\n  }\n\n  return Math[ fn ](value / quantum) * quantum;\n}","import {\n    append as svgAppend,\n    attr as svgAttr,\n    clear as svgClear,\n    create as svgCreate\n  } from 'tiny-svg';\n  \n  import { query as domQuery } from 'min-dom';\n  \n  import { SPACING, quantize } from 'diagram-js/lib/features/grid-snapping/GridUtil';\n  \n  import { getMid } from 'diagram-js/lib/layout/LayoutUtil';\n  \n  /**\n   * @typedef {import('diagram-js/lib/core/Canvas').default} Canvas\n   * @typedef {import('diagram-js/lib/core/EventBus').default} EventBus\n   */\n  \n  var GRID_COLOR = '#ccc',\n      LAYER_NAME = 'djs-grid';\n  \n  export var GRID_DIMENSIONS = {\n    width: 10000,\n    height: 10000\n  };\n  \n  /**\n   * @param {Canvas} canvas\n   * @param {EventBus} eventBus\n   */\nexport default function Grid(canvas, eventBus) {\n    this._canvas = canvas;\n  \n    var self = this;\n  \n    eventBus.on('diagram.init', function() {\n      self._init();\n      self.toggle(true);\n    });\n  \n    eventBus.on('gridSnapping.toggle', function(event) {\n      var active = event.active;\n  \n      self.toggle(active);\n  \n      self._centerGridAroundViewbox();\n    });\n  \n    eventBus.on('canvas.viewbox.changed', function(context) {\n      var viewbox = context.viewbox;\n  \n      self._centerGridAroundViewbox(viewbox);\n    });\n  }\n  \n  Grid.prototype._init = function() {\n    var defs = domQuery('defs', this._canvas._svg);\n  \n    if (!defs) {\n      defs = svgCreate('defs');\n  \n      svgAppend(this._canvas._svg, defs);\n    }\n  \n    var pattern = this._pattern = svgCreate('pattern');\n  \n    var patternId = 'djs-grid-pattern-' + randomNumber();\n  \n    svgAttr(pattern, {\n      id: patternId,\n      width: SPACING,\n      height: SPACING,\n      patternUnits: 'userSpaceOnUse'\n    });\n  \n    var circle = this._circle = svgCreate('circle');\n  \n    svgAttr(circle, {\n      cx: 0.5,\n      cy: 0.5,\n      r: 0.5,\n      fill: GRID_COLOR\n    });\n  \n    svgAppend(pattern, circle);\n  \n    svgAppend(defs, pattern);\n  \n    var grid = this._gfx = svgCreate('rect');\n  \n    svgAttr(grid, {\n      x: -(GRID_DIMENSIONS.width / 2),\n      y: -(GRID_DIMENSIONS.height / 2),\n      width: GRID_DIMENSIONS.width,\n      height: GRID_DIMENSIONS.height,\n      fill: `url(#${ patternId })`\n    });\n  };\n  \n  Grid.prototype._centerGridAroundViewbox = function(viewbox) {\n    if (!viewbox) {\n      viewbox = this._canvas.viewbox();\n    }\n  \n    var mid = getMid(viewbox);\n  \n    svgAttr(this._gfx, {\n      x: -(GRID_DIMENSIONS.width / 2) + quantize(mid.x, SPACING),\n      y: -(GRID_DIMENSIONS.height / 2) + quantize(mid.y, SPACING)\n    });\n  };\n  \n  /**\n   * Return the current grid visibility.\n   *\n   * @return {boolean}\n   */\n  Grid.prototype.isVisible = function() {\n    return this._visible;\n  };\n  \n  /**\n   * Toggle grid visibility.\n   *\n   * @param {boolean} [visible] new visible state\n   */\n  Grid.prototype.toggle = function(visible) {\n  \n    if (typeof visible === 'undefined') {\n      visible = !this._visible;\n    }\n  \n    if (visible === this._visible) {\n      return;\n    }\n  \n    var parent = this._getParent();\n  \n    if (visible) {\n      svgAppend(parent, this._gfx);\n    } else {\n      svgClear(parent);\n    }\n  \n    this._visible = visible;\n  };\n  \n  Grid.prototype._getParent = function() {\n    return this._canvas.getLayer(LAYER_NAME, -2);\n  };\n  \n  Grid.$inject = [\n    'canvas',\n    'eventBus'\n  ];\n  \n  \n  // helpers ///////////////\n  \n  function randomNumber() {\n    return Math.trunc(Math.random() * 1000000);\n  }","import GridModule from './grid.js';\n\nexport default {\n  __init__: [ 'grid' ],\n  grid: [ 'type', GridModule ]\n};","import {\n    query as domQuery,\n} from 'min-dom';\n\nimport {\n    innerSVG\n} from 'tiny-svg';\n\nconst renderColours = `\n:root {\n    --render-border-colour: #12123d;\n    --render-fill-colour: #d1d1df;\n    --render-label-colour: #303038;\n    --render-arc-stroke: black;\n    --render-fact-hover-success: hsla(143, 30%, 45%, 0.80);\n    --render-fact-hover-error: hsla(0, 30%, 45%, 0.80);\n    --render-simple-constraint: hsl(300, 82%, 32%);\n    --render-simple-constraint-editing: hsla(147, 93%, 54%, 0.5);\n    --render-simple-constraint-fail: hsla(0, 85%, 37%, 0.5);    \n    --render-mandatory-role-fill: hsl(280, 49%, 32%);\n    --render-madatory-role-stroke: hsl(280, 91%, 13%);\n    --render-objectified-label-fill: hsl(283, 100%, 68%);\n    --render-derived-fact-label-fill: hsl(300, 82%, 32%);\n    --render-fact-verb-arrow-fill: hsl(283, 100%, 68%);\n    --render-objectification-fill: #6464c7ab;\n}\n\n.fact-role {\n    fill: var(--render-fill-colour);\n    stroke: var(--render-border-colour);\n    stroke-width: 1.5;\n    cursor: pointer;\n}\n\n.fact-label {\n    fill: var(--render-fill-colour);\n    font-family: 'Roboto', sans-serif;\n    font-size: 12px;\n    font-weight: normal;\n    text-anchor: middle;\n    box-shadow: 1px 1px 2px var(--render-border-colour);\n    text-wrap: pretty;\n}\n\n\n.djs-visual {\n    .orm-visuals {\n        .fact-role-free {\n            fill: var(--render-fact-hover-success);\n            transition: 0.2s;\n        }\n        .fact-role-filled {\n            fill: var(--render-fact-hover-error);\n            transition: 0.2s;\n        }\n        .fact-objectified-label {\n            fill: var(--render-objectified-label-fill);\n            font-size: 12px;\n            text-anchor: middle;\n        }\n        .fact-derived-label {\n            fill: var(--render-derived-fact-label-fill);\n            font-family: 'Roboto', sans-serif;\n            font-size: 12px;\n            font-weight: normal;\n            text-anchor: middle;\n            box-shadow: 1px 1px 2px var(--render-border-colour);\n            text-wrap: pretty;\n        }\n        .fact-verb-arrow {\n            fill: var(--render-simple-constraint);\n        }\n    }\n}\n`;\nconst renderCSS = `\n<style type=\"text/css\"><![CDATA[\n${renderColours}\n]]></style>\n`;\n\nclass SvgExporter {\n\n    constructor(canvas){\n        this._canvas = canvas\n    }\n\n    save(){\n        var svg;\n        try {        \n            const contentNode = this._canvas.getActiveLayer(),\n                  defsNode = domQuery(':scope > defs', this._canvas._svg);\n        \n            const contents = innerSVG(contentNode);\n            let defs = '<defs>';\n            defs = defs + ( defsNode ? innerSVG(defsNode) : '');\n            defs = defs + renderCSS\n            defs = defs + '</defs>'\n        \n            const bbox = contentNode.getBBox();\n        \n            svg =\n              '<?xml version=\"1.0\" encoding=\"utf-8\"?>\\n' +\n              '<!-- created with the help of adam banham / http://adambanham.io -->\\n' +\n              '<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\\n' +\n              '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" ' +\n              'width=\"' + bbox.width + '\" height=\"' + bbox.height + '\" ' +\n              'viewBox=\"' + bbox.x + ' ' + bbox.y + ' ' + bbox.width + ' ' + bbox.height + '\" version=\"1.1\">' +\n              defs + contents +\n              '</svg>';\n          } catch (err) {\n            console.error(\"Unable to serialise svg :: \" +\n                err\n            )\n            return null\n          }\n          return svg\n    }\n}\n\nexport default SvgExporter","import { Position } from \"../model/position\";\nimport { CanvasViewbox } from \"diagram-js/lib/core/Canvas\";\nimport { ShapeLike } from \"diagram-js/lib/model/Types\";\nimport Canvas from \"diagram-js/lib/core/Canvas\";\n\n/**\n * Transforms an mouse original event into the canvas coordinates.\n * @param {CanvasViewbox} canvasViewbox the current view from canvas\n * @param {Position} position the position to be transformed\n * @returns {Position} the transformed position\n */\nexport function transformToViewbox(\n    canvasViewbox:CanvasViewbox, \n    position: Position\n    ) : Position {\n    return {\n        x: position.x / canvasViewbox.scale + canvasViewbox.x,\n        y: position.y / canvasViewbox.scale + canvasViewbox.y\n    };\n};\n\n/**\n * Checks whether the position is within the shape.\n * @param shape the shape to be checked\n * @param position the position to be checked\n * @returns {boolean} whether the position is within the shape\n */\nexport function isWithinShape(\n    shape: ShapeLike,\n    position: Position\n    ) : boolean {\n        let ret = (\n            position.x >= shape.x &&\n            position.x <= shape.x + shape.width &&\n            position.y >= shape.y &&\n            position.y <= shape.y + shape.height\n        );\n        return ret;\n    };\n\n/**\n * Applies a scale to the canvas to fit the elements within \n * the viewport.\n * @param {Canvas} canvas the canvas to be scaled\n */\nexport function scaleToFitElements(canvas:Canvas){\n    const {inner,outer} = canvas.viewbox();\n    if (inner.width === 0 || inner.height === 0) {\n        return;\n    }\n    var center = {\n        x: inner.x + inner.width/2,\n        y: inner.y + inner.height/2\n    };\n    let scale = Math.min( \n        (outer.width / inner.width),\n        (outer.height / inner.height)\n    ) * 0.8;\n    canvas.zoom('fit-viewport', center);\n    canvas.zoom(scale);\n}","import SvgExporter from \"../exporters/svgExporter\";\nimport { scaleToFitElements } from \"../utils/canvasUtils\";\n\nexport default function ExamplePaletteProvider(\n    create, elementFactory, lassoTool, spaceTool, palette, connect, registry,\n    modeling, canvas, eventBus, vscodeMessager) {\n    this._create = create;\n    this._elementFactory = elementFactory;\n    this._lassoTool = lassoTool;\n    this._spaceTool = spaceTool;\n    this._palette = palette;\n    this._connect = connect;\n    this._registry = registry;\n    this._modeling = modeling;\n    this._canvas = canvas;\n    this._bus = eventBus;\n    this._vscodeMessager = vscodeMessager;\n  \n    palette.registerProvider(this);\n  }\n  \n  ExamplePaletteProvider.$inject = [\n    'create',\n    'elementFactory',\n    'lassoTool',\n    'spaceTool',\n    'palette',\n    'ormConnect',\n    'elementRegistry',\n    'modeling',\n    'canvas',\n    'eventBus',\n    'vscodeMessager'\n  ];\n  \n  \n  ExamplePaletteProvider.prototype.getPaletteEntries = function() {\n    var create = this._create,\n        factory = this._elementFactory,\n        lassoTool = this._lassoTool,\n        spaceTool = this._spaceTool,\n        registry = this._registry,\n        modeling = this._modeling,\n        canvas = this._canvas,\n        bus = this._bus,\n        vscodeMessager = this._vscodeMessager;\n  \n    return {\n      'lasso-tool': {\n        group: 'tools',\n        className: 'mdi-lasso mdi',\n        title: 'Activate Lasso Tool',\n        action: {\n          click: function(event) {\n            lassoTool.activateSelection(event);\n          }\n        }\n      },\n      'space-tool': {\n        group: 'tools',\n        className: 'mdi-cursor-move mdi',\n        title: 'Activate Space Tool',\n        action: {\n          click: function(event) {\n            spaceTool.activateSelection(event);\n          }\n        }\n      },\n      'tool-separator': {\n        group: 'tools',\n        separator: true\n      },\n      'create-entity': {\n        group: 'create',\n        className: 'mdi-alpha-e-box-outline mdi',\n        title: 'Create Entity Type',\n        action: {\n          click: function(event) {\n            var s = Object.assign(\n              factory.createDummyAttributesForEntities(\"entity\"),\n              { x: 200, y: 100,}\n            );\n            create.start(event, s);\n          }\n        }\n      },\n      'create-value': {\n        group: 'create',\n        className: 'mdi-alpha-v-box-outline mdi',\n        title: 'Create Value Type',\n        action: {\n          click: function(event) {\n            var s = Object.assign(\n              factory.createDummyAttributesForEntities(\"value\"),\n              { x: 200, y: 100,}\n            );\n\n            create.start(event, s);\n          }\n        }\n      },\n      'create-fact': {\n        group: 'create',\n        className: 'mdi-alpha-f-box-outline mdi',\n        title: 'Create Fact type',\n        action: {\n          click: function(event) {\n            var s = Object.assign(\n              factory.createDummyAttributesForFacts(),\n              { x: 200, y: 100,}\n            );\n\n            create.start(event, s);\n          }\n        }\n      },\n      'create-separator': {\n        group: 'create',\n        separator: true\n      },\n      'import' : {\n        group: 'model',\n        className: 'mdi-import mdi',\n        title: 'Import schema',\n        action: {\n          click: function(event) {\n            bus.fire('document.import.start');\n          }\n        }\n      },\n      'save': {\n        group: 'model',\n        className: 'mdi-content-save-outline mdi',\n        title: 'Save Schema',\n        action: {\n          click: function(event) {\n            bus.fire('document.download', {});\n          }\n        }\n      },\n      'export-svg': {\n        group: 'model',\n        className: 'mdi-export mdi',\n        title: 'Export SVG',\n        action: {\n          click: function(event) {\n            // Generate the content you want to download as a string\n            const content = new SvgExporter(canvas).save();\n\n            // Create a Blob (Binary Large Object) from the content\n            const blob = new Blob([content], { type: 'text/plain' });\n\n            // Create a link element for downloading the file\n            const a = document.createElement('a');\n            a.href = URL.createObjectURL(blob);\n            a.download = 'orm_schema.svg'; // Specify the default filename\n\n            // Trigger a click event on the link to initiate the download\n            a.click();\n\n            // Clean up resources (revoke the URL to free up memory)\n            URL.revokeObjectURL(blob);\n            a.remove()\n          }\n        }\n      },\n      'model-separator': {\n        group: 'model',\n        separator: true\n      },\n      'fitview': {\n        group: 'view',\n        className: 'mdi-overscan mdi',\n        title: 'Fit to screen',\n        action: {\n          click: function(event) {\n            scaleToFitElements(canvas);\n          }\n        }\n      },\n      'fullscreen': {\n        group: 'view',\n        className: 'mdi-fullscreen mdi',\n        title: 'Toggle fullscreen',\n        action: {\n          click: function(event) {\n            bus.fire('editor.fullscreen.toggle');\n          }\n        }\n      },\n      'view-separator': {\n        group: 'view',\n        separator: true\n      },\n      'clear-model': {\n        group: 'clear',\n        className: 'mdi-trash-can-outline mdi',\n        title: 'clear all elements',\n        action: {\n          click: function(event) {\n            // clear the system, except for root\n            var els = registry.getAll().filter(\n                (v) => {\n                    return !v.id.includes(\"implicitroot\");\n                }\n            );\n            if (els.length > 0){\n                modeling.removeElements(\n                    els\n                );\n            }\n          }\n        }\n      },\n    };\n};","import { Connection, Element, Label } from \"diagram-js/lib/model/Types\";\nimport { getNextIdentifier } from \"./util\";\nimport { Point } from \"diagram-js/lib/util/Types\";\n\nimport { Refs } from 'object-refs';\nvar parentRefs = new Refs({ name: 'children', enumerable: true, collection: true }, { name: 'parent' }),\n    labelRefs = new Refs({ name: 'labels', enumerable: true, collection: true }, { name: 'labelTarget' }),\n    attacherRefs = new Refs({ name: 'attachers', collection: true }, { name: 'host' }),\n    outgoingRefs = new Refs({ name: 'outgoing', collection: true }, { name: 'source' }),\n    incomingRefs = new Refs({ name: 'incoming', collection: true }, { name: 'target' });\n\nexport interface connection extends Connection{\n    mandatory: boolean,\n    lastEdit: Point | null,\n    role: number;\n    type: string;\n}\n\nexport function createConnection(role:number,\n    mandatory:boolean=false\n){\n    return new OrmConnection(role, mandatory);\n}\n\nexport const TYPE = \"role-connection\";\n\nexport class OrmConnection implements connection {\n    mandatory: boolean;\n    id: string;\n    lastEdit: Point | null;\n    touched:boolean;\n    role:number;\n    businessObject?: any;\n    type: string = TYPE;\n    [x: string]: any;\n    waypoints: Point[];\n    label?: Label | undefined;\n    labels: Label[];\n    parent?: Element | undefined;\n    incoming: Connection[];\n    outgoing: Connection[];\n    source?: Element | undefined;\n    target?: Element | undefined;\n\n    constructor(role:number, mandatory:boolean){\n        // binders\n        this.labels = [];\n        Object.defineProperty(this, 'label', {\n            get: function() {\n              return this.labels[0];\n            },\n            set: function(newLabel) {\n        \n              var label = this.label,\n                  labels = this.labels;\n        \n              if (!newLabel && label) {\n                labels.remove(label);\n              } else {\n                labels.add(newLabel, 0);\n              }\n            }\n          });\n          labelRefs.bind(this, 'labels');\n          this.parent = undefined;\n          parentRefs.bind(this, 'parent');\n          this.outgoing = [];\n          outgoingRefs.bind(this, 'outgoing');\n          this.incoming = [];\n          incomingRefs.bind(this, 'incoming');\n          outgoingRefs.bind(this, 'source');\n          incomingRefs.bind(this, 'target');\n          this.waypoints = new Array<Point>();\n        // customware\n        this.id = \"connection-\" + getNextIdentifier();\n        this.role = role;\n        this.mandatory = mandatory;\n        this.touched = false;\n        this.lastEdit = null;\n        this.waypoints = [];\n    }\n    \n    setByAttributes(attributes: any){\n        if (attributes.source){\n            this.source = attributes.source;\n            this.waypoints = this.waypoints.concat([\n                {\n                    y: attributes.source.y, \n                    x: attributes.source.x\n                }\n            ]);\n        }\n        if (attributes.target){\n            this.target = attributes.target;\n            this.waypoints = this.waypoints.concat([\n                {\n                    y: attributes.target.y, \n                    x: attributes.target.x\n                }\n            ]);\n        }\n        // bendpoints is being a ripe pain\n        // so we are going to use waypoints as a workaround\n        if (this.waypoints.length < 2){\n            this.waypoints = [\n                {\n                    y: 0, \n                    x: 0\n                },\n                {\n                    y: 0, \n                    x: 0\n                }\n            ];\n        }\n\n    }\n\n    flipMandatory(){\n        this.mandatory = !this.mandatory;\n    }\n\n    setMandatory(mandatory:boolean){\n        this.mandatory = mandatory;\n    }\n\n    isExitPointTouched():boolean {\n        return this.touched;\n    }\n\n    setExitPoint(point:Point){\n        if (!this.touched){\n            this.touched = true;\n        }\n        this.roleExitPoint = point;\n    }\n\n    buildAttributes(): Map<string, any> {\n        const attributes = new Map<string, any>();\n        if (this.mandatory !== undefined) {\n            attributes.set(\"mandatory\", this.mandatory);\n        }\n        attributes.set(\"role\", this.role);\n        if (this.lastEdit !== undefined) {\n            attributes.set(\"lastEdit\", this.lastEdit);\n        }\n        attributes.set(\"waypoints\", this.waypoints.map((i) => {\n            return {x: Math.fround(i.x), y: Math.fround(i.y)};\n        }));\n        attributes.set(\"id\", this.id);\n        attributes.set(\"source\", this.source ? this.source.id : null);\n        attributes.set(\"target\", this.target ? this.target.id : null);\n        attributes.set(\"type\", \"connection\");\n        return attributes;\n    }\n}","\nimport { OrmConnection } from \"./connections\";\n\nexport const SUBTYPE_NAME = \"subtype-connection\";\n\nexport function createSubtype(){\n    return new OrmSubtypeConnection();\n}\n\nexport class OrmSubtypeConnection extends OrmConnection {\n\n    constructor(){\n        super(-1, false);\n        this.type = SUBTYPE_NAME;\n    }\n\n} ","import { Connection, Element, Label, Shape, ShapeLike } from 'diagram-js/lib/model/Types';\nimport { Fact } from './facts';\nimport { getNextIdentifier } from './util';\n\nexport const OBJECTIFICATION_TYPE = 'objectification';\n\nexport interface Objectification extends ShapeLike {\n    type: \"objectification\";\n    fact: Fact;\n}\n\nexport function createObjectification(fact: Fact): Objectification {\n    return new ObjectifiedRole(fact);\n}\n\nexport class ObjectifiedRole implements Objectification {\n\n    id: string;\n    type: 'objectification';\n    width: number;\n    height: number;\n    x: number;\n    y: number;\n    fact: Fact;\n    businessObject?: any;\n    label?: Label | undefined;\n    labels: Label[];\n    parent?: Element | undefined;\n    incoming: Connection[];\n    outgoing: Connection[];\n\n    constructor(fact: Fact) {\n        let id = fact.id.split('-')[1];\n        this.id = `objectification-${id}`;\n        this.type = OBJECTIFICATION_TYPE;\n        this.label = undefined;\n        this.labels = [];\n        this.parent = fact;\n        this.incoming = [];\n        this.outgoing = [];\n        this.fact = fact;\n        this.x = this.fact.x - 10;\n        this.y = this.fact.y - 10;\n        this.y = this.y - (10 * this.fact.uniqueness.length);\n        this.width = this.fact.width + 20;\n        this.height = this.fact.height + 20 + 15 + (10 * this.fact.uniqueness.length);\n    }\n\n    update(){\n        this.x = this.fact.x - 10;\n        this.y = this.fact.y - 10;\n        if (this.fact.isVertical()) {\n            this.x = this.x - (10 * this.fact.uniqueness.length);\n            this.height = this.fact.height + 20;\n            this.width = this.fact.width + 20 + 15 + (10 * this.fact.uniqueness.length);\n        } else {\n            this.y = this.y - (10 * this.fact.uniqueness.length);\n            this.width = this.fact.width + 20;\n            this.height = this.fact.height + 20 + 15 + (10 * this.fact.uniqueness.length);\n        }\n    }\n\n\n}","import { ConnectionLike, ShapeLike } from \"diagram-js/lib/model/Types\";\nimport { Entity, ValueEntity } from \"./entities\";\nimport { Fact } from \"./facts\";\nimport { OrmSubtypeConnection, SUBTYPE_NAME } from \"./subtypes\";\nimport { OBJECTIFICATION_TYPE, ObjectifiedRole } from \"./objectifiedRole\";\nimport { TYPE as ROLE_CONNECTION_TYPE, OrmConnection} from \"./connections\";\n\nlet id = 0;\n\n/**\n * \n * @returns {number} the next identifier\n */\nexport function getNextIdentifier () {\n    id++;\n    return id;\n}\n\n/**\n * Determines if the shape is a fact type.\n * @param {ShapeLike} shape \n * @returns {boolean} whether the shape is a fact type.\n */\nexport function isFact(shape: ShapeLike): shape is Fact {\n    if (shape && shape.type){\n        return shape.type === \"fact\";\n    }\n    return false;\n}\n\n/**\n * Determines if the shape is an entity type.\n * @param {ShapeLike} shape \n * @returns {boolean} whether the shape is an entity type.\n */\nexport function isEntity(shape: ShapeLike): shape is Entity {\n    if (shape && shape.type){\n        return shape.type === \"entity\" || shape.type === \"value\";\n    }\n    return false;\n}\n\n/**\n * Checks whether a given connection is a role connection.\n * @param connection the connection to check\n * @returns where the connection is a role connection\n */\nexport function isRoleConnection(connection: ConnectionLike): connection is OrmConnection {\n    if (connection.type){\n        return connection.type === ROLE_CONNECTION_TYPE;\n    }\n    return false;\n}\n\n/**\n * Checks whether a given connection is subtyping\n * @param {ConnectionLike} connection \n * @returns {boolean} whether the connection is a subtype connection\n */\nexport function isSubtype(connection: ConnectionLike): connection is OrmSubtypeConnection {\n    if (connection.type){\n        return connection.type === SUBTYPE_NAME;\n    }\n    return false;\n}\n\n/**\n * Checks whetherthe shape is a Entity entity.\n * @param shape the shape to check\n * @returns \n */\nexport function isExactlyEntity(shape: ShapeLike): shape is Entity {\n    if (shape.type){\n        return shape.type === \"entity\";\n    }\n    return false;\n}\n\n/**\n * Checks whetherthe shape is a Value entity.\n * @param shape the shape to check\n * @returns \n */\nexport function isExactlyValue(shape: ShapeLike): shape is ValueEntity {\n    if (shape.type){\n        return shape.type === \"value\";\n    }\n    return false;\n}\n\n\n/**\n * Determines if the shape is a label type.\n * @param {ShapeLike} shape the shape to check \n * @returns {boolean} whether the shape is a label type.\n */\nexport function isLabel(shape: ShapeLike): boolean {\n    if (shape.type){\n        return shape.type === \"label\";\n    }\n    return false;\n}\n\n/**\n * Determines if the shape is a constraint type.    \n * @param {ShapeLike} shape the shape to check\n * @returns {boolean} whether the shape is a constraint type\n */\nexport function isConstraint(shape: ShapeLike): boolean {\n    if (shape.type){\n        return shape.type === \"constraint\";\n    }\n    return false;\n}\n\n/**\n * Checks whether the reference mode of entity by value\n * @param {ShapeLike} shape the shape to check\n * @returns {boolean} whether the shape has a reference and it is a value reference\n */\nexport function isValueReference(shape: ShapeLike): boolean {\n    if (isEntity(shape)){\n        return shape.referenceMode === \"value\";\n    }\n    return false;\n}\n\n/**\n * Checks whether the reference mode of entity by unit-based\n * @param {ShapeLike} shape the shape to check\n * @returns {boolean} whether the shape has a reference and it is a \n * unit-based reference\n */\nexport function isUnitReference(shape: ShapeLike): boolean {\n    if (isEntity(shape)){\n        return shape.referenceMode === \"unit-based\";\n    }\n    return false;\n}\n\n/**\n * Checks whether the reference mode of entity by reference\n * @param {ShapeLike} shape the shape to check\n * @returns {boolean} whether the shape has a reference and it is a \n * referred reference\n */\nexport function isReferredReference(shape: ShapeLike): boolean {\n    if (isEntity(shape)){\n        return shape.referenceMode === \"reference\";\n    }\n    return false;\n}\n\nexport function isObjectification(\n        shape: ShapeLike\n    ): shape is ObjectifiedRole {\n        if (shape.type) {\n            return shape.type === OBJECTIFICATION_TYPE;\n        }\n        return false;\n}\n","\nimport {\n  forEach\n} from 'min-dash';\n\nimport {\n  isConnection,\n  isLabel\n} from 'diagram-js/lib/util/ModelUtil';\n\n\nvar AXIS_TO_DIMENSION = {\n  x: 'width',\n  y: 'height'\n};\n\nimport SpaceTool from \"diagram-js/lib/features/space-tool/SpaceTool\";\nimport { isObjectification } from '../model/util';\n\nexport default class OrmSpaceTool extends SpaceTool {\n\n    constructor(canvas, dragging, eventBus,\n        modeling, rules, toolManager,\n        mouse) {\n        super(canvas, dragging, eventBus,\n            modeling, rules, toolManager,\n            mouse\n        );\n    }\n\n    makeSpace(movingShapes, resizingShapes, delta, direction, start) {\n        super.makeSpace(movingShapes, resizingShapes, delta, direction, start);\n    }\n\n    calculateAdjustments(elements, axis, delta, start) {\n        let ret = this._cal(elements, axis, delta, start);\n        return ret;\n    }\n\n    _cal(elements, axis, delta, start) {\n        var rules = this._rules;\n\n        var movingShapes = [],\n            resizingShapes = [];\n\n        var attachers = [],\n            connections = [];\n\n        function moveShape(shape) {\n            if (!movingShapes.includes(shape)) {\n                movingShapes.push(shape);\n            }\n\n            if (shape.labels && shape.labels.length > 0) {\n                for( let label of shape.labels) {\n                    // move external label if its label target is moving\n                    if (label && !movingShapes.includes(label)) {\n                        movingShapes.push(label);\n                    }\n                }\n            }\n        }\n\n        function resizeShape(shape) {\n            if (!resizingShapes.includes(shape)) {\n                resizingShapes.push(shape);\n            }\n        }\n\n        forEach(elements, function(element) {\n            if (!element.parent || isLabel(element) || isObjectification(element)) {\n                return;\n            }\n\n            // handle connections separately\n            if (isConnection(element)) {\n                connections.push(element);\n\n                return;\n            }\n\n            var shapeStart = element[ axis ],\n                shapeEnd = shapeStart + element[ AXIS_TO_DIMENSION[ axis ] ];\n\n            // handle attachers separately\n            if (isAttacher(element)\n                && ((delta > 0 && getMid(element)[ axis ] > start)\n                    || (delta < 0 && getMid(element)[ axis ] < start))) {\n                attachers.push(element);\n\n                return;\n            }\n\n            // move shape if its start is after space tool\n            if ((delta > 0 && shapeStart > start)\n                || (delta < 0 && shapeEnd < start)) {\n                    moveShape(element);\n\n                    return;\n            }\n\n            // resize shape if it's resizable and its start is before and its end is after space tool\n            if (shapeStart < start\n                && shapeEnd > start\n                && rules.allowed('shape.resize', { shape: element })\n                ) {\n                resizeShape(element);\n\n                return;\n            }\n        });\n\n        // move attacher if its host is moving\n        forEach(movingShapes, function(shape) {\n            var attachers = shape.attachers;\n\n            if (attachers) {\n                forEach(attachers, function(attacher) {\n                    moveShape(attacher);\n                });\n            }\n        });\n\n        var allShapes = movingShapes.concat(resizingShapes);\n\n        // move attacher if its mid is after space tool and its host is moving or resizing\n        forEach(attachers, function(attacher) {\n            var host = attacher.host;\n\n            if (includes(allShapes, host)) {\n                moveShape(attacher);\n            }\n        });\n\n        allShapes = movingShapes.concat(resizingShapes);\n\n        // move external label if its label target's (connection) source and target are moving\n        forEach(connections, function(connection) {\n            var source = connection.source,\n                target = connection.target,\n                label = connection.label;\n\n            if (includes(allShapes, source)\n                && includes(allShapes, target)\n                && label) {\n                    moveShape(label);\n            }\n        });\n\n        return {\n            movingShapes: movingShapes,\n            resizingShapes: resizingShapes\n        };\n    }\n}\n\nOrmSpaceTool.$inject = [\n  'canvas',\n  'dragging',\n  'eventBus',\n  'modeling',\n  'rules',\n  'toolManager',\n  'mouse'\n];\n\n// helpers \nfunction includes(array, item) {\n  return array.indexOf(item) !== -1;\n}\n\nfunction isAttacher(element) {\n  return !!element.host;\n}","import provider from './provider';\nimport SpaceTool2 from './spaceTool';\n\nexport default {\n    __depends__: [ ],\n    __init__: [ 'paletteProvider', 'spaceToolPreview', 'spaceTool' ],\n    paletteProvider: [ 'type', provider ],\n    spaceTool: ['type', SpaceTool2]\n};","import { getNextIdentifier } from \"./util\";\nimport { \n    Connection, Shape, \n    Element, Label } from \"diagram-js/lib/model/Types\";\n\nexport const unitHeight = 75;\nexport const unitWidth = 100;\n\nexport interface entity extends Shape {\n    id: string;\n    name: string;\n    ref: string;\n    type: \"value\" | \"entity\",\n    width: number;\n    height: number;\n    x: number;\n    y: number;\n    children: Shape[];\n    attachers: Shape[];\n    referenceMode: \"reference\" | \"unit-based\" | \"value\";\n    meta?: string;\n    constraints: any[];\n}\n\nexport function createEntity(\n    name: string, \n    ref: string, \n    type: \"value\" | \"entity\", \n    width: number, \n    height: number, \n    x: number, \n    y: number): Entity {\n    \n    if (type === \"value\") {\n        return new ValueEntity(name, ref, width, height, x, y);\n    } else {\n        return new Entity(name, ref, width, height, x, y);\n    }\n}\n\nexport class Entity implements entity {\n    id: string;\n    ref: string;\n    type: \"entity\" | \"value\";\n    width: number;\n    height: number;\n    x: number;\n    y: number;\n    name: string;\n    businessObject?: any;\n    label?: Label | undefined;\n    labels: Label[];\n    parent?: Element | undefined;\n    incoming: Connection[];\n    outgoing: Connection[];\n    children: Shape[];\n    attachers: Shape[];\n    referenceMode: \"reference\" | \"unit-based\" | \"value\";\n    subtypeOf: string[];\n    meta?: string | undefined;\n    constraints: any[];\n    \n    \n    constructor(name: string, ref: string, width: number, height: number, x: number, y: number) {\n        this.id = \"entity-\" + getNextIdentifier();\n        this.ref = ref;\n        this.type = \"entity\";\n        this.name = name;\n        this.width = width;\n        this.height = height;\n        this.x = x;\n        this.y = y;\n        this.children = [];\n        this.outgoing = [];\n        this.incoming = [];\n        this.labels = [];\n        this.parent = undefined;\n        this.attachers = [];\n        this.referenceMode = \"reference\";\n        this.meta = \" \";\n        this.subtypeOf = [];\n        this.constraints = [];\n    }\n\n    flipType() {\n        if (this.type === \"value\") {\n            this.type = \"entity\";\n            this.referenceMode = \"reference\";\n        } else {\n            this.type = \"value\";\n            this.referenceMode = \"value\";\n        }\n    }\n\n    /**\n     * Sets the label reference mode.\n     * @param {\"reference\" | \"unit-based\"} mode the mode\n     */\n    setReferenceMode(mode: \"reference\" | \"unit-based\"){\n        this.referenceMode = mode;\n    }\n    \n    /**\n     * Flips the label reference mode.\n     */\n    flipReferenceMode(){\n        if (this.referenceMode === \"reference\"){\n            this.referenceMode = \"unit-based\";\n        } else if (this.referenceMode === \"unit-based\"){\n            this.referenceMode = \"reference\";\n        }\n    }\n\n    /**\n     * Sets the meta string of the entity when in unit-based mode.\n     * @param {string} meta the meta string\n     */\n    setMetaString(meta: string){\n        this.meta = meta;\n    }\n\n    /**\n     * adds a subtype to the entity.\n     * @param subtyp the subtyp to add\n     */\n    addSubtype(subtyp: Entity){\n        this.subtypeOf?.push(subtyp.id);\n    }\n\n    /**\n     * removes a subtype from the entity.\n     * @param subtype the subtype to remove\n     */\n    removeSubtype(subtype: Entity){\n        this.subtypeOf = this.subtypeOf?.filter((id) => id !== subtype.id);\n    }\n\n    /**\n     * Checks if the entity is subtyping the given entity.\n     * @param entity the entity to check against\n     * @returns true if the entity is a subtype, false otherwise\n     */\n    isSubtypeOf(entity: Entity): boolean {\n        return this.subtypeOf.includes(entity.id);\n    }\n\n    /**\n     * Checks if the entity is subtyping any other entity.\n     * @returns true if the entity is subtyping, false otherwise\n     */\n    isSubtyping(): boolean {\n        return this.subtypeOf.length > 0;\n    }\n\n    hasValueConstraint(): boolean {\n        return this.constraints.some(constraint => constraint.type === \"value-constraint\");\n    }\n\n    addConstraint(constraint: any) {\n        this.constraints.push(constraint);\n    };\n\n    update() {\n        \n    }\n\n    buildAttributes(): Map<string, any> {\n        let attributes = new Map<string, any>();\n        attributes.set(\"id\", this.id);\n        attributes.set(\"type\", this.type);\n        attributes.set(\"name\", this.name);\n        attributes.set(\"ref\", this.ref);\n        attributes.set(\"x\", Math.fround(this.x));\n        attributes.set(\"y\", Math.fround(this.y));\n        \n        if (this.type === \"entity\"){\n            attributes.set(\"referenceMode\", this.referenceMode);\n            attributes.set(\"meta\", this.meta);\n        }\n\n        if (this.constraints.length > 0) {\n            attributes.set(\"constraints\", \n                this.constraints.map(\n                    constraint => constraint.buildAttributes()\n                )\n            );\n        }\n        return attributes;\n    }\n}\n\nexport class ValueEntity extends Entity {\n    name: string;\n    ref: string;\n    type: \"value\" | \"entity\";\n    width: number;\n    height: number;\n    x: number;\n    y: number;\n    labels: Label[];\n    parent?: Element | undefined;\n    incoming: Connection[];\n    outgoing: Connection[];\n    children: Shape[];\n    attachers: Shape[];\n    referenceMode: \"value\";\n\n    constructor(name: string, ref: string, width: number, height: number, x: number, y: number) {\n        super(name, ref, width, height, x, y);\n        this.name = name;\n        this.ref = ref;\n        this.type = \"value\";\n        this.width = width;\n        this.height = height;\n        this.x = x;\n        this.y = y;\n        this.children = [];\n        this.outgoing = [];\n        this.incoming = [];\n        this.labels = [];\n        this.parent = undefined;\n        this.attachers = [];\n        this.referenceMode = \"value\";\n    }\n    \n}\n","import { ShapeLike } from \"diagram-js/lib/model/Types\";\nimport { Entity, ValueEntity } from \"../../model/entities\";\nimport { Fact } from \"../../model/facts\";\nimport { getNextIdentifier, isFact } from \"../../model/util\";\n\nexport const UNIT_WIDTH = 50;\nexport const UNIT_HEIGHT = 50;\nexport const TYPE = 'value-constraint';\nconst WIDTH_FACTOR = 25;\n\nexport interface valueConstraint extends ShapeLike {\n    source: Entity | ValueEntity | Fact;\n    factor?: number;\n    description:string;\n}\n\nexport function createValueConstraint(\n    x: number, y: number, \n    source: Entity | ValueEntity | Fact, \n    description?:string, \n    factor?: number): ValueConstraint {\n    \n    return new ValueConstraint(x, y, source, description, factor);\n}\n\n/**\n * A value constraint indicates which values are allowed\n * in a value type and is sometimes called a \"domain constraint\".\n * For referenced or value object types, this constraint describes\n * the allowed values for the identity of the object.\n * \n * Example: For a value type that represents a color, the object \n * value constraint could specify that only certain color names\n * or hex codes are allowed.\n * \n * These are represented by '{' [values]'}' where [values] could\n * be the following:\n * - a list of allowed values (e.g., 'red, green, blue')\n * - a range of values (e.g., '1..10', '..100', '(1..10])\n * - a regular expression (e.g., \"'a'..'z', 'A'..'Z'\")\n * - multiple value formats of the above\n */\nexport class ValueConstraint implements valueConstraint{\n    id: string;\n    x: number;\n    y: number;\n    type:string = TYPE;\n    width: number;\n    height: number;\n    visible: boolean = true;\n    source: Entity | ValueEntity | Fact;\n    factor?: number;\n    description: string;\n\n    constructor(\n        x: number, y: number, \n        source: Entity | ValueEntity | Fact, \n        description = '...',\n        factor?: number ) {\n        \n        this.id = `value-constraint-${getNextIdentifier()}`;\n        this.x = x;\n        this.y = y;\n        this.width = UNIT_WIDTH;\n        this.height = UNIT_HEIGHT;\n        this.source = source;\n        this.description = description;\n        \n        if (isFact(source)) {\n            this.factor = factor;\n        }\n\n        this.update();\n    }\n\n    hide() {\n        this.visible = false;\n        this.update();\n    }\n\n    show() {\n        this.visible = true;\n        this.update();\n    }\n\n    isVisible() {\n        return this.visible;\n    }\n\n    setDescription(value: string) {\n        this.description = value;\n        this.update();\n    }\n\n    increaseWidth() {\n        this.width = this.width + WIDTH_FACTOR;\n    }\n\n    decreaseWidth() {\n        this.width = Math.max(UNIT_WIDTH, this.width - WIDTH_FACTOR);\n    }\n\n    canDecreaseWidth() {\n        return this.width > UNIT_WIDTH;\n    }\n\n    setRoleFactor(factor: number) { \n        if (isFact(this.source)) {\n            this.factor = factor;\n        }\n    }\n\n    update(){\n\n    }\n\n    buildAttributes(): object {\n        return {\n            id: this.id,\n            x: this.x,\n            y: this.y,\n            width: this.width,\n            height: this.height,\n            factor: this.factor,\n            description: this.description\n        };\n    };\n};","import { ValueConstraint, TYPE as VC_TYPE } from \"./valueConstraint\";\nimport { isEntity, isFact } from \"../../model/util\";\n\n/**\n * Checks if the given shape is a ValueConstraint.\n * @param {object} shape shape to check\n * @returns {boolean} true if the shape is a ValueConstraint, false otherwise\n */\nexport function isValueConstraint(shape: any): shape is ValueConstraint {\n    if (shape && shape.type && shape.type === VC_TYPE) {\n        return true;\n    }\n    return false;\n}\n\n/**\n * Checks if the given shape is an object value constraint.\n * @param shape the shape to check\n * @returns {boolean} true if the shape is an object value constraint, false otherwise\n */\nexport function isObjectValueConstraint(shape: any): \n    shape is ValueConstraint {\n    if (isValueConstraint(shape)) {\n        if (isEntity(shape.source)) {\n            return true;\n        }\n    }\n    return false;\n}\n\n/**\n * Checks if the given shape is a role value constraint.\n * @param shape the shape to check\n * @returns {boolean} true if the shape is a role value constraint, false otherwise\n */\nexport function isRoleValueConstraint(shape: any):\n    shape is ValueConstraint {\n    if (isValueConstraint(shape)) {\n        if (shape.source && isFact(shape.source)) {\n            return true;\n        }\n    }\n    return false;\n}","import { entity } from \"./entities\";\nimport { getNextIdentifier } from \"./util\";\nimport { SimpleConstraint } from \"./constraints\";\nimport { \n    Label, Element, \n    Connection} from \"diagram-js/lib/model/Types\";\nimport { Objectification } from \"./objectifiedRole\";\nimport { ValueConstraint } from \"../constraints/model/valueConstraint\";\nimport { isValueConstraint } from \"../constraints/model/utils\";\n\nexport const unitWidth = 25;\nexport const unitHeight = 25;\nexport const constraintDiff = 10;\n\nexport type HighlightingMode = \"connection\" | \"constraint\" | \"uniqueness\";\n\nexport interface HighlightControls {\n    highlightMode: HighlightingMode;\n    highlightFocus?: ValueConstraint | SimpleConstraint;\n}\n\nexport interface fact extends Element, HighlightControls {\n    id: string;\n    roles: number;\n    factors: Array<entity | null>;\n    type: \"fact\";\n    width: number;\n    height: number;\n    x: number;\n    y: number;\n    hovered?: boolean;\n    uniqueness?: Array<SimpleConstraint>;\n    objectified?: boolean;\n    objectifiedName?: string;\n    objectification?: Objectification\n    derived?: boolean;\n    derivedLabel?: string;\n    towards?: \"right\" | \"left\";\n    alignment?: \"horizontal\" | \"vertical\";\n}\n\nexport function createFact(\n    factors: Array<entity | null>,\n    x: number,\n    y: number): fact {\n    return new Fact(factors, unitWidth * factors.length, unitHeight, x, y);\n}\n\nexport interface RoleFoundResponse {\n    found: boolean;\n    role: number;\n}\n\nexport class Fact implements fact {\n    id: string;\n    roles: number;\n    factors: Array<entity | null>;\n    type: \"fact\";\n    width: number;\n    height: number;\n    label?: Label | undefined;\n    labels: Label[];\n    x: number;\n    y: number;\n    hovered?: boolean;\n    hoveredRole?: number;\n    uniqueness: Array<SimpleConstraint>;\n    constraints: Array<ValueConstraint>;\n    objectified?: boolean | undefined;\n    objectifiedName?: string;\n    objectification?: Objectification | undefined;\n    derived?: boolean | undefined;\n    towards?: \"right\" | \"left\" | undefined;\n    derivedLabel?: string | undefined;\n    alignment: \"horizontal\" | \"vertical\";\n    businessObject?: any;\n    parent?: Element | undefined;\n    incoming: Connection[];\n    outgoing: Connection[];\n    highlightMode: HighlightingMode = \"connection\";\n    highlightFocus?: ValueConstraint | SimpleConstraint;\n\n    constructor(factors: Array<entity | null>, width: number, height: number, x: number, y: number) {\n        this.id = \"fact-\" + getNextIdentifier();\n        this.roles = factors.length;\n        this.factors = new Array(...factors);\n        this.type = \"fact\";\n        this.width = width;\n        this.height = height;\n        this.x = x;\n        this.y = y;\n        this.hovered = false;\n        this.hoveredRole = undefined;\n        this.uniqueness = new Array();\n        this.objectifiedName = \"foobar\";\n        this.derived = false;\n        this.labels = [];\n        this.incoming = [];\n        this.outgoing = [];\n        this.objectification = undefined;\n        this.constraints = [];\n        this.alignment = \"horizontal\"; // Default to horizontal alignment\n    }\n    \n\n    addRole(){\n        this.roles = this.roles + 1;\n        this.factors = this.factors.concat(...[null]);\n        this.updateDimensionsForAlignment();\n    }\n\n    /**\n     * Removes the last role from the fact type.\n     * @returns {entity | null} the entity that was removed\n     */\n    removeRole(){\n        let temp = this.factors[this.roles - 1];\n        this.roles = this.roles - 1;\n        this.factors = this.factors.slice(0, -1);\n        this.updateDimensionsForAlignment();\n        if (this.roles === 1){\n            this.unsetTowards();\n        }\n        return temp;\n    }\n\n    /**\n     * Clears the role with the given entity, otherwise clears at the given position.\n     * @param {entity} entity\n     * @param {number} pos \n     */\n    clearRole(entity:entity, pos:number){\n        if (pos !== null){\n            if (pos >= 0 && pos < this.roles){\n                    this.factors[pos] = null;\n                    return;\n            }\n        }\n        if (entity){\n            let idx = this.factors.findIndex((i,_) => {\n                if (i){\n                    return i.id === entity.id;\n                } return false;\n            });\n            if (idx >= 0){\n                this.factors[idx] = null;\n                return;\n            }\n        }\n    }\n\n    /**\n     * Checks whether the fact type has any missing roles.\n     * @returns {boolean} is there any missing role\n     */\n    hasMissingRole(){\n        let missing = this.factors.filter( i => !i);\n        return missing.length > 0;\n    }\n\n    /**\n     * May add the given entity as a factor of this fact type.\n     * returns either the given entity was added.\n     * @param {entity} entity  the entity to add\n     * @return {RoleFoundResponse} whether it was added\n     */\n    setNextMissingRole(entity:entity){\n        let role = -1;\n        if (!this.hasMissingRole()){\n            return {found: false, role: role};\n        }\n        \n        for(let i = 0; i < this.roles; i++){\n            if (!this.factors[i]){\n                this.factors[i] = entity;\n                role = i;\n                break;\n            }\n        }\n        return {found: true, role: role};\n    }\n\n    /**\n     * sets the given entity in the pos-th role of the fact type.\n     * @param {entity} role the entity to set\n     * @param {number} pos the position of the role \n     */\n    setRole(role:entity,pos:number){\n        if (pos < 1 && pos >= this.roles){\n            throw new Error(\"Assertion Failed :: expected pos to between :: 1 and \"+this.roles+\" :: but was given :: \"+pos);\n        } \n        this.factors[pos] = role;\n        return true;\n    }\n\n    /**\n     * Finds the position of role that the given entity is in.\n     * @param {entity} entity the entity to find\n     * @returns {number} the position of the entity or -1 if not found\n     */\n    findEntityPosition(entity:entity): number {\n        return this.factors.findIndex((i,_) => {\n            if (i){\n                return i.id === entity.id;\n            } return false;\n        });\n    }\n\n    /**\n     * Gets the center of the role at the given position.\n     * @param pos the position of the role\n     * @returns {x:number, y:number} the center of the role\n     */\n    getCenterForRole(pos:number): {x:number, y:number} {\n        if (this.isVertical()) {\n            return {\n                x: this.x + 0.5 * unitWidth,\n                y: this.y + ((pos + 0.5) * unitHeight)\n            };\n        } else {\n            return {\n                x: this.x + ((pos + 0.5) * unitWidth),\n                y: this.y + 0.5 * unitHeight\n            };\n        }\n    }\n\n    findNearestRoleUsingPos(posX:number, posY:number): number {\n        if (this.isVertical()) {\n            let pos = Math.max(0, \n                Math.floor((posY + 5 - this.y) / unitHeight)\n            );\n            if (pos < this.roles){\n                return pos;\n            } else {\n                return -1;\n            }\n        } else {\n            let pos = Math.max(0, \n                Math.floor((posX + 5 - this.x) / unitWidth)\n            );\n            if (pos < this.roles){\n                return pos;\n            } else {\n                return -1;\n            }\n        }\n    }\n            \n    /**\n     * Checks whether the role has been filled at the given position.\n     * @param pos the pos to check\n     * @returns {boolean} whether the role is filled\n     */\n    isFilled(pos:number) : boolean {\n        return this.factors[pos] !== null;\n    }\n\n    /**\n     * Helper function to get the next free position for a constraint.\n     * @returns {x:number, y:number} the next free position for a constraint\n     */\n    getNextFreeContraintPosition(): {x:number, y:number} {\n        if (this.isVertical()) {\n            let x = this.x - (constraintDiff * (this.uniqueness.length + 1));\n            let y = this.y + this.height / 2;\n            return {x: x, y: y};\n        } else {\n            let x = this.x + this.width / 2;\n            let y = this.y - (constraintDiff * (this.uniqueness.length + 1));\n            return {x: x, y: y};\n        }\n    }\n\n    /**\n     * Adds a constraint to the fact type.\n     * @param constraint the constraint to add\n     */\n    addUniqueness(constraint: SimpleConstraint): void {\n        this.uniqueness.push(constraint);\n        constraint.setSource(this);\n    }\n\n    /**\n     * Removes the given constraint from the fact type.\n     * @param constraint the constraint to remove\n     */\n    removeUniqueness(constraint: SimpleConstraint): void {\n        let idx = this.uniqueness.findIndex((i,_) => {\n            if (i){\n                return i.id === constraint.id;\n            } return false;\n        });\n        if (idx >= 0){\n            let rem = this.uniqueness.splice(idx,1);\n            for(let removed of rem){\n                removed.setSource(undefined);\n            }\n        }\n        if (this.isVertical()) {\n            let curr_x = this.x - constraintDiff;\n            for(let keeps of this.uniqueness){\n                keeps.x = curr_x;\n                curr_x = curr_x - constraintDiff;\n            }\n        } else {\n            let curr_y = this.y - constraintDiff;\n            for(let keeps of this.uniqueness){\n                keeps.y = curr_y;\n                curr_y = curr_y - constraintDiff;\n            }\n        }\n    }\n\n    /**\n     * Refreshes the positions of the constraints.\n     */\n    refreshUniquenessPositions(): void {\n        if (this.isVertical()) {\n            let curr_x = this.x - constraintDiff;\n            for(let keeps of this.uniqueness){\n                keeps.x = curr_x;\n                keeps.y = this.y;\n                curr_x = curr_x - constraintDiff;\n            }\n        } else {\n            let curr_y = this.y - constraintDiff;\n            for(let keeps of this.uniqueness){\n                keeps.y = curr_y;\n                keeps.x = this.x;\n                curr_y = curr_y - constraintDiff;\n            }\n        }\n    }\n\n    /**\n     * Makes the fact type objectified.\n     */\n    objectify(): void {\n        this.objectified = true;\n    }\n\n    /**\n     * Sets the direction of the verbialization.\n     * @param {\"left\" | \"right\"} towards the direction of the verbialization\n     */\n    setTowards(towards: \"right\" | \"left\"): void {\n        this.towards = towards;\n    }\n\n    /**\n     * Checks whether the fact type is verbalised towards a direction.\n     * @returns {boolean} whether the fact type is directed\n     */\n    isTowards(): boolean {\n        return this.towards !== undefined;\n    }\n\n    /**\n     * Removes the direction of verbialization.\n     */\n    unsetTowards(): void {  \n        this.towards = undefined;\n    }\n\n    /**\n     * Checks whether the fact has any value constraints.\n     * @returns {boolean} true if the fact has value constraints, false otherwise\n     */\n    hasValueConstraint(): boolean {\n        return this.constraints.some(\n            (i) => isValueConstraint(i)\n        );\n    }\n\n    /**\n     * Checks whether the fact has a value constraint over the given role.\n     * @param {number} role the role to check\n     * @returns {boolean} true if the fact has a value constraint over the role, false otherwise\n     */\n    hasValueConstraintOver(role: number): boolean {\n        return this.constraints.some(\n            (i) => isValueConstraint(i) && \n                   i.factor && \n                   i.factor === role\n        );\n    }\n\n    /**\n     * Adds a constraint to the fact type or one of its roles.\n     * @param constraint the value constraint to add\n     */\n    addConstraint(constraint: ValueConstraint): void {\n        this.constraints.push(constraint);\n    }\n\n    update(){\n        this.updateDimensionsForAlignment();\n        if (this.labels.length > 0){\n            for(let labeler of this.labels){\n                if (this.isVertical()) {\n                    labeler.y = this.y + (this.height / 2);\n                    labeler.x = this.x + (unitWidth * 1.5) + (labeler.derived ? 25 : 0);\n                } else {\n                    labeler.x = this.x + (this.width / 2);\n                    labeler.y = this.y + (unitHeight * 1.5) + (labeler.derived ? 25 : 0);\n                }\n            }\n        }\n        if (this.objectified){\n            this.objectification?.update();\n        }\n        this.uniqueness.forEach((uni) => {\n            uni.update();\n        });\n    }\n\n    buildAttributes(): Map<string, any> {\n        var that:any = this;\n        let attributes = new Map<string, any>();\n        attributes.set(\"id\", this.id);\n        attributes.set(\"type\", this.type);\n        attributes.set(\"roles\", this.roles);\n        attributes.set(\"factors\", this.factors.map((i) => i ? i.id : null));\n        attributes.set(\"x\", Math.fround(this.x,));\n        attributes.set(\"y\", Math.fround(this.y));\n        if (that.labels){\n            for(let labeler of that.labels){\n                if (labeler.derived){\n                    attributes.set(\"derivedLabel\", labeler.content);\n                } else {\n                    attributes.set(\"label\", labeler.content);\n                }\n            }\n        }\n        if (this.derived !== undefined){\n            let derivedValue = this.derived;\n            attributes.set(\"derived\", derivedValue);\n        }\n        if (this.objectified !== undefined){\n            let objectifiedValue = this.objectified;\n            attributes.set(\"objectified\", objectifiedValue);\n            attributes.set(\"objectifiedName\", this.objectifiedName);\n        }\n        if (this.towards){\n            attributes.set(\"towards\", this.towards);\n        }\n        if (this.alignment && this.alignment !== \"horizontal\"){\n            attributes.set(\"alignment\", this.alignment);\n        }\n        if (this.uniqueness.length > 0){\n            attributes.set(\"uniqueness\", this.uniqueness.map((i) => {\n                return i.buildAttributes();\n            }));\n        }\n        if (this.constraints.length > 0){\n            attributes.set(\"constraints\", this.constraints.map((i) => {\n                return i.buildAttributes();\n            }));\n        }\n        return attributes;\n    }\n\n    /**\n     * Checks whether the fact type is vertically aligned.\n     * @returns {boolean} whether the fact type is vertical\n     */\n    isVertical(): boolean {\n        return this.alignment === \"vertical\";\n    }\n\n    /**\n     * Checks whether the fact type is horizontally aligned.\n     * @returns {boolean} whether the fact type is horizontal\n     */\n    isHorizontal(): boolean {\n        return this.alignment === \"horizontal\" || this.alignment === undefined;\n    }\n\n    /**\n     * Sets the alignment of the fact type.\n     * @param {\"horizontal\" | \"vertical\"} alignment the alignment to set\n     */\n    setAlignment(alignment: \"horizontal\" | \"vertical\"): void {\n        this.alignment = alignment;\n        this.updateDimensionsForAlignment();\n    }\n\n    /**\n     * Toggles the alignment between horizontal and vertical.\n     */\n    toggleAlignment(): void {\n        if (this.isVertical()) {\n            this.setAlignment(\"horizontal\");\n        } else {\n            this.setAlignment(\"vertical\");\n        }\n    }\n\n    /**\n     * Updates width and height based on current alignment.\n     */\n    updateDimensionsForAlignment(): void {\n        if (this.isVertical()) {\n            this.width = unitWidth;\n            this.height = unitHeight * this.roles;\n        } else {\n            this.width = unitWidth * this.roles;\n            this.height = unitHeight;\n        }\n    }\n\n}\n\n","\nimport { ShapeLike } from \"diagram-js/lib/model/Types\";\nimport { getNextIdentifier } from \"./util\";\nimport { Fact } from \"./facts\";\n\nexport enum constraintType {\n    SIMPLE\n}\nexport const TYPE = \"constraint\";\nexport const UNIT_HEIGHT = 2.5;\n\nexport interface constraint extends ShapeLike {\n    id: string;\n    type: \"constraint\";\n    mode: constraintType;\n    roles?: number;\n    over: Array<number>;\n}\n\nexport function createConstraint(\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n    over: Array<number>,\n    roles: number): SimpleConstraint {\n    return new SimpleConstraint(\n        x, y,\n        width, height,\n        over, roles);\n}\n\nexport class SimpleConstraint implements constraint {\n    id: string;\n    type: \"constraint\";\n    mode: constraintType;\n    alignment: \"horizontal\" | \"vertical\" = \"horizontal\";\n    over: Array<number>;\n    width: number;\n    height: number;\n    x: number;\n    y: number;\n    roles: number;\n    editing: boolean;\n    valid: boolean = true;\n    src?: Fact;\n\n    constructor(\n        x: number, y: number,\n        width: number, height: number,\n        over: Array<number>,  roles: number) {\n        this.id = \"constraint-\" + getNextIdentifier();\n        this.type = \"constraint\";\n        this.mode = constraintType.SIMPLE;\n        this.over = over;\n        this.width = width;\n        this.height = height;\n        this.x = x;\n        this.y = y;\n        this.roles = roles;\n        this.editing = false;\n    }\n\n    /**\n     * Set is the contraints is settled or not.\n     * @param editing whether the constraint is being edited\n     */\n    setEditing(editing: boolean) {\n        this.editing = editing;\n    }\n\n    /**\n     * flips the role of the constraint.\n     * @param role the role to be flipped\n     */\n    flipRole(role: number) {\n        if (this.over.includes(role)) {\n            this.over = this.over.filter((r) => r !== role);\n        } else {\n            this.over.push(role);\n        }\n    }\n\n    /**\n     * Checks whether the constraint is role constrained.\n     * @param role the role to be checked\n     * @returns {boolean} whether the constraint is role constrained\n     */\n    isRoleConstrainted(role: number): boolean {\n        return this.over.includes(role);\n    }\n\n    setSource(fact: Fact | undefined) {\n        this.src = fact;\n    }\n\n    refreshConstraintedRoles() {\n        this.over = this.over.filter(\n            (r) => r < this.roles\n        );\n    }\n\n    update() {\n        if (this.src) {\n            this.alignment = this.src.alignment;\n            if (this.alignment === \"horizontal\") {\n                this.width = this.src.width;\n                this.height = UNIT_HEIGHT;\n            } else {\n                this.width = UNIT_HEIGHT;\n                this.height = this.src.height;\n            }\n        }\n    }\n\n    buildAttributes(): any {\n        return {\n            id: this.id,\n            type: this.type,\n            mode: this.mode,\n            over: this.over,\n        };\n    }\n}","import ElementFactory from \"diagram-js/lib/core/ElementFactory\";\n\nimport { createEntity, ValueEntity, Entity} from \"../model/entities\";\nimport { createFact, Fact } from \"../model/facts\";\nimport { createConstraint } from \"../model/constraints\";\nimport { createConnection } from \"../model/connections\";\nimport { SUBTYPE_NAME, createSubtype } from \"../model/subtypes\";\nimport { OBJECTIFICATION_TYPE, createObjectification } from \"../model/objectifiedRole\";\nimport { TYPE as VALUE_CONSTRAINT_TYPE, createValueConstraint } from \"../constraints/model/valueConstraint\";\n\nimport { unitHeight as entityHeight, unitWidth as entityWidth } from \"../model/entities\";\nimport { unitHeight as factHeight, unitWidth as factWidth } from \"../model/facts\";\n\n/**\n * @type ElementFactory\n */\nexport default class OrmElementFactory extends ElementFactory{\n    constructor(eventBus) {\n        super();\n        this._eventBus = eventBus;\n    }\n\n    /**\n     * \n     * @param {string} type \n     * @param {Obejct} attrs \n     * @returns {Entity | Fact}\n     */\n    create(type, attrs)\n    {\n        type = attrs.type || type;\n        if (type === 'entity') {\n            let el = createEntity(attrs.label, attrs.ref, \n                attrs.type, attrs.width, attrs.height, \n                attrs.x, attrs.y);\n            el = Object.assign(el, attrs);\n            this._eventBus.fire('factory.create', { element: el });\n            return el;\n        }\n        if (type === 'value') {\n            let el = createEntity(attrs.label, attrs.ref, \n                attrs.type, attrs.width, attrs.height, \n                attrs.x, attrs.y);\n            el = Object.assign(el, attrs);\n            this._eventBus.fire('factory.create', { element: el });\n            return el;\n        }\n        if (type === 'fact') {\n            let el = createFact(attrs.factors, attrs.x, attrs.y);\n            el = Object.assign(el, attrs);\n            this._eventBus.fire('factory.create', { element: el });\n            return el;\n        }\n        if (type === 'constraint'){\n            attrs['type'] = 'constraint';\n            let el = createConstraint(\n                attrs.x, attrs.y, \n                attrs.width, attrs.height,\n                attrs.over, attrs.roles\n            );\n            this._eventBus.fire('factory.create', { element: el });\n            return el;\n        }\n        if (type === 'connection'){\n            attrs['type'] = 'connection';\n            let el = createConnection(attrs.role, attrs.mandatory);\n            el.setByAttributes(attrs);\n            this._eventBus.fire('factory.create', { element: el });\n            return el; \n        }\n        if (type === SUBTYPE_NAME){\n            attrs['type'] = SUBTYPE_NAME;\n            let el = createSubtype();\n            el.setByAttributes(attrs);\n            this._eventBus.fire('factory.create', { element: el });\n            return el; \n        }\n        if (type === OBJECTIFICATION_TYPE){\n            attrs['type'] = OBJECTIFICATION_TYPE;\n            let el = createObjectification(attrs.fact);\n            this._eventBus.fire('factory.create', { element: el });\n            return el; \n        }\n        if (type === VALUE_CONSTRAINT_TYPE){\n            attrs['type'] = VALUE_CONSTRAINT_TYPE;\n            let el = createValueConstraint(attrs.x, attrs.y, attrs.source);\n            return el;\n        }\n        if (type === 'label'){\n            attrs['type'] = 'label';\n            return super.create(type, attrs);\n        }\n       \n        throw new Error('Unknown element type: ' + type);\n    }\n\n    /**\n     * creates dummy attributes for an entity or value.\n     * @param {\"entity\" | \"value\"} type\n     * @return a dummy set of attributes\n     */\n    createDummyAttributesForEntities(type){\n        return {\n            label: 'Foobar',\n            ref: 'id',\n            type: type,\n            width: entityWidth,\n            height: entityHeight,\n            x: 0,\n            y: 0\n        };\n    }\n\n    /**\n     * creates dummy attributes for a fact.\n     * @returns {fact}\n     */\n    createDummyAttributesForFacts(){\n        return {\n            factors: [null],\n            width: factWidth,\n            height: factHeight,\n            type: 'fact',\n            x: 0,\n            y: 0\n        };\n    }\n\n    /**\n     * creates dummy attributes for a label.\n     * @returns {label}\n     */\n    createDummyAttributesForLabel(){\n        return {\n            content: \"...\"\n        };\n    }\n\n    createDummyAttributesForDerivedLabel(){\n        return {\n            content: \"*...\",\n            derived: true,\n        };\n    }\n\n    /**\n     * creates dummy attributes for a constraint over a fact.\n     * @param {Fact} fact \n     * @returns \n     */\n    createDummyAttributesForConstraintOverFact(fact){\n        let pos = fact.getNextFreeContraintPosition();\n        return {\n            type: 'constraint',\n            width: fact.width,\n            height: 3,\n            x: pos.x,\n            y: pos.y,\n            over: [],\n            roles: fact.roles, \n        };\n    }\n\n    /**\n     * Makes a dummy set of attributes for connections.\n     * @param {number} role the position of the fact type \n     * @returns {object} a mapping of attributes\n     */\n    createDummyAttributesForConnection(role){\n        return {\n            mandatory: false,\n            role: role\n        };\n    }\n\n    /**\n     * Makes a dummy set of attributes for objectification.\n     * @param {Fact} fact \n     * @returns \n     */\n    createDummyAttributesForObjectification(fact){\n        return {\n            type: OBJECTIFICATION_TYPE,\n            fact: fact,\n        };\n    }\n\n    /**\n     * Makes a dummy set of attributes for a value constraints.\n     * @param {Entity | ValueEntity | Fact} source what the constraint is over \n     * @returns \n     */\n    createDummyAttributesForValueConstraint(source) {\n        return {\n            type: VALUE_CONSTRAINT_TYPE,\n            source: source,\n            x: source.x + source.width + 10,\n            y: source.y + source.height / 2,\n        };\n    }\n}\n\nOrmElementFactory.$inject = [\n    'eventBus',\n];","import factory from './factory';\n\nexport default {\n    __init__ : [\n        'elementFactory'\n    ],\n    elementFactory: ['type', factory]\n};","\nimport BaseRenderer from \"diagram-js/lib/draw/BaseRenderer\";\n\nvar RENDER_PRIORITY = 1500;\n\nexport default class TSRenderer extends  BaseRenderer {\n    \n    constructor(eventBus, styles, canvas, textRender) {\n        super(eventBus, 1);\n        var self = this;\n\n        var renderPriority = RENDER_PRIORITY;\n\n        const thedraw = super.drawShape;\n        eventBus.on([ 'render.shape' ], renderPriority, function(evt, context) {\n            var type = evt.type,\n                element = context.element,\n                visuals = context.gfx,\n                attrs = context.attrs;\n\n                return thedraw(visuals, element, attrs);\n        });\n        const theconection = super.drawConnection;\n        eventBus.on(['render.connection' ], renderPriority - 50, function(evt, context) {\n            var type = evt.type,\n                element = context.element,\n                visuals = context.gfx,\n                attrs = context.attrs;\n\n            return theconection(visuals, element, attrs);\n        });\n    }\n\n\n}\n\nTSRenderer.$inject = [\n    'eventBus',\n    'styles',\n    'canvas',\n];","import { assign } from 'min-dash';\n\nimport TextUtil from 'diagram-js/lib/util/Text';\n\nvar DEFAULT_FONT_SIZE = 12;\nvar LINE_HEIGHT_RATIO = 1.2;\nconst LABEL_COLOUR = \"#01031b\";\nvar MIN_TEXT_ANNOTATION_HEIGHT = 30;\n\nexport default function TSTextRenderer(config) {\n\n  var defaultStyle = assign({\n    fontFamily: 'Arial, sans-serif',\n    fontSize: DEFAULT_FONT_SIZE,\n    fontWeight: 'normal',\n    color: LABEL_COLOUR,\n    background: \"rgba(0,0,0,0.5)\",\n    lineHeight: LINE_HEIGHT_RATIO\n  }, config && config.defaultStyle || {});\n\n  var externalStyle = assign({}, defaultStyle, {\n    fontSize: DEFAULT_FONT_SIZE\n  }, config && config.externalStyle || {});\n\n  var textUtil = new TextUtil({\n    style: defaultStyle\n  });\n\n  /**\n   * Get the new bounds of an externally rendered,\n   * layouted label.\n   *\n   * @param {Rect} bounds\n   * @param {string} text\n   *\n   * @return {Rect}\n   */\n  this.getExternalLabelBounds = function(bounds, text) {\n\n    var layoutedDimensions = textUtil.getDimensions(text, {\n      box: {\n        width: 90,\n        height: 100\n      },\n      style: externalStyle\n    });\n\n    // resize label shape to fit label text\n    return {\n      x: Math.round(bounds.x + bounds.width / 2 - layoutedDimensions.width / 2),\n      y: Math.round(bounds.y),\n      width: Math.ceil(layoutedDimensions.width),\n      height: Math.ceil(layoutedDimensions.height)\n    };\n\n  };\n\n  /**\n   * Get the new bounds of text annotation.\n   *\n   * @param {Rect} bounds\n   * @param {string} text\n   *\n   * @return {Rect}\n   */\n  this.getTextAnnotationBounds = function(bounds, text) {\n\n    var layoutedDimensions = textUtil.getDimensions(text, {\n      box: bounds,\n      style: defaultStyle,\n      align: 'left-top',\n      padding: 5\n    });\n\n    return {\n      x: bounds.x,\n      y: bounds.y,\n      width: bounds.width,\n      height: Math.max(MIN_TEXT_ANNOTATION_HEIGHT, Math.round(layoutedDimensions.height))\n    };\n  };\n\n  /**\n   * Create a layouted text element.\n   *\n   * @param {string} text\n   * @param {TextLayoutConfig} [options]\n   *\n   * @return {SVGElement} rendered text\n   */\n  this.createText = function(text, options) {\n    return textUtil.createText(text, options || {});\n  };\n\n  /**\n   * Get default text style.\n   */\n  this.getDefaultStyle = function() {\n    return defaultStyle;\n  };\n\n  /**\n   * Get the external text style.\n   */\n  this.getExternalStyle = function() {\n    return externalStyle;\n  };\n\n}\n\nTSTextRenderer.$inject = [\n  'config.textRenderer'\n];","import {\n    append as svgAppend,\n    attr as svgAttr,\n    create as svgCreate,\n    clone as svgClone,\n} from 'tiny-svg';\n\nimport EventBus from 'diagram-js/lib/core/EventBus';\nimport BaseRenderer from \"diagram-js/lib/draw/BaseRenderer\";\nimport RenderOptions from '../../renderOptions/renderOptions';\n\n// constants\nexport const PRIORITY = 2000;\nconst DEBUG = true;\nconst DEBUG_OPACITY = 1;\n\ntype RenderingSuffixes = \"shape\" | \"connection\";\n\n/**\n * Template for adding a new renderer for a specific type of element.\n * Each renderer should target a specific type of element and only render\n * that type.\n * \n * Classes extending this should implement the following methods:\n * * - canRender(element): boolean\n * * - shouldRender(element): boolean\n * * - draw(visuals, element): any\n * The draw method should return the SVG element with the drawn visuals.\n */\nexport default abstract class TemplateRenderer<T> extends BaseRenderer {\n\n    static $inject: Array<string> = [ 'eventBus', 'renderingOptions' ];\n    shapeType:string = \"shape\";\n    _eventBus: EventBus;    \n    _renderingOptions: RenderOptions;\n\n    constructor(eventBus:EventBus, renderingOptions:RenderOptions, \n        shapeType?:string, renderSuffix?:RenderingSuffixes) {\n        super(eventBus, PRIORITY);\n        this._eventBus = eventBus;\n        this._renderingOptions = renderingOptions;\n        if (shapeType) {\n            this.shapeType = shapeType;\n        }\n        var that = this;\n\n        let rSuffix = renderSuffix || \"shape\";\n        \n        eventBus.on([ `render.${rSuffix}` ], 2000, function(evt, context) {\n\n            var element = context.element,\n                visuals = context.gfx;\n\n            if (that.canRender(element)) {\n                if (!that.shouldRender(element)) {\n                    return visuals;\n                }\n                visuals = that.draw(visuals, element);\n                // @ts-ignore\n                if (that._renderingOptions.getShapeDebugDot(that.shapeType)) {\n                    visuals = that.drawDebug(visuals, element);\n                } \n                // @ts-ignore\n                let opacity = that._renderingOptions.computeShapeOpacity(that.shapeType);\n                if (opacity < 1) {\n                    visuals = that.handleOpacity(visuals, opacity);\n                }\n                return visuals;\n            } else {\n                // return nothing to trigger low priority renderers\n                return;\n            }\n        });\n    }\n\n    /**\n     * Determines if the renderer can render the given element. Should only\n     * target one known type of element.\n     * @param element the element to check\n     * @return true if the renderer can render the element\n     */\n    abstract canRender(element:any) : element is T;\n\n    /**\n     * Determines if the renderer should render svgelements for the targeted \n     * element type.\n     * @param element the element to check\n     * @return true if the renderer should render the element\n     */\n    abstract shouldRender(element:T) : boolean;\n\n    /**\n     * Draws the visuals for the given element.\n     * @param visuals the SVG element to draw on\n     * @param {T} element the element to draw\n     * @return the SVG element with the drawn visuals\n     */\n    abstract draw(visuals:any, element:T) : any;\n\n    /**\n     * Draws debug visuals for the given element.\n     * @param visuals \n     * @param element \n     */\n    drawDebug(visuals:any, element:any): any {\n        let dot = this._drawDebugDot(\n            (element.width / 2),\n            (element.height / 2),\n        );\n        svgAppend(visuals, dot);\n        // add compontents to group and return\n        svgAttr(visuals, {\n            opacity: DEBUG_OPACITY\n        });\n        return visuals;\n    }\n\n    /**\n     * Creates a debug dot as a svg element\n     * @param cx the centerX of the dog\n     * @param cy the centerY of the dot\n     * @returns the debug dot element\n     */\n    _drawDebugDot(cx:number, cy:number): SVGElement {\n        let dot = svgCreate(\"circle\", {\n            cx: cx,\n            cy: cy,\n            r: 5,\n            fill: \"red\",\n            stroke: \"transparent\",\n            opacity: 0.25\n        });\n        return dot;\n    }\n\n\n    /**\n     * Handles the opacity of the given SVG element.\n     * @param visuals the SVG element to handle opacity for\n     * @param opacity the opacity to set\n     * @return the SVG element with the opacity set\n     */\n    handleOpacity(visuals:any, opacity:number): any {\n        svgAttr(visuals, \n            {\n                opacity: opacity\n            }\n        );\n        return visuals;\n    }\n\n    /**\n     * Creates a shadow for the given SVG element.\n     * @param svgElement the SVG element to create a shadow for\n     * @return the SVG element with the shadow applied\n     */\n    createShadowForShape(svgElement: any): any {\n        var svg = svgClone(svgElement);\n        svgAttr(svg,{\n            opacity: 0.125,\n            transform: \"translate(2.5, 3.5)\",\n        });\n        return svg;\n    }\n}","\nexport const CSS_CONSTANTS = {\n    RENDER_VISUALS_CLASS : \"orm-visuals\",\n    BORDER_COLOUR : \"var(--render-border-colour)\",\n    SHAPE_FILL_COLOUR : \"var(--render-fill-colour)\",\n    SHAPE_LABEL_COLOUR : \"var(--render-label-colour)\",\n    ARC_STROKE_COLOUR : \"var(--render-arc-stroke)\",\n    CONSTRAINT_COLOUR : \"var(--render-simple-constraint)\",\n    CONSTRAINT_EDIT_COLOUR : \"var(--render-simple-constraint-editing)\",\n    CONSTRAINT_EDIT_FAIL : \"var(--render-simple-constraint-fail)\",\n    CONSTRAINT_TEXT_COLOUR : \"var(--render-value-constraint-text-fill)\",\n    MANDATORY_ROLE_COLOUR : \"var(--render-mandatory-role-fill)\",\n    MANDATORY_ROLE_STROKE : \"var(--render-madatory-role-stroke)\",\n    OBJECTIFICATION_FILL_COLOUR : \"var(--render-objectification-fill)\",\n    OBJECTIFICATION_RECT_CLASS : \"fact-objectified\",\n};\n\nexport const CONNECTION_STYLE = {\n    strokeWidth: 3, stroke: CSS_CONSTANTS.ARC_STROKE_COLOUR, \n    strokeLinecap: 'round',\n    strokeLinejoin: 'round', fill: 'none'\n};\n\nexport const SUBTYPE_STYLE = {\n    strokeWidth: 5, stroke: CSS_CONSTANTS.MANDATORY_ROLE_STROKE, \n    strokeLinecap: 'round',\n    strokeLinejoin: 'round', fill: 'none'\n};\n\nexport const CONNECTION_OPTIONS = {\n    roundingRadius: 7.5\n};\n\nexport const VISUAL_GROUP_CLASS = \"orm-visuals\";\n\nexport const CLASS_CONSTANTS = {\n    VISUAL_GROUP_CLASS,\n    NO_HIT_CLASS : \"djs-hit-no-move\",\n    FACT_ROLE_CLASS: \"fact-role\",\n    FACT_VERB_ARROW_CLASS: \"fact-verb-arrow\",\n    FACT_ROLE_FREE_CLASS: \"fact-role-free\",\n    FACT_ROLE_FILLED_CLASS: \"fact-role-filled\",\n    OBJECTIFICATION_RECT_CLASS: \"fact-objectified\",\n    OBJECTIFICATION_LABEL_CLASS: \"fact-objectified-label\"\n};\n\nexport default {\n    css : CSS_CONSTANTS,\n    classes : CLASS_CONSTANTS,\n    connection: CONNECTION_OPTIONS,\n};","import {\n    append as svgAppend,\n    attr as svgAttr,\n    create as svgCreate,\n    classes as svgClasses\n} from 'tiny-svg';\n\nimport TemplateRenderer from '../templateRenderer';\nimport EventBus from 'diagram-js/lib/core/EventBus';\nimport {\n    createLine\n} from 'diagram-js/lib/util/RenderUtil';\nimport Styles from 'diagram-js/lib/draw/Styles';\n\n\nimport { ValueConstraint } from \"../../../constraints/model/valueConstraint\";\nimport RenderingConstants from \"../../constants\";\nimport { isRoleValueConstraint, isValueConstraint } from '../../../constraints/model/utils';\nimport { isFact } from '../../../model/util';\n\nconst TEXT_X_OFFSET = 7; // offset for text x position\nconst TEXT_Y_OFFSET = 12; // offset for text y position\nconst TEXT_LETTER_WIDTH = 9; // approximate width of a letter in the text\nexport const SHAPE_TYPE = 'valueConstraint';\n\nexport default class ValueRenderer extends TemplateRenderer<ValueConstraint> {\n\n    static $inject: Array<string> = [ 'eventBus', 'renderingOptions', 'styles'];\n    _styles: Styles;\n\n    constructor(eventBus:EventBus, renderingOptions:any, styles:Styles) {\n        super(eventBus, renderingOptions, SHAPE_TYPE);\n        this._styles = styles;\n    }\n\n    canRender(element:any): element is ValueConstraint {\n        return isValueConstraint(element);\n    }\n\n    shouldRender(element: ValueConstraint): boolean {\n        return element.isVisible();\n    }\n\n    draw(visuals: SVGElement, shape: ValueConstraint) : SVGElement {\n        let g = svgCreate('g');\n        svgClasses(g).add(RenderingConstants.classes.VISUAL_GROUP_CLASS);\n\n        // draw the constraint box\n        let lines = svgCreate('g', {});\n        let head = 0;\n        let mut = 0;\n        let y_curr = 0;\n        let textContent = `${shape.description || '...'}`;\n\n        while (head < textContent.length) {\n            y_curr += TEXT_Y_OFFSET;\n            mut += 1;\n            let workingText = textContent.substring(head);\n            let text = svgCreate('text');\n            svgAttr(text, {\n                x: TEXT_X_OFFSET,\n                y: y_curr - TEXT_Y_OFFSET * 0.25,\n                width: shape.width - 4,\n                height: shape.height - 4,\n                fill: RenderingConstants.css.CONSTRAINT_TEXT_COLOUR,\n                fontSize: '12px',\n            });\n            let nextStep = this.workoutLongestSequenceOfLetters(\n                workingText, shape.width - (TEXT_X_OFFSET * 2));\n            text.textContent = workingText.substring(0, nextStep);\n            head += text.textContent.length;\n            svgAppend(lines, text);\n        }\n\n        let fontSize = Math.max(24, 12 * mut);\n        y_curr -= (mut > 1) ? TEXT_Y_OFFSET : 0;\n        let leftBang = svgCreate('text',\n            {\n                x: -TEXT_X_OFFSET * 0.5,\n                y: y_curr,\n                width: 2,\n                height: shape.height,\n                fill: RenderingConstants.css.CONSTRAINT_COLOUR,\n                fontSize: `${fontSize}px`,   \n            }\n        );\n        leftBang.textContent = '{';\n        \n        \n        let rightBang = svgCreate('text',\n            {\n                x: shape.width - TEXT_X_OFFSET * 0.5,\n                y: y_curr,\n                width: 2,\n                height: shape.height,\n                fill: RenderingConstants.css.CONSTRAINT_COLOUR,\n                fontSize: `${fontSize}px`,   \n            }\n        );\n        rightBang.textContent = '}';\n\n        // make a line from center-left of constraint to the source\n        let source = shape.source,\n            x1 = -TEXT_X_OFFSET,\n            y1 = y_curr * 0.75,\n            x2, y2, segments = [];\n        segments.push({x: x1, y: y1});\n        \n        // handle the alignment of facts for constraints\n        // there is a probably a case for this to handled as \n        // connection instead of hard-coded lines\n        if (isRoleValueConstraint(shape) && isFact(source)) {\n            let role = shape.factor? shape.factor : 0;\n            let center = source.getCenterForRole(role);\n            x2 = (center.x - shape.x);\n            y2 = (center.y - shape.y);\n            let offset;\n            if (source.isVertical()) {\n                if (x1 < x2) {\n                    offset = -1 * source.width;\n                } else {\n                    offset = source.width;\n                }\n                segments.push({x: x2 + offset, y: y2});\n            } else {\n                if (y1 < y2) {\n                    offset = -1 * source.height;\n                } else {\n                    offset = source.height;\n                }\n                segments.push({x: x2, y: y2 + offset});\n            }\n            segments.push({x: x2, y: y2});\n        } else {\n            x2 = (source.x - shape.x) + source.width / 2,\n            y2 = (source.y - shape.y) + source.height / 2;\n            segments.push({x: x2, y: y2});\n        }\n\n        if (x1 < x2){\n            segments[0].x = shape.width + TEXT_X_OFFSET;\n        }\n\n        let line = createLine(segments);\n        let lineStyle = this._styles.style({\n            strokeWidth: 3, stroke: RenderingConstants.css.CONSTRAINT_COLOUR,\n            opacity: 0.75,\n            fill: 'none', \n            'stroke-dasharray': '5, 5',\n        });\n        svgAttr(line, lineStyle);\n        svgAppend(g, line);\n\n        svgAppend(g, leftBang);\n        svgAppend(g, lines);\n        svgAppend(g, rightBang);\n        svgAppend(visuals, g);\n        return visuals;\n    }\n\n    workoutLetterWidth(text: string): number {\n        let code = text.charCodeAt(0);\n        // handle spaces and number differently\n        if (code >= 35 && code <= 38) {\n            return 5;\n        }\n        if (code <= 47) {\n            return 3;\n        }\n        if (code >= 48 && code <= 59) {\n            return 5;\n        }\n        if (code >= 65 && code <= 90) { // A-Z\n            return 9; \n        }\n        return 7; \n    }\n\n    workoutLongestSequenceOfLetters(text: string, max: number): number {\n        let length = 0;\n        let last = 0;\n        for (let letter of text) {\n            let width = this.workoutLetterWidth(letter);\n            if (length + width <= max) {\n                length += width;\n                last += 1;\n            } else {\n                break;\n            }\n        }\n        return last;\n    }\n\n};","import {\n    append as svgAppend,\n    create as svgCreate\n} from 'tiny-svg';\n\nimport TemplateRenderer from '../templateRenderer';\nimport EventBus from 'diagram-js/lib/core/EventBus';\n\n// types\nimport { SimpleConstraint } from \"../../../model/constraints\";\nimport { isConstraint } from '../../../model/util';\n\n// sizing\nimport { unitWidth } from \"../../../model/facts\";\n\n// constants\nimport RenderingConstants from '../../constants';\nexport const SHAPE_TYPE = 'uniquenessConstraint';\n\nexport default class UniquenessRenderer extends TemplateRenderer<SimpleConstraint> {\n\n    constructor(eventBus: EventBus, renderingOptions: any) {\n        super(eventBus, renderingOptions, SHAPE_TYPE);\n    }\n\n    canRender(element: any): element is SimpleConstraint {\n        return isConstraint(element);\n    }\n\n    shouldRender(element: SimpleConstraint): boolean {\n        return true;\n    }\n\n    draw(visuals:any, constraint:SimpleConstraint){\n        var group = svgCreate(\"g\", {\n            class: RenderingConstants.classes.VISUAL_GROUP_CLASS,\n        });\n        // draw segments \n        let curr_x = 0;\n        let next_x = unitWidth;\n        let x1, y1, x2, y2;\n        let color = (constraint.editing) ? \n        ( constraint.valid ? \n            RenderingConstants.css.CONSTRAINT_EDIT_COLOUR : \n            RenderingConstants.css.CONSTRAINT_EDIT_FAIL) \n        : RenderingConstants.css.CONSTRAINT_COLOUR;\n        for(let i = 0; i < constraint.roles; i++){\n            if (constraint.src && constraint.src.isVertical()){\n                x1 = 1.5;\n                y1 = curr_x;\n                x2 = 1.5;\n                y2 = next_x;\n            } else {\n                x1 = curr_x;\n                y1 = 1.5;\n                x2 = next_x;\n                y2 = 1.5;\n            }\n            let dash = (constraint.isRoleConstrainted(i)) \n                ? \"0\" : \"2.5\";\n            let line = svgCreate(\"line\", {\n                x1,\n                y1,\n                x2,\n                y2,\n                stroke: color,\n                'stroke-width': 2,\n                'stroke-dasharray': dash,\n            });\n            svgAppend(group, line);\n            curr_x = next_x;\n            next_x = next_x + unitWidth;\n        }\n        svgAppend(visuals, group);\n        return group;\n    }\n\n}","import {\n    append as svgAppend,\n    create as svgCreate,\n    classes as svgClasses\n} from 'tiny-svg';\n\nimport TemplateRenderer from \"./templateRenderer\";\n\n// types \nimport { Fact, unitHeight, unitWidth } from \"../../model/facts\";\nimport { isFact } from \"../../model/util\";\nimport RenderingConstants from \"../constants\";\nimport { SimpleConstraint } from '../../model/constraints';\n\nexport default class FactRenderer extends TemplateRenderer<Fact> {\n\n    constructor(eventBus: any, renderingOptions: any) {\n        super(eventBus, renderingOptions, 'fact');\n    }\n\n    canRender(element: any): element is Fact {\n        return isFact(element);\n    }\n\n    shouldRender(element: Fact): boolean {\n        return true;\n    }\n\n    draw(visuals: SVGElement, element: Fact): SVGElement {\n        var group = svgCreate(\"g\", {\n                class: RenderingConstants.classes.VISUAL_GROUP_CLASS,\n        });\n        \n        // setup \n        let rx = 2.5;\n        let dashType = \"\";\n        let centerText = Math.floor(element.width * 0.5);\n\n        // draw roles for fact\n        let x = 0;\n        let y = 0;\n        const isVertical = element.alignment === \"vertical\";\n        \n        for (let i = 0; i < element.roles; i++){\n            let box = svgCreate(\"rect\", {\n                'stroke-dasharray': dashType,\n                class: RenderingConstants.classes.FACT_ROLE_CLASS,\n                rx: rx,\n                width: unitWidth,\n                height: unitHeight,\n                x: x,\n                y: y\n            });\n            svgAppend(group, box);\n\n            // handle whether the role is hovered \n            // highlight based on \"mode\" of highlighting\n            // TODO: this should react to constraint building or \n            //       uniqueness constraint building\n            if (element.hovered && i === element.hoveredRole!){\n                let attrs = {\n                    rx: rx,\n                    width: unitWidth,\n                    height: unitHeight,\n                    x: x,\n                    y: y\n                };\n                let cover = this._handleHighlighting(element, attrs, i);\n                svgAppend(group, cover);\n            }\n            \n            if (isVertical) {\n                y = y + unitHeight;\n            } else {\n                x = x + unitWidth;\n            }\n        }\n\n        // handle the label text\n        let style = \"text-align: center;\";\n        style += `text-anchor: middle;`;\n        style += `font-size: 12px;`;\n\n        if (element.objectified && element.objectifiedName){\n            let upperText;\n            let offset =  - 10 - (10 * element.uniqueness.length) - 12.5;\n\n            // adjust for vertical alignment\n            if (element.isVertical()){\n                centerText = Math.floor(element.height * 0.5);\n                upperText = svgCreate(\"text\", {\n                    x: offset , y:   centerText,\n                    class: RenderingConstants.classes.OBJECTIFICATION_LABEL_CLASS,\n                    style: style,\n                    transform: `rotate(-90, ${offset}, ${centerText})`,\n                });\n            } else {\n                upperText = svgCreate(\"text\", {\n                    x: centerText, y:  - 10 - (10 * element.uniqueness.length) - 12.5,\n                    class: RenderingConstants.classes.OBJECTIFICATION_LABEL_CLASS,\n                    style: style,\n                });\n            }\n\n            upperText.textContent = '\"'+element.objectifiedName+'!\"';\n            svgAppend(group, upperText);\n        }\n\n        // draw arrow for the verbialisation\n        if (element.towards){\n            let transform = \"\";\n            if (element.isVertical()){\n                transform += \" rotate(90)\";\n            }\n            if (element.towards === \"left\"){\n                if (element.isVertical()){\n                    transform += `rotate(180) translate(${(unitHeight/-2) - 2.5}, 0)`;\n                } else {\n                    transform += \"rotate(180) translate(-15, -25)\";\n                }\n            } else {\n                if (element.isVertical()){\n                    transform += ` translate(${element.height - 15}, -23.5)`;\n                } else {\n                    transform += ` translate(${element.width - 15}, 0)`;\n                }\n            }\n            transform += \" scale(6)\";\n            let arrowhead = svgCreate(\"path\", {\n                d: 'm0 0v3.804C0 3.999 0 4 .157 3.864L1.764 2.234C2.002 2.002 2.001 2 1.749 1.749L.078.092C0-.001 0 0 0 .108z',\n                'stroke-linecap': \"round\",\n                class: RenderingConstants.classes.FACT_VERB_ARROW_CLASS,\n                transform: transform\n            });\n            svgAppend(group, arrowhead);\n        }\n\n        svgAppend(visuals, this.createShadowForShape(group));\n        svgAppend(visuals, group);\n        return visuals;\n    }\n\n    _handleHighlighting(element: Fact, attrs: object, role: number): SVGElement {\n        let coverBox = svgCreate(\"rect\", attrs);\n        let classing = svgClasses(coverBox);\n\n        let highlightMode = element.highlightMode,\n            focus = element.highlightFocus,\n            classer = \"\";\n\n        switch (highlightMode) {\n            case \"connection\":\n                classer = element.isFilled(role) ? \n                    RenderingConstants.classes.FACT_ROLE_FILLED_CLASS : \n                    RenderingConstants.classes.FACT_ROLE_FREE_CLASS;\n                break; \n            case \"constraint\":\n                classer = element.hasValueConstraintOver(role) ?\n                    RenderingConstants.classes.FACT_ROLE_FILLED_CLASS : \n                    RenderingConstants.classes.FACT_ROLE_FREE_CLASS;       \n                break;\n            case \"uniqueness\":\n                let unique:SimpleConstraint = focus as SimpleConstraint;\n                classer = unique.isRoleConstrainted(role) ? \n                    RenderingConstants.classes.FACT_ROLE_FILLED_CLASS : \n                    RenderingConstants.classes.FACT_ROLE_FREE_CLASS; \n                break;\n        }\n        classing.add(classer);\n                \n        return coverBox;\n    }\n\n}","import {\n    append as svgAppend,\n    create as svgCreate,\n} from 'tiny-svg';\n\nimport { Entity } from \"../../model/entities\";\nimport { isExactlyEntity } from \"../../model/util\";\nimport { isUnitReference, isReferredReference} from '../../model/util';\nimport TemplateRenderer from \"./templateRenderer\";\nimport RenderingConstants from \"../constants\";\n\nexport const SHAPE_TYPE = \"entity\";\n\nexport default  class ReferencedEntityRenderer extends TemplateRenderer<Entity> {\n\n    constructor(eventBus:any, renderOptions:any) {\n        super(eventBus, renderOptions, SHAPE_TYPE);\n    }\n\n    canRender(element:any): element is Entity {\n        return isExactlyEntity(element);\n    }\n\n    shouldRender(element: Entity): element is Entity {\n        return true;\n    }\n\n    draw(visuals: SVGElement, element: Entity): SVGElement {\n        // container for all visuals\n        var group = svgCreate(\"g\", {\n                class: RenderingConstants.classes.VISUAL_GROUP_CLASS\n        });\n\n        // draw constants\n        let rx = 10 ;\n        let strokeWidth = 3;\n        let dashType = \"\";\n        let centerText = Math.floor(element.width * 0.5);\n        let textUpper = (element.height / 2) - 3.75;\n        let textLower = (element.height / 2) + 15.5;\n\n        // draw bounding box\n        let box = svgCreate(\"rect\", {\n            fill: RenderingConstants.css.SHAPE_FILL_COLOUR,\n            stroke: RenderingConstants.css.BORDER_COLOUR,\n            strokeWidth: strokeWidth,\n            'stroke-dasharray': dashType,\n            rx: rx,\n            width: element.width,\n            height: element.height\n        });\n        svgAppend(group, box);\n\n        // handle text for entity\n        const maxTextWidth = Math.floor(element.width * 0.9);\n        const maxLetters = Math.floor(maxTextWidth / 6);\n        const adjustText = (text:string) => {\n            if (!text){\n                return \"\";\n            }\n            if (text.length > maxLetters){\n                let newText = text.substring(0, maxLetters - 1) + \"...\";\n                return newText;\n            } else {\n                return text;\n            }\n        };\n        const adjustLowerText = (text:string) => {\n            if (text.length > maxLetters){\n                let newText = text.substring(0, maxLetters - 1) + \"...)\";\n                return newText;\n            } else {\n                return text;\n            }\n        };\n\n        let style = \"text-align: center;\";\n        style += `text-anchor: middle;`;\n        style += `font-size: 12px;`;\n\n        // draw upper text\n        let upperText = svgCreate(\"text\", {\n            x: centerText, y: textUpper, \n            fill: RenderingConstants.css.SHAPE_LABEL_COLOUR,\n            style: style,\n        });\n        upperText.textContent = adjustText(element.name);\n        svgAppend(group, upperText);\n        // draw lower text\n        if (isUnitReference(element)){\n            let lowerText = svgCreate(\"text\", {\n                x: centerText, y: textLower,\n                fill: RenderingConstants.css.SHAPE_LABEL_COLOUR,\n                style: style,\n            });\n            lowerText.textContent = \"(\"+ element.ref + \":\" + element.meta +\")\";\n            lowerText.textContent = adjustLowerText(lowerText.textContent);\n            svgAppend(group, lowerText);\n        } else if (isReferredReference(element)){\n            let lowerText = svgCreate(\"text\", {\n                x: centerText, y: textLower,\n                fill: RenderingConstants.css.SHAPE_LABEL_COLOUR,\n                style: style,\n            });\n            lowerText.textContent = \"(.\"+ element.ref + \")\";\n            lowerText.textContent = adjustLowerText(lowerText.textContent);\n            svgAppend(group, lowerText);\n        }\n\n        // add layers to visuals\n        svgAppend(visuals, this.createShadowForShape(group));\n        svgAppend(visuals, group);\n\n        return visuals;\n    }\n\n}","import {\n    append as svgAppend,\n    create as svgCreate,\n} from 'tiny-svg';\n\nimport { ValueEntity } from \"../../model/entities\";\nimport { isExactlyValue } from \"../../model/util\";\nimport TemplateRenderer from \"./templateRenderer\";\nimport RenderingConstants from \"../constants\";\n\nexport const SHAPE_TYPE = \"entity\";\n\nexport default  class ValueEntityRenderer extends TemplateRenderer<ValueEntity> {\n\n    constructor(eventBus:any, renderOptions:any) {\n        super(eventBus, renderOptions, SHAPE_TYPE);\n    }\n\n    canRender(element:any): element is ValueEntity {\n        return isExactlyValue(element);\n    }\n\n    shouldRender(element: ValueEntity): element is ValueEntity {\n        return true;\n    }\n\n    draw(visuals: SVGElement, element: ValueEntity): SVGElement {\n        // container for all visuals\n        var group = svgCreate(\"g\", {\n                class: RenderingConstants.classes.VISUAL_GROUP_CLASS\n        });\n\n        // draw constants\n        let rx = 10 ;\n        let strokeWidth = 3;\n        let dashType = \"18 6\";\n        let centerText = Math.floor(element.width * 0.5);\n        let textMiddle = (element.height / 2) + 1.25;\n\n        // draw bounding box\n        let box = svgCreate(\"rect\", {\n            fill: RenderingConstants.css.SHAPE_FILL_COLOUR,\n            stroke: RenderingConstants.css.BORDER_COLOUR,\n            strokeWidth: strokeWidth,\n            'stroke-dasharray': dashType,\n            rx: rx,\n            width: element.width,\n            height: element.height\n        });\n        svgAppend(group, box);\n\n        // handle text for entity\n        const maxTextWidth = Math.floor(element.width * 0.9);\n        const maxLetters = Math.floor(maxTextWidth / 6);\n        const adjustText = (text:string) => {\n            if (!text){\n                return \"\";\n            }\n            if (text.length > maxLetters){\n                let newText = text.substring(0, maxLetters - 1) + \"...\";\n                return newText;\n            } else {\n                return text;\n            }\n        };\n\n        let style = \"text-align: center;\";\n        style += `text-anchor: middle;`;\n        style += `font-size: 12px;`;\n\n        // draw upper text\n        let upperText = svgCreate(\"text\", {\n            x: centerText, y: textMiddle,\n            fill: RenderingConstants.css.SHAPE_LABEL_COLOUR,\n            style: style,\n        });\n        upperText.textContent = adjustText(element.name);\n        svgAppend(group, upperText);\n\n        // add layers to visuals\n        svgAppend(visuals, this.createShadowForShape(group));\n        svgAppend(visuals, group);\n\n        return visuals;\n    }\n\n}","import {\n    append as svgAppend,\n    attr as svgAttr,\n    create as svgCreate,\n} from 'tiny-svg';\n\nimport {\n    createLine\n} from 'diagram-js/lib/util/RenderUtil';\n\nimport Canvas from 'diagram-js/lib/core/Canvas';\n\nimport { OrmConnection } from \"../../../model/connections\";\nimport RenderingConstants from \"../../constants\";\nimport { CONNECTION_STYLE } from \"../../constants\";\nimport TemplateRenderer from \"../templateRenderer\";\nimport { isRoleConnection } from \"../../../model/util\";\n\nexport const SHAPE_TYPE = \"roleConnection\";\n\nexport default class RoleConnectionRenderer extends TemplateRenderer<OrmConnection> {\n\n    static $inject: string[] = [ 'eventBus', 'renderingOptions', 'canvas' ];\n\n    constructor(eventBus:any, renderOptions:any, canvas:Canvas) {\n        super(eventBus, renderOptions, SHAPE_TYPE, \"connection\");\n\n        // add definitions\n        let defs = svgCreate(\"defs\",{});\n        this._setupMarkers(defs);\n        // @ts-ignore\n        svgAppend(canvas.getActiveLayer(), defs);\n    }\n\n    canRender(element:any): element is OrmConnection {\n        return isRoleConnection(element);\n    }\n\n    shouldRender(element: OrmConnection): boolean {\n        return true; // Always render role connections\n    }\n\n    _setupMarkers(defs:any) {\n        // use a base of 20 (abaritary, feels selected)\n        let mandatory = svgCreate(\"marker\", {\n            id: \"mandatory-role\",\n            refX: 10,\n            refY: 5,\n            markerHeight: 10,\n            markerWidth: 10,\n            viewbox: '0 0 10 10',\n            orient: 'auto-start-reverse',\n        });\n        // the role to include\n        svgAppend(mandatory, svgCreate(\"circle\", {\n            cx : 5, \n            cy : 5,\n            r : 3,\n            fill: RenderingConstants.css.MANDATORY_ROLE_COLOUR,\n            stroke: RenderingConstants.css.MANDATORY_ROLE_STROKE,\n            strokeWidth: 1,\n        }));\n\n        svgAppend(defs, mandatory);\n    }\n\n    draw(visuals: SVGElement, element: OrmConnection): SVGElement {\n        // Placeholder for actual rendering logic\n        // handle the role that is being targeted\n        let waypoints = Array.from(element.waypoints);\n        let group = svgCreate(\"g\", {});\n\n        if (waypoints.length >= 2){\n            // now create the line using the updated waypoints\n            var line = createLine(\n                waypoints, Object.assign({\n                    id: element.id\n                }, \n                CONNECTION_STYLE),\n                RenderingConstants.connection.roundingRadius\n            );    \n            svgAppend(group, line);\n            \n            if (element.mandatory){\n                this._drawMandatory(\n                    visuals, element, line\n                );\n            }\n        }\n        svgAppend(visuals, group);\n        return visuals;\n    }\n\n    _drawMandatory(visuals: SVGElement, element: OrmConnection, line: SVGElement): void {\n        // Draw the mandatory role marker\n        svgAttr(line, {\n            'marker-start': 'url(#mandatory-role)'\n        });\n    }\n\n    /**\n     * Draws a debug dot for each waypoint of the connection.\n     * @param visuals \n     * @param element \n     */\n    drawDebug(visuals: any, element: any) {\n        for (let i = 0; i < element.waypoints.length; i++) {\n            let dot = this._drawDebugDot(\n                element.waypoints[i].x,\n                element.waypoints[i].y\n            );\n            svgAppend(visuals, dot);\n        }\n        return visuals;\n    }\n}","import {\n    append as svgAppend,\n    attr as svgAttr,\n    create as svgCreate,\n} from 'tiny-svg';\n\nimport {\n    createLine\n} from 'diagram-js/lib/util/RenderUtil';\n\nimport Canvas from 'diagram-js/lib/core/Canvas';\n\nimport RenderingConstants from \"../../constants\";\nimport { SUBTYPE_STYLE } from \"../../constants\";\nimport { isSubtype } from \"../../../model/util\";\n\n\nimport { OrmSubtypeConnection } from \"../../../model/subtypes\";\nimport TemplateRenderer from \"../templateRenderer\";\n\nexport const SHAPE_TYPE = \"subtypeConnection\";\n\nexport default class SubtypeConnectionRenderer extends TemplateRenderer<OrmSubtypeConnection> {\n\n    static $inject: string[] = [ 'eventBus', 'renderingOptions', 'canvas' ];\n    \n    constructor(eventBus:any, renderOptions:any, canvas:Canvas) {\n        super(eventBus, renderOptions, SHAPE_TYPE, \"connection\");\n\n        // add definitions\n        let defs = svgCreate(\"defs\",{});\n        this._setupMarkers(defs);\n        // @ts-ignore\n        svgAppend(canvas.getActiveLayer(), defs);\n    }\n\n    canRender(element:any): element is OrmSubtypeConnection {\n        return isSubtype(element);\n    }\n\n    shouldRender(element: OrmSubtypeConnection): boolean {\n        return true; // Always render role connections\n    }\n\n    _setupMarkers(defs:any) {\n        let arrowMarker = svgCreate(\"marker\", {\n            id: \"subtype-arrowhead\",\n            refX: 8,\n            refY: 5,\n            markerWidth: 4,\n            markerHeight: 4,\n            orient: 'auto-start-reverse',\n            viewBox: \"0 0 10 10\"\n        });\n\n        let arrowPath = svgCreate(\"path\", {\n            d: \"M 0 0 L 10 5 L 0 10 z\",\n            fill: RenderingConstants.css.MANDATORY_ROLE_STROKE\n        });\n\n        svgAppend(arrowMarker, arrowPath);\n        svgAppend(defs, arrowMarker);\n    }\n\n    draw(visuals: SVGElement, element: OrmSubtypeConnection): SVGElement {\n        // Placeholder for actual rendering logic\n        let waypoints = Array.from(element.waypoints);\n        let group = svgCreate(\"g\", {\n            class: RenderingConstants.classes.VISUAL_GROUP_CLASS\n        });\n        if (waypoints.length >= 2){\n            var line = createLine(\n                waypoints, Object.assign({\n                    id: element.id\n                }, \n                SUBTYPE_STYLE),\n                RenderingConstants.connection.roundingRadius\n            );\n            svgAttr(line, {\n                'marker-end': 'url(#subtype-arrowhead)'\n            });\n            svgAppend(group, line);\n        }\n        svgAppend(visuals, group);\n        return visuals;\n    }\n\n    /**\n     * Draws a debug dot for each waypoint of the connection.\n     * @param visuals \n     * @param element \n     */\n    drawDebug(visuals: any, element: any) {\n        for (let i = 0; i < element.waypoints.length; i++) {\n            let dot = this._drawDebugDot(\n                element.waypoints[i].x,\n                element.waypoints[i].y\n            );\n            svgAppend(visuals, dot);\n        }\n        return visuals;\n    }\n}","import {\n    append as svgAppend,\n    create as svgCreate,\n    classes as svgClasses,\n} from 'tiny-svg';\n\nimport TemplateRenderer from \"./templateRenderer\";\nimport { isObjectification } from \"../../model/util\";\nimport { ObjectifiedRole } from \"../../model/objectifiedRole\";\nimport RenderingConstants from \"../constants\";\n\nconst SHAPE_TYPE = \"objectification\";\n\nexport default class ObjectificationRenderer extends TemplateRenderer<ObjectifiedRole> {\n\n    constructor(eventBus:any, renderingOptions:any) {\n        super(eventBus, renderingOptions, SHAPE_TYPE);\n    }\n\n    canRender(element:any): element is ObjectifiedRole {\n        return isObjectification(element);\n    }\n\n    shouldRender(element: ObjectifiedRole): boolean {\n        return true;\n    }\n\n    draw(visuals: any, element: ObjectifiedRole) {\n        svgClasses(visuals).add(RenderingConstants.classes.NO_HIT_CLASS);\n        let group = svgCreate(\"g\", {\n            class: RenderingConstants.classes.VISUAL_GROUP_CLASS\n        });\n\n        // constants\n        let width = element.width,\n            height = element.height;\n\n        // create the objectification rectangle\n        let box = svgCreate(\"rect\", {\n                x: 0,\n                y: 0,\n                rx: 2.5,\n                width: width,\n                height: height,\n                fill: RenderingConstants.css.OBJECTIFICATION_FILL_COLOUR,\n                stroke: RenderingConstants.css.BORDER_COLOUR,\n                strokeWidth: 2,\n                'stroke-dasharray': \"\"\n        });\n        svgClasses(box)\n            .add(RenderingConstants.classes.OBJECTIFICATION_RECT_CLASS);\n        \n        // prepare visuals for renderer\n        svgAppend(group, box);\n        svgAppend(visuals, group);\n\n        return visuals;\n    }\n};","\nimport {\n    append as svgAppend,\n    create as svgCreate,\n    classes as svgClasses,\n} from 'tiny-svg';\n\nimport TemplateRenderer from \"./templateRenderer\";\nimport { isLabel, isFact } from \"../../model/util\";\nimport { Label } from \"diagram-js/lib/model/Types\";\nimport RenderingConstants from \"../constants\";\n\nconst SHAPE_TYPE = 'label';\n\nexport default class LabelRenderer extends TemplateRenderer<Label> {\n\n    constructor(eventBus:any, renderOptions:any) {\n        super(eventBus, renderOptions, SHAPE_TYPE);\n    }\n\n    canRender(element:any) : element is Label {\n        return isLabel(element);\n    }\n\n    shouldRender(element: Label): boolean {\n        return element.labelTarget !== undefined;\n    }\n\n    draw(visuals: any, element: Label) {\n\n        var group = svgCreate(\"g\", {\n            class: RenderingConstants.css.RENDER_VISUALS_CLASS\n        });\n\n        // workout class name\n        let className = \"fact\";\n        if (element.derived){\n            className = className + \"-derived-label\";\n        } else {\n            className = className + \"-label\";\n        }\n\n        //constants\n        let src:any = element.labelTarget,\n            x = 0,\n            y = 3.5,\n            transform = \"\";\n        \n        // handle alignment of source\n        if (isFact(src)){\n            if (src.isVertical()){\n                x = 3.5;\n                y = 0;\n                transform = \"rotate(-90, 0, 0)\";\n            } else {\n                x = 0;\n                y = 3.5;\n            }\n        }\n        var text = svgCreate('text',\n            {\n                x,\n                y,\n                class: className,\n                transform,\n            }\n        );\n\n        // find the content for the label\n        if (element.content.length > 0){\n            text.textContent = element.content;\n        }\n        if (src.derived && !element.derived){\n            text.textContent = text.textContent+\"  *\";\n        } else if (element.derived) {\n            text.textContent = \"*  \"+ text.textContent;\n        }\n\n        // add layers to the visuals\n        svgAppend(group, text);\n        svgAppend(visuals, group);\n\n        return visuals;\n    }\n\n};\n","import render from \"./render\";\nimport textRender from \"./textRender\";\nimport ValueRenderer from \"./extensions/constraints/valueRenderer\";\nimport UniquenessRenderer from \"./extensions/constraints/uniquenessRenderer\";\nimport FactRenderer from \"./extensions/factRenderer\";\nimport ReferencedEntityRenderer from \"./extensions/referencedEntityRenderer\";\nimport ValueEntityRenderer from \"./extensions/valueEntityRenderer\";\nimport RoleConnectionRenderer from \"./extensions/connections/roleConnectionRenderer\";\nimport SubtypeConnectionRenderer from \"./extensions/connections/subtypeConnectionRenderer\";\nimport ObjectificationRenderer from \"./extensions/objectificationRenderer\";\nimport LabelRenderer from \"./extensions/labelRenderer\";\n\nexport default {\n    __depends__ : [\n        'renderingOptions',\n    ],\n    __init__ : [\n        'tsRenderer', \n        'valueRenderer', 'uniquenessRenderer',\n        'factRenderer', 'referencedEntityRenderer',\n        'valueEntityRenderer', 'roleConnectionRenderer',\n        'subtypeConnectionRenderer', 'objectificationRenderer',\n        'labelRenderer'\n    ],\n    tsRenderer: ['type', render],\n    textRenderer: ['type', textRender],\n    valueRenderer: ['type', ValueRenderer],\n    uniquenessRenderer: ['type', UniquenessRenderer],\n    factRenderer: ['type', FactRenderer],\n    referencedEntityRenderer: ['type', ReferencedEntityRenderer],\n    valueEntityRenderer : [ 'type', ValueEntityRenderer ],\n    roleConnectionRenderer : ['type', RoleConnectionRenderer],\n    subtypeConnectionRenderer : ['type', SubtypeConnectionRenderer],\n    objectificationRenderer: ['type', ObjectificationRenderer],\n    labelRenderer: ['type', LabelRenderer]\n\n};","import {\n  forEach\n} from 'min-dash';\n\nimport SpaceToolHandler from 'diagram-js/lib/features/modeling/cmd/SpaceToolHandler';\n\nexport default class SpaceToolHandler2 extends SpaceToolHandler {\n    \n    static $inject = ['modeling'];\n    \n    constructor(modeling) {\n        super(modeling);\n        this.modeling = modeling;\n    }\n\n    preExecute(context) {\n        var delta = context.delta,\n        direction = context.direction,\n        movingShapes = context.movingShapes,\n        resizingShapes = context.resizingShapes,\n        start = context.start,\n        oldBounds = {};\n        \n        // (1) move shapes\n        this.moveShapes(movingShapes, delta);\n        \n        // (2a) save old bounds of resized shapes\n        forEach(resizingShapes, function(shape) {\n            oldBounds[shape.id] = getBounds(shape);\n        });\n        \n        // (2b) resize shapes\n        this.resizeShapes(resizingShapes, delta, direction);\n        \n        // (3) update connection waypoints\n        this.updateConnectionWaypoints(\n            getWaypointsUpdatingConnections(movingShapes, resizingShapes),\n            delta,\n            direction,\n            start,\n            movingShapes,\n            resizingShapes,\n            oldBounds\n        );\n    }\n}\n\n// helpers //////////\n\nfunction getBounds(shape) {\n    return {\n        x: shape.x,\n        y: shape.y,\n        height: shape.height,\n        width: shape.width\n    };\n}\n\nfunction includes(array, item) {\n  return array.indexOf(item) !== -1;\n}\n\nfunction getWaypointsUpdatingConnections(movingShapes, resizingShapes) {\n    var waypointsUpdatingConnections = [];\n\n    forEach(movingShapes.concat(resizingShapes), function(shape) {\n        var incoming = shape.incoming || [],\n            outgoing = shape.outgoing || [];\n\n        forEach(incoming.concat(outgoing), function(connection) {\n        var source = connection.source,\n            target = connection.target;\n\n        if (includes(movingShapes, source) ||\n            includes(movingShapes, target) ||\n            includes(resizingShapes, source) ||\n            includes(resizingShapes, target)) {\n\n            if (!includes(waypointsUpdatingConnections, connection)) {\n            waypointsUpdatingConnections.push(connection);\n            }\n        }\n        });\n    });\n\n    return waypointsUpdatingConnections;\n}","import Modeling from 'diagram-js/lib/features/modeling/Modeling';\nimport EventBus from 'diagram-js/lib/core/EventBus';\nimport CommandStack from 'diagram-js/lib/command/CommandStack';\nimport ElementFactory from 'diagram-js/lib/core/ElementFactory';\nimport ElementRegistry from 'diagram-js/lib/core/ElementRegistry';\n// import { Connection } from 'diagram-js/lib/model';\nimport { SUBTYPE_NAME } from '../model/subtypes';\n\nimport { Fact, unitHeight, unitWidth } from \"../model/facts\";\nimport { ValueEntity, Entity } from \"../model/entities\";\nimport { isConnection } from 'diagram-js/lib/util/ModelUtil';\nimport { isConstraint, isFact, isSubtype } from '../model/util';\nimport { OrmConnection } from '../model/connections';\nimport { TYPE as VALUE_CONSTRAINT_TYPE, ValueConstraint } from '../constraints/model/valueConstraint';\nimport { isValueConstraint } from '../constraints/model/utils';\nimport { SimpleConstraint } from '../model/constraints';\n\nimport SpaceToolHandler2 from './cmd/SpaceToolHandler2';\n\nexport default class OrmModelling extends Modeling {\n\n    /**\n     * \n     * @param {EventBus} eventBus \n     * @param {ElementFactory} elementFactory \n     * @param {CommandStack} commandStack \n     * @param {Canvas} canvas\n     * @param {ElementRegistry} registry\n     */\n    constructor(eventBus, elementFactory, commandStack, canvas, registry){\n        super(eventBus, elementFactory, commandStack);\n        this._canvas = canvas;  \n        this._registry = registry;\n    }\n\n    getHandlers() {\n        let handlers = super.getHandlers();\n        // need to adjust the default space tool handler\n        handlers['spaceTool'] = SpaceToolHandler2;\n        return handlers;\n    }\n\n    createShape(shape, position, target, parentIndex, hints){\n        let ret = super.createShape(shape, position, target, parentIndex, hints);\n        this._eventBus.fire('shape.created', {shape: ret});\n        return ret;\n    }\n\n    sendUpdate(element){\n        if (element !== null){\n            // TODO: I dont think I need this line anymore\n            // this.moveElements([element], {x:0,y:0});\n            // things usually fire on elements changed rather than element.changed\n            this._eventBus.fire('elements.changed', {elements: [element], layout:false});\n            this._eventBus.fire('element.changed', {element: element, layout:false}); \n            if (isFact(element)){\n                if (element.objectified && element.objectification){\n                    this.sendUpdate(element.objectification);\n                }\n            }   \n        }\n    }\n\n    sendUpdates(...elements){\n        elements.forEach(element => this.sendUpdate(element));\n    }\n\n    /**\n     * Expands the fact to the right.\n     * @param {Fact} fact the fact to expand\n     * @param {entity} entity the entity to add\n     */\n    expandFact(fact, entity){\n        fact.addRole();\n        if (entity){\n            fact.setRole(entity, fact.roles);\n        }\n        fact.update();\n        if (fact.incoming){\n            for(let con of fact.incoming){\n                this.layoutConnection(con);\n            }\n        }\n        this.sendUpdates(fact,...fact.labels);\n    }\n\n    /**\n     * Reduces the fact from the right.\n     * @param {Fact} fact \n     * @returns {Entity | ValueEntity | null} the removed entity\n     */\n    reduceFact(fact){\n        let remove = fact.removeRole();\n        if (remove){\n            this.removeConnectionFromFact(fact, remove);\n        }\n        fact.update();\n        if (fact.incoming){\n            for(let con of fact.incoming){\n                this.layoutConnection(con);\n            }\n        }\n        this.sendUpdates(fact, ...fact.labels);\n        return remove;\n    }\n\n    /**\n     * Handles the attributes of the source and target of the connection\n     * to ensure that the data model is updated correctly.\n     * @param {OrmConnection} con the connection to layout\n     */\n    clearConnection(con){\n        if (isSubtype(con)){\n            // TODO: remove subtype connection\n            if (con.source && con.target){\n                con.source.removeSubtype(con.target);\n            }\n            return;\n        }\n        var fact = con.target;\n        var entity = con.source;\n        fact.clearRole(entity,con.role);\n    }\n\n    /**\n     * finds the connection between the fact and the entity\n     * and removes it.\n     * @param {Fact} fact\n     * @param {Entity | ValueEntity} entity\n     */\n    removeConnectionFromFact(fact, entity){\n        let con = null;\n        for(let inc in fact.incoming){\n            if (fact.incoming[inc].source.id === entity.id){\n                con = fact.incoming[inc];\n                break;\n            }\n        }\n        if (con){\n            this.clearConnection(con);\n            this.removeElements([con]);\n            this.sendUpdates(fact, entity);\n        }   \n    }\n\n    /**\n     * Connects an entity to a fact\n     * @param {Fact} fact \n     * @param {Entity | ValueEntity} entity \n     * @param {number} pos\n     * @returns {Connection | null} the created connection\n     */\n    connectToFact(fact, entity, pos=undefined){\n        let added = false;\n        if (pos === undefined){\n            let ret = fact.setNextMissingRole(entity);\n            added = ret.found;\n            pos = ret.role;\n        } else {\n            try {\n                added = fact.setRole(entity, pos);\n            }\n            catch (e){\n                console.error(\"modeler::connectToFact::\",\n                    \"Error while connecting entity to fact: \", e);\n            }\n        }\n        let con = null;\n        if (added){\n            let attrs = this._elementFactory.createDummyAttributesForConnection(pos);\n            con = this.connect(entity, fact, attrs);\n            this.layoutConnection(con);\n            this.sendUpdates(con,fact,entity);\n            this.moveElements([con,fact,entity], {x:0,y:0});\n        } else {\n            console.error(\"modeler::connectToFact::\",\n                \"Could not connect entity to fact.\");\n        }\n        return con;\n    }\n\n    connect(source, target, attrs, hints){\n        let con = super.connect(source, target, attrs, hints);\n        this._eventBus.fire('connection.created', {connection: con});\n        return con;\n    }\n\n    /**\n     * Adds a label to the give fact.\n     * @param {Fact} fact the fact to attach to\n     * @param {string} label content of the label\n     * @returns created label\n     */\n    createLabelForFact(fact, label){\n        let factLabel = this.createLabel(\n            fact,\n            { x: fact.x + fact.width / 2, \n                y: fact.y + unitHeight * 1.5\n            },\n            Object.assign(\n                this._elementFactory.createDummyAttributesForLabel(),\n                { content: label, factLabel: true }\n            ),\n            fact.parent\n        );\n        fact.update();\n        this.sendUpdates(fact, ...fact.labels);\n        return factLabel;\n    }\n\n    /**\n     * Flips the mandatory constraint on this connection between an entity\n     * and fact type.\n     * @param {Connection} con \n     */\n    flipMandatoryConstraint(con){\n        con.mandatory = !con.mandatory;\n        this.sendUpdate(con);\n    }\n\n    /**\n     * Flips the type of an entity\n     * @param {Entity | ValueEntity} entity \n     */\n    flipEntityType(entity){\n        entity.flipType();\n        this.sendUpdate(entity);\n    }\n\n    removeElements(elements){\n        elements.forEach(element => {\n            if (isConnection(element)){\n                if (element.role !== undefined){\n                    this.clearConnection(element);\n                }\n            } \n        });\n        super.removeElements(elements);\n    }\n\n    /**\n     * flips the label reference mode of a given entity.\n     * @param {Entity} entity \n     */\n    flipLabelReference(entity){\n        entity.flipReferenceMode();\n        this.sendUpdate(entity);\n    }\n\n    /**\n     * flips the objectification of a fact.\n     * @param {Fact} fact \n     */\n    flipObjectification(fact){\n        if (fact.objectified){\n            fact.objectified = false;\n            // remove the objectification\n            this.removeElements([fact.objectification]);\n            fact.objectification = null;\n        } else {\n            let attrs = this._elementFactory\n                .createDummyAttributesForObjectification(fact);\n            let objectification = this.createShape(\n                attrs, {x: 0, y: 0},\n                this._canvas.getRootElement(),);\n            fact.objectified = true;\n            fact.objectification = objectification;\n            objectification.update();\n            this.moveElements([fact, objectification], {x:1, y:1});\n            this.moveElements([fact, objectification], {x:-1, y:-1});\n            this.sendUpdates(fact, objectification);\n        }\n        this.sendUpdate(fact);\n    }\n\n    /**\n     * flips the derivation of a fact.\n     * @param {Fact} fact \n     */\n    flipDerivation(fact){\n        if (fact.derived){\n            fact.derived = false;\n            this.removeDerivedLabel(fact);\n        } else {\n            fact.derived = true;\n            this.makeDerivedLabel(fact, \"...\");\n        }\n        fact.update();\n        this.sendUpdates(fact, ...fact.labels);\n    }\n\n    /**\n     * Changes the label of the derviation of the fact\n     * @param {Fact} fact \n     * @param {string} label \n     */\n    changeDerivedLabel(fact, label){\n        if (isFact(fact) && fact.derived) {\n            for(let labels in fact.labels){\n                if (fact.labels[labels].derived){\n                    fact.labels[labels].content = label;\n                    this.sendUpdate(fact);\n                    return;\n                }\n            }\n        }\n    }\n\n    /**\n     * Creates a derived label for the fact.\n     * @param {Fact} fact \n     * @param {string} label \n     * @returns {} the created label\n     */\n    makeDerivedLabel(fact, label){\n        let attrs = this._elementFactory.createDummyAttributesForDerivedLabel();\n        let ret = this.createLabel(\n            fact,\n            { x: fact.x + fact.width / 2, \n                y: fact.y + unitHeight * 1.5 + 25\n            },\n            Object.assign(attrs, { content: label})\n        );\n        fact.update();\n        this.sendUpdates(fact, ...fact.labels);\n        return ret;\n    }\n\n    removeDerivedLabel(fact){\n        for(let labels in fact.labels){\n            if (fact.labels[labels].derived){\n                this.removeElements([fact.labels[labels]]);\n                break;\n            }\n        }\n        this.sendUpdates(fact, ...fact.labels);\n    }\n\n    removeElements(elements){\n        this._eventBus.fire('elements.removed', {elements: elements});\n        super.removeElements(elements);\n    }\n\n    removeShape(element){\n        this._eventBus.fire('shape.removed', {element: element});\n        super.removeShape(element);\n    }\n\n    /**\n     * Removes all extra entities as required when a fact is removed.\n     * @param {Fact} fact \n     */\n    removeFact(fact){\n        if (isFact(fact)){\n            if (fact.uniqueness.length > 0){\n                for(let constraint of fact.uniqueness){\n                    this.removeShape(constraint);\n                }\n            }\n            this.removeShape(fact);\n        }\n    }\n\n    updateWaypoints(con, waypoints, hints){\n        super.updateWaypoints(con, waypoints, hints);\n        this.layoutConnection(con, hints);\n        this.sendUpdate(con);\n    }\n\n    removeConnection(con){\n        this._eventBus.fire('shape.removed', {element: con});   \n        this.clearConnection(con);\n        super.removeConnection(con);\n    }\n\n    /**\n     * Creates a subtype relationship between two entities.\n     * @param {Entity} src \n     * @param {Entity} tgt \n     */\n    createSubtypeBetween(src, tgt){\n        let con = this.connect(src, tgt, {\n            type: SUBTYPE_NAME,\n            source: src,\n            target: tgt\n        });\n        src.addSubtype(tgt);\n        this.layoutConnection(con);\n        this.sendUpdates(con,src,tgt);\n        this.moveElements([con,src,tgt], {x:0,y:0});\n        return con;\n    }\n\n    /**\n     * Removes a constraint from the source of the constraint.\n     * @param {*} constraint \n     * @property {Fact} constraint.src\n     */\n    removeConstraint(constraint){\n        let src = constraint.src;\n        src.removeUniqueness(constraint);\n        src.update();\n        this.removeElements([ constraint ]);\n        this.sendUpdate(src);\n        this.sendUpdates(...src.uniqueness, ...src.constraints);\n    }\n\n    removeAllValueConstraint(shape){\n        if (shape && shape.constraints) {\n            let valueConstraint; \n            for (let con of shape.constraints) {\n                if (con.type === VALUE_CONSTRAINT_TYPE) {\n                    valueConstraint = con;\n                    break;\n                }\n            }\n            if (valueConstraint) {\n                this.removeElements([valueConstraint]);\n            }\n            shape.constraints = shape.constraints.filter(\n                con => con.type !== VALUE_CONSTRAINT_TYPE\n            );\n            this.sendUpdate(shape);\n        }\n    }\n\n    removeValueConstraint(constraint){\n        if (isValueConstraint(constraint)) {\n            let src = constraint.source;\n            src.constraints = src.constraints.filter(\n                con => con.id !== constraint.id\n            );\n            this.removeElements([constraint]);\n            this.sendUpdate(src);\n        }\n    }\n\n    /**\n     * Toggles the alignment of a fact between horizontal and vertical.\n     * @param {Fact} fact the fact to toggle alignment for\n     */\n    toggleAlignment(fact){\n        if (isFact(fact)){\n            fact.toggleAlignment();\n            fact.refreshUniquenessPositions();\n            fact.update();\n            this.sendUpdates(fact, ...fact.labels, \n                ...fact.uniqueness, ...fact.constraints,\n            );\n            if (fact.incoming){\n                for(let con of fact.incoming){\n                    this.layoutConnection(con);\n                    // for whatever reason, the source rect for layouting is offset\n                    // without a move on the source element :/\n                    setTimeout( () => this.moveElements([con.source], {x: 0, y: 0}), 2);\n                }\n            }\n        }\n    }\n\n    triggerRefresh() {\n        this.sendUpdates(...this._registry.getAll());\n    }\n\n\n    /**\n     * Sets the highlighting mode for rendering of the roles of a fact.\n     * @param {Fact} fact the fact to consider\n     * @param {ValueConstraint | SimpleConstraint | undefined} focus the target of the highlighting\n     */\n    setHighlightFocus(fact, focus) {\n        if (isFact(fact)) {\n            fact.highlightFocus = focus;\n            if (isConstraint(focus)) {\n                fact.highlightMode = \"uniqueness\";\n            } else if (isValueConstraint(focus)) {\n                fact.highlightMode = \"constraint\";\n            } else if (focus === undefined) {\n                fact.highlightMode = \"connection\";\n            }\n            fact.update();\n            this.sendUpdate(fact);\n        }\n        \n    }\n\n    /**\n     * Force sets the highlighting mode of the fact\n     * @param {Fact} fact the fact to consider\n     * @param {HighlightingMode} mode the mode to set\n     */\n    setHighlightMode(fact, mode) {\n        if (isFact(fact)) {\n            fact.highlightMode = mode;\n            fact.update();\n            this.sendUpdate(fact);\n        }\n    }\n\n    /**\n     * Resets the highlight focus of a fact to its default state.\n     * @param {Fact} fact the fact to reset\n     */\n    resetHighlightFocus(fact) {\n        if (isFact(fact)) {\n            fact.highlightFocus = undefined;\n            fact.highlightMode = \"connection\";\n            fact.update();\n            this.sendUpdate(fact);\n        }\n    }\n}\n\nOrmModelling.$inject = [\n    'eventBus',\n    'elementFactory',\n    'commandStack',\n    'canvas',\n    'elementRegistry'\n];","import OrmModeling from './modeler.js';\n\nexport default {\n    __init__ : [\n        'modeling'\n    ],\n    modeling: ['type', OrmModeling]\n};","import OrderingProvider from \"diagram-js/lib/features/ordering/OrderingProvider.js\";\nimport { isConnection} from \"diagram-js/lib/util/ModelUtil\";\nimport { isObjectification, isSubtype } from \"../model/util\";\nimport { isValueConstraint } from \"../constraints/model/utils\";\n\n\n/**\n * Layering of elements in the ORM editor.\n * \n * ----TOP----\n * -1, Entities, Facts, Constraints\n * 0, connections to above, Subtypes to above\n * 1, Objectifications,\n * 3, connections to above\n * ----BOTTOM----\n */\nclass OrmOrderingProvider extends OrderingProvider{\n\n    constructor(eventbus, canvas){\n        super(eventbus);\n        this._canvas = canvas;\n    }\n\n    getOrdering(element, newParent){\n        let index = -1;\n        \n        if (isConnection(element) || isSubtype(element)){\n            index = 0;\n        }\n        if (isValueConstraint(element)){\n            index = 1;\n        }\n        if (isObjectification(element)){\n            index = 2;\n            newParent = this._canvas.getRootElement();\n        } \n        return {\n            index: index,\n            parent: newParent\n        };\n    }\n}\n\nOrmOrderingProvider.$inject = ['eventBus', 'canvas'];\n\nexport default OrmOrderingProvider;","import ordering from \"./order.js\"; \n\nexport default {\n    __init__: [ 'ordering' ],\n    ordering: [ 'type', ordering ]\n};","var round = Math.round;\n\nimport { assign } from 'min-dash';\nimport {\n  event as domEvent\n} from 'min-dom';\nimport {\n  getOriginal,\n  toPoint,\n  stopPropagation\n} from 'diagram-js/lib/util/Event';\nimport {\n  set as cursorSet,\n  unset as cursorUnset\n} from 'diagram-js/lib/util/Cursor';\nimport {\n  install as installClickTrap\n} from 'diagram-js/lib/util/ClickTrap';\nimport {\n  delta as deltaPos\n} from 'diagram-js/lib/util/PositionUtil';\nimport { isKey } from 'diagram-js/lib/features/keyboard/KeyboardUtil';\n\nimport { isWithinShape,transformToViewbox } from '../utils/canvasUtils';\nimport { SIMPLE_MODE } from './constraints';\n\n/**\n * @typedef {import('diagram-js/lib/features/dragging/Dragging').default} Dragging\n * @typedef {import('diagram-js/lib/core/Canvas').default} Canvas\n * @typedef {import('diagram-js/lib/core/ElementRegistry').default} ElementRegistry\n * @typedef {import('diagram-js/lib/core/EventBus').default} EventBus\n * @typedef {import('diagram-js/lib/features/selection/Selection').default} Selection\n */\n\nvar DRAG_ACTIVE_CLS = 'djs-drag-active';\nexport const PREFIX = 'constraint.builder.';\n\n\nfunction preventDefault(event) {\n  event.preventDefault();\n}\n\nfunction isTouchEvent(event) {\n\n  // check for TouchEvent being available first\n  // (i.e. not available on desktop Firefox)\n  return typeof TouchEvent !== 'undefined' && event instanceof TouchEvent;\n}\n\nfunction getLength(point) {\n  return Math.sqrt(Math.pow(point.x, 2) + Math.pow(point.y, 2));\n}\n\n/**\n * Adapted from {@link Dragging} module in diagram-js\n * \n * A helper that fires canvas localized drag events and realizes\n * the general \"drag-and-drop\" look and feel.\n *\n * Calling {@link ConstriantBuilder#activate} activates dragging on a canvas.\n *\n * It provides the following:\n *\n *   * emits life cycle events, namespaced with a prefix assigned\n *     during dragging activation\n *   * sets and restores the cursor\n *   * sets and restores the selection if elements still exist\n *   * ensures there can be only one drag operation active at a time\n *\n * Dragging may be canceled manually by calling {@link ConstriantBuilder#cancel}\n * or by pressing ESC.\n *\n *\n * ## Life-cycle events\n *\n * Builder can be in three different states, off, initialized\n * and active.\n *\n * (1) off: no dragging operation is in progress\n * (2) initialized: a new drag operation got initialized but not yet\n *                  started (i.e. because of no initial move)\n * (3) started: dragging is in progress\n *\n * Eventually builder will be off again after a drag operation has\n * been ended or canceled via user click or ESC key press.\n *\n * To indicate transitions between these states dragging emits generic\n * life-cycle events with the `constraint.builder.` prefix _and_ events \n * namespaced to a prefix choosen by a user during \n * constraint initialization.\n *\n * The following events are emitted (appropriately prefixed) via\n * the {@link EventBus}.\n *\n * * `init`\n * * `start`\n * * `move`\n * * `click`\n * * `hover`\n * * `out`\n * * `end`\n * * `ended` (dragging already in off state)\n * * `cancel` (only if previously started)\n * * `canceled` (dragging already in off state, only if previously started)\n * * `cleanup`\n *\n *\n * @example\n *\n * ```javascript\n * function ConstraintHandler(eventBus, dragging) {\n *\n * }\n * ```\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {Selection} selection\n * @param {ElementRegistry} elementRegistry\n */\nexport default function ConstraintBuilder(eventBus, canvas, selection, \n    elementRegistry) {\n\n  var defaultOptions = {\n    threshold: 5,\n    trapClick: true\n  };\n\n  // the currently active drag operation\n  // dragging is active as soon as this context exists.\n  //\n  // it is visually _active_ only when a context.active flag is set to true.\n  var context;\n\n  /* convert a global event into local coordinates */\n  function toLocalPoint(globalPosition) {\n\n    var viewbox = canvas.viewbox();\n\n    var clientRect = canvas._container.getBoundingClientRect();\n\n    return {\n      x: viewbox.x + (globalPosition.x - clientRect.left) / viewbox.scale,\n      y: viewbox.y + (globalPosition.y - clientRect.top) / viewbox.scale\n    };\n  }\n\n  // helpers\n\n  function fire(type, dragContext) {\n    dragContext = dragContext || context;\n\n    var event = eventBus.createEvent(\n      assign(\n        {},\n        dragContext.payload,\n        dragContext.data,\n        { isTouch: dragContext.isTouch }\n      )\n    );\n\n    // default integration\n    if (eventBus.fire(PREFIX + type, event) === false) {\n      return false;\n    }\n    return eventBus.fire(dragContext.prefix + '.' + type, event);\n  }\n\n  function restoreSelection(previousSelection) {\n    var existingSelection = previousSelection.filter(function(element) {\n      return elementRegistry.get(element.id);\n    });\n\n    existingSelection.length && selection.select(existingSelection);\n  }\n\n  // event listeners\n\n  function move(event, activate) {\n    var payload = context.payload,\n        displacement = context.displacement;\n\n    var globalStart = context.globalStart,\n        globalCurrent = toPoint(event),\n        globalDelta = deltaPos(globalCurrent, globalStart);\n\n    var localStart = context.localStart,\n        localCurrent = toLocalPoint(globalCurrent),\n        localDelta = deltaPos(localCurrent, localStart);\n\n\n    // activate context explicitly or once threshold is reached\n    if (!context.active && (activate || getLength(globalDelta) > context.threshold)) {\n\n      // fire start event with original\n      // starting coordinates\n\n      assign(payload, {\n        x: round(localStart.x + displacement.x),\n        y: round(localStart.y + displacement.y),\n        dx: 0,\n        dy: 0\n      }, { originalEvent: event });\n\n      if (false === fire('start')) {\n        return cancel();\n      }\n\n      context.active = true;\n\n      // unset selection and remember old selection\n      // the previous (old) selection will always passed\n      // with the event via the event.previousSelection property\n      if (!context.keepSelection) {\n        payload.previousSelection = selection.get();\n        selection.select(null);\n      }\n\n      // allow custom cursor\n      if (context.cursor) {\n        cursorSet(context.cursor);\n      }\n\n      // indicate dragging via marker on root element\n      canvas.addMarker(canvas.getRootElement(), DRAG_ACTIVE_CLS);\n    }\n\n    stopPropagation(event);\n\n    if (context.active) {\n\n      // update payload with actual coordinates\n      assign(payload, {\n        x: round(localCurrent.x + displacement.x),\n        y: round(localCurrent.y + displacement.y),\n        dx: round(localDelta.x),\n        dy: round(localDelta.y)\n      }, { originalEvent: event });\n\n      // emit move event\n      if (context.mode === SIMPLE_MODE ) {\n        if (isWithinShape(context.data.source, payload)) {\n          fire('move', context);\n        }\n      } else {\n        // emit move event with payload\n        // containing the current position\n        fire('move', context);\n      }\n     \n    }\n  }\n\n  function end(event) {\n    var previousContext,\n        returnValue = true;\n\n    if (context.active) {\n\n      if (event) {\n        context.payload.originalEvent = event;\n\n        // suppress original event (click, ...)\n        // because we just ended a drag operation\n        stopPropagation(event);\n      }\n\n      // implementations may stop restoring the\n      // original state (selections, ...) by preventing the\n      // end events default action\n      returnValue = fire('end');\n    }\n\n    if (returnValue === false) {\n      fire('rejected');\n    }\n\n    previousContext = cleanup(returnValue !== true);\n\n    // last event to be fired when all drag operations are done\n    // at this point in time no drag operation is in progress anymore\n    fire('ended', previousContext);\n  }\n\n\n  // cancel active drag operation if the user presses\n  // the ESC key on the keyboard\n\n  function checkKeys(event) {\n\n    if (isKey('Escape', event)) {\n      preventDefault(event);\n\n      cancel();\n    }\n\n    if (isKey('Enter', event)) {\n      preventDefault(event);\n\n      if (context.active) {\n        end(event);\n      }\n    }\n  }\n\n\n  // prevent ghost click that might occur after a finished\n  // drag and drop session\n\n  function trapClick(event) {\n\n    var untrap;\n\n    // trap the click in case we are part of an active\n    // drag operation. This will effectively prevent\n    // the ghost click that cannot be canceled otherwise.\n    if (context.active) {\n\n      untrap = installClickTrap(eventBus);\n\n      // remove trap after minimal delay\n      setTimeout(untrap, 400);\n\n      // prevent default action (click)\n      preventDefault(event);\n      event.stopPropagation();\n    }\n\n\n    // emit click if its on the fact\n    if (context.mode === SIMPLE_MODE) {\n      if (isWithinShape(context.data.source, context.payload)) {\n          fire('click', context);\n      } else {\n          end(event);\n      }\n    } else {\n      fire('click', context);\n    }\n\n  }\n\n  function trapTouch(event) {\n    move(event);\n  }\n\n  // update the drag events model element (`hover`) and graphical element (`hoverGfx`)\n  // properties during hover and out and fire {prefix}.hover and {prefix}.out properties\n  // respectively\n\n  function hover(event) {\n    var payload = context.payload;\n\n    payload.hoverGfx = event.gfx;\n    payload.hover = event.element;\n\n    fire('hover');\n  }\n\n  function out(event) {\n    fire('out');\n\n    var payload = context.payload;\n\n    payload.hoverGfx = null;\n    payload.hover = null;\n  }\n\n\n  // life-cycle methods\n\n  function cancel(restore) {\n    var previousContext;\n\n    if (!context) {\n      return;\n    }\n\n    var wasActive = context.active;\n\n    if (wasActive) {\n      fire('cancel');\n    }\n\n    previousContext = cleanup(restore);\n\n    if (wasActive) {\n\n      // last event to be fired when all drag operations are done\n      // at this point in time no drag operation is in progress anymore\n      fire('canceled', previousContext);\n    }\n  }\n\n  function cleanup(restore) {\n    var previousContext,\n        endDrag;\n\n    fire('cleanup');\n\n    // reset cursor\n    cursorUnset();\n\n    // reset dom listeners\n    domEvent.unbind(document, 'mousemove', move);\n\n    domEvent.unbind(document, 'dragstart', preventDefault);\n    domEvent.unbind(document, 'selectstart', preventDefault);\n\n    domEvent.unbind(document, 'mousedown', trapClick, true);\n    domEvent.unbind(document, 'mouseup', trapClick, true);\n\n    domEvent.unbind(document, 'keyup', checkKeys);\n\n    domEvent.unbind(document, 'touchstart', trapTouch, true);\n    domEvent.unbind(document, 'touchcancel', cancel, true);\n    domEvent.unbind(document, 'touchmove', trapClick, true);\n    domEvent.unbind(document, 'touchend', trapClick, true);\n\n    eventBus.off('element.hover', hover);\n    eventBus.off('element.out', out);\n\n    // remove drag marker on root element\n    canvas.removeMarker(canvas.getRootElement(), DRAG_ACTIVE_CLS);\n\n    // restore selection, unless it has changed\n    var previousSelection = context.data.source;\n    // always restore the selection back to the fact.\n    if (previousSelection){\n      restoreSelection([previousSelection]);\n    }\n    previousContext = context;\n\n    context = null;\n\n    // fire that the builder has been closed\n    eventBus.fire(`constraint-builder.closed`, {});\n\n    return previousContext;\n  }\n\n  /**\n   * Initialize a drag operation.\n   *\n   * If `localPosition` is given, drag events will be emitted\n   * relative to it.\n   *\n   * @param {MouseEvent|TouchEvent} [event]\n   * @param {Point} [relativeTo] actual diagram local position this drag operation should start at\n   * @param {string} prefix\n   * @param {Object} [options]\n   */\n  function init(event, relativeTo, prefix, options) {\n\n    // only one drag operation may be active, at a time\n    if (context) {\n      cancel(false);\n    }\n\n    if (typeof relativeTo === 'string') {\n      options = prefix;\n      prefix = relativeTo;\n      relativeTo = null;\n    }\n\n    options = assign({}, defaultOptions, options || {});\n\n    var data = options.data || {},\n        originalEvent,\n        globalStart,\n        localStart,\n        isTouch;\n\n    if (event) {\n      originalEvent = getOriginal(event) || event;\n      globalStart = toPoint(event);\n\n      stopPropagation(event);\n\n      // prevent default browser dragging behavior\n      if (originalEvent.type === 'dragstart') {\n        preventDefault(originalEvent);\n      }\n    } else {\n      originalEvent = null;\n      globalStart = { x: 0, y: 0 };\n    }\n\n    localStart = toLocalPoint(globalStart);\n\n    if (!relativeTo) {\n      relativeTo = localStart;\n    }\n\n    isTouch = isTouchEvent(originalEvent);\n\n    context = assign({\n      prefix: prefix,\n      data: data,\n      payload: {},\n      globalStart: globalStart,\n      displacement: deltaPos(relativeTo, localStart),\n      localStart: localStart,\n      isTouch: isTouch\n    }, options);\n\n    // skip dom registration if trigger\n    // is set to manual (during testing)\n    if (!options.manual) {\n\n      // add dom listeners\n\n      if (isTouch) {\n        domEvent.bind(document, 'touchstart', trapTouch, true);\n        domEvent.bind(document, 'touchcancel', cancel, true);\n        domEvent.bind(document, 'touchmove', move, true);\n        domEvent.bind(document, 'touchend', end, true);\n      } else {\n\n        // assume we use the mouse to interact per default\n        domEvent.bind(document, 'mousemove', move);\n\n        // prevent default browser drag and text selection behavior\n        domEvent.bind(document, 'dragstart', preventDefault);\n        domEvent.bind(document, 'selectstart', preventDefault);\n\n        domEvent.bind(document, 'mousedown', trapClick, true);\n        // domEvent.bind(document, 'mouseup', trapClick, true);\n      }\n\n      domEvent.bind(document, 'keyup', checkKeys);\n\n      eventBus.on('element.hover', hover);\n      eventBus.on('element.out', out);\n    }\n\n    fire('init');\n\n    if (options.autoActivate) {\n      move(event, true);\n    }\n  }\n\n  // cancel on diagram destruction\n  eventBus.on('diagram.destroy', cancel);\n\n\n  // API\n\n  this.init = init;\n  this.move = move;\n  this.hover = hover;\n  this.out = out;\n  this.end = end;\n\n  this.cancel = cancel;\n\n  // for introspection\n\n  this.context = function() {\n    return context;\n  };\n\n  this.setOptions = function(options) {\n    assign(defaultOptions, options);\n  };\n}\n\nConstraintBuilder.$inject = [\n  'eventBus',\n  'canvas',\n  'selection',\n  'elementRegistry'\n];","\nimport EventBus from 'diagram-js/lib/core/EventBus';\n\nexport interface ConstraintContext extends MouseEvent {\n    source: any;\n    mode: string;\n    x: number;\n    y: number;\n}\n\n/**\n * A abstract interface for constraint handlers.\n */\nexport default class ConstraintHandler {\n\n    _builder?: any;\n    static $inject: Array<string>;\n\n    constructor(eventBus:EventBus) {\n\n    }\n\n    setBuilder(builder:any) : ConstraintHandler{\n        this._builder = builder;\n        return this;\n    }\n\n    precheck(context:any) {\n        return true;\n    }\n\n    prepareData(context:any) : ConstraintContext {\n        // @ts-ignore\n        return {\n            source: context.source,\n            mode: context.mode,\n        };\n    }\n\n    move(event:ConstraintContext) {\n    }\n\n    click(event:ConstraintContext) {\n    }\n\n    end(event:ConstraintContext) {\n    }\n\n    cancel(event:ConstraintContext) {\n    }\n\n    cleanup(event:ConstraintContext) {\n    }\n\n    hover(event:ConstraintContext) {\n    }\n\n    out(event:ConstraintContext) {\n\n    }\n}\n\nConstraintHandler.$inject = [\n    'eventBus'\n];","\n\nexport interface HelpChainModel {\n    title: string;\n    error: string;\n    next: undefined | HelpChain;\n}\n\nexport class HelpChain implements HelpChainModel {\n    title: string;\n    error: string;\n    next: undefined | HelpChain;\n\n    constructor(title: string, error: string, next?: HelpChain) {\n        this.title = title;\n        this.error = error;\n        this.next = next;\n    }\n}\n\nexport class HelpChainBuilder {\n\n    private _chain: HelpChain[] | undefined;\n\n    constructor() {\n\n    }\n\n    create(title: string, error: string): HelpChainBuilder {\n        this._chain = [];\n        this._chain.push(new HelpChain(title, error));\n        return this;\n    }\n\n    addNext(title: string, error: string): HelpChainBuilder {\n        if (this._chain) {\n            this._chain.push(new HelpChain(title, error));\n        } else {\n            throw new Error(\"Chain has not been initialized. Use create() first.\");\n        }\n        return this;\n    }\n\n    build(): HelpChain {\n        if (!this._chain || this._chain.length === 0) {\n            throw new Error(\"Chain is empty. Use create() to initialize it.\");\n        }\n        let first = this._chain[0];\n        let helper = this._chain[0];\n        for( let next of this._chain.slice(1) || [] ) {\n            helper.next = next;\n            helper = next;\n        }\n        this._chain = undefined;\n        return first;\n    }\n}\n\nexport const DummyChain: HelpChain = new HelpChainBuilder()\n    .create(\"First comment\", \"Error message one\")\n    .addNext(\"Second comment\", \"Error message two\")\n    .build();\n\nDummyChain.next!.next = DummyChain;\n\nexport interface HelpStartEvent {\n    chain: HelpChainModel\n}\n\n","\nimport ConstraintHandler from './ConstraintHandler';\nimport { ConstraintContext } from './ConstraintHandler';\nimport Helping from '../../help-interactions/helping.js';\nimport { SimpleConstraint } from '../../model/constraints';\nimport { Fact } from '../../model/facts';\n\nconst MODE = 'simple';\n// @ts-ignore\nimport { PREFIX } from '../builder.js';\n\nimport EventBus from 'diagram-js/lib/core/EventBus.js';\nimport ElementFactory from 'diagram-js/lib/core/ElementFactory.js';\nimport Rules from 'diagram-js/lib/features/rules/Rules.js';\nimport { HelpChainBuilder } from '../../help-interactions/model';\nimport { isWithinShape } from '../../utils/canvasUtils';\n\nlet helper_title = `\n<p> \nClick on a role of the fact to add a uniqueness constraint.\n</p>\n<p>\n<b style=\"color:red\">ESC</b> to cancel, \n<b style=\"color: darkgreen\">ENTER</b> to complete.\n</p>\n`;\nexport const HelpChain = new HelpChainBuilder()\n    .create(helper_title,\n            \"Uniqueness cosntraints must be over n - 1 roles of a fact.\")\n    .build();\n\nexport interface UniquenessContext extends ConstraintContext {\n    source: Fact;\n    constraint: SimpleConstraint;\n};\n\n/**\n * A uniqueness constraint handler constraints over facts via\n * the mode 'simple'.\n */\nexport default class UniquenessConstraintHandler extends ConstraintHandler {\n\n   _eventBus: EventBus; \n   _factory: any;\n   _modeling: any;\n   _rules: Rules;\n   _helping: Helping;\n   \n    /**\n     * \n     * @param {*} eventBus \n     * @param {*} factory \n     * @param {*} modeling \n     * @param {*} rules\n     */\n    constructor(\n        eventBus:EventBus, factory:ElementFactory, \n        modeling:any, rules:Rules,\n        helping:Helping) {\n        super(eventBus);\n        this._eventBus = eventBus;\n        this._factory = factory;\n        this._modeling = modeling;\n        this._rules = rules;\n        this._helping = helping;\n\n\n        this._eventBus.on(\n            `${PREFIX}${MODE}.click`,\n            this.click.bind(this)\n        );\n\n        this._eventBus.on(\n            `${PREFIX}${MODE}.cleanup`,\n            this.cleanup.bind(this)\n        );\n\n        this._eventBus.on(\n            [`${PREFIX}${MODE}.cancel`, `${PREFIX}${MODE}.cancelled`],\n            this.cancel.bind(this)\n        );\n        this._eventBus.on(\n            `${PREFIX}${MODE}.end`,\n            this.end.bind(this)\n        );\n    }\n\n    prepareData(context: object)  {\n        const data = super.prepareData(context);\n        let source:Fact = data.source as Fact;\n        var attrs = this._factory\n            .createDummyAttributesForConstraintOverFact(data.source);\n        var constraint = this._modeling.createShape(\n            Object.assign({}, attrs),\n            {x: attrs.x, y: attrs.y },\n            source.parent\n        );\n        constraint.setEditing(true);\n        source.addUniqueness(constraint);\n        this._modeling.setHighlightFocus(source, constraint);\n        this._modeling.sendUpdates(constraint, source);\n        this._helping.fire('help.start', { chain: HelpChain });\n        return Object.assign(data, {\n            mode: MODE,\n            constraint: constraint\n        });\n    }\n\n    click(event:UniquenessContext) {\n        event.stopPropagation();\n        let point = { x: event.x, y: event.y };\n        if (!isWithinShape(event.source, point)) {\n            return;\n        }\n\n        let role = event.source.findNearestRoleUsingPos(\n            event.x, event.y\n        );\n        if (role < 0) {\n            return;\n        }\n        event.constraint.flipRole(role);\n        let allowed = this._rules.allowed('constraint.create', {\n            mode: event.mode,\n            constraint: event.constraint,\n            fact: event.source,\n        });\n        if (!allowed) {\n            this._helping.fire('help.error', {});\n        } else {\n            this._helping.fire('help.clear', {});\n        }\n        this._modeling.sendUpdates(event.source, event.constraint);\n    }\n\n    end(event:UniquenessContext) {\n        let allowed = this._rules.allowed('constraint.create', {\n            mode: event.mode,\n            constraint: event.constraint,\n            fact: event.source,\n        });\n\n        if (allowed) {\n            this._modeling.sendUpdates(event.constraint, event.source);\n        } else {\n            event.source.removeUniqueness(event.constraint);\n            this._modeling.removeElements([event.constraint]);\n        }\n\n    }\n\n    cleanup(event: any): void {\n        event.constraint?.setEditing(false);\n        this._modeling.resetHighlightFocus(event.source);\n        this._helping.fire('help.end', {});\n    }\n\n    cancel(event:UniquenessContext) {\n        event.source.removeUniqueness(event.constraint);\n        this._modeling.removeElements([event.constraint]);\n    }\n}\n\nUniquenessConstraintHandler.$inject = [\n    'eventBus',\n    'elementFactory',\n    'modeling',\n    'rules'\n];","\n// @ts-ignore\nimport { PREFIX } from '../builder.js';\n// @ts-ignore\nimport { OBJECT_VALUE_MODE as MODE } from '../constraints.js';\nimport { ValueConstraint } from '../model/valueConstraint';\nimport ConstraintHandler, { ConstraintContext } from './ConstraintHandler';\n\ninterface ObjectValueContext extends ConstraintContext {\n    constraint: ValueConstraint; // The constraint being created\n}\n/**\n * The object value constraint handler constraints over objects\n * the mode 'object-value'.\n */\nexport default class ObjectValueConstraintHandler extends ConstraintHandler {\n   \n    static $inject = [\n        'eventBus',\n        'elementFactory',\n        'modeling',\n        'rules',\n        'directEditing'\n    ];\n    _eventBus:any;\n    _factory:any;\n    _modeling:any;\n    _rules:any;\n    _directEditing:any;\n    _added: boolean = false;\n\n    constructor(eventBus:any, factory:any, modeling:any, rules:any, directEditing:any) {\n        super(eventBus);\n        this._eventBus = eventBus;\n        this._factory = factory;\n        this._modeling = modeling;\n        this._rules = rules;\n        this._directEditing = directEditing;\n\n\n        this._eventBus.on(\n            `${PREFIX}${MODE}.click`,\n            this.click.bind(this)\n        );\n\n        this._eventBus.on(\n            `${PREFIX}${MODE}.move`,\n            this.move.bind(this)\n        );\n\n        this._eventBus.on(\n            [`${PREFIX}${MODE}.canceled`, `${PREFIX}${MODE}.cancel`],\n            this.cancel.bind(this)\n        );\n\n        this._eventBus.on(\n            `${PREFIX}${MODE}.cleanup`,\n            this.cleanup.bind(this)\n        );\n    }\n\n    prepareData(context:any) : ObjectValueContext {\n        const data = super.prepareData(context);\n\n        let dummyState = this._factory\n            .createDummyAttributesForValueConstraint(\n                data.source,\n            );\n        let constraint = this._modeling.createShape(\n            Object.assign({}, dummyState),\n            {x: dummyState.x, y: dummyState.y },\n            data.source.parent\n        );\n\n        setTimeout(() => {\n            this._directEditing.cancel();\n        }, 30);\n\n\n        return Object.assign(data, {\n            mode: MODE,\n            constraint: constraint\n        });\n    }\n\n    move(event: ObjectValueContext) {\n        let constraint = event.constraint;\n\n        const { x, y } = event;\n\n        constraint.x = x - constraint.width / 2;\n        constraint.y = y - constraint.height / 2;\n        this._modeling.sendUpdate(constraint);\n    }\n\n    click(event : ObjectValueContext) {\n        this.end(event);\n        this._added = true;\n        this._builder.end(event);\n    }\n\n    end(event: ObjectValueContext) {\n        let source = event.source,\n            constraint = event.constraint,\n            that = this;\n        source.addConstraint(constraint);\n        this._modeling.sendUpdates(source, constraint);\n        setTimeout( () =>\n            that._eventBus.fire(\n                'label.edit.trigger',\n                {\n                    element: constraint,\n                }\n            )\n        , 25);\n    }\n\n    cleanup(event: ObjectValueContext): void {\n        if (!this._added) {\n            let constraint = event.constraint;\n            this._modeling.removeElements([constraint]);\n        }\n        this._added = false;\n    }\n\n    cancel(event: ObjectValueContext): void {\n        let constraint = event.constraint;\n        this._modeling.removeElements([constraint]);\n    }\n}","import ConstraintHandler from \"./ConstraintHandler\";\nimport { ConstraintContext } from \"./ConstraintHandler\";\nimport { ValueConstraint } from \"../model/valueConstraint\";\n\n// @ts-ignore\nimport { PREFIX } from \"../builder.js\";\n// @ts-ignore\nimport { ROLE_VALUE_MODE as MODE } from \"../constraints.js\";\nimport { isWithinShape } from \"../../utils/canvasUtils\";\nimport { Fact } from \"../../model/facts\";\n\nexport interface RoleValueConstruction {\n    state: 'selecting' | 'moving';\n    factor: number;\n    constraint: ValueConstraint\n}\n\nexport interface RoleValueContext extends ConstraintContext {\n    source: Fact;\n    factor?: number;\n    mode: MODE;\n    state: RoleValueConstruction;\n}\n\nimport { HelpChainBuilder } from \"../../help-interactions/model\";\nlet helper_title = `\n<p> \nClick on a role on the fact to create a value costraint on its popluation.\n</p>\n<p>\n<b style=\"color:red\">ESC</b> to cancel.\n</p>\n`;\nlet helper_title2 = `\n<p> \nMove the constraint to the desired position.\n</p>\n<p>\n<b style=\"color:green\">CLICK</b> to place,\n<b style=\"color:red\">ESC</b> to cancel.\n</p>\n`;\nexport const HelpChain = new HelpChainBuilder()\n    .create(helper_title, \"role already has a value constraint\")\n    .addNext(helper_title2, \"\")\n    .build();\n\nexport default class RoleValueConstraint extends ConstraintHandler {\n\n    static $inject: Array<string> = [ \n        'eventBus', 'elementFactory', 'modeling', \n        'rules', 'directEditing'\n    ];\n    _eventBus: any;\n    _factory: any;\n    _modeling: any;\n    _rules: any;\n    _directEditing: any;\n\n    constructor(eventBus:any, factory:any, \n        modeling:any, rules:any, directEditing:any) {\n        super(eventBus); \n        this._eventBus = eventBus;\n        this._factory = factory;\n        this._modeling = modeling;\n        this._rules = rules;\n        this._directEditing = directEditing;\n\n        this._eventBus.on(\n            `${PREFIX}${MODE}.click`,\n            (event:any) => this.click(event)\n        );\n\n        this._eventBus.on(\n            `${PREFIX}${MODE}.move`,\n            (event:any) => this.move(event)\n        );\n\n        this._eventBus.on(\n            [`${PREFIX}${MODE}.cancel`, `${PREFIX}${MODE}.cancelled`],\n            (event:any) => this.cancel(event)\n        );\n    }\n\n    prepareData(context: any): RoleValueContext {\n        let data = super.prepareData(context);\n\n        let dummyState = this._factory\n            .createDummyAttributesForValueConstraint(\n                data.source,\n            );\n        let constraint:ValueConstraint = this._modeling.createShape(\n            Object.assign({}, dummyState),\n            {x: dummyState.x, y: dummyState.y },\n            data.source.parent\n        );\n\n        constraint.hide();\n        this._modeling.sendUpdate(constraint);\n\n        setTimeout(() => {\n            this._directEditing.cancel();\n        }, 30);\n\n        this._eventBus.fire('help.start', {\n            chain: HelpChain\n        });\n\n        let state:RoleValueConstruction = {\n            state: 'selecting',\n            factor: context.factor || -1,\n            constraint: constraint\n        };\n\n        this._modeling.setHighlightFocus(data.source, constraint);\n        this._modeling.sendUpdates(constraint, data.source);\n\n        return Object.assign(data, {\n            factor: context.factor || -1,\n            mode: MODE,\n            state\n        });\n    }\n\n    move(event:RoleValueContext) {\n        let constraint = event.state.constraint;\n\n        if (event.state.state !== \"moving\") {\n            return;\n        }\n\n        const { x, y } = event;\n\n        if (x !== undefined && y !== undefined) {\n            constraint.x = x - constraint.width / 2;\n            constraint.y = y - constraint.height / 2;\n            this._modeling.sendUpdate(constraint);\n        }\n    }\n\n    click(event:RoleValueContext) {\n        let state = event.state,\n            constraint = state.constraint,\n            fact = event.source;\n\n        if (state.state === \"selecting\") {\n            event.stopPropagation();\n            if (isWithinShape(event.source, {x: event.x, y: event.y})) {\n                let role = fact.findNearestRoleUsingPos(event.x, event.y);\n\n                if (role < 0) {\n                    return;\n                }\n\n                if (fact.hasValueConstraintOver(role)){\n                    this._eventBus.fire(\n                        'help.error'\n                    );\n                    return;\n                }\n\n                state.factor = role;\n                constraint.setRoleFactor(state.factor);\n                this._modeling.resetHighlightFocus(fact);\n                this._modeling.sendUpdate(constraint);\n                state.state = \"moving\";\n                constraint.show();\n                this._eventBus.fire(\n                    'help.next'\n                );\n            } else {\n                this._eventBus.fire(\n                    'help.error'\n                );\n            }\n\n        } else if (state.state === \"moving\") {\n            \n            fact.addConstraint(constraint); \n            setTimeout( () =>\n                this._eventBus.fire(\n                    'label.edit.trigger',\n                    {\n                        element: constraint,\n                    }\n                )\n            , 25);\n            this._modeling.resetHighlightFocus(fact);\n            this._builder.end(event);\n            this._eventBus.fire(\n                'help.end'\n            );\n        }\n        \n    }\n\n    cleanup(event: RoleValueContext) {\n        let constraint = event.state.constraint;\n        this._modeling.resetHighlightFocus(event.source);\n        this._modeling.removeElements([constraint]);\n        this._eventBus.fire(\n            'help.end'\n        );\n    }\n\n    cancel(event: any): void {\n        let constraint = event.state.constraint;\n        this._modeling.resetHighlightFocus(event.source);\n        this._modeling.removeElements([constraint]);\n        this._eventBus.fire(\n            'help.end'\n        );\n    }\n}","import Builder from './builder';\nimport { PREFIX } from './builder';\nimport EventBus from 'diagram-js/lib/core/EventBus';\nimport Modeling from 'diagram-js/lib/features/modeling/Modeling';\n\nexport const BUS_TRIGGER = 'constraint-builder.create';\nexport const SIMPLE_MODE = 'simple';\nexport const OBJECT_VALUE_MODE = 'object-value';\nexport const ROLE_VALUE_MODE = 'role-value';\n\nimport UniquenessConstraintHandler from './handlers/UniqunessConstraint';\nimport ObjectValueConstraintHandler from './handlers/ObjectValueConstraint';\nimport RoleValueConstraintHandler from './handlers/RoleValueConstraint';\n\n/**\n * This module is responsible for managing the creation \n * of constraints in the editor.\n * @module constraints\n */\nexport default class ContraintsModule {\n\n    /**\n     * @param {EventBus} eventBus \n     * @param {Modeling} modeling \n     * @param {Builder} dragging \n     */\n    constructor(eventBus, modeling, builder, elementFactory, rules, editing, helping) {\n        this._builder = builder;\n        this._eventBus = eventBus;\n        this._modeling = modeling;\n\n        // register event listeners\n        var that = this;\n        this._eventBus.on(BUS_TRIGGER, (context) => {\n            that.init(context);\n        });\n\n        this._registry = {};\n        this._registry[SIMPLE_MODE] = new UniquenessConstraintHandler(\n                eventBus, elementFactory, modeling, rules, helping\n        ).setBuilder(builder);\n        this._registry[OBJECT_VALUE_MODE] = new ObjectValueConstraintHandler(\n            eventBus, elementFactory, modeling, rules, editing, helping\n        ).setBuilder(builder);\n        this._registry[ROLE_VALUE_MODE] = new RoleValueConstraintHandler(\n            eventBus, elementFactory, modeling, rules, editing, helping\n        ).setBuilder(builder);\n\n    }\n\n    /**\n     * The trigger point for a constraint builder.\n     * @param {Object} context \n     * @param {Shape} context.source The fact element to constrain.\n     * @param {string} context.mode The mode of the builder.\n     * @param {Object} context.orginalEvent A mouse event.\n     * \n     */ \n    init(context) {\n        var controller = this._registry[context.mode];\n        if (!controller) {\n            throw new Error('no constraint handler found');\n        }\n        this.active = true;\n        this._builder.init(context.orginalEvent, \n            PREFIX + context.mode, {\n            data : controller.prepareData(context),\n            autoActivate: false,\n        });\n    }\n}\n\nContraintsModule.$inject = [\n    'eventBus',\n    'modeling',\n    'constraintsBuilder',\n    'elementFactory',\n    'rules',\n    'directEditing',\n    'helpInteractions'\n];","import  {\n    isLabel, isConnection\n} from \"diagram-js/lib/util/ModelUtil\";\n\nimport { ShapeLike, Connection } from \"diagram-js/lib/model\";\nimport { unitHeight, Fact } from \"../model/facts\";\nimport { Entity, ValueEntity } from \"../model/entities\";\nimport { isFact, isEntity, isConstraint, isExactlyEntity, } from \"../model/util\";\nimport { isSubtype, isObjectification } from \"../model/util\";\nimport { SimpleConstraint } from \"../model/constraints\";\nimport { BUS_TRIGGER as CONSTRAINT_BUS_TRIGGER,\n         SIMPLE_MODE as CONSTRAINT_SIMPLE_MODE,\n         OBJECT_VALUE_MODE as CONSTRAINT_VALUE_MODE,\n         ROLE_VALUE_MODE as CONSTRAINT_ROLE_VALUE_MODE\n} from \"../constraints/constraints\";\nimport { isValueConstraint } from \"../constraints/model/utils\";\n  \n\nexport default function ContextPadProvider(\n        create, elementFactory, connect, contextPad, \n        modeling, eventBus, registry, placementModule,\n        subtyping\n    ) {\n        this._create = create;\n        this._elementFactory = elementFactory;\n        this._connect = connect;\n        this._modeling = modeling;\n        this._eventBus = eventBus;\n        this._registry = registry;\n        this._placement = placementModule;\n        this._subtyping = subtyping;\n        this._pad = contextPad;\n        contextPad.registerProvider(this);\n    }\n\n    ContextPadProvider.$inject = [\n        'create',\n        'elementFactory',\n        'ormConnect',\n        'contextPad',\n        'modeling',\n        'eventBus',\n        'elementRegistry',\n        'placementModule',\n        'ormSubtyping'\n\n    ];\n\n    /**\n     * Generates the suitable options to show in the context pad for the given element.\n     * @param {Connection | Fact | Entity | ValueEntity } element \n     * @returns {Object} the options to show in the context pad\n     */\n    ContextPadProvider.prototype.getContextPadEntries = function(element){\n        var options = {};\n        \n        if (isConnection(element)){\n            options = this.getConnectionOptions(element);\n        }    \n        if (isFact(element)){\n            options = this.getFactOptions(element);\n        }\n        if (isEntity(element)){\n            options = this.getEntityOptions(element);\n        }\n        if (isConstraint(element)){\n            options = this.getConstraintOptions(element);\n        }\n        if (isObjectification(element)){\n            options = this.getObjectificationOptions(element);\n        }\n        if (isValueConstraint(element)){\n            options = this.getValueConstraintOptions(element);\n        }\n        return options;\n    };\n\n    /**\n     * Removes the element from the orm schema.\n     * @param {ContextPadProvider} that \n     * @param {Fact | Entity | ShapeLike} element\n     */\n    ContextPadProvider.prototype.removeElement = function(that, element) {\n        that._modeling.removeElements([ element ]);\n    };\n\n    /**\n     * Starts a connection attempt from the given element\n     * @param {ContextPadProvider} that \n     * @param {Fact | Entity | ValueEntity | ShapeLike } element \n     * @param {*} event \n     */\n    ContextPadProvider.prototype.startConnect = function(that, element, event){\n        that._connect.start(event, element);\n    };\n\n    /**\n     * Expands the fact with a new role.\n     * @param {ContextPadProvider} that \n     * @param {Fact} fact the fact to expand \n     */\n    ContextPadProvider.prototype.expandFact = function(that, fact){\n        that._modeling.expandFact(fact);\n        that._pad.open(fact, true);\n    };\n\n    /**\n     * Reduces the number of roles in the fact.\n     * @param {ContextPadProvider} that \n     * @param {Fact} fact the fact to reduce\n     */\n    ContextPadProvider.prototype.reduceFact = function(that, fact){\n        if (fact.roles > 1){\n            that._modeling.reduceFact(fact);\n        }\n        that._pad.open(fact, true);\n    };\n\n    /**\n     * Triggers the creation of a constraint for the given fact.\n     * @param {ContextPadProvider} that \n     * @param {Fact} fact \n     */\n    ContextPadProvider.prototype.createConstraint = function(that, fact, event){\n        that._eventBus.fire(CONSTRAINT_BUS_TRIGGER, \n            {source: fact, mode: CONSTRAINT_SIMPLE_MODE, originalEvent: event}\n        );\n    };\n\n    /**\n     * Triggers objectification of the fact, i.e. relation is has a referenced\n     * entity.\n     * @param {ContextPadProvider} that\n     * @param {Fact} fact \n     */\n    ContextPadProvider.prototype.objectifyFact = function(that, fact){\n        that._modeling.flipObjectification(fact);\n        that._pad.open(fact, true);\n    };\n\n    /**\n     * Triggers de-objectification of the fact\n     * @param {ContextPadProvider} that\n     * @param {Fact} fact \n     */\n    ContextPadProvider.prototype.deobjectifyFact = function(that, fact){\n        that._modeling.flipObjectification(fact);\n        that._pad.open(fact, true);\n    };\n\n    /**\n     * Flips the derviation state of the fact.\n     * @param {ContextPadProvider} that \n     * @param {Fact} fact \n     */\n    ContextPadProvider.prototype.derived = function(that, fact){\n        that._modeling.flipDerivation(fact);\n        that._pad.open(fact, true);\n    };\n\n    /**\n     * \n     * @param {ContextPadProvider} that \n     * @param {Fact} fact \n     * @param {\"left\" | \"right\"} direction \n     */\n    ContextPadProvider.prototype.towards = function(that, fact, direction){\n        if (direction){\n            fact.setTowards(direction);\n        } else  {\n            fact.unsetTowards();\n        }\n        that._modeling.sendUpdate(fact);\n    };\n\n    /**\n     * Toggles the alignment of a fact between horizontal and vertical.\n     * @param {ContextPadProvider} that \n     * @param {Fact} fact \n     */\n    ContextPadProvider.prototype.toggleAlignment = function(that, fact){\n        that._modeling.toggleAlignment(fact);\n    };\n\n    /**\n     * Removes the fact from the current ORM schema.\n     * @param {ContextPadProvider} that \n     * @param {Fact} fact \n     */\n    ContextPadProvider.prototype.removeFact = function(that, fact){\n        that._modeling.removeFact(fact);\n    };\n\n    ContextPadProvider.prototype.createValueConstraint = function(that, fact, event){\n        that._eventBus.fire(CONSTRAINT_BUS_TRIGGER, \n            {source: fact, mode: CONSTRAINT_ROLE_VALUE_MODE, originalEvent: event}\n        );\n    };\n\n    /**\n     * Builds the current context options from the state of the fact\n     * @param {Fact} fact \n     * @returns the options \n     */\n    ContextPadProvider.prototype.getFactOptions = function(fact){\n        var that = this;\n        \n        var options = {};\n\n       \n        options['expand'] = {\n            action : {\n                click : () => {that.expandFact(that, fact);}\n            },\n            className: 'content-pad-fact-expand',\n            html: '<div class=\"entry mdi-plus-box-outline mdi editor-hover\" />',\n            title: 'Expand',\n            group: '1-grow'\n        };\n\n        if (fact.roles > 1){\n            options['reduce'] = {\n                action : {\n                    click : () => {that.reduceFact(that, fact);}\n                },\n                className: 'content-pad-fact-reduce',\n                html: '<div class=\"entry mdi-minus-box-outline mdi editor-hover\" />',\n                title: 'Reduce',\n                group: '1-grow'\n            };\n    \n        }\n\n        if (fact.derived) {\n            options['remove-derived'] = {\n                action: {\n                    click: () => {that.derived(that, fact);},\n                },\n                className: 'context-pad-derived',\n                html: '<div class=\"entry mdi mdi-alpha-d-box editor-hover\"/>',\n                title: 'Remove Derivation',\n                group: '2-edit'\n            };\n        } else {\n            options['make-derived'] = {\n                action: {\n                    click: () => {that.derived(that, fact);},\n                },\n                className: 'context-pad-derived',\n                html: '<div class=\"entry mdi mdi-alpha-d-box-outline editor-hover\"/>',\n                title: 'Add Derivation',\n                group: '2-edit'\n            };\n        }\n\n        if (fact.roles > 1){\n\n            if (fact.towards !== 'left'){\n                options['towards-left'] = {\n                    action: {\n                        click: () => {that.towards(that, fact, 'left');},\n                    },\n                    className: 'context-pad-towards-left',\n                    html: '<div class=\"entry mdi mdi-alpha-l-box-outline editor-hover\"/>',\n                    title: 'Towards Left',\n                    group: '2-edit'\n                };\n            }\n\n            if (fact.towards !== 'right'){\n                options['towards-right'] = {\n                    action: {\n                        click: () => {that.towards(that, fact, 'right');},\n                    },\n                    className: 'context-pad-towards-right',\n                    html: '<div class=\"entry mdi mdi-alpha-r-box-outline editor-hover\"/>',\n                    title: 'Towards Right',\n                    group: '2-edit'\n                };\n            }\n        }\n\n        if (fact.isTowards()) {\n            options['unset-towards'] = {\n                action: {\n                    click: () => {that.towards(that, fact);},\n                },\n                className: 'context-pad-towards-none',\n                html: '<div class=\"entry mdi mdi-alpha-n-box-outline editor-hover\"/>',\n                title: 'No Direction',\n                group: '2-edit'\n            };\n        }\n\n        // Add alignment toggle options\n        if (fact.alignment === \"vertical\") {\n            options['set-horizontal'] = {\n                action: {\n                    click: () => {that.toggleAlignment(that, fact);},\n                },\n                className: 'context-pad-alignment-horizontal',\n                html: '<div class=\"entry mdi mdi-alpha-a-box editor-hover\"/>',\n                title: 'Flip Alignment',\n                group: '2-edit'\n            };\n        } else {\n            options['set-vertical'] = {\n                action: {\n                    click: () => {that.toggleAlignment(that, fact);},\n                },\n                className: 'context-pad-alignment-vertical',\n                html: '<div class=\"entry mdi mdi-alpha-a-box-outline editor-hover\"/>',\n                title: 'Flip Alignment',\n                group: '2-edit'\n            };\n        }\n\n        options['make-contraint'] = {\n            action: {\n                click: (event) => {that.createConstraint(that, fact, event);},\n            },\n            className: 'context-pad-delete',\n            html: '<div class=\"entry mdi-alpha-c-box-outline mdi editor-hover\"/>',\n            title: 'Add Constraint',\n            group: '3-edit'\n        };\n\n        options['create-value-constraint'] = {\n            action: {\n                click: (event) => {that.createValueConstraint(that, fact, event);},\n            },\n            className: 'context-pad-create-value-constraint',\n            html: '<div class=\"entry mdi mdi-alpha-v-box-outline editor-hover\"/>',\n            title: 'Add Value Constraint',\n            group: '3-edit'\n        };\n\n        if (!fact.objectified){\n            options['objectify'] = {\n                action: {\n                    click: () => {that.objectifyFact(that, fact);},\n                },\n                className: 'context-pad-objectify',\n                html: '<div class=\"entry mdi mdi-alpha-o-box-outline editor-hover\"/>',\n                title: 'Objectify',\n                group: '2-edit'\n            };\n        } else {\n            options['de-objectify'] = {\n                action: {\n                    click: () => {that.deobjectifyFact(that, fact);},\n                },\n                className: 'context-pad-objectify',\n                html: '<div class=\"entry mdi mdi-alpha-o-box editor-hover\"/>',\n                title: 'De-Objectify',\n                group: '2-edit'\n            };\n        }\n\n        options['delete'] = {\n            action: {\n                click: () => {that.removeFact(that, fact);},\n            },\n            className: 'context-pad-delete',\n            html: '<div class=\"entry mdi-delete mdi editor-hover\"/>',\n            title: 'Delete',\n            group: '3-delete'\n        };\n\n        return options;\n    };\n\n\n    /**\n     * Removes a connection from the orm schema, updating the fact and entity.\n     * @param {ContextPadProvider} that \n     * @param {Connection} con the connection to remove.\n     */\n    ContextPadProvider.prototype.removeConnection = function(that, con){\n        that._modeling.removeConnection(con);\n    };\n\n    /**\n     * Flips the mandatory role that this connection plays, i.e. the entity must\n     * play a role in the connected fact type.\n     * @param {ContextPadProvider} that \n     * @param {Connection} con the connection to make mandatory\n     */\n    ContextPadProvider.prototype.makeMandatory = function(that, con){\n        that._modeling.flipMandatoryConstraint(con);\n        that._modeling.sendUpdate(con);\n    };\n\n    /**\n     * Builds the current context options from the state of the connection\n     * @param {Connection} con the selected connection\n     * @returns the options \n     */\n    ContextPadProvider.prototype.getConnectionOptions = function(con){\n        var that = this;\n        var options = {};\n\n        let offMandatory = \"alpha-m-box-outline\";\n        let onMandatory = \"alpha-m-box\";\n        let included = con.mandatory ? onMandatory : offMandatory;\n\n        if (isSubtype(con)){\n            // TODO: add the subtype connection options\n           \n        } else {\n             options['mandatory'] = {\n                action : {\n                    click: () => {that.makeMandatory(that, con);}\n                },\n                className: 'context-pad-mandatory',\n                html: '<div class=\"entry mdi-'+included +' mdi editor-hover\"/>',\n                title: 'Flip Mandatory?',\n                group: 'edit'\n            };\n        }\n\n        options['delete'] = {\n            action: {\n                click: () => {that.removeConnection(that, con);},\n            },\n            className: 'context-pad-delete',\n            html: '<div class=\"entry mdi-delete mdi editor-hover\"/>',\n            title: 'Delete',\n            group: 'edit'\n        };\n\n        return options;\n    };\n\n    /**\n     * Creates a new fact connected to the given entity type.\n     * @param {ContextPadProvider} that click event data.\n     * @param {Entity | ValueEntity} element the source entity\n     */\n    ContextPadProvider.prototype.createConnectedFact = function (that, element){\n        var fact = Object.assign(\n            that._elementFactory.createDummyAttributesForFacts(),\n            { x: element.x+element.width+ 100, \n              y: element.y+element.height/2,}\n        );\n        fact = that._modeling.createShape(\n            fact, {x: fact.x, y:fact.y}, \n            element.parent\n        );\n        // find a free position\n        let pos = that._placement.place(element, fact);\n        fact.x = pos.x;\n        fact.y = pos.y;\n        // add entity as a role to the fact\n        let con = that._modeling.connectToFact(fact, element, 0);\n        // silly updating to make sure the layering is correct\n        // that._modeling.moveElements([con,element,fact], {x:0,y:0});\n        that._modeling.sendUpdates(con,fact,element);\n    };\n\n    /**\n     * Flips the type of the entity.\n     * @param {ContextPadProvider} that \n     * @param {Entity | ValueEntity} entity the entity to flip\n     */\n    ContextPadProvider.prototype.flipEntity = function(that, entity){\n        entity.flipType();\n        that._modeling.sendUpdate(entity);\n        that._pad.open(entity, true);\n    };\n\n    /**\n     * Flips the label reference mode of the entity.\n     * @param {ContextPadProvider} that \n     * @param {Entity} entity \n     */\n    ContextPadProvider.prototype.flipReferenceMode = function(that, entity){\n        entity.flipReferenceMode();\n        that._modeling.sendUpdate(entity);\n    };\n\n    /**\n     * Triggers connection for subtyping for a given entity\n     * @param {ContextPadProvider} that \n     * @param {object} event the triggering event\n     * @param {Entity} entity the source of the subtyping \n     */\n    ContextPadProvider.prototype.addSubtyping = function(that, event, entity){\n        // TODO: trigger connect for subtyping\n        that._subtyping.start(event, entity);\n    };\n\n    ContextPadProvider.prototype.addValueConstraint = function(that, entity){\n        that._eventBus.fire(CONSTRAINT_BUS_TRIGGER, \n            {source: entity, mode: CONSTRAINT_VALUE_MODE, originalEvent: event}\n        );\n    };\n\n    ContextPadProvider.prototype.removeAllValueConstraints = function(that, entity){\n        that._modeling.removeAllValueConstraint(entity);\n        that._pad.open(entity, true);\n    };\n\n\n    /**\n     * Creates the usable options for the given Entity type.\n     * @param {Entity} entity \n     * @returns {object} the options for the entity\n     */\n    ContextPadProvider.prototype.getEntityOptions = function(entity){\n        var that = this;\n        var options = {};\n\n        options['connect'] = {\n            action: {\n                click: (event,) => {that.startConnect(that,entity, event,);},\n                dragstart: (event,) => {that.startConnect(that,entity, event,);}\n            },\n            className: 'context-pad-contect',\n            html: '<div class=\"entry mdi-alpha-c-box-outline mdi editor-hover\"/>',\n            title: 'Connect',\n            group: 'join'\n        };\n\n        if (!entity.isSubtyping()){\n            options['flip-entity-type'] = {\n                action: {\n                    click: () => {that.flipEntity(that, entity);},\n                },\n                className: 'context-pad-flip',\n                html: '<div class=\"entry mdi mdi-alpha-t-box-outline editor-hover\"/>',\n                title: 'Flip Type',\n                group: 'edit'\n            };\n        }\n\n        if (isExactlyEntity(entity)){\n            \n            options['flip-reference-type'] = {\n                action: {\n                    click: () => {that.flipReferenceMode(that, entity);},\n                },\n                className: 'context-pad-flip-ref',\n                html: '<div class=\"entry mdi mdi-alpha-r-box-outline editor-hover\"/>',\n                title: 'Flip Label Reference',\n                group: 'edit'\n            };\n            options['subtype'] = {\n                action : {\n                    click: (event) => {that.addSubtyping(that, event, entity);}\n                },\n                className: 'context-pad-subtyping',\n                html: '<div class=\"entry mdi mdi-alpha-s-box-outline editor-hover\"/>',\n                title: 'Subtype of',\n                group: 'join'\n            };\n        }\n        \n        options['create-fact'] = {\n            action: {\n                click: () => {that.createConnectedFact(that, entity);},\n            },\n            class: 'context-pad-create-fact',\n            html: '<div class=\"entry mdi mdi-alpha-f-box-outline editor-hover\"/>',\n            title: 'Join to Fact',\n            group: 'add'\n        };\n\n        if (entity.hasValueConstraint()){\n            options['remove-value-constraint'] = {\n                action: {\n                    click: () => {that.removeAllValueConstraints(that, entity);},\n                },\n                className: 'context-pad-add-value-constraint',\n                html: '<div class=\"entry mdi mdi-alpha-v-box editor-hover\"/>',\n                title: 'Remove Value Constraint',\n                group: 'add'\n            };\n        } else {\n            options['add-value-constraint'] = {\n                action: {\n                    click: () => {that.addValueConstraint(that, entity);},\n                },\n                className: 'context-pad-add-value-constraint',\n                html: '<div class=\"entry mdi mdi-alpha-v-box-outline editor-hover\"/>',\n                title: 'Add Value Constraint',\n                group: 'add'\n            };\n        }\n\n        options['delete'] = {\n            action: {\n                click: () => {that.removeElement(that, entity);},\n            },\n            className: 'context-pad-delete',\n            html: '<div class=\"entry mdi-delete mdi editor-hover\"/>',\n            title: 'Delete',\n            group: 'del'\n        };\n\n        return options;\n    };\n\n    /**\n     * Removes the given constraint from the schema.\n     * @param {ContextPadProvider} that \n     * @param {constraint} constraint the constraint to remove\n     */\n    ContextPadProvider.prototype.removeConstraint = function(that, constraint){\n        that._modeling.removeConstraint(constraint);\n    };\n\n    /**\n     * Creates the usable options for the given constraint type.\n     * @param {constraint} constraint \n     * @returns \n     */\n    ContextPadProvider.prototype.getConstraintOptions = function(constraint){\n        var that = this;\n        var options = {};\n\n        options['delete'] = {\n            action: {\n                click: () => {that.removeConstraint(that, constraint);},\n            },\n            className: 'context-pad-delete',\n            html: '<div class=\"entry mdi-delete mdi editor-hover\"/>',\n            title: 'Delete',\n            group: 'edit'\n        };\n\n        return options;\n    };\n\n\n    ContextPadProvider.prototype.getObjectificationOptions = function(objectification){\n        var that = this;\n        var options = {};\n\n        options['connect'] = {\n            action: {\n                click: (event,) => {that.startConnect(that, objectification, event,);},\n                dragstart: (event,) => {that.startConnect(that, objectification, event,);}\n            },\n            className: 'context-pad-contect',\n            html: '<div class=\"entry mdi-alpha-c-box-outline mdi editor-hover\"/>',\n            title: 'Connect',\n            group: 'join'\n        };\n\n        options['create-fact'] = {\n            action: {\n                click: () => {that.createConnectedFact(that, objectification);},\n            },\n            class: 'context-pad-create-fact',\n            html: '<div class=\"entry mdi mdi-alpha-f-box-outline editor-hover\"/>',\n            title: 'Join to Fact',\n            group: 'add'\n        };\n\n        options['delete'] = {\n            action: {\n                click: () => {that.objectifyFact(that, objectification.fact);},\n            },\n            className: 'context-pad-delete',\n            html: '<div class=\"entry mdi-delete mdi editor-hover\"/>',\n            title: 'Delete',\n            group: 'edit'\n        };\n\n        return options;\n    };\n\n    ContextPadProvider.prototype.increaseWidthOnValueConstraint = function(that, constraint){\n        constraint.increaseWidth();\n        that._modeling.sendUpdate(constraint);\n    };\n\n    ContextPadProvider.prototype.decreaseWidthOnValueConstraint = function(that, constraint){\n        constraint.decreaseWidth();\n        that._modeling.sendUpdate(constraint);\n    };\n\n    ContextPadProvider.prototype.removeValueConstraint = function(that, constraint){\n        let src = constraint.source;\n        that._modeling.removeValueConstraint(constraint);\n        that._pad.open(src, true);\n    };\n\n    ContextPadProvider.prototype.getValueConstraintOptions = function(constraint){\n        let options = {};\n\n        options['increase-width'] = {\n            action: {\n                click: () => {this.increaseWidthOnValueConstraint(this, constraint);}\n            },\n            className: 'context-pad-increase-width',\n            html: '<div class=\"entry mdi mdi-plus-box-outline editor-hover\"/>',\n            title: 'Increase Width',\n            group: 'edit'\n        };\n\n        if (constraint.canDecreaseWidth()){ \n            options['decrease-width'] = {\n                action: {\n                    click: () => {this.decreaseWidthOnValueConstraint(this, constraint);}\n                },\n                className: 'context-pad-decrease-width',\n                html: '<div class=\"entry mdi mdi-minus-box-outline editor-hover\"/>',\n                title: 'Decrease Width',\n                group: 'edit'\n            };\n        }\n\n        options['delete'] = {\n            action: {\n                click: () => {this.removeValueConstraint(this, constraint);}\n            },\n            className: 'context-pad-delete',\n            html: '<div class=\"entry mdi-delete mdi editor-hover\"/>',\n            title: 'Delete',\n            group: 'edit'\n        };\n\n        return options;\n    };","import ContextPad from 'diagram-js/lib/features/context-pad/ContextPad';\nimport Canvas from 'diagram-js/lib/core/Canvas';\nimport ElementRegistry from 'diagram-js/lib/core/ElementRegistry';\nimport EventBus from 'diagram-js/lib/core/EventBus';\nimport Scheduler from 'diagram-js/lib/features/scheduler/Scheduler';\n\nimport { isValueConstraint } from '../constraints/model/utils';\n\nvar CONTEXT_PAD_MARGIN = 8;\n\nexport default class OrmContextPad extends ContextPad {\n\n    constructor(\n        canvas:Canvas, elementRegistry:ElementRegistry,\n        eventBus:EventBus, scheduler:Scheduler) {\n        super(canvas, elementRegistry, eventBus, scheduler);\n    }\n\n    _getPosition(target:any) : any {\n        let that = this as any;\n        if (isValueConstraint(target)) {\n            var container = that._canvas.getContainer();\n\n            var containerBounds = container.getBoundingClientRect();\n            let gfx = that._canvas.getGraphics(target);\n            let hitBox = gfx.children[2].getBoundingClientRect();\n\n            return {\n                left: hitBox.right - containerBounds.left + CONTEXT_PAD_MARGIN * that._canvas.zoom(),\n                top: hitBox.top - containerBounds.top\n            };\n        } else {\n            // @ts-ignore\n            return super._getPosition(target);\n        }\n    }\n}","import provider from \"./provider.js\";\nimport OrmContextPad from './pad';\n\nexport default {\n    __init__ : [ \"contextPadProvider\", 'contextPad'],\n    contextPadProvider: [ 'type', provider],\n    contextPad: [ 'type' , OrmContextPad ]\n};","\nimport {\n    getMid\n} from 'diagram-js/lib/layout/LayoutUtil';\n  \nimport {\n  isNil,\n  isObject\n} from 'min-dash';\n\nimport { isFact } from '../model/util';\nimport { transformToViewbox } from \"../utils/canvasUtils\";\nimport { HelpChainBuilder } from '../help-interactions/model';\n\nvar MARKER_OK = 'connect-ok',\nMARKER_NOT_OK = 'connect-not-ok',\nhelper_title = `\n<p> \nClick on a fact's role to make a relation with that fact.\n</p>\n<p>\n<b style=\"color:green\">CLICK</b> to connect,\n<b style=\"color:red\">ESC</b> to cancel.\n</p>\n`,\nhelpChain = new HelpChainBuilder()\n  .create(helper_title, \"Unable to connect with hovered element.\")\n  .build();\n\n\n/**\n * @typedef {import('../help-interactions/helping')} HelpInteractions\n */\n\n/**\n * @param {*} eventBus \n * @param {*} dragging \n * @param {*} modeling \n * @param {*} rules \n * @param {*} canvas \n * @param {HelpInteractions} helping \n */\nexport default function OrmConnect(\n    eventBus, dragging, modeling, rules, canvas, helping) {\n\n    // rules\n  \n    function canConnect(source, target, role) {\n      return rules.allowed('connection.create', {\n        source: source,\n        target: target,\n        role: role\n      });\n    }\n\n    function removeMarkers(element) {\n      if (!element) {\n        return;\n      }\n      canvas.removeMarker(element, MARKER_OK);\n      canvas.removeMarker(element, MARKER_NOT_OK);\n    }\n\n    function updateMarkers(start, canExecute) {\n      if (!start) {\n        return;\n      }\n      removeMarkers(start);\n      if (canExecute) {\n        canvas.addMarker(start, MARKER_OK);\n      } else {\n        canvas.addMarker(start, MARKER_NOT_OK);\n      }\n    }\n\n    function hasMarkers(element){\n      if (!element) {\n        return false;\n      }\n      return canvas.hasMarker(element, MARKER_OK) ||\n        canvas.hasMarker(element, MARKER_NOT_OK);\n    }\n\n    function recuriseRemoveMarkers(element) {\n      if (!element) {\n        return;\n      }\n      while (hasMarkers(element)) {\n        removeMarkers(element);\n        element = element.parent;\n        if (!element) {\n          break;\n        }\n      }\n    }\n  \n    // event handlers\n    eventBus.on('connect.move', function(event) {\n      var context = event.context,\n          start = context.start,\n          hover = context.hover;\n      // check for fact, otherwise cancel\n      if (!hover || !isFact(hover)) {\n        context.canExecute = false;\n        updateMarkers(context.start, context.canExecute);\n        updateMarkers(context.hover, context.canExecute);\n        return;\n      }\n      // check if the targeted role is available after transforming.\n      let transform = transformToViewbox(\n        canvas.viewbox(), \n        { x : event.originalEvent.layerX, \n          y: event.originalEvent.layerY\n        }\n      );\n      context.targetRole = hover.findNearestRoleUsingPos(transform.x, transform.y);\n      var canExecute = context.canExecute = canConnect(\n        start, hover, context.targetRole\n      );\n      \n      // reset markers on mouse\n      updateMarkers(context.start, context.canExecute);\n      updateMarkers(context.hover, context.canExecute);\n      if (canExecute) {\n        context.source = start;\n        context.target = hover;\n        helping.fire('help.clear');\n      } else {\n        helping.fire('help.error');\n      }\n    });\n  \n    eventBus.on('connect.hover', function(event) {\n      var context = event.context,\n          start = context.start,\n          hover = event.hover,\n          canExecute;\n\n      // check for fact, otherwise cancel\n      if (!hover || !isFact(hover)) {\n        context.canExecute = false;\n        updateMarkers(start, context.canExecute);\n        updateMarkers(hover, context.canExecute);\n        return;\n      }\n  \n      // cache hover state\n      context.hover = hover;\n      var targetedRole = context.targetRole;\n      if (hover){\n        // check if the targeted role is available after transforming.\n        let transform = transformToViewbox(\n          canvas.viewbox(),\n          { x : event.originalEvent.layerX, \n            y: event.originalEvent.layerY\n          }\n        );\n        context.targetRole = targetedRole = \n          hover.findNearestRoleUsingPos(transform.x, transform.y);\n      }\n      canExecute = context.canExecute = \n        canConnect(start, hover, targetedRole);\n      updateMarkers(start, context.canExecute);\n      updateMarkers(hover, context.canExecute);\n      // ignore hover\n      if (isNil(canExecute)) {\n        return;\n      }\n  \n      if (canExecute !== false) {\n        context.source = start;\n        context.target = hover;\n      } \n      return;\n    });\n  \n    eventBus.on([ 'connect.out', 'connect.cleanup' ], function(event) {\n      var context = event.context;\n      recuriseRemoveMarkers(context.hover);\n      recuriseRemoveMarkers(context.start);\n      context.hover = null;\n      context.source = null;\n      context.target = null;\n      context.targetRole = null;\n      context.canExecute = false;\n      helping.fire('help.clear');\n    });\n\n    eventBus.on('connect.cleanup', function(event) {\n      helping.fire('help.end');\n      eventBus.fire('tab-mode.restore', {});\n    });\n\n    eventBus.on(['connect.cancel','connect.canceled'], function(event) {\n      var context = event.context;\n      recuriseRemoveMarkers(context.hover);\n      recuriseRemoveMarkers(context.start);\n    });\n  \n    eventBus.on('connect.end', function(event) {\n      var context = event.context,\n          canExecute = context.canExecute,\n          entity = context.source,\n          role = context.targetRole,\n          fact = context.target;\n      // clear markers\n      recuriseRemoveMarkers(entity);\n      recuriseRemoveMarkers(fact);\n      if (!canExecute) {\n        return;\n      }\n      if (canConnect(entity, fact, role)){\n        let con = modeling.connectToFact(fact, entity, role);\n        recuriseRemoveMarkers(con);\n      } \n      \n    });\n\n    \n  \n  \n    // API\n  \n    /**\n     * Start connect operation.\n     *\n     * @param {MouseEvent|TouchEvent} event\n     * @param {Element} start\n     * @param {*} [connectionStart]\n     * @param {boolean} [autoActivate=false]\n     */\n    this.start = function(event, start, connectionStart, autoActivate) {\n      eventBus.fire('tab-mode.store', {});\n      if (!isObject(connectionStart)) {\n        autoActivate = connectionStart;\n        connectionStart = getMid(start);\n      }\n\n      helping.fire('help.start', {\n        chain: helpChain,\n      });\n      \n      dragging.init(event, 'connect', {\n        autoActivate: autoActivate,\n        data: {\n          shape: start,\n          context: {\n            start: start,\n            connectionStart: connectionStart\n          }\n        }\n      });\n    };\n  }\n  \n  OrmConnect.$inject = [\n    'eventBus',\n    'dragging',\n    'modeling',\n    'rules',\n    'canvas',\n    'helpInteractions'\n  ];\n  \n  \n  // helpers //////////\n  \n  export function isReverse(context) {\n    var hover = context.hover,\n        source = context.source,\n        target = context.target;\n  \n    return hover && source && hover === source && source !== target;\n  }","\nimport {\n    getMid\n} from 'diagram-js/lib/layout/LayoutUtil';\n  \nimport {\n  isNil,\n  isObject\n} from 'min-dash';\n\nimport { isEntity } from '../model/util';\nimport { HelpChainBuilder } from '../help-interactions/model';\n\nconst MARKER_OK = 'connect-ok',\n      MARKER_NOT_OK = 'connect-not-ok';\n\nexport const EMIT_NAME = \"subtyping\";\n\nconst helper_title = `\n<p> \nClick on another entity to make a subtype relation.\n</p>\n<p>\n<b style=\"color:green\">CLICK</b> to create,\n<b style=\"color:red\">ESC</b> to cancel.\n</p>\n`;\nconst helpChain = new HelpChainBuilder()\n  .create(helper_title, \"Unable subtype with hovered element.\")\n  .build();\n\n/**\n * @param {*} eventBus \n * @param {*} dragging \n * @param {*} modeling \n * @param {*} rules \n * @param {*} canvas \n * @param {import('../help-interactions/helping')} helping\n */\nexport default function OrmSubtyping(\n    eventBus, dragging, modeling, rules, canvas, helping) {\n\n    // rules\n  \n    function canConnect(source, target) {\n      return rules.allowed('subtype.create', {\n        source: source,\n        target: target,\n      });\n    }\n\n    function removeMarkers(element) {\n      if (!element) {\n        return;\n      }\n      canvas.removeMarker(element, MARKER_OK);\n      canvas.removeMarker(element, MARKER_NOT_OK);\n    }\n\n    function updateMarkers(start, canExecute) {\n      if (!start) {\n        return;\n      }\n      recuriseRemoveMarkers(start);\n      if (canExecute) {\n        canvas.addMarker(start, MARKER_OK);\n      } else {\n        canvas.addMarker(start, MARKER_NOT_OK);\n      }\n    }\n\n    function hasMarkers(element){\n      if (!element) {\n        return false;\n      }\n      return canvas.hasMarker(element, MARKER_OK) ||\n        canvas.hasMarker(element, MARKER_NOT_OK);\n    }\n\n    function recuriseRemoveMarkers(element) {\n      if (!element) {\n        return;\n      }\n      while (hasMarkers(element)) {\n        removeMarkers(element);\n        element = element.parent;\n        if (!element) {\n          break;\n        }\n      }\n    }\n  \n    // event handlers\n    eventBus.on(`${EMIT_NAME}.move`, function(event) {\n      var context = event.context,\n          start = context.start,\n          hover = context.hover;\n      // check that hovered is a entity, otherwise cancel\n      if (isNil(hover) || !isEntity(hover)) {\n        context.canExecute = false;\n        updateMarkers(context.start, context.canExecute);\n        updateMarkers(context.hover, context.canExecute);\n        if (!isNil(hover)) {\n          helping.fire('help.error');\n        } else {\n          helping.fire('help.clear');\n        }\n        return;\n      }\n      // check if the targeted entity is subtypable.\n      var canExecute = context.canExecute = canConnect(\n        start, hover\n      );\n      \n      // reset markers on mouse\n      updateMarkers(context.start, context.canExecute);\n      updateMarkers(context.hover, context.canExecute);\n      if (canExecute) {\n        context.source = start;\n        context.target = hover;\n        helping.fire('help.clear');\n      } else {\n        helping.fire('help.error');\n      }\n    });\n  \n    eventBus.on(`${EMIT_NAME}.hover`, function(event) {\n      var context = event.context,\n          start = context.start,\n          hover = event.hover,\n          canExecute;\n\n      // check that hover is an entity, otherwise cancel\n      if ( isNil(hover) || !isEntity(hover)) {\n        context.canExecute = false;\n        updateMarkers(start, context.canExecute);\n        updateMarkers(hover, context.canExecute);\n        return;\n      }\n  \n      // cache hover state\n      context.hover = hover;\n      canExecute = context.canExecute = \n        canConnect(start, hover);\n      updateMarkers(start, context.canExecute);\n      updateMarkers(hover, context.canExecute);\n      // ignore hover\n      if (isNil(canExecute)) {\n        return;\n      }\n  \n      if (canExecute) {\n        context.source = start;\n        context.target = hover;\n      } else {\n      } \n      return;\n    });\n  \n    eventBus.on([ `${EMIT_NAME}.out`, `${EMIT_NAME}.cleanup` ], function(event) {\n      var context = event.context;\n      recuriseRemoveMarkers(context.hover);\n      recuriseRemoveMarkers(context.start);\n      context.hover = null;\n      context.source = null;\n      context.target = null;\n      context.canExecute = false;\n    });\n\n    eventBus.on(`${EMIT_NAME}.cleanup`, function(event) {\n      helping.fire('help.end');\n      eventBus.fire('tab-mode.restore', {});\n    });\n\n    eventBus.on([`${EMIT_NAME}.cancel`,`${EMIT_NAME}.canceled`], function(event) {\n      var context = event.context;\n      recuriseRemoveMarkers(context.hover);\n      recuriseRemoveMarkers(context.start);\n    });\n  \n    eventBus.on(`${EMIT_NAME}.end`, function(event) {\n      var context = event.context,\n          canExecute = context.canExecute,\n          src = context.source,\n          tgt = context.target;\n      // clear markers\n      recuriseRemoveMarkers(src);\n      recuriseRemoveMarkers(tgt);\n      if (!canExecute) {\n        return;\n      }\n      if (canConnect(src, tgt)){\n        let con = modeling.createSubtypeBetween(src, tgt);\n        recuriseRemoveMarkers(con);\n      } \n      \n    });\n\n    \n  \n  \n    // API\n  \n    /**\n     * Start connect operation.\n     *\n     * @param {MouseEvent|TouchEvent} event\n     * @param {Element} start\n     * @param {*} [connectionStart]\n     * @param {boolean} [autoActivate=false]\n     */\n    this.start = function(event, start, connectionStart, autoActivate) {\n      eventBus.fire('tab-mode.store', {});\n      if (!isObject(connectionStart)) {\n        autoActivate = connectionStart;\n        connectionStart = getMid(start);\n      }\n\n      helping.fire('help.start', {\n        chain: helpChain\n      });\n      \n      dragging.init(event, `${EMIT_NAME}`, {\n        autoActivate: autoActivate,\n        data: {\n          shape: start,\n          context: {\n            start: start,\n            connectionStart: connectionStart\n          }\n        }\n      });\n    };\n  }\n  \n  OrmSubtyping.$inject = [\n    'eventBus',\n    'dragging',\n    'modeling',\n    'rules',\n    'canvas',\n    'helpInteractions'\n  ];","var HIGH_PRIORITY = 1100,\n    LOW_PRIORITY = 900;\n\nvar MARKER_OK = 'connect-ok',\n    MARKER_NOT_OK = 'connect-not-ok';\n\nimport { EMIT_NAME as SUBTYPE_EMIT_NAME } from './subtyping';\nconst DEFAULT_CONNECTORS = [\n    'connect',\n    SUBTYPE_EMIT_NAME\n];\n\n/**\n * Shows connection preview during connect.\n *\n * @param {Injector} injector\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nexport default class OrmConnectPreview {\n    constructor(injector, eventBus, canvas, \n        ConnectorNames=DEFAULT_CONNECTORS) {\n        this._injector = injector;\n        this._eventBus = eventBus;\n        this._canvas = canvas;\n        \n        for (let connector of ConnectorNames){\n            this.addListenerFor(connector);\n        }\n    }\n\n    addListenerFor(connector) {\n        var that = this;\n        var connectionPreview = this._injector.get('connectionPreview', false);\n\n        connectionPreview && this._eventBus.on(`${connector}.move`, function(event) {\n            var context = event.context,\n                canConnect = context.canExecute,\n                hover = context.hover,\n                source = context.source,\n                start = context.start,\n                startPosition = context.startPosition,\n                target = context.target,\n                connectionStart = context.connectionStart || startPosition,\n                connectionEnd = context.connectionEnd || {\n                    x: event.x,\n                    y: event.y\n                },\n                previewStart = connectionStart,\n                previewEnd = connectionEnd;\n\n            connectionPreview.drawPreview(context, canConnect, {\n                source: source || start,\n                target: target || hover,\n                connectionStart: previewStart,\n                connectionEnd: previewEnd\n            });\n        });\n\n        this._eventBus.on(`${connector}.hover`, LOW_PRIORITY, function(event) {\n            var context = event.context,\n                hover = event.hover,\n                canExecute = context.canExecute;\n\n            // ignore hover\n            if (canExecute === null) {\n                return;\n            }\n\n            // that._canvas.addMarker(hover, canExecute ? MARKER_OK : MARKER_NOT_OK);\n        });\n\n        this._eventBus.on([\n            `${connector}.out`,\n            `${connector}.cleanup`\n        ], HIGH_PRIORITY, function(event) {\n            var hover = event.hover;\n\n            // if (hover) {\n            //     that._canvas.removeMarker(hover, MARKER_OK);\n            //     that._canvas.removeMarker(hover, MARKER_NOT_OK);\n            // }\n        });\n\n        connectionPreview && this._eventBus.on(`${connector}.cleanup`, function(event) {\n            connectionPreview.cleanUp(event.context);\n        });\n    }\n}\n\nOrmConnectPreview.$inject = [\n  'injector',\n  'eventBus',\n  'canvas'\n];","import OrmConnect from './connect.js';\nimport OrmSubtyping from \"./subtyping.js\";\nimport OrmPreview from \"./preview.js\";\nimport SelectionModule from 'diagram-js/lib/features/selection';\nimport RulesModule from 'diagram-js/lib/features/rules';\nimport DraggingModule from 'diagram-js/lib/features/dragging';\n\nexport default {\n    __depends__: [\n        SelectionModule,\n        RulesModule,\n        DraggingModule\n      ],\n    __init__ : [ 'ormConnect', 'ormSubtyping', 'connectPreview' ],\n    ormConnect: [ 'type', OrmConnect ],\n    ormSubtyping : [ 'type', OrmSubtyping ],\n    connectPreview: [ 'type', OrmPreview ]\n};","import inherits from 'inherits-browser';\n\nimport CommandInterceptor from '../../command/CommandInterceptor';\n\n/**\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\n/**\n * A basic provider that may be extended to implement modeling rules.\n *\n * Extensions should implement the init method to actually add their custom\n * modeling checks. Checks may be added via the #addRule(action, fn) method.\n *\n * @class\n *\n * @param {EventBus} eventBus\n */\nexport default function RuleProvider(eventBus) {\n  CommandInterceptor.call(this, eventBus);\n\n  this.init();\n}\n\nRuleProvider.$inject = [ 'eventBus' ];\n\ninherits(RuleProvider, CommandInterceptor);\n\n\n/**\n * Adds a modeling rule for the given action, implemented through\n * a callback function.\n *\n * The callback receives a modeling specific action context\n * to perform its check. It must return `false` to disallow the\n * action from happening or `true` to allow the action. Usually returing\n * `null` denotes that a particular interaction shall be ignored.\n * By returning nothing or `undefined` you pass evaluation to lower\n * priority rules.\n *\n * @example\n *\n * ```javascript\n * ResizableRules.prototype.init = function() {\n *\n *   \\/**\n *    * Return `true`, `false` or nothing to denote\n *    * _allowed_, _not allowed_ and _continue evaluating_.\n *    *\\/\n *   this.addRule('shape.resize', function(context) {\n *\n *     var shape = context.shape;\n *\n *     if (!context.newBounds) {\n *       // check general resizability\n *       if (!shape.resizable) {\n *         return false;\n *       }\n *\n *       // not returning anything (read: undefined)\n *       // will continue the evaluation of other rules\n *       // (with lower priority)\n *       return;\n *     } else {\n *       // element must have minimum size of 10*10 points\n *       return context.newBounds.width > 10 && context.newBounds.height > 10;\n *     }\n *   });\n * };\n * ```\n *\n * @param {string|string[]} actions the identifier for the modeling action to check\n * @param {number} [priority] the priority at which this rule is being applied\n * @param {(any) => any} fn the callback function that performs the actual check\n */\nRuleProvider.prototype.addRule = function(actions, priority, fn) {\n\n  var self = this;\n\n  if (typeof actions === 'string') {\n    actions = [ actions ];\n  }\n\n  actions.forEach(function(action) {\n\n    self.canExecute(action, priority, function(context, action, event) {\n      return fn(context);\n    }, true);\n  });\n};\n\n/**\n * Implement this method to add new rules during provider initialization.\n */\nRuleProvider.prototype.init = function() {};","import RuleProvider from 'diagram-js/lib/features/rules/RuleProvider';\nimport EventBus from 'diagram-js/lib/core/EventBus';\nimport Rules from 'diagram-js/lib/features/rules/Rules';\nimport { isEntity, isExactlyEntity, isFact, isObjectification } from '../model/util';\n\nconst DEFAULT_PRIORITY = 1000;\n\n/**\n * \n */\nexport default class OrmRules extends RuleProvider{\n    \n    /**\n     * \n     * @param {EventBus} eventBus \n     * @param {Rules} rules \n     */\n    constructor(eventBus, rules){\n        super(eventBus);\n        this._rules = rules;\n        this.addConnectionRules();\n        this.addEntityRules();\n        this.addFactRules();\n        this.addContraintRules();\n\n        this.addRule(\n            'shape.resize',\n            () => false\n        );\n    }\n\n    checkConnectionCreation(context) {\n        var source = context.source,\n        target = context.target,\n        role = context.role;\n        if ((isEntity(source) || isObjectification(source)) && isFact(target)){\n            if (!target.hasMissingRole()){\n                return false;\n            } else {\n                return !target.isFilled(role);\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Checks whether the subtype connection is valid\n     * @param {context.source} source the source of the connection\n     * @param {context.target} target the target of the connection \n     * @return {boolean} whether the subtyping is valid\n     */\n    checkSubtypeCreation(context) {\n        var src = context.source;\n        var tgt = context.target;\n        // check if the src is already a subtype of the tgt\n        if (src.isSubtypeOf(tgt)){\n            return false;\n        }\n        if (isExactlyEntity(src) && isExactlyEntity(tgt)){\n            return isEntity(src) && isEntity(tgt) && src.id !== tgt.id;\n        }\n        return false;\n    }\n        \n    /**\n     * Add the rules for valid and legal connections\n     */\n    addConnectionRules(){\n        // add a rule that checks that the source is an entity and\n        // the target is a fact\n        var that = this;\n        this.addRule(\n            'connection.create',\n            DEFAULT_PRIORITY,\n            that.checkConnectionCreation\n        );\n        this.addRule(\n            'subtype.create',\n            DEFAULT_PRIORITY,\n            that.checkSubtypeCreation\n        );\n    }\n\n    /**\n     * \n     */\n    addEntityRules(){\n\n    }\n\n    /**\n     * \n     */\n    addFactRules(){\n    \n    }\n    \n\n    checkSimpleConstraintCreation(context) {\n        var fact = context.fact,\n            constraint = context.constraint;\n\n        if (constraint.editing){\n            constraint.valid = constraint.over.length >= fact.roles - 1;\n        }\n\n        return constraint.over.length >= fact.roles - 1;\n    }\n\n    handleConstraintCreation(context, that) {\n        var mode = context.mode; \n\n        if (mode === 'simple') {\n            return that.checkSimpleConstraintCreation(context);\n        }\n        console.error('Unknown constraint creation mode: ', mode);\n        return false;\n    }\n\n    /**\n     * Adds the rules for constraints.\n     */\n    addContraintRules(){\n        var that = this;\n        this.addRule(\n            'constraint.create',\n            DEFAULT_PRIORITY,\n            (context) => {\n                return that.handleConstraintCreation(context,that);\n            }\n        );\n    }\n\n}\n\nOrmRules.$inject = ['eventBus', 'rules'];\n","import OrmRules from './rules.js';\n\nexport default {\n  __init__: [ 'ormRules' ],\n  ormRules: [ 'type', OrmRules ]\n};","import ElementRegistry from \"diagram-js/lib/core/ElementRegistry\";\nimport { isConnection } from \"diagram-js/lib/util/ModelUtil\";\nimport { ShapeLike } from \"diagram-js/lib/model\";\n\nexport default class Placer {\n\n    /**\n     * A service that handles finding a free placement for new\n     * elements.\n     * @param {ElementRegistry} elementRegistry \n     */\n    constructor(elementRegistry) {\n        this._elementRegistry = elementRegistry;\n        this.last_right = {};\n    }\n\n    /**\n     * Returns the next free position to the right of the source\n     * @param {ShapeLike} source \n     * @param {ShapeLike} target \n     */\n    place(source, target) {\n        let toRight = this._elementRegistry.filter(\n            (item) => \n                source.x < item.x \n                && item.id !== source.id \n                && item.id !== target.id\n                && !isConnection(item)\n        );\n        let pos = {x: target.x, y: target.y};\n        let min_dist = target.height * 1.25;\n        let close = toRight.filter((item) => {\n            let dist = this.getDistanceTo(pos, item);\n            return dist <= min_dist;\n        });\n        let upper = Object.assign({}, pos);\n        let lower = Object.assign({}, pos);\n        if (!this.last_right[source.id]){\n            this.last_right[source.id] = 0;\n        }\n        let side = this.last_right[source.id];\n        while(close.length > 0) {\n            if ((side % 2) === 0){\n                upper.y -= min_dist;\n                close = toRight.filter((item) => {\n                    let dist = this.getDistanceTo(upper, item);\n                    return dist <= min_dist;\n                });\n                if (close.length === 0) {\n                    pos = upper;\n                }\n            } else {\n                lower.y += min_dist;\n                close = toRight.filter((item) => {\n                    let dist = this.getDistanceTo(lower, item);\n                    return dist <= min_dist;\n                });\n                if (close.length === 0) {\n                    pos = lower;\n                }\n            }\n            side += 1;\n        }\n        this.last_right[source.id] = side;\n        return pos;\n    }\n\n    /**\n     * Computes the distance between elements.\n     * @param {ShapeLike} element \n     * @param {ShapeLike} target \n     * @returns {number} the distance between the two elements\n     */\n    getDistanceTo(element, target) {\n        const dx = target.x - element.x;\n        const dy = target.y - element.y;\n        return Math.sqrt(dx * dx + dy * dy);\n    }\n}\n\nPlacer.$inject = ['elementRegistry'];","import placementModule  from './placer.js';\n\nexport default {\n    __init__ : [ 'placementModule' ],\n    placementModule : [ 'type', placementModule]\n};","import EventBus from \"diagram-js/lib/core/EventBus\";\nimport Canvas from \"diagram-js/lib/core/Canvas\";\n\nimport OrmModeling from \"../modeling/modeler\";\nimport { isFact } from \"../model/util\";\nimport { transformToViewbox } from \"../utils/canvasUtils\";\n\n\nexport default class FactInteractions {\n\n    /**\n     * \n     * @param {EventBus} eventBus \n     * @param {OrmModeling} modeling \n     * @param {Canvas} canvas\n     */\n    constructor(events, modeling, canvas){\n        var that = this;\n        \n        events.on('element.mousemove', \n            (event) => {\n                if (isFact(event.element)) {\n                    let transform = transformToViewbox(\n                        canvas.viewbox(),\n                        {\n                            x: event.originalEvent.layerX,\n                            y: event.originalEvent.layerY\n                        }\n                    );\n                    // handle higlight hover for fact availablity\n                    let fact = event.element;\n                    fact.hovered = true;\n                    fact.hoveredRole = \n                        fact.findNearestRoleUsingPos(\n                            transform.x, transform.y\n                        );\n                    setTimeout(() => {\n                        modeling.sendUpdate(fact);\n                    }, 25);\n                }\n                return event;\n            }\n        );\n\n        events.on('element.out', \n            (event) => {\n                if (isFact(event.element)) {\n                    let fact = event.element;\n                    fact.hovered = false;\n                    setTimeout(() => {\n                        modeling.sendUpdate(fact);\n                    }, 25);\n                }\n                return event;\n            }\n        );\n    }\n}\n\nFactInteractions.$inject = ['eventBus', 'modeling', 'canvas'];","import factInteractions from './facts';\n\nexport default {\n    __init__: ['factInteractions'],\n    factInteractions: ['type', factInteractions]\n};","import { ShapeLike } from \"diagram-js/lib/model/Types\";\n\nexport interface Point {\n    x: number;\n    y: number;\n}\n\nexport interface Rect {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n}\n\nexport interface Line {\n    start: Point;\n    end: Point;\n}\n\n/**\n * @property {Point} vertex - The point of intersection on the rectangle perimeter.\n * @property {number} longside - The length of the longer side of the rectangle that the line intersects.\n * @property {number} angle - The angle in radians at which the line intersects the rectangle.\n */\nexport interface IntersectionAngle {\n    vertex: Point;\n    longside: number;\n    quadrant: number;\n    angle: number;\n}\n\n/**\n * checks if a point is inside a rectangle.\n * @param {Point} point the point to check\n * @param {Rect} rect the rectangle to check against\n * @returns {boolean} Returns true if the point is inside the rectangle, otherwise false.\n */\nexport function checkPointInRect(point: Point, rect: Rect): boolean {\n    return (\n        point.x >= rect.x &&\n        point.x <= rect.x + rect.width &&\n        point.y >= rect.y &&\n        point.y <= rect.y + rect.height\n    );\n}\n\n/**\n * Helper function to convert a shape-like object to a rectangle.\n * @param shape The shape to convert to a rectangle.\n * @returns {Rect} A rectangle representation of the shape.\n */\nexport function makeRect(shape: ShapeLike): Rect {\n    return {\n        x: shape.x,\n        y: shape.y,\n        width: shape.width,\n        height: shape.height\n    };\n}\n\n/**\n * Works out the intersection point and angle of a line with a rectangle.\n * @param {Point} point A point outside the rectangle.\n * @param {Rect} rect The rectangle to check against\n * @returns {IntersectionAngle | null} The intersection point and angle if the line intersects the rectangle, otherwise null.\n */\nexport function getAngleIntersection(point: Point, rect: Rect): IntersectionAngle | null {\n    let ret = null;\n    if (!checkPointInRect(point, rect)) {\n        // If the end point is inside the rectangle, we can calculate the angle\n        var w = rect.width / 2;\n        var h = rect.height / 2;\n        var B = {\n            x: rect.x + w,\n            y: rect.y + h\n        };\n\n        // calculate the distance from the point to the center of the rectangle\n        var dx = point.x - B.x;\n        var dy = point.y - B.y;\n\n        // calculat the intersection angle\n        var tan_phi = h / w;\n        var tan_theta = Math.abs(dy / dx);\n\n        //tell me in which quadrant the A point is\n        var qx = Math.sign(dx);\n        var qy = Math.sign(dy);\n        var quad;\n        if (qx >= 0 && qy <= 0) {\n            quad = 0; // Quadrant I\n        } else if (qx < 0 && qy <= 0) {\n            quad = 1; // Quadrant II\n        }\n        else if (qx >= 0 && qy > 0) {\n            quad = 2; // Quadrant III\n        } else {\n            quad = 3; // Quadrant IV\n        }\n\n        // calculate the intersection point\n        let vertex = { x: 0, y: 0 };\n        if (tan_theta > tan_phi) {\n            vertex.x = B.x + (h / tan_theta) * qx;\n            vertex.y = B.y + h * qy;\n        } else {\n            vertex.x = B.x + w * qx;\n            vertex.y = B.y + w * tan_theta * qy;\n        }\n\n        // calculate the length of the longer side of the rectangle\n        let longside = 0;\n        if (tan_theta > 90){\n            longside = h;\n        } else if (tan_theta <0.01) {\n            longside = w;\n        } else {\n             let s1 = Math.pow(Math.abs(B.x - vertex.x), 2);\n            let s2 = Math.pow(Math.abs(B.y - vertex.y), 2);\n            longside = Math.sqrt(s1 + s2);\n        }\n       \n       \n\n        ret = {\n            vertex: vertex,\n            longside: longside,\n            angle: tan_theta,\n            quadrant: quad\n        };\n    } else {\n        console.warn(\"getAngleIntersection: Point is inside the rectangle, cannot calculate intersection angle.\");\n        ret = {\n            vertex: point,\n            longside: 0,\n            angle: 0,\n            quadrant: 0\n        };\n    }\n    return ret;\n}\n","import BaseLayouter from \"diagram-js/lib/layout/BaseLayouter\";\nimport { getMid } from \"diagram-js/lib/layout/LayoutUtil\";\n\nimport { isEntity, isFact } from \"../model/util\";\nimport { unitHeight, unitWidth } from \"../model/facts\";\nimport { makeRect, getAngleIntersection } from '../utils/geometry';\n\nexport default class OrmLayouter extends BaseLayouter {\n\n    tolerance = 0.01;\n    offsetTolerance = Math.max(unitHeight, unitWidth) * 1.2;\n\n    constructor(){\n        super();\n    }\n\n    nearby(pos, other){\n        return Math.abs(pos.x - other.x) < this.offsetTolerance &&\n            Math.abs(pos.y - other.y) < this.offsetTolerance;\n    }\n\n    /**\n     * Whether two positions are nearly the same.\n     * @param {*} pos one position\n     * @param {*} other other position\n     * @returns {boolean} whether they are nearly exaclty the same position\n     */\n    nearlyEqual(pos, other){\n        return Math.abs(pos.x - other.x) < this.tolerance &&\n            Math.abs(pos.y - other.y) < this.tolerance;\n    }\n\n    /**\n     * prefix or update the last position in the bends array.\n     * @param {Array} bends the current wayspoints\n     * @param {*} pos a new position\n     * @returns {Array, boolean} the new bends and if we added an item\n     */\n    suffixOrUpdate(bends, pos){\n        if (bends.length === 0){\n            return { mids: [pos], added: false};\n        }\n        if (bends.length === 1){\n            let last = bends[0];\n            if (this.nearlyEqual(last, pos)){\n                return { mids:bends, added:false};\n            } else {\n                if (this.nearby(last, pos)){\n                    return {mids: [pos], added:false};\n                }\n                return {mids:[last, pos], added:true};\n            }\n        }\n        let last = bends[bends.length - 1];\n        if (this.nearlyEqual(last, pos)){\n            return {mids:bends, added:false};\n        } else {\n            if (this.nearby(last, pos)){\n                return {mids:[...bends.slice(0,-1), pos], added:true};\n            }\n            return {mids:[...bends.slice(), pos], added:true};\n        }\n    }\n\n    layoutConnection(connection, hints) {\n        switch (connection.type) {\n            case 'role-connection':\n                return this.handleEntityToFact(connection, hints);\n            default:\n                return this.defaultWithBends(connection, hints);\n        }\n    }\n\n    defaultWithBends(connection, hints) {\n        // has the connection been settled?\n        if (connection.target === undefined || connection.source === undefined) {\n            return super.layoutConnection(connection, hints);\n        }\n\n        let bends = connection.waypoints || [];\n        bends = bends.slice(1, -1);\n\n        let srcRect = makeRect(connection.source);\n        let srcPos = connection.waypoints[1];\n        let srcIntersection = getAngleIntersection(\n            srcPos, srcRect\n        );\n        let tgtRect = makeRect(connection.target);\n        let tgtPos = connection.waypoints[connection.waypoints.length - 2];\n        let tgtIntersection = getAngleIntersection(\n            tgtPos, tgtRect\n        );\n\n\n        return [\n            getMid(srcIntersection.vertex),\n            ...bends,\n            getMid(tgtIntersection.vertex)\n        ];\n    }\n\n    /**\n     * \n     * @param {Connection} connection \n     * @param {*} hints \n     */\n    handleEntityToFact(connection, hints){\n        hints = hints || {};\n\n        let fact = connection.target;\n        let entity = connection.source;\n        let role = connection.role;\n        let lastEdit = connection.lastEdit || undefined;\n\n        // has the connection been settled?\n        if (!fact || !entity || role === undefined){\n            return super.layoutConnection(connection, hints);\n        }\n\n        // check if the connection is a fact-entity connection\n        // [rules should stop this from happening]\n        // if (!isFact(fact) || !isEntity(entity)){\n        //     console.error(\"error: unable to consider connection :: \", connection);\n        //     return super.layoutConnection(connection, hints);\n        // }\n        \n        // handling to get intersecting on perimeters\n        let srcRect = makeRect(connection.source);\n        let srcPos = connection.waypoints[1];\n        srcPos = getMid(connection.source);\n        // I need to wait for pivot point before working out target\n        let tgtRect = Object.assign(\n            fact.getCenterForRole(role),\n            { width: unitWidth, height: unitHeight }\n        );\n        tgtRect.x -= unitWidth / 2;\n        tgtRect.y -= unitHeight / 2;\n        // this needs to the center of the target role of the fact\n        let tgtPos = fact.getCenterForRole(role);\n        \n        \n        \n\n        // work for waypoints\n        let waypoints = [];\n        let bends;\n        if (connection.waypoints){\n            bends = connection.waypoints.slice(1, -1);\n        } else {\n            bends = [];\n        }\n\n        let factConnectionPoint = undefined;\n        let mids, added;\n        if (fact.roles === 1){\n            // if the fact has only one role then put the pivot\n            // in the middle\n            let tgtIntersection = getAngleIntersection(\n                srcPos, tgtRect\n            );\n            tgtPos = tgtIntersection.vertex;\n            let srcIntersection = getAngleIntersection(\n                tgtPos, srcRect\n            );\n            srcPos = srcIntersection.vertex;\n            waypoints = [\n                    Object.assign({}, srcPos),\n                    ...bends,\n                    Object.assign({}, tgtPos)\n            ];\n        } else {\n            if (role === 0){\n            // if its the first role then put the pivot to the left\n                if (fact.isVertical()){\n                    factConnectionPoint = { x: tgtPos.x, y: tgtPos.y - unitHeight};\n                } else {\n                    factConnectionPoint = { x: tgtPos.x - unitWidth, y: tgtPos.y};\n                }\n            } else if (role === fact.roles - 1){\n                // if its the last role then put the pivot to the right\n                if (fact.isVertical()){\n                    factConnectionPoint = { x: tgtPos.x, y: tgtPos.y + unitHeight};\n                } else {\n                    factConnectionPoint = { x: tgtPos.x + unitWidth, y: tgtPos.y};\n                }\n            } else {\n                // if its a middle role then put the pivot above or below\n                if (fact.isVertical()){\n                    if (tgtPos.x > srcPos.x){\n                        factConnectionPoint = { x: tgtPos.x - unitWidth, y: tgtPos.y };\n                    } else {\n                        factConnectionPoint = { x: tgtPos.x + unitWidth, y: tgtPos.y };\n                    }\n                } else {\n                    if (tgtPos.y > srcPos.y){\n                        factConnectionPoint =  { x: tgtPos.x, y: tgtPos.y - unitHeight };\n                    } else {\n                        factConnectionPoint = { x: tgtPos.x, y: tgtPos.y + unitHeight };\n                    }\n                }\n            }\n            // update waypoints\n            let ret = this.suffixOrUpdate(bends, \n                factConnectionPoint\n            );\n            mids = ret.mids;\n            added = ret.added;\n            // now we have the fact connection point we can work out the target\n            let tgtIntersection = getAngleIntersection(\n                Object.assign({},mids[mids.length - 1]), tgtRect\n            );\n            tgtPos = tgtIntersection.vertex;\n            // but need to redo the srcpos as well if \n            let srcIntersection = getAngleIntersection(\n                Object.assign({},mids[0]), srcRect\n            );\n            srcPos = srcIntersection.vertex;\n            waypoints = \n            [\n                Object.assign({}, srcPos),\n                ...mids,\n                Object.assign({}, tgtPos)\n            ];\n        }\n        // handle removing last pivot point for fact\n        if (lastEdit !== undefined){\n            // check that we have a new pivot point and it has added\n            if (factConnectionPoint !== undefined && added){\n                var remove = -1;\n                var found = false;\n                for (let wp of waypoints){\n                    remove++;\n                    if (this.nearlyEqual(wp, lastEdit)){\n                        found = true;\n                        break;\n                    }\n                }\n                // if we found the previous pivot then remove it.\n                if (found){\n                    waypoints = waypoints.slice(0, remove)\n                        .concat(\n                            waypoints.slice(remove + 1)\n                        );\n                }\n            }\n            \n        }\n        // remember the last pivot point\n        if (factConnectionPoint){\n            connection.lastEdit = factConnectionPoint;\n        }\n        return waypoints;\n    }\n\n\n}\n\nOrmLayouter.$inject = [\n];","import layouter from './layouter';\n\nexport default {\n    __init__ : ['layouter'],\n    layouter: ['type', layouter],\n};","import {\n    assign\n} from 'min-dash';\n\nimport  {\n  isLabel, isConnection\n} from \"diagram-js/lib/util/ModelUtil\";\nimport EventBus from 'diagram-js/lib/core/EventBus';\nimport Canvas from 'diagram-js/lib/core/Canvas';\n\n\nimport { \n  isEntity, isFact, isExactlyEntity, \n  isExactlyValue, isUnitReference} from '../model/util';\nimport {\n  isValueConstraint\n} from '../constraints/model/utils';\nimport { transformToViewbox } from \"../utils/canvasUtils\";\n\n\n\n\n// helpers //////////\n\nfunction getLabel(element ,context){\n  if (context.touchingMode === 'name'){\n    return element.name;\n  } else if (context.touchingMode === 'ref'){\n    return element.ref;\n  } else if (context.touchingMode === 'label'){\n    if (element.labels){\n      if (element.labels.length){\n          return element.labels[0].content;\n      }\n    }\n  } else if (context.touchingMode === 'meta'){\n    return element.meta;\n  } else if (context.touchingMode === 'derived'){\n    let derived = element.labels.filter(label => label.derived);\n    if (derived.length > 0){\n      return derived[0].content;\n    } else {\n      return \"\";\n    }\n  } else if (context.touchingMode === 'objectified'){\n    if (element.objectifiedName){\n      return element.objectifiedName;\n    } else {\n      return \"\";\n    }\n  } else if (context.touchingMode === 'description'){\n    if (element.description){\n      return element.description;\n    } else {\n      return \"\";\n    }\n  }\n  return \"\";\n}\n  \nvar HIGH_PRIORITY = 2500;\n\n/**\n * \n * @param {EventBus} eventBus \n * @param {../elements/factory} factory \n * @param {Canvas} canvas \n * @param {directEditing} directEditing \n * @param {../modeling/modeler} modeling \n * @param {*} textRenderer \n */\nexport default function LabelEditingProvider(\n      eventBus, factory, canvas, directEditing,\n      modeling, textRenderer, selection) {\n  \n    this._factory = factory;\n    this._canvas = canvas;\n    this._modeling = modeling;\n    this._textRenderer = textRenderer;\n    this._directEditing = directEditing;  \n    this._bus = eventBus;\n    this._selection = selection;\n  \n\n    this._context = {\n      touchingType: null,\n      touchingMode: null,\n    };\n\n    directEditing.registerProvider(this);\n    var that = this;\n  \n    // listen to dblclick on non-root elements\n    eventBus.on(\n      ['element.dblclick', 'label.edit.trigger'], HIGH_PRIORITY, function(event) {\n      if (isFact(event.element) || \n          isEntity(event.element) || \n          isLabel(event.element) ||\n          isValueConstraint(event.element)){\n        activateDirectEdit(event.element, true);\n      }\n    });\n  \n    eventBus.on([\n      'shape.remove',\n      'connection.remove',\n      'canvas.focus.changed',\n      'document.loaded'\n    ], HIGH_PRIORITY, function(event) {\n      if (directEditing.isActive(event.element)) {\n        directEditing.cancel();\n        that._context.touchingType = null;\n        that._context.touchingMode = null;\n      }\n    });\n  \n    eventBus.on('shape.created', HIGH_PRIORITY, function(event) {\n  \n      var element = event.shape;\n      setTimeout( () => activateDirectEdit(element), 25);\n    });\n  \n    eventBus.on('autoPlace.end', HIGH_PRIORITY, function(event) {\n      setTimeout( () => activateDirectEdit(event.shape), 25);\n    });\n  \n  \n    function activateDirectEdit(element, force) {\n      if (isFact(element)){\n        that._context.touchingType = 'fact';\n        that._context.touchingMode = 'label';\n      } else if (isExactlyEntity(element)){\n        that._context.touchingType = 'entity';\n        that._context.touchingMode = 'name';\n      } else if (isExactlyValue(element)){\n        that._context.touchingType = 'value';\n        that._context.touchingMode = 'name';\n      } else if (isValueConstraint(element)) {\n        that._context.touchingType = 'constraint';\n        that._context.touchingMode = 'description';\n      } else {\n        that._context.touchingType = null;\n        that._context.touchingMode = null;\n        return;\n      }\n      directEditing.activate(element);\n    }\n  \n  }\n  \n  LabelEditingProvider.$inject = [\n    'eventBus',\n    'elementFactory',\n    'canvas',\n    'directEditing',\n    'modeling',\n    // 'resizeHandles',\n    'textRenderer',\n    'selection'\n  ];\n  \n  \n  /**\n   * Activate direct editing for activities and text annotations.\n   *\n   * @param {Element} element\n   *\n   * @return { {\n   *   text: string;\n   *   options?: {\n   *     autoResize?: boolean;\n   *     centerVertically?: boolean;\n   *     resizable?: boolean;\n   *   }\n   * } & DirectEditingContext }\n   */\n  LabelEditingProvider.prototype.activate = function(element) {\n  \n    // text\n    var text = getLabel(element, this._context);\n  \n    if (text === undefined) {\n      return;\n    }\n  \n    var context = {\n      text: text\n    };\n  \n    // bounds\n    var bounds = this.getEditingBBox(element);\n  \n    assign(context, bounds);\n  \n    var options = {};\n    var style = context.style || {};\n  \n    // Remove background and border\n    assign(style, {\n      backgroundColor: \"rgba(0,0,0,0.5)\",\n      padding: '3px',\n      'border-radius': '5px',\n      color: 'red',\n      width: element.width,\n      textWrap: 'pretty',\n      border: null\n    });\n  \n    assign(context, {\n      options: options,\n      style: style\n    });\n    return context;\n  };\n  \n  \n  /**\n   * Get the editing bounding box based on the element's size and position.\n   *\n   * @param {Element} element\n   *\n   * @return {DirectEditingContext}\n   */\n  LabelEditingProvider.prototype.getEditingBBox = function(element) {\n    var canvas = this._canvas;\n  \n    var target = element;\n  \n    var bbox = canvas.getAbsoluteBBox(target);\n    const vbox = canvas.viewbox();\n    const transform = transformToViewbox(\n        canvas.viewbox(),\n        {\n            x: target.x, y: target.y,\n        }\n    );\n    \n    var bounds = {\n      x: target.x * vbox.scale - vbox.x * vbox.scale,\n      y: target.y * vbox.scale - vbox.y * vbox.scale,\n      width: target.width * vbox.scale,\n      height: target.height * vbox.scale\n    };\n\n    var defaultStyle = this._textRenderer.getDefaultStyle();\n  \n    // take zoom into account\n    var defaultFontSize = Math.floor(Math.max(\n        24, defaultStyle.fontSize / (vbox.scale/2))) + 'px',\n        defaultLineHeight = defaultStyle.lineHeight;\n  \n    var style = Object.assign({},defaultStyle);\n    style['fontSize'] = defaultFontSize;\n    return { bounds: bounds, style: style };\n  };\n  \n  \n  LabelEditingProvider.prototype.update = function(\n      element, newLabel,\n      activeContextText, bounds) {\n    \n    // handle the current label and updating the element\n    if (this._context.touchingType === 'entity'){\n      this.handleFinishingEntity(element, this._context, newLabel);\n    } else if (this._context.touchingType === 'fact'){\n      this.handleFinishingFact(element, this._context, newLabel);\n    } else if (this._context.touchingMode === 'name'){\n      element.name = newLabel;\n    } else if (this._context.touchingType === 'constraint'){\n      element.setDescription(newLabel);\n    }\n\n    // trigger changes\n    setTimeout(() => {\n      this._modeling.sendUpdates(element);\n      if (element.labels){\n        this._modeling.sendUpdates(...element.labels);\n      }\n      this._selection.select(element);\n    }, 25);\n   \n  };\n\n  LabelEditingProvider.prototype.handleFinishingEntity = function(entity, context, label){\n    if (context.touchingMode === 'name'){\n      entity.name = label;\n      if (context.touchingType === 'entity'){\n        this._context.touchingMode = 'ref';\n        setTimeout(() => this._directEditing.activate(entity), 5 );\n      }\n    } else if (this._context.touchingMode === 'ref'){\n      entity.ref = label;\n      if (isUnitReference(entity)){\n        this._context.touchingMode = 'meta';\n        setTimeout(() => this._directEditing.activate(entity), 5 );\n      }\n    } else if (this._context.touchingMode === 'meta'){\n      entity.meta = label;\n    }\n  };\n\n  LabelEditingProvider.prototype.handleFinishingFact = function(fact, context, label){\n    if (context.touchingMode === 'label'){\n      if (fact.labels && fact.labels.length > 0){\n        let factLabel = fact.labels.filter(label => label.factLabel);\n        if (factLabel.length > 0){\n          factLabel[0].content = label;\n        } else {\n          this._modeling.createLabelForFact(\n            fact,\n            label\n          );\n        }\n      } else {\n        this._modeling.createLabelForFact(\n          fact,\n          label\n        );\n      }\n      if (fact.derived){\n        this._context.touchingMode = 'derived';\n        setTimeout(() => this._directEditing.activate(fact), 5 );\n      } else if (fact.objectified){\n        this._context.touchingMode = 'objectified';\n        setTimeout(() => this._directEditing.activate(fact), 5 );\n      }\n    } else if (context.touchingMode === 'derived'){\n      let derived = fact.labels.filter(label => label.derived);\n      if (derived.length > 0){\n        let derivedLabel = derived[0];\n        derivedLabel.content = label;\n      } else {\n        this._modeling.makeDerivedLabel(\n          fact,\n          label\n        );\n      }\n      if (fact.objectified){\n        this._context.touchingMode = 'objectified';\n        setTimeout(() => this._directEditing.activate(fact), 5 );\n      } \n    } else if (context.touchingMode === 'objectified'){\n      fact.objectifiedName = label;\n    }\n  };","import DirectEditing from 'diagram-js-direct-editing/lib/DirectEditing';\n\nexport default class OrmLabelEditor extends DirectEditing {\n    constructor(eventBus, canvas, textRenderer, directEditing) {\n        super(eventBus, canvas, textRenderer, directEditing);\n        this._context = {\n        touchingType: null,\n        touchingMode: null,\n        };\n    }\n    \n    complete(){\n        var active = this._active;\n\n        if (!active) {\n            return;\n        }\n\n        var containerBounds,\n            previousBounds = active.context.bounds,\n            newBounds = this.$textbox.getBoundingClientRect(),\n            newText = this.getValue(),\n            previousText = active.context.text;\n\n\n            containerBounds = this._textbox.container.getBoundingClientRect();\n\n            active.provider.update(active.element, newText, active.context.text, {\n            x: newBounds.left - containerBounds.left,\n            y: newBounds.top - containerBounds.top,\n            width: newBounds.width,\n            height: newBounds.height\n            });\n\n        this._fire('complete');\n\n        this.close();\n    }\n}","import ChangeSupportModule from 'diagram-js/lib/features/change-support';\nimport DirectEditingModule from 'diagram-js-direct-editing';\n\nimport editingProvider from './editing';\nimport ormEditingService from './ormEditor.js';\n\nexport default {\n    __depends__: [\n        ChangeSupportModule,\n        DirectEditingModule\n    ],\n    __init__: [ 'directEditing', 'labelEditingProvider' ],\n    directEditing: [ 'type', ormEditingService ],\n    labelEditingProvider: [ 'type', editingProvider ],\n};","import { forEach } from 'min-dash';\n\nimport {\n  event as domEvent,\n  query as domQuery,\n  queryAll as domQueryAll\n} from 'min-dom';\n\nimport {\n  BENDPOINT_CLS,\n  SEGMENT_DRAGGER_CLS,\n  addBendpoint,\n  addSegmentDragger,\n  calculateSegmentMoveRegion,\n  getConnectionIntersection\n} from 'diagram-js/lib/features/bendpoints/BendpointUtil';\n\nimport {\n  escapeCSS\n} from 'diagram-js/lib/util/EscapeUtil';\n\nimport {\n  pointsAligned,\n  getMidPoint\n} from 'diagram-js/lib/util/Geometry';\n\nimport {\n  isPrimaryButton\n} from 'diagram-js/lib/util/Mouse';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport {\n  translate\n} from 'diagram-js/lib/util/SvgTransformUtil';\n\nimport {\n    isConnection\n} from 'diagram-js/lib/util/ModelUtil';\n\n/**\n * @typedef {import('../bendpoints/BendpointMove').default} BendpointMove\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../bendpoints/ConnectionSegmentMove').default} ConnectionSegmentMove\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../interaction-events/InteractionEvents').default} InteractionEvents\n */\n\n/**\n * A service that adds editable bendpoints to connections.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {InteractionEvents} interactionEvents\n * @param {BendpointMove} bendpointMove\n * @param {ConnectionSegmentMove} connectionSegmentMove\n */\nexport default function Bendpoints(\n    eventBus, canvas, interactionEvents,\n    bendpointMove, connectionSegmentMove) {\n\n  /**\n   * Returns true if intersection point is inside middle region of segment, adjusted by\n   * optional threshold\n   */\n  function isIntersectionMiddle(intersection, waypoints, treshold) {\n    var idx = intersection.index,\n        p = intersection.point,\n        p0, p1, mid, aligned, xDelta, yDelta;\n\n    if (idx <= 0 || intersection.bendpoint) {\n      return false;\n    }\n\n    p0 = waypoints[idx - 1];\n    p1 = waypoints[idx];\n    mid = getMidPoint(p0, p1),\n    aligned = pointsAligned(p0, p1);\n    xDelta = Math.abs(p.x - mid.x);\n    yDelta = Math.abs(p.y - mid.y);\n\n    return aligned && xDelta <= treshold && yDelta <= treshold;\n  }\n\n  /**\n   * Calculates the threshold from a connection's middle which fits the two-third-region\n   */\n  function calculateIntersectionThreshold(connection, intersection) {\n    var waypoints = connection.waypoints,\n        relevantSegment, alignment, segmentLength, threshold;\n\n    if (intersection.index <= 0 || intersection.bendpoint) {\n      return null;\n    }\n\n    // segment relative to connection intersection\n    relevantSegment = {\n      start: waypoints[intersection.index - 1],\n      end: waypoints[intersection.index]\n    };\n\n    alignment = pointsAligned(relevantSegment.start, relevantSegment.end);\n\n    if (!alignment) {\n      return null;\n    }\n\n    if (alignment === 'h') {\n      segmentLength = relevantSegment.end.x - relevantSegment.start.x;\n    } else {\n      segmentLength = relevantSegment.end.y - relevantSegment.start.y;\n    }\n\n    // calculate threshold relative to 2/3 of segment length\n    threshold = calculateSegmentMoveRegion(segmentLength) / 2;\n\n    return threshold;\n  }\n\n  function activateBendpointMove(event, connection) {\n    var waypoints = connection.waypoints,\n        intersection = getConnectionIntersection(canvas, waypoints, event),\n        threshold;\n\n    if (!intersection) {\n      return;\n    }\n\n    threshold = calculateIntersectionThreshold(connection, intersection);\n\n    if (isIntersectionMiddle(intersection, waypoints, threshold)) {\n      connectionSegmentMove.start(event, connection, intersection.index);\n    } else {\n      bendpointMove.start(event, connection, intersection.index, !intersection.bendpoint);\n    }\n\n    // we've handled the event\n    return true;\n  }\n\n  function bindInteractionEvents(node, eventName, element) {\n\n    if (!isConnection(element)) {\n        return;\n    }\n\n    domEvent.bind(node, eventName, function(event) {\n      interactionEvents.triggerMouseEvent(eventName, event, element);\n      event.stopPropagation();\n    });\n  }\n\n  function getBendpointsContainer(element, create) {\n\n    var layer = canvas.getLayer('overlays'),\n        gfx = domQuery('.djs-bendpoints[data-element-id=\"' + escapeCSS(element.id) + '\"]', layer);\n\n    if (!gfx && create) {\n      gfx = svgCreate('g');\n      svgAttr(gfx, { 'data-element-id': element.id });\n      svgClasses(gfx).add('djs-bendpoints');\n\n      svgAppend(layer, gfx);\n\n      bindInteractionEvents(gfx, 'mousedown', element);\n      bindInteractionEvents(gfx, 'click', element);\n      bindInteractionEvents(gfx, 'dblclick', element);\n    }\n\n    return gfx;\n  }\n\n  function getSegmentDragger(idx, parentGfx) {\n    return domQuery(\n      '.djs-segment-dragger[data-segment-idx=\"' + idx + '\"]',\n      parentGfx\n    );\n  }\n\n  function createBendpoints(gfx, connection) {\n    connection.waypoints.forEach(function(p, idx) {\n      var bendpoint = addBendpoint(gfx);\n\n      svgAppend(gfx, bendpoint);\n\n      translate(bendpoint, p.x, p.y);\n    });\n\n    // add floating bendpoint\n    addBendpoint(gfx, 'floating');\n  }\n\n  function createSegmentDraggers(gfx, connection) {\n\n    var waypoints = connection.waypoints;\n\n    var segmentStart,\n        segmentEnd,\n        segmentDraggerGfx;\n\n    for (var i = 1; i < waypoints.length; i++) {\n\n      segmentStart = waypoints[i - 1];\n      segmentEnd = waypoints[i];\n\n      if (pointsAligned(segmentStart, segmentEnd)) {\n        segmentDraggerGfx = addSegmentDragger(gfx, segmentStart, segmentEnd);\n\n        svgAttr(segmentDraggerGfx, { 'data-segment-idx': i });\n\n        bindInteractionEvents(segmentDraggerGfx, 'mousemove', connection);\n      }\n    }\n  }\n\n  function clearBendpoints(gfx) {\n    forEach(domQueryAll('.' + BENDPOINT_CLS, gfx), function(node) {\n      svgRemove(node);\n    });\n  }\n\n  function clearSegmentDraggers(gfx) {\n    forEach(domQueryAll('.' + SEGMENT_DRAGGER_CLS, gfx), function(node) {\n      svgRemove(node);\n    });\n  }\n\n  function addHandles(connection) {\n\n    if(!isConnection(connection)) {\n      return;\n    }\n\n    var gfx = getBendpointsContainer(connection);\n\n    if (!gfx) {\n      gfx = getBendpointsContainer(connection, true);\n\n      createBendpoints(gfx, connection);\n      createSegmentDraggers(gfx, connection);\n    }\n\n    return gfx;\n  }\n\n  function updateHandles(connection) {\n\n    var gfx = getBendpointsContainer(connection);\n\n    if (gfx) {\n      clearSegmentDraggers(gfx);\n      clearBendpoints(gfx);\n      createSegmentDraggers(gfx, connection);\n      createBendpoints(gfx, connection);\n    }\n  }\n\n  function updateFloatingBendpointPosition(parentGfx, intersection) {\n    var floating = domQuery('.floating', parentGfx),\n        point = intersection.point;\n\n    if (!floating) {\n      return;\n    }\n\n    translate(floating, point.x, point.y);\n\n  }\n\n  function updateSegmentDraggerPosition(parentGfx, intersection, waypoints) {\n\n    var draggerGfx = getSegmentDragger(intersection.index, parentGfx),\n        segmentStart = waypoints[intersection.index - 1],\n        segmentEnd = waypoints[intersection.index],\n        point = intersection.point,\n        mid = getMidPoint(segmentStart, segmentEnd),\n        alignment = pointsAligned(segmentStart, segmentEnd),\n        draggerVisual, relativePosition;\n\n    if (!draggerGfx) {\n      return;\n    }\n\n    draggerVisual = getDraggerVisual(draggerGfx);\n\n    relativePosition = {\n      x: point.x - mid.x,\n      y: point.y - mid.y\n    };\n\n    if (alignment === 'v') {\n\n      // rotate position\n      relativePosition = {\n        x: relativePosition.y,\n        y: relativePosition.x\n      };\n    }\n\n    translate(draggerVisual, relativePosition.x, relativePosition.y);\n  }\n\n  eventBus.on('connection.changed', function(event) {\n    updateHandles(event.element);\n  });\n\n  eventBus.on('connection.remove', function(event) {\n    var gfx = getBendpointsContainer(event.element);\n\n    if (gfx) {\n      svgRemove(gfx);\n    }\n  });\n\n  eventBus.on('element.marker.update', function(event) {\n\n    if (!isConnection(event.element)) {\n        return;\n      }\n\n    var element = event.element,\n        bendpointsGfx;\n    bendpointsGfx = addHandles(element);\n\n    if (event.add) {\n      svgClasses(bendpointsGfx).add(event.marker);\n    } else {\n      svgClasses(bendpointsGfx).remove(event.marker);\n    }\n  });\n\n  eventBus.on('element.mousemove', function(event) {\n\n    if (!isConnection(event.element)) {\n        return;\n      }\n\n    var element = event.element,\n        waypoints = element.waypoints,\n        bendpointsGfx,\n        intersection;\n\n    if (waypoints) {\n      bendpointsGfx = getBendpointsContainer(element, true);\n\n      intersection = getConnectionIntersection(canvas, waypoints, event.originalEvent);\n\n      if (!intersection) {\n        return;\n      }\n\n      updateFloatingBendpointPosition(bendpointsGfx, intersection);\n\n      if (!intersection.bendpoint) {\n        updateSegmentDraggerPosition(bendpointsGfx, intersection, waypoints);\n      }\n\n    }\n  });\n\n  eventBus.on('element.mousedown', function(event) {\n\n    if (!isConnection(event.element)) {\n        return;\n      }\n\n    if (!isPrimaryButton(event)) {\n      return;\n    }\n\n    var originalEvent = event.originalEvent,\n        element = event.element;\n\n    return activateBendpointMove(originalEvent, element);\n  });\n\n  eventBus.on('selection.changed', function(event) {\n    var newSelection = event.newSelection,\n        primary = newSelection[0];\n\n    if (primary && primary.waypoints) {\n      addHandles(primary);\n    }\n  });\n\n  eventBus.on('element.hover', function(event) {\n    if (!isConnection(event.element)) {\n        return;\n      }\n\n    var element = event.element;\n    addHandles(element);\n    interactionEvents.registerEvent(event.gfx, 'mousemove', 'element.mousemove');\n  });\n\n  eventBus.on('element.out', function(event) {\n    if (!isConnection(event.element)) {\n        return;\n    }\n\n    interactionEvents.unregisterEvent(event.gfx, 'mousemove', 'element.mousemove');\n  });\n\n  // update bendpoint container data attribute on element ID change\n  eventBus.on('element.updateId', function(context) {\n    if (!isConnection(context.element)) {\n        return;\n    }\n\n    var element = context.element,\n        newId = context.newId;\n\n    var bendpointContainer = getBendpointsContainer(element);\n\n    if (bendpointContainer) {\n    svgAttr(bendpointContainer, { 'data-element-id': newId });\n    }\n  });\n\n  // API\n\n  this.addHandles = addHandles;\n  this.updateHandles = updateHandles;\n  this.getBendpointsContainer = getBendpointsContainer;\n  this.getSegmentDragger = getSegmentDragger;\n}\n\nBendpoints.$inject = [\n  'eventBus',\n  'canvas',\n  'interactionEvents',\n  'bendpointMove',\n  'connectionSegmentMove'\n];\n\n\n\n// helper /////////////\n\nfunction getDraggerVisual(draggerGfx) {\n  return domQuery('.djs-visual', draggerGfx);\n}","import CustomBendpoint from './bender.js';\n\nexport default {\n    __init__: [ 'bendpoints' ],\n    bendpoints: [ 'type', CustomBendpoint ]\n};","import EventBus from \"diagram-js/lib/core/EventBus\";\n\nimport { isEntity, isFact } from \"../model/util\";\nimport { Fact } from \"../model/facts\";\nimport { Entity } from \"../model/entities\";\nimport { isValueConstraint } from \"./model/utils\";\nimport { ValueConstraint } from \"./model/valueConstraint\";\n\nexport default class ConstraintWatcher {\n\n    static $inject: Array<string>; \n    _eventBus: EventBus;\n    _modeling: any;\n\n    constructor(eventBus:EventBus, modeling:any) {\n        this._eventBus = eventBus;\n        this._modeling = modeling;\n\n        this._eventBus.on(\n            'element.changed'\n            , (event:any) => {\n                if (isFact(event.element)) {\n                    this.update(event.element);\n                }\n                if (isEntity(event.element)) {\n                    this.updateEntity(event.element);\n                }\n                return event;\n        });\n\n        this._eventBus.on(\n            'element.removed'\n            , (event:any) => {\n                this.cleanup(event.element);\n            }\n        );\n        this._eventBus.on(\n            'elements.removed'\n            , (event:any) => {\n                event.elements.forEach(\n                    (element:any) => this.cleanup(element)\n                );\n            }\n        );\n    }\n\n    update(fact:Fact) {\n        fact.refreshUniquenessPositions();\n        for(var constraint of fact.uniqueness) {\n            constraint.roles = fact.roles;\n            constraint.refreshConstraintedRoles();\n        }\n        setTimeout(() => {\n            this._modeling.sendUpdates(...fact.uniqueness, ...fact.constraints);\n        }, 50);\n    }\n\n    updateEntity(entity:Entity) {\n        setTimeout(() => {\n            this._modeling.sendUpdates(...entity.constraints);\n        }, 50);\n    }\n\n    cleanup(element:any) {\n        if (isFact(element) || isEntity(element)) {\n            this._modeling.removeElements(element.constraints);\n            if (isFact(element)) {\n                this._modeling.removeElements(element.uniqueness);\n            }\n        }\n        return event;\n    }\n}\n\nConstraintWatcher.$inject = [\n    'eventBus',\n    'modeling',\n    'rules'\n];","import ConstraintsModule from './constraints';\nimport ConstraintsBuilderModule from './builder';\nimport ConstraintWatcher from './updater';\n\nexport default {\n    __init__: [ 'constraints', 'constraintsBuilder', 'ConstraintWatcher' ],\n    constraintsBuilder: [ 'type', ConstraintsBuilderModule ],\n    constraints: [ 'type', ConstraintsModule ],\n    ConstraintWatcher: [ 'type', ConstraintWatcher ]\n};","import Keyboard from \"diagram-js/lib/features/keyboard/keyboard\";\nimport Canvas from \"diagram-js/lib/core/Canvas\";\nimport {\n    isCmd,\n    isKey,\n} from 'diagram-js/lib/features/keyboard/KeyboardUtil';\nimport { isConnection } from \"diagram-js/lib/util/ModelUtil\";\nimport EventBus from \"diagram-js/lib/core/EventBus\";\n\nimport { isFact, isEntity, isExactlyEntity, isSubtype, isObjectification, isConstraint } from \"../model/util\";\nimport Modeling from \"../modeling/modeler\";\nimport { BUS_TRIGGER as CONSTRAINT_BUS_TRIGGER,\n         SIMPLE_MODE as CONSTRAINT_SIMPLE_MODE,\n         OBJECT_VALUE_MODE as CONSTRAINT_VALUE_MODE,\n         ROLE_VALUE_MODE as CONSTRAINT_ROLE_VALUE_MODE,\n         ROLE_VALUE_MODE\n } from \"../constraints/constraints\";\nimport { isValueConstraint } from \"../constraints/model/utils\";\nimport TabModel from \"../tab-model/tabber\";\n\nconst ZoomPunch = 0.25;\n\n/**\n * Service binding for keyboard controls for interacting\n * with editor.\n */\nexport default class OrmShortcuts {\n\n    /**\n     * @param {EventBus} eventbus\n     * @param {Keyboard} keyboard \n     * @param {*} selection \n     * @param {*} elementFactory\n     * @param {Modeling} modeling\n     * @param {Canvas} canvas\n     * @param {*} mouse\n     * @param {*} create\n     * @param {*} connect\n     * @param {*} subtyping\n     * @param {*} placement\n     * @param {*} lassoTool\n     * @param {*} spaceTool\n     * @param {TabModel} tabModel\n     */\n    constructor(\n        eventbus, keyboard, selection, elementFactory, \n        modeling, canvas, mouse, create, \n        connect, subtyping, placement,\n        lassoTool, spaceTool, tabModel){\n        this._selection = selection;\n        this._modeling = modeling;\n        this._canvas = canvas;\n        this._eventbus = eventbus;\n        this._create = create;\n        this._factory = elementFactory;\n        this._mouse = mouse;\n        this._connect = connect;\n        this._csubtyping = subtyping;\n        this._placement = placement;\n        this._lassoTool = lassoTool;\n        this._spaceTool = spaceTool;\n        this._tabModel = tabModel;\n\n        var that = this;\n\n        // debugger to work out key codes, albeit a bit silly\n        // keyboard.addListener((context) => {\n        //     console.log('keyboard event', context);\n        // });\n\n        keyboard.addListener((context) =>{\n            that.triggerDelete(that, context);\n        });\n        keyboard.addListener((context) =>{\n            that.triggerZoomIn(that, context);\n        });\n        keyboard.addListener((context) =>{\n            that.triggerZoomOut(that, context);\n        });\n        keyboard.addListener((context) =>{\n            that.triggerLabelEdit(that, context);\n        });\n        keyboard.addListener((context) =>{\n            that.triggerCreate(that, context);\n        });\n        keyboard.addListener((context) => {\n            that.triggerFactGrowth(that, context);\n        });\n        keyboard.addListener((context) => {\n            that.triggerSimpleConstraint(that, context);\n        });\n        keyboard.addListener((context) => {\n            that.triggerValueConstraint(that, context);\n        });\n        keyboard.addListener((context) => {\n            that.triggerMandatory(that, context);\n        });\n        keyboard.addListener((context) => {\n            that.triggerSwapEntityType(that, context);\n        });\n        keyboard.addListener((context) => {\n            that.triggerConnectTo(that, context);\n        });\n        keyboard.addListener((context) => {\n            that.triggerReferenceFlip(that, context);\n        });\n        keyboard.addListener((context) => {\n            that.triggerObjectifcation(that, context);\n        });\n        keyboard.addListener((context) => {\n            that.triggerDerived(that, context);\n        });\n        keyboard.addListener((context) => {\n            that.triggerTowards(that, context);\n        });\n        keyboard.addListener((context) => {\n            that.triggerSubtypeConnect(that, context);\n        });\n        keyboard.addListener((context) => {\n            that.triggerConnectFactOnEntity(that, context);\n        });\n        keyboard.addListener((context) => {\n            that.triggerKeyboardHelpMenu(that, context);\n        });\n        keyboard.addListener((context) => {\n            that.triggerConstraintIncrease(that, context);\n        });\n        keyboard.addListener((context) => {\n            that.triggerConstraintDecrease(that, context);\n        });\n        keyboard.addListener((context) => {\n            that.triggerAlignmentToggle(that, context);\n        });\n        keyboard.addListener((context) => {\n            that.triggerLassoTool(that, context);\n        });\n        keyboard.addListener((context) => {\n            that.triggerSpaceTool(that, context);\n        });\n        keyboard.addListener((context) => {\n            that.triggerTab(that, context);\n        });\n        keyboard.addListener((context) => {\n            that.triggerTabBack(that, context);\n        });\n        keyboard.addListener((context) => {\n            that.triggerTabForward(that, context);\n        });\n    }\n\n    /**\n     * Will delete the current selection on the following keydowns:\n     * 'delete'\n     * @param {OrmShortcuts} that \n     * @param {*} context \n     */\n    triggerDelete(that, context){\n        const event = context.keyEvent;\n        if (isKey([ 'Delete', 'Del', ], event)){\n            let selected = that._selection.get();\n            for(let select of selected){\n                switch (true) {\n                    case isValueConstraint(select):\n                        that._modeling.removeValueConstraint(select);\n                        break;\n                    case isConstraint(select):\n                        that._modeling.removeConstraint(select);\n                        break;\n                    case isObjectification(select):\n                        that._modeling.flipObjectification(select.fact);\n                        break;\n                    default:\n                        that._modeling.removeElements([select]);\n                }\n                event.preventDefault();\n            }\n            \n        }\n    }\n\n    /**\n     * Will zoom in the canvas on the following keydowns:\n     * 'crtl + (+)'\n     * @param {OrmShortcuts} that \n     * @param {*} context \n     */\n    triggerZoomIn(that, context){\n        const event  = context.keyEvent;\n        if (event.ctrlKey){\n            if (isKey(['+', '=', 'Plus', 'Equal'], event)){\n                const view = that._canvas.viewbox();\n                let scale = view.scale + 0.25;\n                that._canvas.zoom(scale);\n                event.stopPropagation();\n                event.preventDefault();\n            }\n        }\n    }\n\n    /**\n     * Will zoom out the canvas on the following keydowns:\n     * 'crtl + -'\n     * @param {OrmShortcuts} that \n     * @param {*} context \n     */\n    triggerZoomOut(that, context){\n        const event  = context.keyEvent;\n        if (event.ctrlKey){\n            if (isKey(['-', '_', 'Minus'], event)){\n                const view = that._canvas.viewbox();\n                let scale = view.scale - ZoomPunch;\n                that._canvas.zoom(scale);\n                event.stopPropagation();\n                event.preventDefault();\n            }\n        }\n    }\n\n    /**\n     * Will trigger label editing on the following keydowns:\n     * 'enter'\n     * @param {OrmShortcuts} that \n     * @param {*} context \n     */\n     triggerLabelEdit(that, context){\n        const event  = context.keyEvent;\n        if (isKey(['Enter'], event)){\n            const selected = that._selection.get();\n            if (selected.length === 1){\n                event.stopPropagation();\n                event.preventDefault();\n                const select = selected[0];\n                that._eventbus.fire('label.edit.trigger', {\n                    element : select\n                });\n                \n            }\n        }\n    }\n\n    /**\n     * Will trigger the creation of an element on the following keydowns:\n     * 'alt + e' (entity), 'alt + v' (value), 'alt + f' (fact)\n     * @param {OrmShortcuts} that \n     * @param {*} context \n     */\n    triggerCreate(that, context,){\n        const event  = context.keyEvent;\n        if (event.altKey){\n            if (isKey(['e'], event)){\n                event.stopPropagation();\n                var s = Object.assign(\n                    that._factory.createDummyAttributesForEntities('entity'),\n                    {x: 0, y:0}\n                );\n\n                that._create.start(that._mouse.getLastMoveEvent (), s);\n                event.preventDefault();\n            }\n            if (isKey(['v'], event)){\n                event.stopPropagation();\n                var s = Object.assign(\n                    that._factory.createDummyAttributesForEntities('value'),\n                    {x: 0, y:0}\n                );\n      \n                that._create.start(that._mouse.getLastMoveEvent (), s);\n                event.preventDefault();\n            }\n            if (isKey(['f'], event)){\n                event.stopPropagation();\n                var s = Object.assign(\n                    that._factory.createDummyAttributesForFacts(),\n                    {x: 0, y:0}\n                );\n      \n                that._create.start(that._mouse.getLastMoveEvent (), s);\n                event.preventDefault();\n            }\n        }\n    }\n\n    /**\n     * Will trigger fact expansion or reduction the following keydowns:\n     * '+' (expand), '-' (reduce)\n     * @param {OrmShortcuts} that \n     * @param {*} context \n     */\n    triggerFactGrowth(that, context){\n        const event  = context.keyEvent;\n        const selected = that._selection.get();\n        if (selected.length === 1){\n            const select = selected[0];\n            if (event.ctrlKey){\n                return;\n            }\n            if (isFact(select)){\n                if (isKey(['Plus', 'Equal', '+', '='], event)){\n                    event.stopPropagation();\n                    event.preventDefault();\n                    that._modeling.expandFact(select);\n                }\n                else if (isKey(['Minus', '-'], event)){\n                   event.stopPropagation(); \n                   event.preventDefault();\n                   if (select.roles > 1){\n                        that._modeling.reduceFact(select);\n                   }\n                }\n            }\n        }\n    }\n\n    /**\n     * Will trigger adding new a simple constraint on the following keydowns:\n     * 'c', 'C'\n     * @param {OrmShortcuts} that \n     * @param {*} context \n     */\n    triggerSimpleConstraint(that, context){\n        const event  = context.keyEvent;\n        const selected = that._selection.get();\n        if (selected.length === 1){\n            const select = selected[0];\n            if (event.ctrlKey){\n                return;\n            }\n            if (isFact(select)){\n                if (isKey(['c', 'C'], event)){\n                    that._eventbus.fire(CONSTRAINT_BUS_TRIGGER, \n                        {source: select, mode: CONSTRAINT_SIMPLE_MODE,\n                         originalEvent: event}\n                    );\n                    setTimeout(\n                        () => this._selection.deselect(select), \n                    5 );\n                    event.preventDefault();\n                }\n            }\n        }\n    }\n\n    /**\n     * Will trigger adding a new value constraint on the following keydowns:\n     * 'v', 'V'\n     * @param {OrmShortcuts} that \n     * @param {*} context \n     */\n    triggerValueConstraint(that, context){\n        const event  = context.keyEvent;\n        const selected = that._selection.get();\n        if (selected.length === 1){\n            const select = selected[0];\n            if (event.ctrlKey){\n                return;\n            }\n            if (isFact(select) || isEntity(select)){\n                if (isKey(['v', 'v'], event)){\n                    if (isEntity(select) && select.hasValueConstraint()){\n                        that._modeling.removeAllValueConstraint(select);\n                    } else {\n                        let mode = isFact(select) ? \n                            ROLE_VALUE_MODE : CONSTRAINT_VALUE_MODE;\n                        that._eventbus.fire(CONSTRAINT_BUS_TRIGGER, \n                            {source: select, mode: mode,\n                             originalEvent: event}\n                        );\n                    }\n                    event.preventDefault();\n                }\n            }\n        }\n    }\n\n    /**\n     * Will flip mandatory on connections on the following keydowns:\n     * 'm'\n     * @param {OrmShortcuts} that \n     * @param {*} context \n     */\n    triggerMandatory(that, context){\n        const event  = context.keyEvent;\n        const selected = that._selection.get();\n        if (selected.length === 1){\n            const select = selected[0];\n            if (event.ctrlKey){\n                return;\n            }\n            if (isConnection(select)){\n                if (isKey(['m', 'M'], event)){\n                    event.stopPropagation();\n                    that._modeling.flipMandatoryConstraint(select);\n                    event.preventDefault();\n                }\n                \n            }\n        }\n    }\n\n    /**\n     * Will flip the type of an entity on the following keydowns:\n     * 't', 'T'\n     * @param {OrmShortcuts} that \n     * @param {*} context \n     */\n    triggerSwapEntityType(that, context){\n        const event  = context.keyEvent;\n        const selected = that._selection.get();\n        if (selected.length === 1){\n            const select = selected[0];\n            if (event.ctrlKey){\n                return;\n            }\n            if (isEntity(select)){\n                if (isKey(['t', 'T'], event)){\n                    event.stopPropagation();\n                    that._modeling.flipEntityType(select);\n                    event.preventDefault();\n                }\n            }\n        }\n    }\n\n    /**\n     * Will trigger a connecting an entity with a fact on the following keydowns:\n     * 'c'\n     * @param {OrmShortcuts} that \n     * @param {*} context \n     */\n    triggerConnectTo(that, context){\n        const event  = context.keyEvent;\n        const selected = that._selection.get();\n        if (selected.length === 1){\n            let select = selected[0];\n            if (event.ctrlKey){\n                return;\n            }\n            if (isEntity(select) || isObjectification(select)){\n                if (isKey(['c', 'C'], event)){\n                    const other = that._mouse.getLastMoveEvent();\n                    that._connect.start(other, select, true);\n                    event.stopPropagation();\n                    event.preventDefault();\n                }\n            }\n        }\n    }\n\n    /**\n     * flips the label reference mode.\n     * @param {OrmShortcuts} that \n     * @param {*} context \n     */\n    triggerReferenceFlip(that, context){\n        const event = context.keyEvent;\n        const selected = that._selection.get();\n        if (selected.length === 1){\n            const select = selected[0];\n            if (event.ctrlKey){\n                return;\n            }\n            if (isExactlyEntity(select)){\n                if (isKey(['r', 'R'], event)){\n                    event.stopPropagation();\n                    that._modeling.flipLabelReference(select);\n                    event.preventDefault();\n                }\n            }\n        }\n    }\n\n    /**\n     * flips the objecfication of a selected fact.\n     * @param {OrmShortcuts} that \n     * @param {*} context \n     */\n    triggerObjectifcation(that, context){\n        const event = context.keyEvent;\n        const selected = that._selection.get();\n        if (selected.length === 1){\n            const select = selected[0];\n            if (event.ctrlKey){\n                return;\n            }\n            if (isFact(select)){\n                if (isKey(['o', 'O'], event)){\n                    event.stopPropagation();\n                    that._modeling.flipObjectification(select);\n                    event.preventDefault();\n                }\n            }\n        }\n    }\n\n    /**'\n     * flips the derived state on a fact.\n     * @param {OrmShortcuts} that \n     * @param {*} context \n     */\n    triggerDerived(that, context){\n        const event = context.keyEvent;\n        const selected = that._selection.get();\n        if (selected.length === 1){\n            const select = selected[0];\n            if (event.ctrlKey){\n                return;\n            }\n            if (isFact(select)){\n                if (isKey(['d', 'D'], event)){\n                    event.stopPropagation();\n                    that._modeling.flipDerivation(select);\n                    event.preventDefault();\n                }\n            }\n        }\n    }\n\n    triggerTowards(that, context){\n        const event = context.keyEvent;\n        const selected = that._selection.get();\n        if (selected.length === 1){\n            const select = selected[0];\n            if (event.ctrlKey){\n                return;\n            }\n            if (isFact(select)){\n                if (isKey(['l', 'L'], event)){\n                    event.stopPropagation();\n                    select.setTowards('left');\n                    that._modeling.sendUpdate(select);\n                    event.preventDefault();\n                } else if (isKey(['r', 'R'], event)){\n                    event.stopPropagation();\n                    select.setTowards('right');\n                    that._modeling.sendUpdate(select);\n                    event.preventDefault();\n                } else if (isKey(['n', 'N'], event)){\n                    event.stopPropagation();\n                    select.unsetTowards();\n                    that._modeling.sendUpdate(select);\n                    event.preventDefault();\n                }\n            }\n        }\n    }\n\n    /**\n     * Triggers subtyping on a selected entity on the following keydowns:\n     * 's', 'S'\n     * @param {OrmShortcuts} that \n     * @param {*} context \n     */\n    triggerSubtypeConnect(that, context){\n        const event = context.keyEvent;\n        const selected = that._selection.get();\n        if (selected.length === 1){\n            let select = selected[0];\n            if (event.ctrlKey){\n                return;\n            }\n            if (isExactlyEntity(select)){\n                if (isKey(['s', 'S'], event)){\n                    const other = that._mouse.getLastMoveEvent();\n                    that._csubtyping.start(other, select);\n                    event.preventDefault();\n                }\n            }\n        }\n    }\n\n    triggerConnectFactOnEntity(that, context){\n        const event = context.keyEvent;\n        const selected = that._selection.get();\n        if (selected.length === 1){\n            let select = selected[0];\n            if (event.ctrlKey){\n                return;\n            }\n            if (isEntity(select) || isObjectification(select)){\n                if (isKey(['f', 'F'], event)){\n                    var fact = Object.assign(\n                    that._factory.createDummyAttributesForFacts(),\n                        { x: select.x+select.width+ 100, \n                        y: select.y+select.height/2,}\n                    );\n                    fact = that._modeling.createShape(\n                        fact, {x: fact.x, y:fact.y}, \n                        select.parent\n                    );\n                    // find a free position\n                    let pos = that._placement.place(select, fact);\n                    fact.x = pos.x;\n                    fact.y = pos.y;\n                    // add entity as a role to the fact\n                    let con = that._modeling.connectToFact(fact, select, 0);\n                    that._modeling.sendUpdates(con,fact,select);\n                    event.preventDefault();\n                }\n            }\n        }\n    }\n\n    /**\n     * Toggles the keyboard help menu on the following keydowns:\n     * 'ctrl + k', 'ctrl + K'\n     * @param {*} that \n     * @param {*} context \n     */\n    triggerKeyboardHelpMenu(that, context){\n        const event = context.keyEvent;\n        if (event.ctrlKey){\n            if (isKey(['k', 'K'], event)){\n                that._eventbus.fire('keyboard.controls.toggle');\n                event.stopPropagation();\n                event.preventDefault();\n            }\n        }\n    }\n\n    triggerConstraintIncrease(that, context){\n        const event = context.keyEvent;\n        const selected = that._selection.get();\n        if (selected.length === 1){\n            const select = selected[0];\n            if (event.ctrlKey){\n                return;\n            }\n            if (isKey(['+', '=', 'Plus', 'Equal'], event)){\n                    if (isValueConstraint(select)){\n                    event.stopPropagation();\n                    select.increaseWidth();\n                    that._modeling.sendUpdate(select);\n                    event.preventDefault();\n                }\n            }\n        }\n    }\n\n    triggerConstraintDecrease(that, context){\n        const event = context.keyEvent;\n        const selected = that._selection.get();\n        if (selected.length === 1){\n            const select = selected[0];\n            if (event.ctrlKey){\n                return;\n            }\n            if (isKey(['-', '_', 'Minus'], event)){\n                    if (isValueConstraint(select)){\n                    event.stopPropagation();\n                    select.decreaseWidth();\n                    that._modeling.sendUpdate(select);\n                    event.preventDefault();\n                }\n            }\n        }\n    }\n\n    triggerAlignmentToggle(that, context){\n        const event = context.keyEvent;\n        const selected = that._selection.get();\n        if (selected.length === 1){\n            const select = selected[0];\n            if (event.ctrlKey){\n                return;\n            }\n            if (isKey(['a', 'A'], event)){\n                event.stopPropagation();\n                that._modeling.toggleAlignment(select);\n                event.preventDefault();\n            }\n        }\n    }\n\n    triggerLassoTool(that, context){\n        const event = context.keyEvent;\n        if (event.altKey){\n            if (isKey(['a', 'A'], event)){\n                that._lassoTool.activateSelection(that._mouse.getLastMoveEvent ());\n                event.stopPropagation();\n                event.preventDefault();\n            }\n        }\n    }\n\n    triggerSpaceTool(that, context){\n        const event = context.keyEvent;\n        if (event.altKey){\n            if (isKey(['s', 's'], event)){\n                that._spaceTool.activateSelection(that._mouse.getLastMoveEvent ());\n                event.stopPropagation();\n                event.preventDefault();\n            }\n        }\n    }\n\n    triggerTab(that, context){\n        const event = context.keyEvent;\n        if (isKey(['Tab'], event)){\n            event.stopPropagation();\n            event.preventDefault();\n            that._tabModel.fire('tab');\n        }\n    }\n\n    triggerTabBack(that, context){\n        const event = context.keyEvent;\n        if (event.altKey) {\n            if (isKey(['ArrowLeft'], event)){\n                that._tabModel.fire('shift.back');\n                event.stopPropagation();\n                event.preventDefault();\n            }\n        }\n    }\n\n    triggerTabForward(that, context){\n        const event = context.keyEvent;\n        if (event.altKey) {\n            if (isKey(['ArrowRight'], event)){\n                that._tabModel.fire('shift.forward');\n                event.stopPropagation();\n                event.preventDefault();\n            }\n        }\n    }\n}\n\nOrmShortcuts.$inject = [\n    'eventBus',\n    'keyboard',\n    'selection',\n    'elementFactory',\n    'modeling',\n    'canvas',\n    'mouse',\n    'create',\n    'ormConnect',\n    'ormSubtyping',\n    'placementModule',\n    'lassoTool',\n    'spaceTool',\n    'tabModel'\n];","export default class HelpProvider {\n    toggled = false;\n\n    constructor(eventBus) {\n        this.eventBus = eventBus;\n        this._help_window = document.getElementById('keyboard-window'); \n        this._keyboard_icon = document.getElementById('keyboard-controls-icon');\n\n        var that = this;\n        this._keyboard_icon.addEventListener('click', () => {\n            that.eventBus.fire('keyboard.controls.toggle');\n        });\n\n        window.addEventListener(\n            'click', (event) => {\n            if (\n                that.toggled &&\n                that._help_window &&\n                !that._help_window.contains(event.target) &&\n                !that._keyboard_icon.contains(event.target)\n            ) {\n                that.eventBus.fire('keyboard.controls.toggle');\n            }\n        },);\n        \n        this.eventBus.on('keyboard.controls.toggle', () => {\n            that.showHelp();\n        });\n    }\n\n    showHelp() {\n       if (this.toggled) {\n            this._help_window.classList.remove('open');\n            this.toggled = false;\n        } else {\n            this._help_window.classList.add('open');\n            this.toggled = true;\n        }\n    }\n}\n\nHelpProvider.$inject = [\n    'eventBus',\n];","import OrmShortcuts from \"./ormShortcuts.js\";\nimport ormKeyboardHelp from \"./helpProvider.js\";\n\nexport default {\n    __depends__ : ['keyboard', 'selection'],\n    __init__ : ['ormShortcuts', 'ormKeyboardHelp'],\n    ormShortcuts : ['type', OrmShortcuts],\n    ormKeyboardHelp : ['type', ormKeyboardHelp]\n};","\n/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */\nfunction isNothing(subject) {\n  return (typeof subject === 'undefined') || (subject === null);\n}\n\n\nfunction isObject(subject) {\n  return (typeof subject === 'object') && (subject !== null);\n}\n\n\nfunction toArray(sequence) {\n  if (Array.isArray(sequence)) return sequence;\n  else if (isNothing(sequence)) return [];\n\n  return [ sequence ];\n}\n\n\nfunction extend(target, source) {\n  var index, length, key, sourceKeys;\n\n  if (source) {\n    sourceKeys = Object.keys(source);\n\n    for (index = 0, length = sourceKeys.length; index < length; index += 1) {\n      key = sourceKeys[index];\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\n\nfunction repeat(string, count) {\n  var result = '', cycle;\n\n  for (cycle = 0; cycle < count; cycle += 1) {\n    result += string;\n  }\n\n  return result;\n}\n\n\nfunction isNegativeZero(number) {\n  return (number === 0) && (Number.NEGATIVE_INFINITY === 1 / number);\n}\n\n\nvar isNothing_1      = isNothing;\nvar isObject_1       = isObject;\nvar toArray_1        = toArray;\nvar repeat_1         = repeat;\nvar isNegativeZero_1 = isNegativeZero;\nvar extend_1         = extend;\n\nvar common = {\n\tisNothing: isNothing_1,\n\tisObject: isObject_1,\n\ttoArray: toArray_1,\n\trepeat: repeat_1,\n\tisNegativeZero: isNegativeZero_1,\n\textend: extend_1\n};\n\n// YAML error class. http://stackoverflow.com/questions/8458984\n\n\nfunction formatError(exception, compact) {\n  var where = '', message = exception.reason || '(unknown reason)';\n\n  if (!exception.mark) return message;\n\n  if (exception.mark.name) {\n    where += 'in \"' + exception.mark.name + '\" ';\n  }\n\n  where += '(' + (exception.mark.line + 1) + ':' + (exception.mark.column + 1) + ')';\n\n  if (!compact && exception.mark.snippet) {\n    where += '\\n\\n' + exception.mark.snippet;\n  }\n\n  return message + ' ' + where;\n}\n\n\nfunction YAMLException$1(reason, mark) {\n  // Super constructor\n  Error.call(this);\n\n  this.name = 'YAMLException';\n  this.reason = reason;\n  this.mark = mark;\n  this.message = formatError(this, false);\n\n  // Include stack trace in error object\n  if (Error.captureStackTrace) {\n    // Chrome and NodeJS\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    // FF, IE 10+ and Safari 6+. Fallback for others\n    this.stack = (new Error()).stack || '';\n  }\n}\n\n\n// Inherit from Error\nYAMLException$1.prototype = Object.create(Error.prototype);\nYAMLException$1.prototype.constructor = YAMLException$1;\n\n\nYAMLException$1.prototype.toString = function toString(compact) {\n  return this.name + ': ' + formatError(this, compact);\n};\n\n\nvar exception = YAMLException$1;\n\n// get snippet for a single line, respecting maxLength\nfunction getLine(buffer, lineStart, lineEnd, position, maxLineLength) {\n  var head = '';\n  var tail = '';\n  var maxHalfLength = Math.floor(maxLineLength / 2) - 1;\n\n  if (position - lineStart > maxHalfLength) {\n    head = ' ... ';\n    lineStart = position - maxHalfLength + head.length;\n  }\n\n  if (lineEnd - position > maxHalfLength) {\n    tail = ' ...';\n    lineEnd = position + maxHalfLength - tail.length;\n  }\n\n  return {\n    str: head + buffer.slice(lineStart, lineEnd).replace(/\\t/g, '→') + tail,\n    pos: position - lineStart + head.length // relative position\n  };\n}\n\n\nfunction padStart(string, max) {\n  return common.repeat(' ', max - string.length) + string;\n}\n\n\nfunction makeSnippet(mark, options) {\n  options = Object.create(options || null);\n\n  if (!mark.buffer) return null;\n\n  if (!options.maxLength) options.maxLength = 79;\n  if (typeof options.indent      !== 'number') options.indent      = 1;\n  if (typeof options.linesBefore !== 'number') options.linesBefore = 3;\n  if (typeof options.linesAfter  !== 'number') options.linesAfter  = 2;\n\n  var re = /\\r?\\n|\\r|\\0/g;\n  var lineStarts = [ 0 ];\n  var lineEnds = [];\n  var match;\n  var foundLineNo = -1;\n\n  while ((match = re.exec(mark.buffer))) {\n    lineEnds.push(match.index);\n    lineStarts.push(match.index + match[0].length);\n\n    if (mark.position <= match.index && foundLineNo < 0) {\n      foundLineNo = lineStarts.length - 2;\n    }\n  }\n\n  if (foundLineNo < 0) foundLineNo = lineStarts.length - 1;\n\n  var result = '', i, line;\n  var lineNoLength = Math.min(mark.line + options.linesAfter, lineEnds.length).toString().length;\n  var maxLineLength = options.maxLength - (options.indent + lineNoLength + 3);\n\n  for (i = 1; i <= options.linesBefore; i++) {\n    if (foundLineNo - i < 0) break;\n    line = getLine(\n      mark.buffer,\n      lineStarts[foundLineNo - i],\n      lineEnds[foundLineNo - i],\n      mark.position - (lineStarts[foundLineNo] - lineStarts[foundLineNo - i]),\n      maxLineLength\n    );\n    result = common.repeat(' ', options.indent) + padStart((mark.line - i + 1).toString(), lineNoLength) +\n      ' | ' + line.str + '\\n' + result;\n  }\n\n  line = getLine(mark.buffer, lineStarts[foundLineNo], lineEnds[foundLineNo], mark.position, maxLineLength);\n  result += common.repeat(' ', options.indent) + padStart((mark.line + 1).toString(), lineNoLength) +\n    ' | ' + line.str + '\\n';\n  result += common.repeat('-', options.indent + lineNoLength + 3 + line.pos) + '^' + '\\n';\n\n  for (i = 1; i <= options.linesAfter; i++) {\n    if (foundLineNo + i >= lineEnds.length) break;\n    line = getLine(\n      mark.buffer,\n      lineStarts[foundLineNo + i],\n      lineEnds[foundLineNo + i],\n      mark.position - (lineStarts[foundLineNo] - lineStarts[foundLineNo + i]),\n      maxLineLength\n    );\n    result += common.repeat(' ', options.indent) + padStart((mark.line + i + 1).toString(), lineNoLength) +\n      ' | ' + line.str + '\\n';\n  }\n\n  return result.replace(/\\n$/, '');\n}\n\n\nvar snippet = makeSnippet;\n\nvar TYPE_CONSTRUCTOR_OPTIONS = [\n  'kind',\n  'multi',\n  'resolve',\n  'construct',\n  'instanceOf',\n  'predicate',\n  'represent',\n  'representName',\n  'defaultStyle',\n  'styleAliases'\n];\n\nvar YAML_NODE_KINDS = [\n  'scalar',\n  'sequence',\n  'mapping'\n];\n\nfunction compileStyleAliases(map) {\n  var result = {};\n\n  if (map !== null) {\n    Object.keys(map).forEach(function (style) {\n      map[style].forEach(function (alias) {\n        result[String(alias)] = style;\n      });\n    });\n  }\n\n  return result;\n}\n\nfunction Type$1(tag, options) {\n  options = options || {};\n\n  Object.keys(options).forEach(function (name) {\n    if (TYPE_CONSTRUCTOR_OPTIONS.indexOf(name) === -1) {\n      throw new exception('Unknown option \"' + name + '\" is met in definition of \"' + tag + '\" YAML type.');\n    }\n  });\n\n  // TODO: Add tag format check.\n  this.options       = options; // keep original options in case user wants to extend this type later\n  this.tag           = tag;\n  this.kind          = options['kind']          || null;\n  this.resolve       = options['resolve']       || function () { return true; };\n  this.construct     = options['construct']     || function (data) { return data; };\n  this.instanceOf    = options['instanceOf']    || null;\n  this.predicate     = options['predicate']     || null;\n  this.represent     = options['represent']     || null;\n  this.representName = options['representName'] || null;\n  this.defaultStyle  = options['defaultStyle']  || null;\n  this.multi         = options['multi']         || false;\n  this.styleAliases  = compileStyleAliases(options['styleAliases'] || null);\n\n  if (YAML_NODE_KINDS.indexOf(this.kind) === -1) {\n    throw new exception('Unknown kind \"' + this.kind + '\" is specified for \"' + tag + '\" YAML type.');\n  }\n}\n\nvar type = Type$1;\n\n/*eslint-disable max-len*/\n\n\n\n\n\nfunction compileList(schema, name) {\n  var result = [];\n\n  schema[name].forEach(function (currentType) {\n    var newIndex = result.length;\n\n    result.forEach(function (previousType, previousIndex) {\n      if (previousType.tag === currentType.tag &&\n          previousType.kind === currentType.kind &&\n          previousType.multi === currentType.multi) {\n\n        newIndex = previousIndex;\n      }\n    });\n\n    result[newIndex] = currentType;\n  });\n\n  return result;\n}\n\n\nfunction compileMap(/* lists... */) {\n  var result = {\n        scalar: {},\n        sequence: {},\n        mapping: {},\n        fallback: {},\n        multi: {\n          scalar: [],\n          sequence: [],\n          mapping: [],\n          fallback: []\n        }\n      }, index, length;\n\n  function collectType(type) {\n    if (type.multi) {\n      result.multi[type.kind].push(type);\n      result.multi['fallback'].push(type);\n    } else {\n      result[type.kind][type.tag] = result['fallback'][type.tag] = type;\n    }\n  }\n\n  for (index = 0, length = arguments.length; index < length; index += 1) {\n    arguments[index].forEach(collectType);\n  }\n  return result;\n}\n\n\nfunction Schema$1(definition) {\n  return this.extend(definition);\n}\n\n\nSchema$1.prototype.extend = function extend(definition) {\n  var implicit = [];\n  var explicit = [];\n\n  if (definition instanceof type) {\n    // Schema.extend(type)\n    explicit.push(definition);\n\n  } else if (Array.isArray(definition)) {\n    // Schema.extend([ type1, type2, ... ])\n    explicit = explicit.concat(definition);\n\n  } else if (definition && (Array.isArray(definition.implicit) || Array.isArray(definition.explicit))) {\n    // Schema.extend({ explicit: [ type1, type2, ... ], implicit: [ type1, type2, ... ] })\n    if (definition.implicit) implicit = implicit.concat(definition.implicit);\n    if (definition.explicit) explicit = explicit.concat(definition.explicit);\n\n  } else {\n    throw new exception('Schema.extend argument should be a Type, [ Type ], ' +\n      'or a schema definition ({ implicit: [...], explicit: [...] })');\n  }\n\n  implicit.forEach(function (type$1) {\n    if (!(type$1 instanceof type)) {\n      throw new exception('Specified list of YAML types (or a single Type object) contains a non-Type object.');\n    }\n\n    if (type$1.loadKind && type$1.loadKind !== 'scalar') {\n      throw new exception('There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.');\n    }\n\n    if (type$1.multi) {\n      throw new exception('There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.');\n    }\n  });\n\n  explicit.forEach(function (type$1) {\n    if (!(type$1 instanceof type)) {\n      throw new exception('Specified list of YAML types (or a single Type object) contains a non-Type object.');\n    }\n  });\n\n  var result = Object.create(Schema$1.prototype);\n\n  result.implicit = (this.implicit || []).concat(implicit);\n  result.explicit = (this.explicit || []).concat(explicit);\n\n  result.compiledImplicit = compileList(result, 'implicit');\n  result.compiledExplicit = compileList(result, 'explicit');\n  result.compiledTypeMap  = compileMap(result.compiledImplicit, result.compiledExplicit);\n\n  return result;\n};\n\n\nvar schema = Schema$1;\n\nvar str = new type('tag:yaml.org,2002:str', {\n  kind: 'scalar',\n  construct: function (data) { return data !== null ? data : ''; }\n});\n\nvar seq = new type('tag:yaml.org,2002:seq', {\n  kind: 'sequence',\n  construct: function (data) { return data !== null ? data : []; }\n});\n\nvar map = new type('tag:yaml.org,2002:map', {\n  kind: 'mapping',\n  construct: function (data) { return data !== null ? data : {}; }\n});\n\nvar failsafe = new schema({\n  explicit: [\n    str,\n    seq,\n    map\n  ]\n});\n\nfunction resolveYamlNull(data) {\n  if (data === null) return true;\n\n  var max = data.length;\n\n  return (max === 1 && data === '~') ||\n         (max === 4 && (data === 'null' || data === 'Null' || data === 'NULL'));\n}\n\nfunction constructYamlNull() {\n  return null;\n}\n\nfunction isNull(object) {\n  return object === null;\n}\n\nvar _null = new type('tag:yaml.org,2002:null', {\n  kind: 'scalar',\n  resolve: resolveYamlNull,\n  construct: constructYamlNull,\n  predicate: isNull,\n  represent: {\n    canonical: function () { return '~';    },\n    lowercase: function () { return 'null'; },\n    uppercase: function () { return 'NULL'; },\n    camelcase: function () { return 'Null'; },\n    empty:     function () { return '';     }\n  },\n  defaultStyle: 'lowercase'\n});\n\nfunction resolveYamlBoolean(data) {\n  if (data === null) return false;\n\n  var max = data.length;\n\n  return (max === 4 && (data === 'true' || data === 'True' || data === 'TRUE')) ||\n         (max === 5 && (data === 'false' || data === 'False' || data === 'FALSE'));\n}\n\nfunction constructYamlBoolean(data) {\n  return data === 'true' ||\n         data === 'True' ||\n         data === 'TRUE';\n}\n\nfunction isBoolean(object) {\n  return Object.prototype.toString.call(object) === '[object Boolean]';\n}\n\nvar bool = new type('tag:yaml.org,2002:bool', {\n  kind: 'scalar',\n  resolve: resolveYamlBoolean,\n  construct: constructYamlBoolean,\n  predicate: isBoolean,\n  represent: {\n    lowercase: function (object) { return object ? 'true' : 'false'; },\n    uppercase: function (object) { return object ? 'TRUE' : 'FALSE'; },\n    camelcase: function (object) { return object ? 'True' : 'False'; }\n  },\n  defaultStyle: 'lowercase'\n});\n\nfunction isHexCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) ||\n         ((0x41/* A */ <= c) && (c <= 0x46/* F */)) ||\n         ((0x61/* a */ <= c) && (c <= 0x66/* f */));\n}\n\nfunction isOctCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x37/* 7 */));\n}\n\nfunction isDecCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */));\n}\n\nfunction resolveYamlInteger(data) {\n  if (data === null) return false;\n\n  var max = data.length,\n      index = 0,\n      hasDigits = false,\n      ch;\n\n  if (!max) return false;\n\n  ch = data[index];\n\n  // sign\n  if (ch === '-' || ch === '+') {\n    ch = data[++index];\n  }\n\n  if (ch === '0') {\n    // 0\n    if (index + 1 === max) return true;\n    ch = data[++index];\n\n    // base 2, base 8, base 16\n\n    if (ch === 'b') {\n      // base 2\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') continue;\n        if (ch !== '0' && ch !== '1') return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== '_';\n    }\n\n\n    if (ch === 'x') {\n      // base 16\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') continue;\n        if (!isHexCode(data.charCodeAt(index))) return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== '_';\n    }\n\n\n    if (ch === 'o') {\n      // base 8\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') continue;\n        if (!isOctCode(data.charCodeAt(index))) return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== '_';\n    }\n  }\n\n  // base 10 (except 0)\n\n  // value should not start with `_`;\n  if (ch === '_') return false;\n\n  for (; index < max; index++) {\n    ch = data[index];\n    if (ch === '_') continue;\n    if (!isDecCode(data.charCodeAt(index))) {\n      return false;\n    }\n    hasDigits = true;\n  }\n\n  // Should have digits and should not end with `_`\n  if (!hasDigits || ch === '_') return false;\n\n  return true;\n}\n\nfunction constructYamlInteger(data) {\n  var value = data, sign = 1, ch;\n\n  if (value.indexOf('_') !== -1) {\n    value = value.replace(/_/g, '');\n  }\n\n  ch = value[0];\n\n  if (ch === '-' || ch === '+') {\n    if (ch === '-') sign = -1;\n    value = value.slice(1);\n    ch = value[0];\n  }\n\n  if (value === '0') return 0;\n\n  if (ch === '0') {\n    if (value[1] === 'b') return sign * parseInt(value.slice(2), 2);\n    if (value[1] === 'x') return sign * parseInt(value.slice(2), 16);\n    if (value[1] === 'o') return sign * parseInt(value.slice(2), 8);\n  }\n\n  return sign * parseInt(value, 10);\n}\n\nfunction isInteger(object) {\n  return (Object.prototype.toString.call(object)) === '[object Number]' &&\n         (object % 1 === 0 && !common.isNegativeZero(object));\n}\n\nvar int = new type('tag:yaml.org,2002:int', {\n  kind: 'scalar',\n  resolve: resolveYamlInteger,\n  construct: constructYamlInteger,\n  predicate: isInteger,\n  represent: {\n    binary:      function (obj) { return obj >= 0 ? '0b' + obj.toString(2) : '-0b' + obj.toString(2).slice(1); },\n    octal:       function (obj) { return obj >= 0 ? '0o'  + obj.toString(8) : '-0o'  + obj.toString(8).slice(1); },\n    decimal:     function (obj) { return obj.toString(10); },\n    /* eslint-disable max-len */\n    hexadecimal: function (obj) { return obj >= 0 ? '0x' + obj.toString(16).toUpperCase() :  '-0x' + obj.toString(16).toUpperCase().slice(1); }\n  },\n  defaultStyle: 'decimal',\n  styleAliases: {\n    binary:      [ 2,  'bin' ],\n    octal:       [ 8,  'oct' ],\n    decimal:     [ 10, 'dec' ],\n    hexadecimal: [ 16, 'hex' ]\n  }\n});\n\nvar YAML_FLOAT_PATTERN = new RegExp(\n  // 2.5e4, 2.5 and integers\n  '^(?:[-+]?(?:[0-9][0-9_]*)(?:\\\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?' +\n  // .2e4, .2\n  // special case, seems not from spec\n  '|\\\\.[0-9_]+(?:[eE][-+]?[0-9]+)?' +\n  // .inf\n  '|[-+]?\\\\.(?:inf|Inf|INF)' +\n  // .nan\n  '|\\\\.(?:nan|NaN|NAN))$');\n\nfunction resolveYamlFloat(data) {\n  if (data === null) return false;\n\n  if (!YAML_FLOAT_PATTERN.test(data) ||\n      // Quick hack to not allow integers end with `_`\n      // Probably should update regexp & check speed\n      data[data.length - 1] === '_') {\n    return false;\n  }\n\n  return true;\n}\n\nfunction constructYamlFloat(data) {\n  var value, sign;\n\n  value  = data.replace(/_/g, '').toLowerCase();\n  sign   = value[0] === '-' ? -1 : 1;\n\n  if ('+-'.indexOf(value[0]) >= 0) {\n    value = value.slice(1);\n  }\n\n  if (value === '.inf') {\n    return (sign === 1) ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY;\n\n  } else if (value === '.nan') {\n    return NaN;\n  }\n  return sign * parseFloat(value, 10);\n}\n\n\nvar SCIENTIFIC_WITHOUT_DOT = /^[-+]?[0-9]+e/;\n\nfunction representYamlFloat(object, style) {\n  var res;\n\n  if (isNaN(object)) {\n    switch (style) {\n      case 'lowercase': return '.nan';\n      case 'uppercase': return '.NAN';\n      case 'camelcase': return '.NaN';\n    }\n  } else if (Number.POSITIVE_INFINITY === object) {\n    switch (style) {\n      case 'lowercase': return '.inf';\n      case 'uppercase': return '.INF';\n      case 'camelcase': return '.Inf';\n    }\n  } else if (Number.NEGATIVE_INFINITY === object) {\n    switch (style) {\n      case 'lowercase': return '-.inf';\n      case 'uppercase': return '-.INF';\n      case 'camelcase': return '-.Inf';\n    }\n  } else if (common.isNegativeZero(object)) {\n    return '-0.0';\n  }\n\n  res = object.toString(10);\n\n  // JS stringifier can build scientific format without dots: 5e-100,\n  // while YAML requres dot: 5.e-100. Fix it with simple hack\n\n  return SCIENTIFIC_WITHOUT_DOT.test(res) ? res.replace('e', '.e') : res;\n}\n\nfunction isFloat(object) {\n  return (Object.prototype.toString.call(object) === '[object Number]') &&\n         (object % 1 !== 0 || common.isNegativeZero(object));\n}\n\nvar float = new type('tag:yaml.org,2002:float', {\n  kind: 'scalar',\n  resolve: resolveYamlFloat,\n  construct: constructYamlFloat,\n  predicate: isFloat,\n  represent: representYamlFloat,\n  defaultStyle: 'lowercase'\n});\n\nvar json = failsafe.extend({\n  implicit: [\n    _null,\n    bool,\n    int,\n    float\n  ]\n});\n\nvar core = json;\n\nvar YAML_DATE_REGEXP = new RegExp(\n  '^([0-9][0-9][0-9][0-9])'          + // [1] year\n  '-([0-9][0-9])'                    + // [2] month\n  '-([0-9][0-9])$');                   // [3] day\n\nvar YAML_TIMESTAMP_REGEXP = new RegExp(\n  '^([0-9][0-9][0-9][0-9])'          + // [1] year\n  '-([0-9][0-9]?)'                   + // [2] month\n  '-([0-9][0-9]?)'                   + // [3] day\n  '(?:[Tt]|[ \\\\t]+)'                 + // ...\n  '([0-9][0-9]?)'                    + // [4] hour\n  ':([0-9][0-9])'                    + // [5] minute\n  ':([0-9][0-9])'                    + // [6] second\n  '(?:\\\\.([0-9]*))?'                 + // [7] fraction\n  '(?:[ \\\\t]*(Z|([-+])([0-9][0-9]?)' + // [8] tz [9] tz_sign [10] tz_hour\n  '(?::([0-9][0-9]))?))?$');           // [11] tz_minute\n\nfunction resolveYamlTimestamp(data) {\n  if (data === null) return false;\n  if (YAML_DATE_REGEXP.exec(data) !== null) return true;\n  if (YAML_TIMESTAMP_REGEXP.exec(data) !== null) return true;\n  return false;\n}\n\nfunction constructYamlTimestamp(data) {\n  var match, year, month, day, hour, minute, second, fraction = 0,\n      delta = null, tz_hour, tz_minute, date;\n\n  match = YAML_DATE_REGEXP.exec(data);\n  if (match === null) match = YAML_TIMESTAMP_REGEXP.exec(data);\n\n  if (match === null) throw new Error('Date resolve error');\n\n  // match: [1] year [2] month [3] day\n\n  year = +(match[1]);\n  month = +(match[2]) - 1; // JS month starts with 0\n  day = +(match[3]);\n\n  if (!match[4]) { // no hour\n    return new Date(Date.UTC(year, month, day));\n  }\n\n  // match: [4] hour [5] minute [6] second [7] fraction\n\n  hour = +(match[4]);\n  minute = +(match[5]);\n  second = +(match[6]);\n\n  if (match[7]) {\n    fraction = match[7].slice(0, 3);\n    while (fraction.length < 3) { // milli-seconds\n      fraction += '0';\n    }\n    fraction = +fraction;\n  }\n\n  // match: [8] tz [9] tz_sign [10] tz_hour [11] tz_minute\n\n  if (match[9]) {\n    tz_hour = +(match[10]);\n    tz_minute = +(match[11] || 0);\n    delta = (tz_hour * 60 + tz_minute) * 60000; // delta in mili-seconds\n    if (match[9] === '-') delta = -delta;\n  }\n\n  date = new Date(Date.UTC(year, month, day, hour, minute, second, fraction));\n\n  if (delta) date.setTime(date.getTime() - delta);\n\n  return date;\n}\n\nfunction representYamlTimestamp(object /*, style*/) {\n  return object.toISOString();\n}\n\nvar timestamp = new type('tag:yaml.org,2002:timestamp', {\n  kind: 'scalar',\n  resolve: resolveYamlTimestamp,\n  construct: constructYamlTimestamp,\n  instanceOf: Date,\n  represent: representYamlTimestamp\n});\n\nfunction resolveYamlMerge(data) {\n  return data === '<<' || data === null;\n}\n\nvar merge = new type('tag:yaml.org,2002:merge', {\n  kind: 'scalar',\n  resolve: resolveYamlMerge\n});\n\n/*eslint-disable no-bitwise*/\n\n\n\n\n\n// [ 64, 65, 66 ] -> [ padding, CR, LF ]\nvar BASE64_MAP = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\\n\\r';\n\n\nfunction resolveYamlBinary(data) {\n  if (data === null) return false;\n\n  var code, idx, bitlen = 0, max = data.length, map = BASE64_MAP;\n\n  // Convert one by one.\n  for (idx = 0; idx < max; idx++) {\n    code = map.indexOf(data.charAt(idx));\n\n    // Skip CR/LF\n    if (code > 64) continue;\n\n    // Fail on illegal characters\n    if (code < 0) return false;\n\n    bitlen += 6;\n  }\n\n  // If there are any bits left, source was corrupted\n  return (bitlen % 8) === 0;\n}\n\nfunction constructYamlBinary(data) {\n  var idx, tailbits,\n      input = data.replace(/[\\r\\n=]/g, ''), // remove CR/LF & padding to simplify scan\n      max = input.length,\n      map = BASE64_MAP,\n      bits = 0,\n      result = [];\n\n  // Collect by 6*4 bits (3 bytes)\n\n  for (idx = 0; idx < max; idx++) {\n    if ((idx % 4 === 0) && idx) {\n      result.push((bits >> 16) & 0xFF);\n      result.push((bits >> 8) & 0xFF);\n      result.push(bits & 0xFF);\n    }\n\n    bits = (bits << 6) | map.indexOf(input.charAt(idx));\n  }\n\n  // Dump tail\n\n  tailbits = (max % 4) * 6;\n\n  if (tailbits === 0) {\n    result.push((bits >> 16) & 0xFF);\n    result.push((bits >> 8) & 0xFF);\n    result.push(bits & 0xFF);\n  } else if (tailbits === 18) {\n    result.push((bits >> 10) & 0xFF);\n    result.push((bits >> 2) & 0xFF);\n  } else if (tailbits === 12) {\n    result.push((bits >> 4) & 0xFF);\n  }\n\n  return new Uint8Array(result);\n}\n\nfunction representYamlBinary(object /*, style*/) {\n  var result = '', bits = 0, idx, tail,\n      max = object.length,\n      map = BASE64_MAP;\n\n  // Convert every three bytes to 4 ASCII characters.\n\n  for (idx = 0; idx < max; idx++) {\n    if ((idx % 3 === 0) && idx) {\n      result += map[(bits >> 18) & 0x3F];\n      result += map[(bits >> 12) & 0x3F];\n      result += map[(bits >> 6) & 0x3F];\n      result += map[bits & 0x3F];\n    }\n\n    bits = (bits << 8) + object[idx];\n  }\n\n  // Dump tail\n\n  tail = max % 3;\n\n  if (tail === 0) {\n    result += map[(bits >> 18) & 0x3F];\n    result += map[(bits >> 12) & 0x3F];\n    result += map[(bits >> 6) & 0x3F];\n    result += map[bits & 0x3F];\n  } else if (tail === 2) {\n    result += map[(bits >> 10) & 0x3F];\n    result += map[(bits >> 4) & 0x3F];\n    result += map[(bits << 2) & 0x3F];\n    result += map[64];\n  } else if (tail === 1) {\n    result += map[(bits >> 2) & 0x3F];\n    result += map[(bits << 4) & 0x3F];\n    result += map[64];\n    result += map[64];\n  }\n\n  return result;\n}\n\nfunction isBinary(obj) {\n  return Object.prototype.toString.call(obj) ===  '[object Uint8Array]';\n}\n\nvar binary = new type('tag:yaml.org,2002:binary', {\n  kind: 'scalar',\n  resolve: resolveYamlBinary,\n  construct: constructYamlBinary,\n  predicate: isBinary,\n  represent: representYamlBinary\n});\n\nvar _hasOwnProperty$3 = Object.prototype.hasOwnProperty;\nvar _toString$2       = Object.prototype.toString;\n\nfunction resolveYamlOmap(data) {\n  if (data === null) return true;\n\n  var objectKeys = [], index, length, pair, pairKey, pairHasKey,\n      object = data;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n    pairHasKey = false;\n\n    if (_toString$2.call(pair) !== '[object Object]') return false;\n\n    for (pairKey in pair) {\n      if (_hasOwnProperty$3.call(pair, pairKey)) {\n        if (!pairHasKey) pairHasKey = true;\n        else return false;\n      }\n    }\n\n    if (!pairHasKey) return false;\n\n    if (objectKeys.indexOf(pairKey) === -1) objectKeys.push(pairKey);\n    else return false;\n  }\n\n  return true;\n}\n\nfunction constructYamlOmap(data) {\n  return data !== null ? data : [];\n}\n\nvar omap = new type('tag:yaml.org,2002:omap', {\n  kind: 'sequence',\n  resolve: resolveYamlOmap,\n  construct: constructYamlOmap\n});\n\nvar _toString$1 = Object.prototype.toString;\n\nfunction resolveYamlPairs(data) {\n  if (data === null) return true;\n\n  var index, length, pair, keys, result,\n      object = data;\n\n  result = new Array(object.length);\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n\n    if (_toString$1.call(pair) !== '[object Object]') return false;\n\n    keys = Object.keys(pair);\n\n    if (keys.length !== 1) return false;\n\n    result[index] = [ keys[0], pair[keys[0]] ];\n  }\n\n  return true;\n}\n\nfunction constructYamlPairs(data) {\n  if (data === null) return [];\n\n  var index, length, pair, keys, result,\n      object = data;\n\n  result = new Array(object.length);\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n\n    keys = Object.keys(pair);\n\n    result[index] = [ keys[0], pair[keys[0]] ];\n  }\n\n  return result;\n}\n\nvar pairs = new type('tag:yaml.org,2002:pairs', {\n  kind: 'sequence',\n  resolve: resolveYamlPairs,\n  construct: constructYamlPairs\n});\n\nvar _hasOwnProperty$2 = Object.prototype.hasOwnProperty;\n\nfunction resolveYamlSet(data) {\n  if (data === null) return true;\n\n  var key, object = data;\n\n  for (key in object) {\n    if (_hasOwnProperty$2.call(object, key)) {\n      if (object[key] !== null) return false;\n    }\n  }\n\n  return true;\n}\n\nfunction constructYamlSet(data) {\n  return data !== null ? data : {};\n}\n\nvar set = new type('tag:yaml.org,2002:set', {\n  kind: 'mapping',\n  resolve: resolveYamlSet,\n  construct: constructYamlSet\n});\n\nvar _default = core.extend({\n  implicit: [\n    timestamp,\n    merge\n  ],\n  explicit: [\n    binary,\n    omap,\n    pairs,\n    set\n  ]\n});\n\n/*eslint-disable max-len,no-use-before-define*/\n\n\n\n\n\n\n\nvar _hasOwnProperty$1 = Object.prototype.hasOwnProperty;\n\n\nvar CONTEXT_FLOW_IN   = 1;\nvar CONTEXT_FLOW_OUT  = 2;\nvar CONTEXT_BLOCK_IN  = 3;\nvar CONTEXT_BLOCK_OUT = 4;\n\n\nvar CHOMPING_CLIP  = 1;\nvar CHOMPING_STRIP = 2;\nvar CHOMPING_KEEP  = 3;\n\n\nvar PATTERN_NON_PRINTABLE         = /[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7F-\\x84\\x86-\\x9F\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\nvar PATTERN_NON_ASCII_LINE_BREAKS = /[\\x85\\u2028\\u2029]/;\nvar PATTERN_FLOW_INDICATORS       = /[,\\[\\]\\{\\}]/;\nvar PATTERN_TAG_HANDLE            = /^(?:!|!!|![a-z\\-]+!)$/i;\nvar PATTERN_TAG_URI               = /^(?:!|[^,\\[\\]\\{\\}])(?:%[0-9a-f]{2}|[0-9a-z\\-#;\\/\\?:@&=\\+\\$,_\\.!~\\*'\\(\\)\\[\\]])*$/i;\n\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\n\nfunction is_EOL(c) {\n  return (c === 0x0A/* LF */) || (c === 0x0D/* CR */);\n}\n\nfunction is_WHITE_SPACE(c) {\n  return (c === 0x09/* Tab */) || (c === 0x20/* Space */);\n}\n\nfunction is_WS_OR_EOL(c) {\n  return (c === 0x09/* Tab */) ||\n         (c === 0x20/* Space */) ||\n         (c === 0x0A/* LF */) ||\n         (c === 0x0D/* CR */);\n}\n\nfunction is_FLOW_INDICATOR(c) {\n  return c === 0x2C/* , */ ||\n         c === 0x5B/* [ */ ||\n         c === 0x5D/* ] */ ||\n         c === 0x7B/* { */ ||\n         c === 0x7D/* } */;\n}\n\nfunction fromHexCode(c) {\n  var lc;\n\n  if ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) {\n    return c - 0x30;\n  }\n\n  /*eslint-disable no-bitwise*/\n  lc = c | 0x20;\n\n  if ((0x61/* a */ <= lc) && (lc <= 0x66/* f */)) {\n    return lc - 0x61 + 10;\n  }\n\n  return -1;\n}\n\nfunction escapedHexLen(c) {\n  if (c === 0x78/* x */) { return 2; }\n  if (c === 0x75/* u */) { return 4; }\n  if (c === 0x55/* U */) { return 8; }\n  return 0;\n}\n\nfunction fromDecimalCode(c) {\n  if ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) {\n    return c - 0x30;\n  }\n\n  return -1;\n}\n\nfunction simpleEscapeSequence(c) {\n  /* eslint-disable indent */\n  return (c === 0x30/* 0 */) ? '\\x00' :\n        (c === 0x61/* a */) ? '\\x07' :\n        (c === 0x62/* b */) ? '\\x08' :\n        (c === 0x74/* t */) ? '\\x09' :\n        (c === 0x09/* Tab */) ? '\\x09' :\n        (c === 0x6E/* n */) ? '\\x0A' :\n        (c === 0x76/* v */) ? '\\x0B' :\n        (c === 0x66/* f */) ? '\\x0C' :\n        (c === 0x72/* r */) ? '\\x0D' :\n        (c === 0x65/* e */) ? '\\x1B' :\n        (c === 0x20/* Space */) ? ' ' :\n        (c === 0x22/* \" */) ? '\\x22' :\n        (c === 0x2F/* / */) ? '/' :\n        (c === 0x5C/* \\ */) ? '\\x5C' :\n        (c === 0x4E/* N */) ? '\\x85' :\n        (c === 0x5F/* _ */) ? '\\xA0' :\n        (c === 0x4C/* L */) ? '\\u2028' :\n        (c === 0x50/* P */) ? '\\u2029' : '';\n}\n\nfunction charFromCodepoint(c) {\n  if (c <= 0xFFFF) {\n    return String.fromCharCode(c);\n  }\n  // Encode UTF-16 surrogate pair\n  // https://en.wikipedia.org/wiki/UTF-16#Code_points_U.2B010000_to_U.2B10FFFF\n  return String.fromCharCode(\n    ((c - 0x010000) >> 10) + 0xD800,\n    ((c - 0x010000) & 0x03FF) + 0xDC00\n  );\n}\n\nvar simpleEscapeCheck = new Array(256); // integer, for fast access\nvar simpleEscapeMap = new Array(256);\nfor (var i = 0; i < 256; i++) {\n  simpleEscapeCheck[i] = simpleEscapeSequence(i) ? 1 : 0;\n  simpleEscapeMap[i] = simpleEscapeSequence(i);\n}\n\n\nfunction State$1(input, options) {\n  this.input = input;\n\n  this.filename  = options['filename']  || null;\n  this.schema    = options['schema']    || _default;\n  this.onWarning = options['onWarning'] || null;\n  // (Hidden) Remove? makes the loader to expect YAML 1.1 documents\n  // if such documents have no explicit %YAML directive\n  this.legacy    = options['legacy']    || false;\n\n  this.json      = options['json']      || false;\n  this.listener  = options['listener']  || null;\n\n  this.implicitTypes = this.schema.compiledImplicit;\n  this.typeMap       = this.schema.compiledTypeMap;\n\n  this.length     = input.length;\n  this.position   = 0;\n  this.line       = 0;\n  this.lineStart  = 0;\n  this.lineIndent = 0;\n\n  // position of first leading tab in the current line,\n  // used to make sure there are no tabs in the indentation\n  this.firstTabInLine = -1;\n\n  this.documents = [];\n\n  /*\n  this.version;\n  this.checkLineBreaks;\n  this.tagMap;\n  this.anchorMap;\n  this.tag;\n  this.anchor;\n  this.kind;\n  this.result;*/\n\n}\n\n\nfunction generateError(state, message) {\n  var mark = {\n    name:     state.filename,\n    buffer:   state.input.slice(0, -1), // omit trailing \\0\n    position: state.position,\n    line:     state.line,\n    column:   state.position - state.lineStart\n  };\n\n  mark.snippet = snippet(mark);\n\n  return new exception(message, mark);\n}\n\nfunction throwError(state, message) {\n  throw generateError(state, message);\n}\n\nfunction throwWarning(state, message) {\n  if (state.onWarning) {\n    state.onWarning.call(null, generateError(state, message));\n  }\n}\n\n\nvar directiveHandlers = {\n\n  YAML: function handleYamlDirective(state, name, args) {\n\n    var match, major, minor;\n\n    if (state.version !== null) {\n      throwError(state, 'duplication of %YAML directive');\n    }\n\n    if (args.length !== 1) {\n      throwError(state, 'YAML directive accepts exactly one argument');\n    }\n\n    match = /^([0-9]+)\\.([0-9]+)$/.exec(args[0]);\n\n    if (match === null) {\n      throwError(state, 'ill-formed argument of the YAML directive');\n    }\n\n    major = parseInt(match[1], 10);\n    minor = parseInt(match[2], 10);\n\n    if (major !== 1) {\n      throwError(state, 'unacceptable YAML version of the document');\n    }\n\n    state.version = args[0];\n    state.checkLineBreaks = (minor < 2);\n\n    if (minor !== 1 && minor !== 2) {\n      throwWarning(state, 'unsupported YAML version of the document');\n    }\n  },\n\n  TAG: function handleTagDirective(state, name, args) {\n\n    var handle, prefix;\n\n    if (args.length !== 2) {\n      throwError(state, 'TAG directive accepts exactly two arguments');\n    }\n\n    handle = args[0];\n    prefix = args[1];\n\n    if (!PATTERN_TAG_HANDLE.test(handle)) {\n      throwError(state, 'ill-formed tag handle (first argument) of the TAG directive');\n    }\n\n    if (_hasOwnProperty$1.call(state.tagMap, handle)) {\n      throwError(state, 'there is a previously declared suffix for \"' + handle + '\" tag handle');\n    }\n\n    if (!PATTERN_TAG_URI.test(prefix)) {\n      throwError(state, 'ill-formed tag prefix (second argument) of the TAG directive');\n    }\n\n    try {\n      prefix = decodeURIComponent(prefix);\n    } catch (err) {\n      throwError(state, 'tag prefix is malformed: ' + prefix);\n    }\n\n    state.tagMap[handle] = prefix;\n  }\n};\n\n\nfunction captureSegment(state, start, end, checkJson) {\n  var _position, _length, _character, _result;\n\n  if (start < end) {\n    _result = state.input.slice(start, end);\n\n    if (checkJson) {\n      for (_position = 0, _length = _result.length; _position < _length; _position += 1) {\n        _character = _result.charCodeAt(_position);\n        if (!(_character === 0x09 ||\n              (0x20 <= _character && _character <= 0x10FFFF))) {\n          throwError(state, 'expected valid JSON character');\n        }\n      }\n    } else if (PATTERN_NON_PRINTABLE.test(_result)) {\n      throwError(state, 'the stream contains non-printable characters');\n    }\n\n    state.result += _result;\n  }\n}\n\nfunction mergeMappings(state, destination, source, overridableKeys) {\n  var sourceKeys, key, index, quantity;\n\n  if (!common.isObject(source)) {\n    throwError(state, 'cannot merge mappings; the provided source object is unacceptable');\n  }\n\n  sourceKeys = Object.keys(source);\n\n  for (index = 0, quantity = sourceKeys.length; index < quantity; index += 1) {\n    key = sourceKeys[index];\n\n    if (!_hasOwnProperty$1.call(destination, key)) {\n      destination[key] = source[key];\n      overridableKeys[key] = true;\n    }\n  }\n}\n\nfunction storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode,\n  startLine, startLineStart, startPos) {\n\n  var index, quantity;\n\n  // The output is a plain object here, so keys can only be strings.\n  // We need to convert keyNode to a string, but doing so can hang the process\n  // (deeply nested arrays that explode exponentially using aliases).\n  if (Array.isArray(keyNode)) {\n    keyNode = Array.prototype.slice.call(keyNode);\n\n    for (index = 0, quantity = keyNode.length; index < quantity; index += 1) {\n      if (Array.isArray(keyNode[index])) {\n        throwError(state, 'nested arrays are not supported inside keys');\n      }\n\n      if (typeof keyNode === 'object' && _class(keyNode[index]) === '[object Object]') {\n        keyNode[index] = '[object Object]';\n      }\n    }\n  }\n\n  // Avoid code execution in load() via toString property\n  // (still use its own toString for arrays, timestamps,\n  // and whatever user schema extensions happen to have @@toStringTag)\n  if (typeof keyNode === 'object' && _class(keyNode) === '[object Object]') {\n    keyNode = '[object Object]';\n  }\n\n\n  keyNode = String(keyNode);\n\n  if (_result === null) {\n    _result = {};\n  }\n\n  if (keyTag === 'tag:yaml.org,2002:merge') {\n    if (Array.isArray(valueNode)) {\n      for (index = 0, quantity = valueNode.length; index < quantity; index += 1) {\n        mergeMappings(state, _result, valueNode[index], overridableKeys);\n      }\n    } else {\n      mergeMappings(state, _result, valueNode, overridableKeys);\n    }\n  } else {\n    if (!state.json &&\n        !_hasOwnProperty$1.call(overridableKeys, keyNode) &&\n        _hasOwnProperty$1.call(_result, keyNode)) {\n      state.line = startLine || state.line;\n      state.lineStart = startLineStart || state.lineStart;\n      state.position = startPos || state.position;\n      throwError(state, 'duplicated mapping key');\n    }\n\n    // used for this specific key only because Object.defineProperty is slow\n    if (keyNode === '__proto__') {\n      Object.defineProperty(_result, keyNode, {\n        configurable: true,\n        enumerable: true,\n        writable: true,\n        value: valueNode\n      });\n    } else {\n      _result[keyNode] = valueNode;\n    }\n    delete overridableKeys[keyNode];\n  }\n\n  return _result;\n}\n\nfunction readLineBreak(state) {\n  var ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x0A/* LF */) {\n    state.position++;\n  } else if (ch === 0x0D/* CR */) {\n    state.position++;\n    if (state.input.charCodeAt(state.position) === 0x0A/* LF */) {\n      state.position++;\n    }\n  } else {\n    throwError(state, 'a line break is expected');\n  }\n\n  state.line += 1;\n  state.lineStart = state.position;\n  state.firstTabInLine = -1;\n}\n\nfunction skipSeparationSpace(state, allowComments, checkIndent) {\n  var lineBreaks = 0,\n      ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n    while (is_WHITE_SPACE(ch)) {\n      if (ch === 0x09/* Tab */ && state.firstTabInLine === -1) {\n        state.firstTabInLine = state.position;\n      }\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    if (allowComments && ch === 0x23/* # */) {\n      do {\n        ch = state.input.charCodeAt(++state.position);\n      } while (ch !== 0x0A/* LF */ && ch !== 0x0D/* CR */ && ch !== 0);\n    }\n\n    if (is_EOL(ch)) {\n      readLineBreak(state);\n\n      ch = state.input.charCodeAt(state.position);\n      lineBreaks++;\n      state.lineIndent = 0;\n\n      while (ch === 0x20/* Space */) {\n        state.lineIndent++;\n        ch = state.input.charCodeAt(++state.position);\n      }\n    } else {\n      break;\n    }\n  }\n\n  if (checkIndent !== -1 && lineBreaks !== 0 && state.lineIndent < checkIndent) {\n    throwWarning(state, 'deficient indentation');\n  }\n\n  return lineBreaks;\n}\n\nfunction testDocumentSeparator(state) {\n  var _position = state.position,\n      ch;\n\n  ch = state.input.charCodeAt(_position);\n\n  // Condition state.position === state.lineStart is tested\n  // in parent on each call, for efficiency. No needs to test here again.\n  if ((ch === 0x2D/* - */ || ch === 0x2E/* . */) &&\n      ch === state.input.charCodeAt(_position + 1) &&\n      ch === state.input.charCodeAt(_position + 2)) {\n\n    _position += 3;\n\n    ch = state.input.charCodeAt(_position);\n\n    if (ch === 0 || is_WS_OR_EOL(ch)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction writeFoldedLines(state, count) {\n  if (count === 1) {\n    state.result += ' ';\n  } else if (count > 1) {\n    state.result += common.repeat('\\n', count - 1);\n  }\n}\n\n\nfunction readPlainScalar(state, nodeIndent, withinFlowCollection) {\n  var preceding,\n      following,\n      captureStart,\n      captureEnd,\n      hasPendingContent,\n      _line,\n      _lineStart,\n      _lineIndent,\n      _kind = state.kind,\n      _result = state.result,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (is_WS_OR_EOL(ch)      ||\n      is_FLOW_INDICATOR(ch) ||\n      ch === 0x23/* # */    ||\n      ch === 0x26/* & */    ||\n      ch === 0x2A/* * */    ||\n      ch === 0x21/* ! */    ||\n      ch === 0x7C/* | */    ||\n      ch === 0x3E/* > */    ||\n      ch === 0x27/* ' */    ||\n      ch === 0x22/* \" */    ||\n      ch === 0x25/* % */    ||\n      ch === 0x40/* @ */    ||\n      ch === 0x60/* ` */) {\n    return false;\n  }\n\n  if (ch === 0x3F/* ? */ || ch === 0x2D/* - */) {\n    following = state.input.charCodeAt(state.position + 1);\n\n    if (is_WS_OR_EOL(following) ||\n        withinFlowCollection && is_FLOW_INDICATOR(following)) {\n      return false;\n    }\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  captureStart = captureEnd = state.position;\n  hasPendingContent = false;\n\n  while (ch !== 0) {\n    if (ch === 0x3A/* : */) {\n      following = state.input.charCodeAt(state.position + 1);\n\n      if (is_WS_OR_EOL(following) ||\n          withinFlowCollection && is_FLOW_INDICATOR(following)) {\n        break;\n      }\n\n    } else if (ch === 0x23/* # */) {\n      preceding = state.input.charCodeAt(state.position - 1);\n\n      if (is_WS_OR_EOL(preceding)) {\n        break;\n      }\n\n    } else if ((state.position === state.lineStart && testDocumentSeparator(state)) ||\n               withinFlowCollection && is_FLOW_INDICATOR(ch)) {\n      break;\n\n    } else if (is_EOL(ch)) {\n      _line = state.line;\n      _lineStart = state.lineStart;\n      _lineIndent = state.lineIndent;\n      skipSeparationSpace(state, false, -1);\n\n      if (state.lineIndent >= nodeIndent) {\n        hasPendingContent = true;\n        ch = state.input.charCodeAt(state.position);\n        continue;\n      } else {\n        state.position = captureEnd;\n        state.line = _line;\n        state.lineStart = _lineStart;\n        state.lineIndent = _lineIndent;\n        break;\n      }\n    }\n\n    if (hasPendingContent) {\n      captureSegment(state, captureStart, captureEnd, false);\n      writeFoldedLines(state, state.line - _line);\n      captureStart = captureEnd = state.position;\n      hasPendingContent = false;\n    }\n\n    if (!is_WHITE_SPACE(ch)) {\n      captureEnd = state.position + 1;\n    }\n\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  captureSegment(state, captureStart, captureEnd, false);\n\n  if (state.result) {\n    return true;\n  }\n\n  state.kind = _kind;\n  state.result = _result;\n  return false;\n}\n\nfunction readSingleQuotedScalar(state, nodeIndent) {\n  var ch,\n      captureStart, captureEnd;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x27/* ' */) {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  state.position++;\n  captureStart = captureEnd = state.position;\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    if (ch === 0x27/* ' */) {\n      captureSegment(state, captureStart, state.position, true);\n      ch = state.input.charCodeAt(++state.position);\n\n      if (ch === 0x27/* ' */) {\n        captureStart = state.position;\n        state.position++;\n        captureEnd = state.position;\n      } else {\n        return true;\n      }\n\n    } else if (is_EOL(ch)) {\n      captureSegment(state, captureStart, captureEnd, true);\n      writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));\n      captureStart = captureEnd = state.position;\n\n    } else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n      throwError(state, 'unexpected end of the document within a single quoted scalar');\n\n    } else {\n      state.position++;\n      captureEnd = state.position;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a single quoted scalar');\n}\n\nfunction readDoubleQuotedScalar(state, nodeIndent) {\n  var captureStart,\n      captureEnd,\n      hexLength,\n      hexResult,\n      tmp,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x22/* \" */) {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  state.position++;\n  captureStart = captureEnd = state.position;\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    if (ch === 0x22/* \" */) {\n      captureSegment(state, captureStart, state.position, true);\n      state.position++;\n      return true;\n\n    } else if (ch === 0x5C/* \\ */) {\n      captureSegment(state, captureStart, state.position, true);\n      ch = state.input.charCodeAt(++state.position);\n\n      if (is_EOL(ch)) {\n        skipSeparationSpace(state, false, nodeIndent);\n\n        // TODO: rework to inline fn with no type cast?\n      } else if (ch < 256 && simpleEscapeCheck[ch]) {\n        state.result += simpleEscapeMap[ch];\n        state.position++;\n\n      } else if ((tmp = escapedHexLen(ch)) > 0) {\n        hexLength = tmp;\n        hexResult = 0;\n\n        for (; hexLength > 0; hexLength--) {\n          ch = state.input.charCodeAt(++state.position);\n\n          if ((tmp = fromHexCode(ch)) >= 0) {\n            hexResult = (hexResult << 4) + tmp;\n\n          } else {\n            throwError(state, 'expected hexadecimal character');\n          }\n        }\n\n        state.result += charFromCodepoint(hexResult);\n\n        state.position++;\n\n      } else {\n        throwError(state, 'unknown escape sequence');\n      }\n\n      captureStart = captureEnd = state.position;\n\n    } else if (is_EOL(ch)) {\n      captureSegment(state, captureStart, captureEnd, true);\n      writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));\n      captureStart = captureEnd = state.position;\n\n    } else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n      throwError(state, 'unexpected end of the document within a double quoted scalar');\n\n    } else {\n      state.position++;\n      captureEnd = state.position;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a double quoted scalar');\n}\n\nfunction readFlowCollection(state, nodeIndent) {\n  var readNext = true,\n      _line,\n      _lineStart,\n      _pos,\n      _tag     = state.tag,\n      _result,\n      _anchor  = state.anchor,\n      following,\n      terminator,\n      isPair,\n      isExplicitPair,\n      isMapping,\n      overridableKeys = Object.create(null),\n      keyNode,\n      keyTag,\n      valueNode,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x5B/* [ */) {\n    terminator = 0x5D;/* ] */\n    isMapping = false;\n    _result = [];\n  } else if (ch === 0x7B/* { */) {\n    terminator = 0x7D;/* } */\n    isMapping = true;\n    _result = {};\n  } else {\n    return false;\n  }\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n\n  while (ch !== 0) {\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (ch === terminator) {\n      state.position++;\n      state.tag = _tag;\n      state.anchor = _anchor;\n      state.kind = isMapping ? 'mapping' : 'sequence';\n      state.result = _result;\n      return true;\n    } else if (!readNext) {\n      throwError(state, 'missed comma between flow collection entries');\n    } else if (ch === 0x2C/* , */) {\n      // \"flow collection entries can never be completely empty\", as per YAML 1.2, section 7.4\n      throwError(state, \"expected the node content, but found ','\");\n    }\n\n    keyTag = keyNode = valueNode = null;\n    isPair = isExplicitPair = false;\n\n    if (ch === 0x3F/* ? */) {\n      following = state.input.charCodeAt(state.position + 1);\n\n      if (is_WS_OR_EOL(following)) {\n        isPair = isExplicitPair = true;\n        state.position++;\n        skipSeparationSpace(state, true, nodeIndent);\n      }\n    }\n\n    _line = state.line; // Save the current line.\n    _lineStart = state.lineStart;\n    _pos = state.position;\n    composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n    keyTag = state.tag;\n    keyNode = state.result;\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if ((isExplicitPair || state.line === _line) && ch === 0x3A/* : */) {\n      isPair = true;\n      ch = state.input.charCodeAt(++state.position);\n      skipSeparationSpace(state, true, nodeIndent);\n      composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n      valueNode = state.result;\n    }\n\n    if (isMapping) {\n      storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, _line, _lineStart, _pos);\n    } else if (isPair) {\n      _result.push(storeMappingPair(state, null, overridableKeys, keyTag, keyNode, valueNode, _line, _lineStart, _pos));\n    } else {\n      _result.push(keyNode);\n    }\n\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (ch === 0x2C/* , */) {\n      readNext = true;\n      ch = state.input.charCodeAt(++state.position);\n    } else {\n      readNext = false;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a flow collection');\n}\n\nfunction readBlockScalar(state, nodeIndent) {\n  var captureStart,\n      folding,\n      chomping       = CHOMPING_CLIP,\n      didReadContent = false,\n      detectedIndent = false,\n      textIndent     = nodeIndent,\n      emptyLines     = 0,\n      atMoreIndented = false,\n      tmp,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x7C/* | */) {\n    folding = false;\n  } else if (ch === 0x3E/* > */) {\n    folding = true;\n  } else {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n\n  while (ch !== 0) {\n    ch = state.input.charCodeAt(++state.position);\n\n    if (ch === 0x2B/* + */ || ch === 0x2D/* - */) {\n      if (CHOMPING_CLIP === chomping) {\n        chomping = (ch === 0x2B/* + */) ? CHOMPING_KEEP : CHOMPING_STRIP;\n      } else {\n        throwError(state, 'repeat of a chomping mode identifier');\n      }\n\n    } else if ((tmp = fromDecimalCode(ch)) >= 0) {\n      if (tmp === 0) {\n        throwError(state, 'bad explicit indentation width of a block scalar; it cannot be less than one');\n      } else if (!detectedIndent) {\n        textIndent = nodeIndent + tmp - 1;\n        detectedIndent = true;\n      } else {\n        throwError(state, 'repeat of an indentation width identifier');\n      }\n\n    } else {\n      break;\n    }\n  }\n\n  if (is_WHITE_SPACE(ch)) {\n    do { ch = state.input.charCodeAt(++state.position); }\n    while (is_WHITE_SPACE(ch));\n\n    if (ch === 0x23/* # */) {\n      do { ch = state.input.charCodeAt(++state.position); }\n      while (!is_EOL(ch) && (ch !== 0));\n    }\n  }\n\n  while (ch !== 0) {\n    readLineBreak(state);\n    state.lineIndent = 0;\n\n    ch = state.input.charCodeAt(state.position);\n\n    while ((!detectedIndent || state.lineIndent < textIndent) &&\n           (ch === 0x20/* Space */)) {\n      state.lineIndent++;\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    if (!detectedIndent && state.lineIndent > textIndent) {\n      textIndent = state.lineIndent;\n    }\n\n    if (is_EOL(ch)) {\n      emptyLines++;\n      continue;\n    }\n\n    // End of the scalar.\n    if (state.lineIndent < textIndent) {\n\n      // Perform the chomping.\n      if (chomping === CHOMPING_KEEP) {\n        state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n      } else if (chomping === CHOMPING_CLIP) {\n        if (didReadContent) { // i.e. only if the scalar is not empty.\n          state.result += '\\n';\n        }\n      }\n\n      // Break this `while` cycle and go to the funciton's epilogue.\n      break;\n    }\n\n    // Folded style: use fancy rules to handle line breaks.\n    if (folding) {\n\n      // Lines starting with white space characters (more-indented lines) are not folded.\n      if (is_WHITE_SPACE(ch)) {\n        atMoreIndented = true;\n        // except for the first content line (cf. Example 8.1)\n        state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n\n      // End of more-indented block.\n      } else if (atMoreIndented) {\n        atMoreIndented = false;\n        state.result += common.repeat('\\n', emptyLines + 1);\n\n      // Just one line break - perceive as the same line.\n      } else if (emptyLines === 0) {\n        if (didReadContent) { // i.e. only if we have already read some scalar content.\n          state.result += ' ';\n        }\n\n      // Several line breaks - perceive as different lines.\n      } else {\n        state.result += common.repeat('\\n', emptyLines);\n      }\n\n    // Literal style: just add exact number of line breaks between content lines.\n    } else {\n      // Keep all line breaks except the header line break.\n      state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n    }\n\n    didReadContent = true;\n    detectedIndent = true;\n    emptyLines = 0;\n    captureStart = state.position;\n\n    while (!is_EOL(ch) && (ch !== 0)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    captureSegment(state, captureStart, state.position, false);\n  }\n\n  return true;\n}\n\nfunction readBlockSequence(state, nodeIndent) {\n  var _line,\n      _tag      = state.tag,\n      _anchor   = state.anchor,\n      _result   = [],\n      following,\n      detected  = false,\n      ch;\n\n  // there is a leading tab before this token, so it can't be a block sequence/mapping;\n  // it can still be flow sequence/mapping or a scalar\n  if (state.firstTabInLine !== -1) return false;\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n    if (state.firstTabInLine !== -1) {\n      state.position = state.firstTabInLine;\n      throwError(state, 'tab characters must not be used in indentation');\n    }\n\n    if (ch !== 0x2D/* - */) {\n      break;\n    }\n\n    following = state.input.charCodeAt(state.position + 1);\n\n    if (!is_WS_OR_EOL(following)) {\n      break;\n    }\n\n    detected = true;\n    state.position++;\n\n    if (skipSeparationSpace(state, true, -1)) {\n      if (state.lineIndent <= nodeIndent) {\n        _result.push(null);\n        ch = state.input.charCodeAt(state.position);\n        continue;\n      }\n    }\n\n    _line = state.line;\n    composeNode(state, nodeIndent, CONTEXT_BLOCK_IN, false, true);\n    _result.push(state.result);\n    skipSeparationSpace(state, true, -1);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if ((state.line === _line || state.lineIndent > nodeIndent) && (ch !== 0)) {\n      throwError(state, 'bad indentation of a sequence entry');\n    } else if (state.lineIndent < nodeIndent) {\n      break;\n    }\n  }\n\n  if (detected) {\n    state.tag = _tag;\n    state.anchor = _anchor;\n    state.kind = 'sequence';\n    state.result = _result;\n    return true;\n  }\n  return false;\n}\n\nfunction readBlockMapping(state, nodeIndent, flowIndent) {\n  var following,\n      allowCompact,\n      _line,\n      _keyLine,\n      _keyLineStart,\n      _keyPos,\n      _tag          = state.tag,\n      _anchor       = state.anchor,\n      _result       = {},\n      overridableKeys = Object.create(null),\n      keyTag        = null,\n      keyNode       = null,\n      valueNode     = null,\n      atExplicitKey = false,\n      detected      = false,\n      ch;\n\n  // there is a leading tab before this token, so it can't be a block sequence/mapping;\n  // it can still be flow sequence/mapping or a scalar\n  if (state.firstTabInLine !== -1) return false;\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n    if (!atExplicitKey && state.firstTabInLine !== -1) {\n      state.position = state.firstTabInLine;\n      throwError(state, 'tab characters must not be used in indentation');\n    }\n\n    following = state.input.charCodeAt(state.position + 1);\n    _line = state.line; // Save the current line.\n\n    //\n    // Explicit notation case. There are two separate blocks:\n    // first for the key (denoted by \"?\") and second for the value (denoted by \":\")\n    //\n    if ((ch === 0x3F/* ? */ || ch === 0x3A/* : */) && is_WS_OR_EOL(following)) {\n\n      if (ch === 0x3F/* ? */) {\n        if (atExplicitKey) {\n          storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);\n          keyTag = keyNode = valueNode = null;\n        }\n\n        detected = true;\n        atExplicitKey = true;\n        allowCompact = true;\n\n      } else if (atExplicitKey) {\n        // i.e. 0x3A/* : */ === character after the explicit key.\n        atExplicitKey = false;\n        allowCompact = true;\n\n      } else {\n        throwError(state, 'incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line');\n      }\n\n      state.position += 1;\n      ch = following;\n\n    //\n    // Implicit notation case. Flow-style node as the key first, then \":\", and the value.\n    //\n    } else {\n      _keyLine = state.line;\n      _keyLineStart = state.lineStart;\n      _keyPos = state.position;\n\n      if (!composeNode(state, flowIndent, CONTEXT_FLOW_OUT, false, true)) {\n        // Neither implicit nor explicit notation.\n        // Reading is done. Go to the epilogue.\n        break;\n      }\n\n      if (state.line === _line) {\n        ch = state.input.charCodeAt(state.position);\n\n        while (is_WHITE_SPACE(ch)) {\n          ch = state.input.charCodeAt(++state.position);\n        }\n\n        if (ch === 0x3A/* : */) {\n          ch = state.input.charCodeAt(++state.position);\n\n          if (!is_WS_OR_EOL(ch)) {\n            throwError(state, 'a whitespace character is expected after the key-value separator within a block mapping');\n          }\n\n          if (atExplicitKey) {\n            storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);\n            keyTag = keyNode = valueNode = null;\n          }\n\n          detected = true;\n          atExplicitKey = false;\n          allowCompact = false;\n          keyTag = state.tag;\n          keyNode = state.result;\n\n        } else if (detected) {\n          throwError(state, 'can not read an implicit mapping pair; a colon is missed');\n\n        } else {\n          state.tag = _tag;\n          state.anchor = _anchor;\n          return true; // Keep the result of `composeNode`.\n        }\n\n      } else if (detected) {\n        throwError(state, 'can not read a block mapping entry; a multiline key may not be an implicit key');\n\n      } else {\n        state.tag = _tag;\n        state.anchor = _anchor;\n        return true; // Keep the result of `composeNode`.\n      }\n    }\n\n    //\n    // Common reading code for both explicit and implicit notations.\n    //\n    if (state.line === _line || state.lineIndent > nodeIndent) {\n      if (atExplicitKey) {\n        _keyLine = state.line;\n        _keyLineStart = state.lineStart;\n        _keyPos = state.position;\n      }\n\n      if (composeNode(state, nodeIndent, CONTEXT_BLOCK_OUT, true, allowCompact)) {\n        if (atExplicitKey) {\n          keyNode = state.result;\n        } else {\n          valueNode = state.result;\n        }\n      }\n\n      if (!atExplicitKey) {\n        storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, _keyLine, _keyLineStart, _keyPos);\n        keyTag = keyNode = valueNode = null;\n      }\n\n      skipSeparationSpace(state, true, -1);\n      ch = state.input.charCodeAt(state.position);\n    }\n\n    if ((state.line === _line || state.lineIndent > nodeIndent) && (ch !== 0)) {\n      throwError(state, 'bad indentation of a mapping entry');\n    } else if (state.lineIndent < nodeIndent) {\n      break;\n    }\n  }\n\n  //\n  // Epilogue.\n  //\n\n  // Special case: last mapping's node contains only the key in explicit notation.\n  if (atExplicitKey) {\n    storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);\n  }\n\n  // Expose the resulting mapping.\n  if (detected) {\n    state.tag = _tag;\n    state.anchor = _anchor;\n    state.kind = 'mapping';\n    state.result = _result;\n  }\n\n  return detected;\n}\n\nfunction readTagProperty(state) {\n  var _position,\n      isVerbatim = false,\n      isNamed    = false,\n      tagHandle,\n      tagName,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x21/* ! */) return false;\n\n  if (state.tag !== null) {\n    throwError(state, 'duplication of a tag property');\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n\n  if (ch === 0x3C/* < */) {\n    isVerbatim = true;\n    ch = state.input.charCodeAt(++state.position);\n\n  } else if (ch === 0x21/* ! */) {\n    isNamed = true;\n    tagHandle = '!!';\n    ch = state.input.charCodeAt(++state.position);\n\n  } else {\n    tagHandle = '!';\n  }\n\n  _position = state.position;\n\n  if (isVerbatim) {\n    do { ch = state.input.charCodeAt(++state.position); }\n    while (ch !== 0 && ch !== 0x3E/* > */);\n\n    if (state.position < state.length) {\n      tagName = state.input.slice(_position, state.position);\n      ch = state.input.charCodeAt(++state.position);\n    } else {\n      throwError(state, 'unexpected end of the stream within a verbatim tag');\n    }\n  } else {\n    while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n\n      if (ch === 0x21/* ! */) {\n        if (!isNamed) {\n          tagHandle = state.input.slice(_position - 1, state.position + 1);\n\n          if (!PATTERN_TAG_HANDLE.test(tagHandle)) {\n            throwError(state, 'named tag handle cannot contain such characters');\n          }\n\n          isNamed = true;\n          _position = state.position + 1;\n        } else {\n          throwError(state, 'tag suffix cannot contain exclamation marks');\n        }\n      }\n\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    tagName = state.input.slice(_position, state.position);\n\n    if (PATTERN_FLOW_INDICATORS.test(tagName)) {\n      throwError(state, 'tag suffix cannot contain flow indicator characters');\n    }\n  }\n\n  if (tagName && !PATTERN_TAG_URI.test(tagName)) {\n    throwError(state, 'tag name cannot contain such characters: ' + tagName);\n  }\n\n  try {\n    tagName = decodeURIComponent(tagName);\n  } catch (err) {\n    throwError(state, 'tag name is malformed: ' + tagName);\n  }\n\n  if (isVerbatim) {\n    state.tag = tagName;\n\n  } else if (_hasOwnProperty$1.call(state.tagMap, tagHandle)) {\n    state.tag = state.tagMap[tagHandle] + tagName;\n\n  } else if (tagHandle === '!') {\n    state.tag = '!' + tagName;\n\n  } else if (tagHandle === '!!') {\n    state.tag = 'tag:yaml.org,2002:' + tagName;\n\n  } else {\n    throwError(state, 'undeclared tag handle \"' + tagHandle + '\"');\n  }\n\n  return true;\n}\n\nfunction readAnchorProperty(state) {\n  var _position,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x26/* & */) return false;\n\n  if (state.anchor !== null) {\n    throwError(state, 'duplication of an anchor property');\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n  _position = state.position;\n\n  while (ch !== 0 && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  if (state.position === _position) {\n    throwError(state, 'name of an anchor node must contain at least one character');\n  }\n\n  state.anchor = state.input.slice(_position, state.position);\n  return true;\n}\n\nfunction readAlias(state) {\n  var _position, alias,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x2A/* * */) return false;\n\n  ch = state.input.charCodeAt(++state.position);\n  _position = state.position;\n\n  while (ch !== 0 && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  if (state.position === _position) {\n    throwError(state, 'name of an alias node must contain at least one character');\n  }\n\n  alias = state.input.slice(_position, state.position);\n\n  if (!_hasOwnProperty$1.call(state.anchorMap, alias)) {\n    throwError(state, 'unidentified alias \"' + alias + '\"');\n  }\n\n  state.result = state.anchorMap[alias];\n  skipSeparationSpace(state, true, -1);\n  return true;\n}\n\nfunction composeNode(state, parentIndent, nodeContext, allowToSeek, allowCompact) {\n  var allowBlockStyles,\n      allowBlockScalars,\n      allowBlockCollections,\n      indentStatus = 1, // 1: this>parent, 0: this=parent, -1: this<parent\n      atNewLine  = false,\n      hasContent = false,\n      typeIndex,\n      typeQuantity,\n      typeList,\n      type,\n      flowIndent,\n      blockIndent;\n\n  if (state.listener !== null) {\n    state.listener('open', state);\n  }\n\n  state.tag    = null;\n  state.anchor = null;\n  state.kind   = null;\n  state.result = null;\n\n  allowBlockStyles = allowBlockScalars = allowBlockCollections =\n    CONTEXT_BLOCK_OUT === nodeContext ||\n    CONTEXT_BLOCK_IN  === nodeContext;\n\n  if (allowToSeek) {\n    if (skipSeparationSpace(state, true, -1)) {\n      atNewLine = true;\n\n      if (state.lineIndent > parentIndent) {\n        indentStatus = 1;\n      } else if (state.lineIndent === parentIndent) {\n        indentStatus = 0;\n      } else if (state.lineIndent < parentIndent) {\n        indentStatus = -1;\n      }\n    }\n  }\n\n  if (indentStatus === 1) {\n    while (readTagProperty(state) || readAnchorProperty(state)) {\n      if (skipSeparationSpace(state, true, -1)) {\n        atNewLine = true;\n        allowBlockCollections = allowBlockStyles;\n\n        if (state.lineIndent > parentIndent) {\n          indentStatus = 1;\n        } else if (state.lineIndent === parentIndent) {\n          indentStatus = 0;\n        } else if (state.lineIndent < parentIndent) {\n          indentStatus = -1;\n        }\n      } else {\n        allowBlockCollections = false;\n      }\n    }\n  }\n\n  if (allowBlockCollections) {\n    allowBlockCollections = atNewLine || allowCompact;\n  }\n\n  if (indentStatus === 1 || CONTEXT_BLOCK_OUT === nodeContext) {\n    if (CONTEXT_FLOW_IN === nodeContext || CONTEXT_FLOW_OUT === nodeContext) {\n      flowIndent = parentIndent;\n    } else {\n      flowIndent = parentIndent + 1;\n    }\n\n    blockIndent = state.position - state.lineStart;\n\n    if (indentStatus === 1) {\n      if (allowBlockCollections &&\n          (readBlockSequence(state, blockIndent) ||\n           readBlockMapping(state, blockIndent, flowIndent)) ||\n          readFlowCollection(state, flowIndent)) {\n        hasContent = true;\n      } else {\n        if ((allowBlockScalars && readBlockScalar(state, flowIndent)) ||\n            readSingleQuotedScalar(state, flowIndent) ||\n            readDoubleQuotedScalar(state, flowIndent)) {\n          hasContent = true;\n\n        } else if (readAlias(state)) {\n          hasContent = true;\n\n          if (state.tag !== null || state.anchor !== null) {\n            throwError(state, 'alias node should not have any properties');\n          }\n\n        } else if (readPlainScalar(state, flowIndent, CONTEXT_FLOW_IN === nodeContext)) {\n          hasContent = true;\n\n          if (state.tag === null) {\n            state.tag = '?';\n          }\n        }\n\n        if (state.anchor !== null) {\n          state.anchorMap[state.anchor] = state.result;\n        }\n      }\n    } else if (indentStatus === 0) {\n      // Special case: block sequences are allowed to have same indentation level as the parent.\n      // http://www.yaml.org/spec/1.2/spec.html#id2799784\n      hasContent = allowBlockCollections && readBlockSequence(state, blockIndent);\n    }\n  }\n\n  if (state.tag === null) {\n    if (state.anchor !== null) {\n      state.anchorMap[state.anchor] = state.result;\n    }\n\n  } else if (state.tag === '?') {\n    // Implicit resolving is not allowed for non-scalar types, and '?'\n    // non-specific tag is only automatically assigned to plain scalars.\n    //\n    // We only need to check kind conformity in case user explicitly assigns '?'\n    // tag, for example like this: \"!<?> [0]\"\n    //\n    if (state.result !== null && state.kind !== 'scalar') {\n      throwError(state, 'unacceptable node kind for !<?> tag; it should be \"scalar\", not \"' + state.kind + '\"');\n    }\n\n    for (typeIndex = 0, typeQuantity = state.implicitTypes.length; typeIndex < typeQuantity; typeIndex += 1) {\n      type = state.implicitTypes[typeIndex];\n\n      if (type.resolve(state.result)) { // `state.result` updated in resolver if matched\n        state.result = type.construct(state.result);\n        state.tag = type.tag;\n        if (state.anchor !== null) {\n          state.anchorMap[state.anchor] = state.result;\n        }\n        break;\n      }\n    }\n  } else if (state.tag !== '!') {\n    if (_hasOwnProperty$1.call(state.typeMap[state.kind || 'fallback'], state.tag)) {\n      type = state.typeMap[state.kind || 'fallback'][state.tag];\n    } else {\n      // looking for multi type\n      type = null;\n      typeList = state.typeMap.multi[state.kind || 'fallback'];\n\n      for (typeIndex = 0, typeQuantity = typeList.length; typeIndex < typeQuantity; typeIndex += 1) {\n        if (state.tag.slice(0, typeList[typeIndex].tag.length) === typeList[typeIndex].tag) {\n          type = typeList[typeIndex];\n          break;\n        }\n      }\n    }\n\n    if (!type) {\n      throwError(state, 'unknown tag !<' + state.tag + '>');\n    }\n\n    if (state.result !== null && type.kind !== state.kind) {\n      throwError(state, 'unacceptable node kind for !<' + state.tag + '> tag; it should be \"' + type.kind + '\", not \"' + state.kind + '\"');\n    }\n\n    if (!type.resolve(state.result, state.tag)) { // `state.result` updated in resolver if matched\n      throwError(state, 'cannot resolve a node with !<' + state.tag + '> explicit tag');\n    } else {\n      state.result = type.construct(state.result, state.tag);\n      if (state.anchor !== null) {\n        state.anchorMap[state.anchor] = state.result;\n      }\n    }\n  }\n\n  if (state.listener !== null) {\n    state.listener('close', state);\n  }\n  return state.tag !== null ||  state.anchor !== null || hasContent;\n}\n\nfunction readDocument(state) {\n  var documentStart = state.position,\n      _position,\n      directiveName,\n      directiveArgs,\n      hasDirectives = false,\n      ch;\n\n  state.version = null;\n  state.checkLineBreaks = state.legacy;\n  state.tagMap = Object.create(null);\n  state.anchorMap = Object.create(null);\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    skipSeparationSpace(state, true, -1);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (state.lineIndent > 0 || ch !== 0x25/* % */) {\n      break;\n    }\n\n    hasDirectives = true;\n    ch = state.input.charCodeAt(++state.position);\n    _position = state.position;\n\n    while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    directiveName = state.input.slice(_position, state.position);\n    directiveArgs = [];\n\n    if (directiveName.length < 1) {\n      throwError(state, 'directive name must not be less than one character in length');\n    }\n\n    while (ch !== 0) {\n      while (is_WHITE_SPACE(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n      }\n\n      if (ch === 0x23/* # */) {\n        do { ch = state.input.charCodeAt(++state.position); }\n        while (ch !== 0 && !is_EOL(ch));\n        break;\n      }\n\n      if (is_EOL(ch)) break;\n\n      _position = state.position;\n\n      while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n      }\n\n      directiveArgs.push(state.input.slice(_position, state.position));\n    }\n\n    if (ch !== 0) readLineBreak(state);\n\n    if (_hasOwnProperty$1.call(directiveHandlers, directiveName)) {\n      directiveHandlers[directiveName](state, directiveName, directiveArgs);\n    } else {\n      throwWarning(state, 'unknown document directive \"' + directiveName + '\"');\n    }\n  }\n\n  skipSeparationSpace(state, true, -1);\n\n  if (state.lineIndent === 0 &&\n      state.input.charCodeAt(state.position)     === 0x2D/* - */ &&\n      state.input.charCodeAt(state.position + 1) === 0x2D/* - */ &&\n      state.input.charCodeAt(state.position + 2) === 0x2D/* - */) {\n    state.position += 3;\n    skipSeparationSpace(state, true, -1);\n\n  } else if (hasDirectives) {\n    throwError(state, 'directives end mark is expected');\n  }\n\n  composeNode(state, state.lineIndent - 1, CONTEXT_BLOCK_OUT, false, true);\n  skipSeparationSpace(state, true, -1);\n\n  if (state.checkLineBreaks &&\n      PATTERN_NON_ASCII_LINE_BREAKS.test(state.input.slice(documentStart, state.position))) {\n    throwWarning(state, 'non-ASCII line breaks are interpreted as content');\n  }\n\n  state.documents.push(state.result);\n\n  if (state.position === state.lineStart && testDocumentSeparator(state)) {\n\n    if (state.input.charCodeAt(state.position) === 0x2E/* . */) {\n      state.position += 3;\n      skipSeparationSpace(state, true, -1);\n    }\n    return;\n  }\n\n  if (state.position < (state.length - 1)) {\n    throwError(state, 'end of the stream or a document separator is expected');\n  } else {\n    return;\n  }\n}\n\n\nfunction loadDocuments(input, options) {\n  input = String(input);\n  options = options || {};\n\n  if (input.length !== 0) {\n\n    // Add tailing `\\n` if not exists\n    if (input.charCodeAt(input.length - 1) !== 0x0A/* LF */ &&\n        input.charCodeAt(input.length - 1) !== 0x0D/* CR */) {\n      input += '\\n';\n    }\n\n    // Strip BOM\n    if (input.charCodeAt(0) === 0xFEFF) {\n      input = input.slice(1);\n    }\n  }\n\n  var state = new State$1(input, options);\n\n  var nullpos = input.indexOf('\\0');\n\n  if (nullpos !== -1) {\n    state.position = nullpos;\n    throwError(state, 'null byte is not allowed in input');\n  }\n\n  // Use 0 as string terminator. That significantly simplifies bounds check.\n  state.input += '\\0';\n\n  while (state.input.charCodeAt(state.position) === 0x20/* Space */) {\n    state.lineIndent += 1;\n    state.position += 1;\n  }\n\n  while (state.position < (state.length - 1)) {\n    readDocument(state);\n  }\n\n  return state.documents;\n}\n\n\nfunction loadAll$1(input, iterator, options) {\n  if (iterator !== null && typeof iterator === 'object' && typeof options === 'undefined') {\n    options = iterator;\n    iterator = null;\n  }\n\n  var documents = loadDocuments(input, options);\n\n  if (typeof iterator !== 'function') {\n    return documents;\n  }\n\n  for (var index = 0, length = documents.length; index < length; index += 1) {\n    iterator(documents[index]);\n  }\n}\n\n\nfunction load$1(input, options) {\n  var documents = loadDocuments(input, options);\n\n  if (documents.length === 0) {\n    /*eslint-disable no-undefined*/\n    return undefined;\n  } else if (documents.length === 1) {\n    return documents[0];\n  }\n  throw new exception('expected a single document in the stream, but found more');\n}\n\n\nvar loadAll_1 = loadAll$1;\nvar load_1    = load$1;\n\nvar loader = {\n\tloadAll: loadAll_1,\n\tload: load_1\n};\n\n/*eslint-disable no-use-before-define*/\n\n\n\n\n\nvar _toString       = Object.prototype.toString;\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar CHAR_BOM                  = 0xFEFF;\nvar CHAR_TAB                  = 0x09; /* Tab */\nvar CHAR_LINE_FEED            = 0x0A; /* LF */\nvar CHAR_CARRIAGE_RETURN      = 0x0D; /* CR */\nvar CHAR_SPACE                = 0x20; /* Space */\nvar CHAR_EXCLAMATION          = 0x21; /* ! */\nvar CHAR_DOUBLE_QUOTE         = 0x22; /* \" */\nvar CHAR_SHARP                = 0x23; /* # */\nvar CHAR_PERCENT              = 0x25; /* % */\nvar CHAR_AMPERSAND            = 0x26; /* & */\nvar CHAR_SINGLE_QUOTE         = 0x27; /* ' */\nvar CHAR_ASTERISK             = 0x2A; /* * */\nvar CHAR_COMMA                = 0x2C; /* , */\nvar CHAR_MINUS                = 0x2D; /* - */\nvar CHAR_COLON                = 0x3A; /* : */\nvar CHAR_EQUALS               = 0x3D; /* = */\nvar CHAR_GREATER_THAN         = 0x3E; /* > */\nvar CHAR_QUESTION             = 0x3F; /* ? */\nvar CHAR_COMMERCIAL_AT        = 0x40; /* @ */\nvar CHAR_LEFT_SQUARE_BRACKET  = 0x5B; /* [ */\nvar CHAR_RIGHT_SQUARE_BRACKET = 0x5D; /* ] */\nvar CHAR_GRAVE_ACCENT         = 0x60; /* ` */\nvar CHAR_LEFT_CURLY_BRACKET   = 0x7B; /* { */\nvar CHAR_VERTICAL_LINE        = 0x7C; /* | */\nvar CHAR_RIGHT_CURLY_BRACKET  = 0x7D; /* } */\n\nvar ESCAPE_SEQUENCES = {};\n\nESCAPE_SEQUENCES[0x00]   = '\\\\0';\nESCAPE_SEQUENCES[0x07]   = '\\\\a';\nESCAPE_SEQUENCES[0x08]   = '\\\\b';\nESCAPE_SEQUENCES[0x09]   = '\\\\t';\nESCAPE_SEQUENCES[0x0A]   = '\\\\n';\nESCAPE_SEQUENCES[0x0B]   = '\\\\v';\nESCAPE_SEQUENCES[0x0C]   = '\\\\f';\nESCAPE_SEQUENCES[0x0D]   = '\\\\r';\nESCAPE_SEQUENCES[0x1B]   = '\\\\e';\nESCAPE_SEQUENCES[0x22]   = '\\\\\"';\nESCAPE_SEQUENCES[0x5C]   = '\\\\\\\\';\nESCAPE_SEQUENCES[0x85]   = '\\\\N';\nESCAPE_SEQUENCES[0xA0]   = '\\\\_';\nESCAPE_SEQUENCES[0x2028] = '\\\\L';\nESCAPE_SEQUENCES[0x2029] = '\\\\P';\n\nvar DEPRECATED_BOOLEANS_SYNTAX = [\n  'y', 'Y', 'yes', 'Yes', 'YES', 'on', 'On', 'ON',\n  'n', 'N', 'no', 'No', 'NO', 'off', 'Off', 'OFF'\n];\n\nvar DEPRECATED_BASE60_SYNTAX = /^[-+]?[0-9_]+(?::[0-9_]+)+(?:\\.[0-9_]*)?$/;\n\nfunction compileStyleMap(schema, map) {\n  var result, keys, index, length, tag, style, type;\n\n  if (map === null) return {};\n\n  result = {};\n  keys = Object.keys(map);\n\n  for (index = 0, length = keys.length; index < length; index += 1) {\n    tag = keys[index];\n    style = String(map[tag]);\n\n    if (tag.slice(0, 2) === '!!') {\n      tag = 'tag:yaml.org,2002:' + tag.slice(2);\n    }\n    type = schema.compiledTypeMap['fallback'][tag];\n\n    if (type && _hasOwnProperty.call(type.styleAliases, style)) {\n      style = type.styleAliases[style];\n    }\n\n    result[tag] = style;\n  }\n\n  return result;\n}\n\nfunction encodeHex(character) {\n  var string, handle, length;\n\n  string = character.toString(16).toUpperCase();\n\n  if (character <= 0xFF) {\n    handle = 'x';\n    length = 2;\n  } else if (character <= 0xFFFF) {\n    handle = 'u';\n    length = 4;\n  } else if (character <= 0xFFFFFFFF) {\n    handle = 'U';\n    length = 8;\n  } else {\n    throw new exception('code point within a string may not be greater than 0xFFFFFFFF');\n  }\n\n  return '\\\\' + handle + common.repeat('0', length - string.length) + string;\n}\n\n\nvar QUOTING_TYPE_SINGLE = 1,\n    QUOTING_TYPE_DOUBLE = 2;\n\nfunction State(options) {\n  this.schema        = options['schema'] || _default;\n  this.indent        = Math.max(1, (options['indent'] || 2));\n  this.noArrayIndent = options['noArrayIndent'] || false;\n  this.skipInvalid   = options['skipInvalid'] || false;\n  this.flowLevel     = (common.isNothing(options['flowLevel']) ? -1 : options['flowLevel']);\n  this.styleMap      = compileStyleMap(this.schema, options['styles'] || null);\n  this.sortKeys      = options['sortKeys'] || false;\n  this.lineWidth     = options['lineWidth'] || 80;\n  this.noRefs        = options['noRefs'] || false;\n  this.noCompatMode  = options['noCompatMode'] || false;\n  this.condenseFlow  = options['condenseFlow'] || false;\n  this.quotingType   = options['quotingType'] === '\"' ? QUOTING_TYPE_DOUBLE : QUOTING_TYPE_SINGLE;\n  this.forceQuotes   = options['forceQuotes'] || false;\n  this.replacer      = typeof options['replacer'] === 'function' ? options['replacer'] : null;\n\n  this.implicitTypes = this.schema.compiledImplicit;\n  this.explicitTypes = this.schema.compiledExplicit;\n\n  this.tag = null;\n  this.result = '';\n\n  this.duplicates = [];\n  this.usedDuplicates = null;\n}\n\n// Indents every line in a string. Empty lines (\\n only) are not indented.\nfunction indentString(string, spaces) {\n  var ind = common.repeat(' ', spaces),\n      position = 0,\n      next = -1,\n      result = '',\n      line,\n      length = string.length;\n\n  while (position < length) {\n    next = string.indexOf('\\n', position);\n    if (next === -1) {\n      line = string.slice(position);\n      position = length;\n    } else {\n      line = string.slice(position, next + 1);\n      position = next + 1;\n    }\n\n    if (line.length && line !== '\\n') result += ind;\n\n    result += line;\n  }\n\n  return result;\n}\n\nfunction generateNextLine(state, level) {\n  return '\\n' + common.repeat(' ', state.indent * level);\n}\n\nfunction testImplicitResolving(state, str) {\n  var index, length, type;\n\n  for (index = 0, length = state.implicitTypes.length; index < length; index += 1) {\n    type = state.implicitTypes[index];\n\n    if (type.resolve(str)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// [33] s-white ::= s-space | s-tab\nfunction isWhitespace(c) {\n  return c === CHAR_SPACE || c === CHAR_TAB;\n}\n\n// Returns true if the character can be printed without escaping.\n// From YAML 1.2: \"any allowed characters known to be non-printable\n// should also be escaped. [However,] This isn’t mandatory\"\n// Derived from nb-char - \\t - #x85 - #xA0 - #x2028 - #x2029.\nfunction isPrintable(c) {\n  return  (0x00020 <= c && c <= 0x00007E)\n      || ((0x000A1 <= c && c <= 0x00D7FF) && c !== 0x2028 && c !== 0x2029)\n      || ((0x0E000 <= c && c <= 0x00FFFD) && c !== CHAR_BOM)\n      ||  (0x10000 <= c && c <= 0x10FFFF);\n}\n\n// [34] ns-char ::= nb-char - s-white\n// [27] nb-char ::= c-printable - b-char - c-byte-order-mark\n// [26] b-char  ::= b-line-feed | b-carriage-return\n// Including s-white (for some reason, examples doesn't match specs in this aspect)\n// ns-char ::= c-printable - b-line-feed - b-carriage-return - c-byte-order-mark\nfunction isNsCharOrWhitespace(c) {\n  return isPrintable(c)\n    && c !== CHAR_BOM\n    // - b-char\n    && c !== CHAR_CARRIAGE_RETURN\n    && c !== CHAR_LINE_FEED;\n}\n\n// [127]  ns-plain-safe(c) ::= c = flow-out  ⇒ ns-plain-safe-out\n//                             c = flow-in   ⇒ ns-plain-safe-in\n//                             c = block-key ⇒ ns-plain-safe-out\n//                             c = flow-key  ⇒ ns-plain-safe-in\n// [128] ns-plain-safe-out ::= ns-char\n// [129]  ns-plain-safe-in ::= ns-char - c-flow-indicator\n// [130]  ns-plain-char(c) ::=  ( ns-plain-safe(c) - “:” - “#” )\n//                            | ( /* An ns-char preceding */ “#” )\n//                            | ( “:” /* Followed by an ns-plain-safe(c) */ )\nfunction isPlainSafe(c, prev, inblock) {\n  var cIsNsCharOrWhitespace = isNsCharOrWhitespace(c);\n  var cIsNsChar = cIsNsCharOrWhitespace && !isWhitespace(c);\n  return (\n    // ns-plain-safe\n    inblock ? // c = flow-in\n      cIsNsCharOrWhitespace\n      : cIsNsCharOrWhitespace\n        // - c-flow-indicator\n        && c !== CHAR_COMMA\n        && c !== CHAR_LEFT_SQUARE_BRACKET\n        && c !== CHAR_RIGHT_SQUARE_BRACKET\n        && c !== CHAR_LEFT_CURLY_BRACKET\n        && c !== CHAR_RIGHT_CURLY_BRACKET\n  )\n    // ns-plain-char\n    && c !== CHAR_SHARP // false on '#'\n    && !(prev === CHAR_COLON && !cIsNsChar) // false on ': '\n    || (isNsCharOrWhitespace(prev) && !isWhitespace(prev) && c === CHAR_SHARP) // change to true on '[^ ]#'\n    || (prev === CHAR_COLON && cIsNsChar); // change to true on ':[^ ]'\n}\n\n// Simplified test for values allowed as the first character in plain style.\nfunction isPlainSafeFirst(c) {\n  // Uses a subset of ns-char - c-indicator\n  // where ns-char = nb-char - s-white.\n  // No support of ( ( “?” | “:” | “-” ) /* Followed by an ns-plain-safe(c)) */ ) part\n  return isPrintable(c) && c !== CHAR_BOM\n    && !isWhitespace(c) // - s-white\n    // - (c-indicator ::=\n    // “-” | “?” | “:” | “,” | “[” | “]” | “{” | “}”\n    && c !== CHAR_MINUS\n    && c !== CHAR_QUESTION\n    && c !== CHAR_COLON\n    && c !== CHAR_COMMA\n    && c !== CHAR_LEFT_SQUARE_BRACKET\n    && c !== CHAR_RIGHT_SQUARE_BRACKET\n    && c !== CHAR_LEFT_CURLY_BRACKET\n    && c !== CHAR_RIGHT_CURLY_BRACKET\n    // | “#” | “&” | “*” | “!” | “|” | “=” | “>” | “'” | “\"”\n    && c !== CHAR_SHARP\n    && c !== CHAR_AMPERSAND\n    && c !== CHAR_ASTERISK\n    && c !== CHAR_EXCLAMATION\n    && c !== CHAR_VERTICAL_LINE\n    && c !== CHAR_EQUALS\n    && c !== CHAR_GREATER_THAN\n    && c !== CHAR_SINGLE_QUOTE\n    && c !== CHAR_DOUBLE_QUOTE\n    // | “%” | “@” | “`”)\n    && c !== CHAR_PERCENT\n    && c !== CHAR_COMMERCIAL_AT\n    && c !== CHAR_GRAVE_ACCENT;\n}\n\n// Simplified test for values allowed as the last character in plain style.\nfunction isPlainSafeLast(c) {\n  // just not whitespace or colon, it will be checked to be plain character later\n  return !isWhitespace(c) && c !== CHAR_COLON;\n}\n\n// Same as 'string'.codePointAt(pos), but works in older browsers.\nfunction codePointAt(string, pos) {\n  var first = string.charCodeAt(pos), second;\n  if (first >= 0xD800 && first <= 0xDBFF && pos + 1 < string.length) {\n    second = string.charCodeAt(pos + 1);\n    if (second >= 0xDC00 && second <= 0xDFFF) {\n      // https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n      return (first - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n    }\n  }\n  return first;\n}\n\n// Determines whether block indentation indicator is required.\nfunction needIndentIndicator(string) {\n  var leadingSpaceRe = /^\\n* /;\n  return leadingSpaceRe.test(string);\n}\n\nvar STYLE_PLAIN   = 1,\n    STYLE_SINGLE  = 2,\n    STYLE_LITERAL = 3,\n    STYLE_FOLDED  = 4,\n    STYLE_DOUBLE  = 5;\n\n// Determines which scalar styles are possible and returns the preferred style.\n// lineWidth = -1 => no limit.\n// Pre-conditions: str.length > 0.\n// Post-conditions:\n//    STYLE_PLAIN or STYLE_SINGLE => no \\n are in the string.\n//    STYLE_LITERAL => no lines are suitable for folding (or lineWidth is -1).\n//    STYLE_FOLDED => a line > lineWidth and can be folded (and lineWidth != -1).\nfunction chooseScalarStyle(string, singleLineOnly, indentPerLevel, lineWidth,\n  testAmbiguousType, quotingType, forceQuotes, inblock) {\n\n  var i;\n  var char = 0;\n  var prevChar = null;\n  var hasLineBreak = false;\n  var hasFoldableLine = false; // only checked if shouldTrackWidth\n  var shouldTrackWidth = lineWidth !== -1;\n  var previousLineBreak = -1; // count the first line correctly\n  var plain = isPlainSafeFirst(codePointAt(string, 0))\n          && isPlainSafeLast(codePointAt(string, string.length - 1));\n\n  if (singleLineOnly || forceQuotes) {\n    // Case: no block styles.\n    // Check for disallowed characters to rule out plain and single.\n    for (i = 0; i < string.length; char >= 0x10000 ? i += 2 : i++) {\n      char = codePointAt(string, i);\n      if (!isPrintable(char)) {\n        return STYLE_DOUBLE;\n      }\n      plain = plain && isPlainSafe(char, prevChar, inblock);\n      prevChar = char;\n    }\n  } else {\n    // Case: block styles permitted.\n    for (i = 0; i < string.length; char >= 0x10000 ? i += 2 : i++) {\n      char = codePointAt(string, i);\n      if (char === CHAR_LINE_FEED) {\n        hasLineBreak = true;\n        // Check if any line can be folded.\n        if (shouldTrackWidth) {\n          hasFoldableLine = hasFoldableLine ||\n            // Foldable line = too long, and not more-indented.\n            (i - previousLineBreak - 1 > lineWidth &&\n             string[previousLineBreak + 1] !== ' ');\n          previousLineBreak = i;\n        }\n      } else if (!isPrintable(char)) {\n        return STYLE_DOUBLE;\n      }\n      plain = plain && isPlainSafe(char, prevChar, inblock);\n      prevChar = char;\n    }\n    // in case the end is missing a \\n\n    hasFoldableLine = hasFoldableLine || (shouldTrackWidth &&\n      (i - previousLineBreak - 1 > lineWidth &&\n       string[previousLineBreak + 1] !== ' '));\n  }\n  // Although every style can represent \\n without escaping, prefer block styles\n  // for multiline, since they're more readable and they don't add empty lines.\n  // Also prefer folding a super-long line.\n  if (!hasLineBreak && !hasFoldableLine) {\n    // Strings interpretable as another type have to be quoted;\n    // e.g. the string 'true' vs. the boolean true.\n    if (plain && !forceQuotes && !testAmbiguousType(string)) {\n      return STYLE_PLAIN;\n    }\n    return quotingType === QUOTING_TYPE_DOUBLE ? STYLE_DOUBLE : STYLE_SINGLE;\n  }\n  // Edge case: block indentation indicator can only have one digit.\n  if (indentPerLevel > 9 && needIndentIndicator(string)) {\n    return STYLE_DOUBLE;\n  }\n  // At this point we know block styles are valid.\n  // Prefer literal style unless we want to fold.\n  if (!forceQuotes) {\n    return hasFoldableLine ? STYLE_FOLDED : STYLE_LITERAL;\n  }\n  return quotingType === QUOTING_TYPE_DOUBLE ? STYLE_DOUBLE : STYLE_SINGLE;\n}\n\n// Note: line breaking/folding is implemented for only the folded style.\n// NB. We drop the last trailing newline (if any) of a returned block scalar\n//  since the dumper adds its own newline. This always works:\n//    • No ending newline => unaffected; already using strip \"-\" chomping.\n//    • Ending newline    => removed then restored.\n//  Importantly, this keeps the \"+\" chomp indicator from gaining an extra line.\nfunction writeScalar(state, string, level, iskey, inblock) {\n  state.dump = (function () {\n    if (string.length === 0) {\n      return state.quotingType === QUOTING_TYPE_DOUBLE ? '\"\"' : \"''\";\n    }\n    if (!state.noCompatMode) {\n      if (DEPRECATED_BOOLEANS_SYNTAX.indexOf(string) !== -1 || DEPRECATED_BASE60_SYNTAX.test(string)) {\n        return state.quotingType === QUOTING_TYPE_DOUBLE ? ('\"' + string + '\"') : (\"'\" + string + \"'\");\n      }\n    }\n\n    var indent = state.indent * Math.max(1, level); // no 0-indent scalars\n    // As indentation gets deeper, let the width decrease monotonically\n    // to the lower bound min(state.lineWidth, 40).\n    // Note that this implies\n    //  state.lineWidth ≤ 40 + state.indent: width is fixed at the lower bound.\n    //  state.lineWidth > 40 + state.indent: width decreases until the lower bound.\n    // This behaves better than a constant minimum width which disallows narrower options,\n    // or an indent threshold which causes the width to suddenly increase.\n    var lineWidth = state.lineWidth === -1\n      ? -1 : Math.max(Math.min(state.lineWidth, 40), state.lineWidth - indent);\n\n    // Without knowing if keys are implicit/explicit, assume implicit for safety.\n    var singleLineOnly = iskey\n      // No block styles in flow mode.\n      || (state.flowLevel > -1 && level >= state.flowLevel);\n    function testAmbiguity(string) {\n      return testImplicitResolving(state, string);\n    }\n\n    switch (chooseScalarStyle(string, singleLineOnly, state.indent, lineWidth,\n      testAmbiguity, state.quotingType, state.forceQuotes && !iskey, inblock)) {\n\n      case STYLE_PLAIN:\n        return string;\n      case STYLE_SINGLE:\n        return \"'\" + string.replace(/'/g, \"''\") + \"'\";\n      case STYLE_LITERAL:\n        return '|' + blockHeader(string, state.indent)\n          + dropEndingNewline(indentString(string, indent));\n      case STYLE_FOLDED:\n        return '>' + blockHeader(string, state.indent)\n          + dropEndingNewline(indentString(foldString(string, lineWidth), indent));\n      case STYLE_DOUBLE:\n        return '\"' + escapeString(string) + '\"';\n      default:\n        throw new exception('impossible error: invalid scalar style');\n    }\n  }());\n}\n\n// Pre-conditions: string is valid for a block scalar, 1 <= indentPerLevel <= 9.\nfunction blockHeader(string, indentPerLevel) {\n  var indentIndicator = needIndentIndicator(string) ? String(indentPerLevel) : '';\n\n  // note the special case: the string '\\n' counts as a \"trailing\" empty line.\n  var clip =          string[string.length - 1] === '\\n';\n  var keep = clip && (string[string.length - 2] === '\\n' || string === '\\n');\n  var chomp = keep ? '+' : (clip ? '' : '-');\n\n  return indentIndicator + chomp + '\\n';\n}\n\n// (See the note for writeScalar.)\nfunction dropEndingNewline(string) {\n  return string[string.length - 1] === '\\n' ? string.slice(0, -1) : string;\n}\n\n// Note: a long line without a suitable break point will exceed the width limit.\n// Pre-conditions: every char in str isPrintable, str.length > 0, width > 0.\nfunction foldString(string, width) {\n  // In folded style, $k$ consecutive newlines output as $k+1$ newlines—\n  // unless they're before or after a more-indented line, or at the very\n  // beginning or end, in which case $k$ maps to $k$.\n  // Therefore, parse each chunk as newline(s) followed by a content line.\n  var lineRe = /(\\n+)([^\\n]*)/g;\n\n  // first line (possibly an empty line)\n  var result = (function () {\n    var nextLF = string.indexOf('\\n');\n    nextLF = nextLF !== -1 ? nextLF : string.length;\n    lineRe.lastIndex = nextLF;\n    return foldLine(string.slice(0, nextLF), width);\n  }());\n  // If we haven't reached the first content line yet, don't add an extra \\n.\n  var prevMoreIndented = string[0] === '\\n' || string[0] === ' ';\n  var moreIndented;\n\n  // rest of the lines\n  var match;\n  while ((match = lineRe.exec(string))) {\n    var prefix = match[1], line = match[2];\n    moreIndented = (line[0] === ' ');\n    result += prefix\n      + (!prevMoreIndented && !moreIndented && line !== ''\n        ? '\\n' : '')\n      + foldLine(line, width);\n    prevMoreIndented = moreIndented;\n  }\n\n  return result;\n}\n\n// Greedy line breaking.\n// Picks the longest line under the limit each time,\n// otherwise settles for the shortest line over the limit.\n// NB. More-indented lines *cannot* be folded, as that would add an extra \\n.\nfunction foldLine(line, width) {\n  if (line === '' || line[0] === ' ') return line;\n\n  // Since a more-indented line adds a \\n, breaks can't be followed by a space.\n  var breakRe = / [^ ]/g; // note: the match index will always be <= length-2.\n  var match;\n  // start is an inclusive index. end, curr, and next are exclusive.\n  var start = 0, end, curr = 0, next = 0;\n  var result = '';\n\n  // Invariants: 0 <= start <= length-1.\n  //   0 <= curr <= next <= max(0, length-2). curr - start <= width.\n  // Inside the loop:\n  //   A match implies length >= 2, so curr and next are <= length-2.\n  while ((match = breakRe.exec(line))) {\n    next = match.index;\n    // maintain invariant: curr - start <= width\n    if (next - start > width) {\n      end = (curr > start) ? curr : next; // derive end <= length-2\n      result += '\\n' + line.slice(start, end);\n      // skip the space that was output as \\n\n      start = end + 1;                    // derive start <= length-1\n    }\n    curr = next;\n  }\n\n  // By the invariants, start <= length-1, so there is something left over.\n  // It is either the whole string or a part starting from non-whitespace.\n  result += '\\n';\n  // Insert a break if the remainder is too long and there is a break available.\n  if (line.length - start > width && curr > start) {\n    result += line.slice(start, curr) + '\\n' + line.slice(curr + 1);\n  } else {\n    result += line.slice(start);\n  }\n\n  return result.slice(1); // drop extra \\n joiner\n}\n\n// Escapes a double-quoted string.\nfunction escapeString(string) {\n  var result = '';\n  var char = 0;\n  var escapeSeq;\n\n  for (var i = 0; i < string.length; char >= 0x10000 ? i += 2 : i++) {\n    char = codePointAt(string, i);\n    escapeSeq = ESCAPE_SEQUENCES[char];\n\n    if (!escapeSeq && isPrintable(char)) {\n      result += string[i];\n      if (char >= 0x10000) result += string[i + 1];\n    } else {\n      result += escapeSeq || encodeHex(char);\n    }\n  }\n\n  return result;\n}\n\nfunction writeFlowSequence(state, level, object) {\n  var _result = '',\n      _tag    = state.tag,\n      index,\n      length,\n      value;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    value = object[index];\n\n    if (state.replacer) {\n      value = state.replacer.call(object, String(index), value);\n    }\n\n    // Write only valid elements, put null instead of invalid elements.\n    if (writeNode(state, level, value, false, false) ||\n        (typeof value === 'undefined' &&\n         writeNode(state, level, null, false, false))) {\n\n      if (_result !== '') _result += ',' + (!state.condenseFlow ? ' ' : '');\n      _result += state.dump;\n    }\n  }\n\n  state.tag = _tag;\n  state.dump = '[' + _result + ']';\n}\n\nfunction writeBlockSequence(state, level, object, compact) {\n  var _result = '',\n      _tag    = state.tag,\n      index,\n      length,\n      value;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    value = object[index];\n\n    if (state.replacer) {\n      value = state.replacer.call(object, String(index), value);\n    }\n\n    // Write only valid elements, put null instead of invalid elements.\n    if (writeNode(state, level + 1, value, true, true, false, true) ||\n        (typeof value === 'undefined' &&\n         writeNode(state, level + 1, null, true, true, false, true))) {\n\n      if (!compact || _result !== '') {\n        _result += generateNextLine(state, level);\n      }\n\n      if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n        _result += '-';\n      } else {\n        _result += '- ';\n      }\n\n      _result += state.dump;\n    }\n  }\n\n  state.tag = _tag;\n  state.dump = _result || '[]'; // Empty sequence if no valid values.\n}\n\nfunction writeFlowMapping(state, level, object) {\n  var _result       = '',\n      _tag          = state.tag,\n      objectKeyList = Object.keys(object),\n      index,\n      length,\n      objectKey,\n      objectValue,\n      pairBuffer;\n\n  for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n\n    pairBuffer = '';\n    if (_result !== '') pairBuffer += ', ';\n\n    if (state.condenseFlow) pairBuffer += '\"';\n\n    objectKey = objectKeyList[index];\n    objectValue = object[objectKey];\n\n    if (state.replacer) {\n      objectValue = state.replacer.call(object, objectKey, objectValue);\n    }\n\n    if (!writeNode(state, level, objectKey, false, false)) {\n      continue; // Skip this pair because of invalid key;\n    }\n\n    if (state.dump.length > 1024) pairBuffer += '? ';\n\n    pairBuffer += state.dump + (state.condenseFlow ? '\"' : '') + ':' + (state.condenseFlow ? '' : ' ');\n\n    if (!writeNode(state, level, objectValue, false, false)) {\n      continue; // Skip this pair because of invalid value.\n    }\n\n    pairBuffer += state.dump;\n\n    // Both key and value are valid.\n    _result += pairBuffer;\n  }\n\n  state.tag = _tag;\n  state.dump = '{' + _result + '}';\n}\n\nfunction writeBlockMapping(state, level, object, compact) {\n  var _result       = '',\n      _tag          = state.tag,\n      objectKeyList = Object.keys(object),\n      index,\n      length,\n      objectKey,\n      objectValue,\n      explicitPair,\n      pairBuffer;\n\n  // Allow sorting keys so that the output file is deterministic\n  if (state.sortKeys === true) {\n    // Default sorting\n    objectKeyList.sort();\n  } else if (typeof state.sortKeys === 'function') {\n    // Custom sort function\n    objectKeyList.sort(state.sortKeys);\n  } else if (state.sortKeys) {\n    // Something is wrong\n    throw new exception('sortKeys must be a boolean or a function');\n  }\n\n  for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n    pairBuffer = '';\n\n    if (!compact || _result !== '') {\n      pairBuffer += generateNextLine(state, level);\n    }\n\n    objectKey = objectKeyList[index];\n    objectValue = object[objectKey];\n\n    if (state.replacer) {\n      objectValue = state.replacer.call(object, objectKey, objectValue);\n    }\n\n    if (!writeNode(state, level + 1, objectKey, true, true, true)) {\n      continue; // Skip this pair because of invalid key.\n    }\n\n    explicitPair = (state.tag !== null && state.tag !== '?') ||\n                   (state.dump && state.dump.length > 1024);\n\n    if (explicitPair) {\n      if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n        pairBuffer += '?';\n      } else {\n        pairBuffer += '? ';\n      }\n    }\n\n    pairBuffer += state.dump;\n\n    if (explicitPair) {\n      pairBuffer += generateNextLine(state, level);\n    }\n\n    if (!writeNode(state, level + 1, objectValue, true, explicitPair)) {\n      continue; // Skip this pair because of invalid value.\n    }\n\n    if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n      pairBuffer += ':';\n    } else {\n      pairBuffer += ': ';\n    }\n\n    pairBuffer += state.dump;\n\n    // Both key and value are valid.\n    _result += pairBuffer;\n  }\n\n  state.tag = _tag;\n  state.dump = _result || '{}'; // Empty mapping if no valid pairs.\n}\n\nfunction detectType(state, object, explicit) {\n  var _result, typeList, index, length, type, style;\n\n  typeList = explicit ? state.explicitTypes : state.implicitTypes;\n\n  for (index = 0, length = typeList.length; index < length; index += 1) {\n    type = typeList[index];\n\n    if ((type.instanceOf  || type.predicate) &&\n        (!type.instanceOf || ((typeof object === 'object') && (object instanceof type.instanceOf))) &&\n        (!type.predicate  || type.predicate(object))) {\n\n      if (explicit) {\n        if (type.multi && type.representName) {\n          state.tag = type.representName(object);\n        } else {\n          state.tag = type.tag;\n        }\n      } else {\n        state.tag = '?';\n      }\n\n      if (type.represent) {\n        style = state.styleMap[type.tag] || type.defaultStyle;\n\n        if (_toString.call(type.represent) === '[object Function]') {\n          _result = type.represent(object, style);\n        } else if (_hasOwnProperty.call(type.represent, style)) {\n          _result = type.represent[style](object, style);\n        } else {\n          throw new exception('!<' + type.tag + '> tag resolver accepts not \"' + style + '\" style');\n        }\n\n        state.dump = _result;\n      }\n\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// Serializes `object` and writes it to global `result`.\n// Returns true on success, or false on invalid object.\n//\nfunction writeNode(state, level, object, block, compact, iskey, isblockseq) {\n  state.tag = null;\n  state.dump = object;\n\n  if (!detectType(state, object, false)) {\n    detectType(state, object, true);\n  }\n\n  var type = _toString.call(state.dump);\n  var inblock = block;\n  var tagStr;\n\n  if (block) {\n    block = (state.flowLevel < 0 || state.flowLevel > level);\n  }\n\n  var objectOrArray = type === '[object Object]' || type === '[object Array]',\n      duplicateIndex,\n      duplicate;\n\n  if (objectOrArray) {\n    duplicateIndex = state.duplicates.indexOf(object);\n    duplicate = duplicateIndex !== -1;\n  }\n\n  if ((state.tag !== null && state.tag !== '?') || duplicate || (state.indent !== 2 && level > 0)) {\n    compact = false;\n  }\n\n  if (duplicate && state.usedDuplicates[duplicateIndex]) {\n    state.dump = '*ref_' + duplicateIndex;\n  } else {\n    if (objectOrArray && duplicate && !state.usedDuplicates[duplicateIndex]) {\n      state.usedDuplicates[duplicateIndex] = true;\n    }\n    if (type === '[object Object]') {\n      if (block && (Object.keys(state.dump).length !== 0)) {\n        writeBlockMapping(state, level, state.dump, compact);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + state.dump;\n        }\n      } else {\n        writeFlowMapping(state, level, state.dump);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;\n        }\n      }\n    } else if (type === '[object Array]') {\n      if (block && (state.dump.length !== 0)) {\n        if (state.noArrayIndent && !isblockseq && level > 0) {\n          writeBlockSequence(state, level - 1, state.dump, compact);\n        } else {\n          writeBlockSequence(state, level, state.dump, compact);\n        }\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + state.dump;\n        }\n      } else {\n        writeFlowSequence(state, level, state.dump);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;\n        }\n      }\n    } else if (type === '[object String]') {\n      if (state.tag !== '?') {\n        writeScalar(state, state.dump, level, iskey, inblock);\n      }\n    } else if (type === '[object Undefined]') {\n      return false;\n    } else {\n      if (state.skipInvalid) return false;\n      throw new exception('unacceptable kind of an object to dump ' + type);\n    }\n\n    if (state.tag !== null && state.tag !== '?') {\n      // Need to encode all characters except those allowed by the spec:\n      //\n      // [35] ns-dec-digit    ::=  [#x30-#x39] /* 0-9 */\n      // [36] ns-hex-digit    ::=  ns-dec-digit\n      //                         | [#x41-#x46] /* A-F */ | [#x61-#x66] /* a-f */\n      // [37] ns-ascii-letter ::=  [#x41-#x5A] /* A-Z */ | [#x61-#x7A] /* a-z */\n      // [38] ns-word-char    ::=  ns-dec-digit | ns-ascii-letter | “-”\n      // [39] ns-uri-char     ::=  “%” ns-hex-digit ns-hex-digit | ns-word-char | “#”\n      //                         | “;” | “/” | “?” | “:” | “@” | “&” | “=” | “+” | “$” | “,”\n      //                         | “_” | “.” | “!” | “~” | “*” | “'” | “(” | “)” | “[” | “]”\n      //\n      // Also need to encode '!' because it has special meaning (end of tag prefix).\n      //\n      tagStr = encodeURI(\n        state.tag[0] === '!' ? state.tag.slice(1) : state.tag\n      ).replace(/!/g, '%21');\n\n      if (state.tag[0] === '!') {\n        tagStr = '!' + tagStr;\n      } else if (tagStr.slice(0, 18) === 'tag:yaml.org,2002:') {\n        tagStr = '!!' + tagStr.slice(18);\n      } else {\n        tagStr = '!<' + tagStr + '>';\n      }\n\n      state.dump = tagStr + ' ' + state.dump;\n    }\n  }\n\n  return true;\n}\n\nfunction getDuplicateReferences(object, state) {\n  var objects = [],\n      duplicatesIndexes = [],\n      index,\n      length;\n\n  inspectNode(object, objects, duplicatesIndexes);\n\n  for (index = 0, length = duplicatesIndexes.length; index < length; index += 1) {\n    state.duplicates.push(objects[duplicatesIndexes[index]]);\n  }\n  state.usedDuplicates = new Array(length);\n}\n\nfunction inspectNode(object, objects, duplicatesIndexes) {\n  var objectKeyList,\n      index,\n      length;\n\n  if (object !== null && typeof object === 'object') {\n    index = objects.indexOf(object);\n    if (index !== -1) {\n      if (duplicatesIndexes.indexOf(index) === -1) {\n        duplicatesIndexes.push(index);\n      }\n    } else {\n      objects.push(object);\n\n      if (Array.isArray(object)) {\n        for (index = 0, length = object.length; index < length; index += 1) {\n          inspectNode(object[index], objects, duplicatesIndexes);\n        }\n      } else {\n        objectKeyList = Object.keys(object);\n\n        for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n          inspectNode(object[objectKeyList[index]], objects, duplicatesIndexes);\n        }\n      }\n    }\n  }\n}\n\nfunction dump$1(input, options) {\n  options = options || {};\n\n  var state = new State(options);\n\n  if (!state.noRefs) getDuplicateReferences(input, state);\n\n  var value = input;\n\n  if (state.replacer) {\n    value = state.replacer.call({ '': value }, '', value);\n  }\n\n  if (writeNode(state, 0, value, true, true)) return state.dump + '\\n';\n\n  return '';\n}\n\nvar dump_1 = dump$1;\n\nvar dumper = {\n\tdump: dump_1\n};\n\nfunction renamed(from, to) {\n  return function () {\n    throw new Error('Function yaml.' + from + ' is removed in js-yaml 4. ' +\n      'Use yaml.' + to + ' instead, which is now safe by default.');\n  };\n}\n\n\nvar Type                = type;\nvar Schema              = schema;\nvar FAILSAFE_SCHEMA     = failsafe;\nvar JSON_SCHEMA         = json;\nvar CORE_SCHEMA         = core;\nvar DEFAULT_SCHEMA      = _default;\nvar load                = loader.load;\nvar loadAll             = loader.loadAll;\nvar dump                = dumper.dump;\nvar YAMLException       = exception;\n\n// Re-export all types in case user wants to create custom schema\nvar types = {\n  binary:    binary,\n  float:     float,\n  map:       map,\n  null:      _null,\n  pairs:     pairs,\n  set:       set,\n  timestamp: timestamp,\n  bool:      bool,\n  int:       int,\n  merge:     merge,\n  omap:      omap,\n  seq:       seq,\n  str:       str\n};\n\n// Removed functions from JS-YAML 3.0.x\nvar safeLoad            = renamed('safeLoad', 'load');\nvar safeLoadAll         = renamed('safeLoadAll', 'loadAll');\nvar safeDump            = renamed('safeDump', 'dump');\n\nvar jsYaml = {\n\tType: Type,\n\tSchema: Schema,\n\tFAILSAFE_SCHEMA: FAILSAFE_SCHEMA,\n\tJSON_SCHEMA: JSON_SCHEMA,\n\tCORE_SCHEMA: CORE_SCHEMA,\n\tDEFAULT_SCHEMA: DEFAULT_SCHEMA,\n\tload: load,\n\tloadAll: loadAll,\n\tdump: dump,\n\tYAMLException: YAMLException,\n\ttypes: types,\n\tsafeLoad: safeLoad,\n\tsafeLoadAll: safeLoadAll,\n\tsafeDump: safeDump\n};\n\nexport default jsYaml;\nexport { CORE_SCHEMA, DEFAULT_SCHEMA, FAILSAFE_SCHEMA, JSON_SCHEMA, Schema, Type, YAMLException, dump, load, loadAll, safeDump, safeLoad, safeLoadAll, types };\n","\nimport * as yaml from 'js-yaml';\n\nexport interface documentNode {\n    id: string;\n    attributes: Map<string, any>;\n    validate: () => boolean;\n    requires: () => string;\n}\n\nexport class DocumentConnection implements documentNode {\n    id: string;\n    attributes: Map<string, any>;\n\n    constructor(id: string, attributes?: Map<string, any>) {\n        this.id = id;\n        this.attributes = new Map<string, any>();\n        if (attributes) {\n            attributes.forEach((value, key) => {\n                this.attributes.set(key, value);\n            });\n        }\n    } \n\n    validate() {\n        // todo\n        return true;\n    }\n\n    requires() {\n        // todo\n        return \"id,\";\n    }\n}\n\nexport class DocumentFact implements documentNode {\n    id: string;\n    attributes: Map<string, any>;\n\n    constructor(id: string, attributes?: Map<string, any>) {\n        this.id = id;\n        this.attributes = new Map<string, any>();\n        if (attributes) {\n            attributes.forEach((value, key) => {\n                this.attributes.set(key, value);\n            });\n        } \n\n        if (this.validate()) {\n            if (!this.attributes.has(\"roles\")) {\n                this.attributes.set(\"roles\", \n                    this.attributes.get(\"factors\").length\n                );\n            }\n        }\n        \n    }\n\n    validate(): boolean {\n        if (\n            this.attributes.has(\"x\") && \n            this.attributes.has(\"y\")  &&\n            this.attributes.has(\"factors\") \n        ){\n            return  this.attributes.get(\"type\") === \"fact\";\n        }\n        return false;\n    }\n\n    requires(): string {\n        return \"x,y,factors=[],type=fact\";\n    }\n}\n\nexport class DocumentEntity implements documentNode{\n    id: string;\n    attributes: Map<string, any>;\n\n    constructor(id: string, attributes?: Map<string, any>) {\n        this.id = id;\n        this.attributes = new Map<string, any>();\n        if (attributes) {\n            attributes.forEach((value, key) => {\n                this.attributes.set(key, value);\n            });\n        } \n        \n    }\n\n    validate(): boolean {\n        if (\n            this.attributes.has(\"name\") && \n            this.attributes.has(\"type\") &&\n            this.attributes.has(\"x\") &&\n            this.attributes.has(\"y\")\n        ){\n            return  this.attributes.get(\"type\") === \"entity\" ||\n                    this.attributes.get(\"type\") === \"value\";\n        }\n        return false;\n    }\n\n    requires(): string {\n        return \"name,x,y,type=entity|value\";\n    }\n}\n\nexport interface document {\n    elements:Map<string, DocumentEntity>;\n    facts: Map<string, DocumentFact>;\n    connections: Map<string, DocumentConnection>;\n    name: string;\n    type: \"ORM\";\n}\n\nexport class Document implements document{\n    elements: Map<string, DocumentEntity>;\n    facts: Map<string, DocumentFact>;\n    connections: Map<string, DocumentConnection>;\n    name: string;\n    type: \"ORM\";\n    \n\n    constructor() {\n        this.elements = new Map<string, DocumentEntity>();\n        this.facts = new Map<string, DocumentFact>();\n        this.connections = new Map<string, DocumentConnection>();\n        this.name = \"\";\n        this.type = \"ORM\";\n    }\n\n    public setName(name: string) {  \n        this.name = name;\n    }\n\n    public addElement(node: DocumentEntity) {\n        this.elements.set(node.id, node);\n    }\n\n    public removeElement(node: DocumentEntity) {\n        this.elements.delete(node.id);\n    }\n\n    public addFact(node: DocumentFact) {\n        this.facts.set(node.id, node);\n    }\n\n    public removeFact(node: DocumentFact) {\n        this.facts.delete(node.id);\n    }\n\n    public addConnection(node: DocumentConnection) {\n        this.connections.set(node.id, node);\n    }\n\n    public removeConnection(node: DocumentConnection) {\n        this.connections.delete(node.id);\n    }\n\n    public getNodeById(id: string): DocumentEntity | DocumentConnection | DocumentFact | undefined {\n        return this.elements.get(id) || this.connections.get(id) || this.facts.get(id);\n    }\n\n    public removeNodeById(id: string): void {\n        this.elements.delete(id);\n        this.connections.delete(id);\n        this.facts.delete(id);\n    }\n\n    public findConnectionBetween(src:string, tgt:string, role:number): DocumentConnection | undefined{\n        let ret;\n        for(let con of this.connections.values()){\n            if (con.attributes.get('source') == src &&\n                con.attributes.get('target') == tgt &&\n                con.attributes.get('role') == role){\n                    ret = con;\n                    break;\n                }\n        }\n        return ret;\n    }\n\n    /**\n     * Converts the current document to a YAML string.\n     * @returns {string} the document in YAML format\n     */\n    public yamlify(): string {\n        const plainObject = {\n            system : {\n                name: this.name,\n                type: this.type,\n                entities: Array.from(this.elements.values()).map(\n                    (element) => (\n                    Object.assign({\n                        id: element.id,\n                    }, Object.fromEntries(element.attributes)\n                    )\n                )),\n                facts: Array.from(this.facts.values()).map(\n                    (fact) => (\n                    Object.assign({\n                        id: fact.id,\n                    }, Object.fromEntries(fact.attributes)\n                    )\n                )),\n                connections: Array.from(this.connections.values()).map(\n                    (connection) => (\n                    Object.assign({\n                        id: connection.id,\n                    }, Object.fromEntries(connection.attributes)\n                    )\n                )),\n            }\n        };\n        return yaml.dump(plainObject);\n    }\n}\n\nexport default class DocumentParser {\n    private static instance: DocumentParser;\n    private constructor() {\n        // private constructor to prevent instantiation\n    }\n\n    public static getInstance(): DocumentParser {\n        if (!DocumentParser.instance) {\n            DocumentParser.instance = new DocumentParser();\n        }\n        return DocumentParser.instance;\n    }\n\n    public parseDocument(document: string): Document {\n        try {\n            const data = yaml.load(document) as any;\n            const parsedDocument = new Document();\n            if (!data || !data.system) {\n                throw new Error(\"Invalid document format: \"\n                    + \"'system' key is missing.\"\n                );\n            }\n            let system = data.system;\n            parsedDocument.setName(system.name|| \"Unnamed System\");\n\n            if (!system.entities){\n                throw new Error(\n                    \"Invalid document format: 'entities' key on\"\n                    + \" `system` is missing.\"\n                );\n            }\n            // Parse entities\n            if (system.entities) {\n                for(let entity of system.entities){                    \n                    let atttributes = new Map<string, any>();\n                    for (const key in entity) {\n                        atttributes.set(key, entity[key]);\n                    }\n                    const documentEntity = new DocumentEntity(\n                        entity.id, \n                        atttributes\n                    );\n                    if (documentEntity.validate()) {\n                        parsedDocument.addElement(documentEntity);\n                    } else {\n                        console.warn(\"Invalid entity:\", entity);\n                        throw new Error(\"Invalid entity :: \" \n                            + entity.id\n                            + \" requires: \"\n                            + documentEntity.requires()\n                        );\n                    }\n                }\n            }\n\n            if (!system.facts){\n                throw new Error(\n                    \"Invalid document format: 'facts' key on\"\n                    + \" `system` is missing.\"\n                );\n            }\n            // Parse facts\n            if (system.facts) {\n                for(let fact of system.facts){\n                    let atttributes = new Map<string, any>();\n                    for (const key in fact) {\n                        atttributes.set(key, fact[key]);\n                    }\n                    const documentFact = new DocumentFact(\n                        fact.id,\n                        atttributes,\n                    );\n                    if (documentFact.validate()) {\n                        parsedDocument.addFact(documentFact);\n                    } else {\n                        console.warn(\"Invalid fact:\", fact);\n                        throw new Error(\"Invalid fact :: \" \n                            + fact.id\n                            + \" requires: \"\n                            + documentFact.requires()\n                        );\n                    }\n                }\n            }\n\n            // Parse connections\n             if (!system.connections){\n                throw new Error(\n                    \"Invalid document format: 'connections' key on\"\n                    + \" `system` is missing.\"\n                );\n            }\n            if (system.connections) {\n                for(let connection of system.connections){\n                    let attributes = new Map<string, any>();\n                    for (const key in connection) {\n                        attributes.set(key, connection[key]);\n                    }\n                    const documentConnection = new DocumentConnection(\n                        connection.id,\n                        attributes,\n                    );\n                    if (documentConnection.validate()){\n                        parsedDocument.addConnection(documentConnection);\n                    } else {\n                        console.warn(\"Invalid fact:\", connection);\n                        throw new Error(\"Invalid fact :: \" \n                            + connection.id\n                            + \" requires: \"\n                            + documentConnection.requires()\n                        );\n                    }\n                    \n                }\n            }\n\n            return parsedDocument;\n        } catch (error: any) {\n            console.warn(\"Error parsing YAML document:\", error);\n            throw new Error(error.message);\n        }\n    }\n}","\n\nexport function isEqualSets<T>(a:Set<T>, b:Set<T>) : boolean {\n    if (a === b) {\n        return true;\n    }\n    if (a.size !== b.size) {\n        return false;\n    } \n    for (const value of a) {\n        if (!b.has(value)) {\n            return false;\n        }\n    }\n    return true;\n  }","import DocuementParser from \"./document\";\nimport { Document } from \"./document\";\nimport { documentNode, DocumentEntity, DocumentFact, DocumentConnection } from \"./document\";\nimport { isEqualSets } from \"../utils/sets\";\nimport { isConstraint, isEntity, isExactlyEntity, isFact } from \"../model/util\";\nimport { Entity, unitHeight as entityHeight, unitWidth as entityWidth } from \"../model/entities\";\nimport { unitHeight as factHeight, unitWidth as factWidth } from \"../model/facts\";\nimport VscodeMessager from \"./messager\";\nimport { scaleToFitElements } from \"../utils/canvasUtils\";\nimport { Fact } from \"../model/facts\";\n\nimport { isConnection } from \"diagram-js/lib/util/ModelUtil\";\nimport Canvas from \"diagram-js/lib/core/Canvas\";\nimport EventBus from \"diagram-js/lib/core/EventBus\";\nimport { isValueConstraint } from \"../constraints/model/utils\";\nimport { off } from \"process\";\n\ninterface differences {\n    changes: Array<DocumentEntity | DocumentFact | DocumentConnection>;\n    removals: Array<DocumentEntity | DocumentFact | DocumentConnection>;\n    additions: Array<DocumentEntity | DocumentFact | DocumentConnection>;\n}\n\ninterface handlerState {\n    status: \"working\" | \"idle\";\n}\n\nexport default  class VscodeMessageHandler {\n    static $inject: Array<string>;\n    oldDocuments: Map<string, Document>;\n    currentDocument: Document;\n    pushInterval: NodeJS.Timeout | null;\n    vscodeInterval: NodeJS.Timeout | null;\n    _messager: VscodeMessager;\n    _modeling: any;\n    _elementRegistry: any;\n    _elementFactory: any;\n    _eventBus: EventBus;\n    _canvas: Canvas;\n    _api: any;\n    _seenCons: Set<any>;\n    _first_load: boolean = true;\n    state: handlerState;\n\n    constructor(eventBus:EventBus, modeling:any, elementRegistry:any, \n                elementFactory:any, canvas:Canvas, messager:any) {\n        this.oldDocuments = new Map<string, Document>();\n        this.pushInterval = null;\n        this.vscodeInterval = null;\n        this._modeling = modeling;\n        this._elementRegistry = elementRegistry;\n        this._elementFactory = elementFactory;\n        this._eventBus = eventBus;\n        this._canvas = canvas;\n        this._api = null;\n        this._messager = messager;\n        this._seenCons = new Set<any>();\n        this.state = {\n            status: \"idle\"\n        };\n        this.currentDocument = new Document();\n\n        this._eventBus.on(['element.changed', 'shape.move'], (e:any) => {\n            if (this.state.status !== \"working\") {\n                this.updateElementsOnDocument([e.element]);\n            }\n        });\n\n        this._eventBus.on('elements.changed', (e:any) => {\n            if (this.state.status !== \"working\") {\n                this.updateElementsOnDocument(e.elements);\n            }\n        });\n\n        this._eventBus.on('factory.create', (e:any) => {\n            if (this.state.status !== \"working\") {\n                this.addElementToDocument(e.element);\n            }\n        });\n\n        this._eventBus.on('elements.removed', (e:any) => {\n            if (this.state.status !== \"working\") {\n                this.removeElementsOnDocument(e.elements);\n            }\n        });\n\n        this._eventBus.on('shape.removed', (e:any) => {\n            if (this.state.status !== \"working\") {\n                this.removeElementsOnDocument([e.element]);\n            }\n        });\n\n    }\n\n    setApi(api:any) {\n        this._api = api;\n    }\n\n    poolMessages(type:string, context:object) {\n        var that = this;\n        if (!this.pushInterval) {\n            this.pushInterval = setTimeout(() => {\n                that.handleMessage(type, context);\n            }, 250);\n        } else {\n            clearTimeout(this.pushInterval);\n            this.pushInterval = setTimeout(() => {\n                that.handleMessage(type, context);\n            }, 250);\n        }\n    }\n\n    handleMessage(type:string, context:any){\n        switch (type) {\n            case \"update\":\n                this.handleUpdate(context['text']);\n                break;\n        }\n    }\n\n    handleUpdate(document:string) {\n        const parser = DocuementParser.getInstance();\n        try {\n            this.state.status = \"working\";\n            const parsedDocument = parser.parseDocument(document);\n            let changed = this._findChangedElements(parsedDocument);\n            this._fireChangedElementsinDocument(changed);\n            this.oldDocuments.set(parsedDocument.name, parsedDocument);\n            this.currentDocument = parsedDocument;\n            if (this._first_load) {\n                this.triggerVscodeUpdate();\n                this._first_load = false;\n                scaleToFitElements(this._canvas);\n                setTimeout(\n                    () => {\n                        this._eventBus.fire('document.loaded', {});\n                    }, 25\n                );\n            }\n            this.state.status = \"idle\";\n            return;\n        } catch (e: any) {\n            console.warn('Error parsing document:', e);\n            this._messager.sendWarningMessage(\n                \"Error parsing document: \" + e.message\n            );\n            this.state.status = \"idle\";\n            return;\n        }\n    }\n\n    _findChangedElements(newDoc: Document): differences {\n        const changedNodes = new Array<DocumentEntity | DocumentFact | DocumentConnection>();\n        const removedNodes = new Array<DocumentEntity | DocumentFact | DocumentConnection>();\n        const addedNodes = new Array<DocumentEntity | DocumentFact | DocumentConnection>();\n        const oldDoc = this.oldDocuments.get(newDoc.name) || new Document();\n\n        // Compare elements\n        this._compareNodes(oldDoc.elements, newDoc.elements,\n             changedNodes, removedNodes, addedNodes);\n\n        // Compare facts\n        this._compareNodes(oldDoc.facts, newDoc.facts,\n             changedNodes, removedNodes, addedNodes);\n\n        // Compare connections\n        this._compareNodes(oldDoc.connections, newDoc.connections,\n             changedNodes, removedNodes ,addedNodes);\n\n        return {\n            changes: changedNodes,\n            removals: removedNodes,\n            additions: addedNodes,\n        };\n    }\n\n    _compareNodes(\n        oldNodes: Map<string, documentNode>,\n        newNodes: Map<string, documentNode>,\n        changedNodes: Array<documentNode>,\n        removedNodes: Array<documentNode>,\n        addedNodes: Array<documentNode>\n    ) {\n        \n        // Detect added or updated nodes\n        newNodes.forEach((newNode, id) => {\n            const oldNode = oldNodes.get(id);\n            if (!oldNode) {\n                // Node is new\n                addedNodes.push(newNode);\n            } else {\n                const oldKeys = new Set(oldNode.attributes.keys());\n                const newKeys = new Set(newNode.attributes.keys());\n                if (!isEqualSets(oldKeys, newKeys)) {\n                    // Node is updated\n                    changedNodes.push(newNode);\n                } else {\n                //    check if the values are different\n                    let isDifferent = false;\n                    let changes = new Map<string, any>();\n                    oldNode.attributes.forEach((value, key) => {\n                        const oldJson = JSON.stringify(newNode.attributes.get(key));\n                        const newJson = JSON.stringify(value);\n                        if (oldJson !== newJson) {\n                            isDifferent = true;\n                            changes.set(key, newNode.attributes.get(key));\n                        }\n                    });\n                    if (isDifferent) {\n                        // Node is updated\n                        changes.set('id', oldNode.id);\n                        let diffNode = Object.assign({}, newNode);\n                        diffNode.attributes = changes;\n                        changedNodes.push(diffNode);\n                    }\n                }\n            }\n        });\n\n        // Detect removed nodes\n        oldNodes.forEach((oldNode, id) => {\n            if (!newNodes.has(id)) {\n                // Node is removed\n                removedNodes.push(oldNode);\n            }\n        });\n    }\n\n    _fireChangedElementsinDocument(\n        diff: differences){\n        // handle new additions\n        const viewport = this._canvas.viewbox();\n        const centerX = viewport.x + (viewport.width / 2);\n        const centerY = viewport.y + (viewport.height / 2);\n        this._seenCons = new Set<any>();\n        diff.additions.forEach((node) => {\n            let element: any;\n            let pos = {\n                x: node.attributes.get('x') || centerX, \n                y: node.attributes.get('y') || centerY\n            };\n            if (node.attributes.get('type') === 'entity' || \n                node.attributes.get('type') === 'value') {\n                element = this._elementFactory.createDummyAttributesForEntities(\"entity\");\n                pos.x = pos.x + (entityWidth / 2);\n                pos.y = pos.y + (entityHeight / 2) + 0.5;\n                let docData = Object.fromEntries(node.attributes);\n                delete docData['constraints'];\n                element = this._modeling.createShape(\n                    Object.assign(element, docData),\n                    pos,\n                    this._canvas.getRootElement()\n                );\n                element.update();\n                this._handleCreationForEntity(element, node.attributes);\n                this._modeling.sendUpdate(element);\n            } else if (node.attributes.get('type') === 'fact') {\n                element = this._elementFactory.createDummyAttributesForFacts();\n                pos.x = pos.x + (\n                    (\n                        factWidth * node.attributes.get('roles') \n                        + node.attributes.get('objectified') ? 26 : 0\n                        + 26\n                    ) / 2\n                );\n                pos.y = pos.y + (factHeight/2) + 0.5;\n                let docData = Object.fromEntries(node.attributes);\n                delete docData['uniqueness'];\n                delete docData['constraints'];\n                element = this._modeling.createShape(\n                    Object.assign(element, docData),\n                    pos,\n                    this._canvas.getRootElement()\n                );\n                element.update();\n                this._handleCreationForFact(element, node.attributes);\n                this._modeling.sendUpdate(element);\n            } else if (node.attributes.get('type') === 'value') {\n                element = this._elementFactory.createDummyAttributesForEntities(\"value\");\n                element = this._modeling.createShape(\n                    Object.assign(element, Object.fromEntries(node.attributes)),\n                    pos,\n                    this._canvas.getRootElement()\n                );\n                element.update();\n            } else if (node.attributes.get('type') === 'connection') {\n                let con = this._handleCreationForConnection(node.attributes);\n                if (con){\n                    this._modeling.sendUpdate(con);\n                }\n                return;\n            } else {\n                console.error(\"Unknown type: \", node.attributes.get('type'));\n            }\n            \n        });\n\n        diff.changes.forEach((node) => {\n            let element = this._elementRegistry.get(node.id);\n            let diff = Object.assign({}, Object.fromEntries(node.attributes));\n            delete diff['id'];\n            delete diff['type'];\n            delete diff['source'];\n            delete diff['target'];\n            element = Object.assign(\n                element,\n                diff\n            );\n            if (isEntity(element) || isFact(element)) {\n                element.update();\n            }\n\n            // collect possible consumers for the new information\n            let updateTargets = [element];\n            if (element.labels){\n                updateTargets = updateTargets.concat([...element.labels]);\n            }\n            if (element.incoming){\n                updateTargets = updateTargets.concat([...element.incoming]);\n            }\n            if (element.outgoing){\n                updateTargets = updateTargets.concat([...element.outgoing]);\n            }\n            this._modeling.sendUpdates(...updateTargets);\n        });\n\n        diff.removals.forEach((node) => {\n            let element = this._elementRegistry.get(node.id);\n            if (element) {\n                this._modeling.removeElements([element]);\n            }\n        });\n    }\n\n    _handleCreationForEntity(element:Entity, attributes:Map<string, any>) {\n\n        let constraints = attributes.get('constraints') || [];\n\n        if (constraints.length > 0) {\n            constraints.forEach((data: any) => {\n                let constraint = this._elementFactory\n                    .createDummyAttributesForValueConstraint(\n                        element,\n                    );\n                let offset = data.width - 50;\n                offset = offset / 25;\n                offset = offset * 12.5 * -1.0;\n                let pos = {\n                    x: data.x + (data.width / 2) + offset, \n                    y: data.y + data.height / 2\n                };\n                constraint.x = pos.x;\n                constraint.y = pos.y;\n                constraint = this._modeling.createShape(\n                    Object.assign({}, constraint),\n                    pos,\n                    this._canvas.getRootElement()\n                );\n                constraint.width = data.width;\n                constraint.height = data.height;\n                constraint.setDescription(data.description);\n                attributes.set('id', constraint.id);\n                element.addConstraint(constraint);\n                setTimeout(\n                    () => this._modeling.sendUpdate(constraint)\n                , 30);\n            });\n        }\n\n    }\n\n    _handleCreationForConnection(attributes:Map<string, any>) {\n        let src = this._elementRegistry.get(attributes.get('source'));\n        let target = this._elementRegistry.get(attributes.get('target'));\n        let con = null;\n        if (!src || !target) {\n            console.error(\"Source or target not found: \", attributes.get('source'), attributes.get('target'));\n            return null;\n        }\n\n        for(let other of src.outgoing){\n            if (other.target.id === target.id){\n                if (other.role === attributes.get('role')){\n                    con = other;\n                    break;\n                }\n            }\n        }\n        // most connections are creasted when facts are included\n        // so the next step checks that existing connections have the \n        // same attributes as the doc\n        if (con){\n            if (this._seenCons.has(con.id)){\n                console.warn(\"Connection already seen: \", attributes.get(\"id\"));\n                return con;\n            } else {\n                this._seenCons.add(con.id);\n                attributes.set('id', con.id);\n            }\n            con.waypoints = attributes.get('waypoints').slice();\n            if (attributes.get('mandatory')){\n                con.setMandatory(attributes.get('mandatory'));\n            }\n            con.lastEdit = attributes.get('lastEdit');\n            this._modeling.layoutConnection(con);\n            this._modeling.moveElements([con,con.source,con.target], \n                {x: 0, y: 0}\n            );\n            return con;\n        }\n        // handling for subtyping\n        else {\n            if ( isExactlyEntity(src) && isExactlyEntity(target) ){\n                let con = this._modeling.createSubtypeBetween(\n                    src,\n                    target\n                );\n                con.waypoints = attributes.get('waypoints');\n                this._seenCons.add(con.id);\n                this._modeling.layoutConnection(con);\n                    this._modeling.moveElements([con,con.source,con.target], \n                        {x: 0, y: 0}\n                );\n                return con;\n            }\n        }\n        console.warn(\n            \"[vscode.handler] Unable to make new connection for :: \",\n             attributes.get('id')\n        );\n        return null;\n    }\n\n    /**\n     * Handles the creation of the extra parts around fact elements.\n     * @param {Fact} element the current fact being created\n     * @param {Map<string, any>} attributes the attributes from document\n     */\n    _handleCreationForFact(element:Fact, attributes:Map<string, any>) {\n        element.factors = new Array(element.roles).fill(null);\n        let factors = attributes.get('factors') || [null];\n        let factLabel = attributes.get('label') || false;\n        let derived = attributes.get('derived') || false;\n        let derivedLabel = attributes.get('derivedLabel') || undefined;\n        let uniqueness = attributes.get('uniqueness') || [];\n        let constraints = attributes.get('constraints') || [];\n\n        // Ensure dimensions are updated for alignment after loading\n        if (element.alignment) {\n            element.updateDimensionsForAlignment();\n        }\n\n        factors.forEach((role: any, id: number) => {\n            if (role === null) {\n                return;\n            }\n            let entity = this._elementRegistry.get(role);\n            if (!entity) {\n                console.error(\"Entity not found: \", role);\n                return;\n            }\n            this._modeling.connectToFact(element,entity, id);\n        });\n\n        if(element.objectified) {\n            element.objectified = false;\n            this._modeling.flipObjectification(element);\n        }\n\n        if (factLabel) {\n            this._modeling.createLabelForFact(\n                element, factLabel\n            );\n        }\n\n        if (derived){\n            this._modeling.makeDerivedLabel(element,derivedLabel);\n        }\n\n        if (uniqueness){\n            uniqueness.forEach((unique: any) => {\n                var attrs = this._elementFactory\n                    .createDummyAttributesForConstraintOverFact(element);\n                attrs.mode = unique.mode;\n                attrs.over = unique.over;\n                let pos = element.getNextFreeContraintPosition();\n                var constraint = this._modeling.createShape(\n                    Object.assign({}, attrs),\n                    pos,\n                    element.parent\n                );\n                element.addUniqueness(constraint);\n                this._modeling.sendUpdate(constraint);\n            });\n        }\n\n        if (constraints.length > 0) {\n            constraints.forEach((data: any) => {\n                let constraint = this._elementFactory\n                    .createDummyAttributesForValueConstraint(\n                        element,\n                    );\n                let offset = data.width - 50;\n                offset = offset / 25;\n                offset = offset * 12.5 * -1.0;\n                let pos = {\n                    x: data.x + (data.width / 2) + offset, \n                    y: data.y + data.height / 2\n                };\n                constraint.x = pos.x;\n                constraint.y = pos.y;\n\n                constraint = this._modeling.createShape(\n                    Object.assign({}, constraint),\n                    pos,\n                    this._canvas.getRootElement()\n                );\n                constraint.setRoleFactor(data.factor);\n                constraint.width = data.width;\n                constraint.height = data.height;\n                attributes.set('id', constraint.id);\n                constraint.setDescription(data.description || '...');\n                element.addConstraint(constraint);\n                this._modeling.sendUpdate(constraint);\n            });\n        }\n\n        element.update();\n    }\n\n    _handleUpdatesForFact(element:any, attributes:Map<string, any>) {\n\n        if (element.roles > attributes.get('roles')) {\n            let diff = element.roles - attributes.get('roles');\n            if (diff > 0) {\n                for (let i = 0; i < diff; i++) {\n                    this._modeling.reduceFact(element);\n                }\n            } else if (diff < 0) {\n                for (let i = 0; i < Math.abs(diff); i++) {\n                    this._modeling.expandFact(element);\n                }\n            }\n        }\n\n        // if (!attributes.get('derived')) {\n        //     if (element.derived === false) {\n        //         console.warn(\"Removing derived label for: \", element.id);\n        //         this._modeling.flipDerivation(element);\n        //     }\n        // }\n        // if (attributes.get('derived') === true) {\n        //     let labelName = attributes.get('derivedLabel') || \"...\";\n        //     if (element.derived) {\n        //         this._modeling.changeDerivedLabel(labelName);\n        //     } else {\n        //         this._modeling.flipDerivation(element);\n        //         this._modeling.changeDerivedLabel(labelName);\n        //     }\n        // }\n\n    }\n\n    triggerVscodeUpdate() {\n        if (this.state.status === \"working\") {\n            console.warn(\"Document is being updated, skipping...\");\n            return;\n        }\n        try {\n            var that = this;\n            if (this.vscodeInterval === null) {\n                this.vscodeInterval = setTimeout(() => {\n                    that.updateDocumentWithYaml(that.currentDocument);\n                }, 250);\n            } else {\n                clearTimeout(this.vscodeInterval);\n                this.vscodeInterval = setTimeout(() => {\n                    that.updateDocumentWithYaml(that.currentDocument);\n                }, 250);\n            }\n        } catch (error) {\n            console.error(\"Error triggering VSCode update:\", error);\n        }\n    }\n\n    async updateDocumentWithYaml(document: Document) {\n        if (this.state.status === \"working\") {\n            console.warn(\"Document is being updated, skipping...\");\n            return;\n        }\n        try {\n            // Convert the document to YAML\n            const yamlContent = document.yamlify();\n\n            // send the YAML content to exporter\n            this._eventBus.fire('document.ready', {\n                doc: yamlContent\n            })\n\n            \n        } catch (error) {\n            console.error(\"Error updating document with YAML:\", error);\n        }\n    }\n\n    updateElementsOnDocument(elements: Array<any>) {\n        if (this.state.status === \"working\") {\n            console.warn(\"Document is being updated, skipping...\");\n            return;\n        }\n        elements.forEach((element) => {\n            if (isValueConstraint(element)) {\n                element = element.source;\n            }\n            if (!isFact(element) && !isEntity(element) && !isConnection(element)) {\n                return;\n            }\n            let attributes = element.buildAttributes();\n            if (isFact(element) || isEntity(element)) {\n                let docElement = this.currentDocument.getNodeById(element.id);\n                if (docElement) {\n                    docElement.attributes = attributes;\n                }\n            }\n            if (isConnection(element)) {\n                if (!element.source || !element.target) {\n                    return;\n                }\n                let connection = this.currentDocument.findConnectionBetween(\n                    element.source.id, element.target.id, element.role\n                );\n                if (connection) {\n                    connection.attributes = attributes;\n                } else {\n                    this.addElementToDocument(element);\n                }\n            }\n        });\n\n        this.triggerVscodeUpdate();\n    }\n\n    addElementToDocument(element: any) {\n        if (this.state.status === \"working\") {\n            console.warn(\"Document is being updated, skipping...\");\n            return;\n        }\n        if (isEntity(element)) {\n            let id = element.id;\n            let attributes = element.buildAttributes();\n            this.currentDocument.addElement(new DocumentEntity(\n                id, attributes\n            ));\n        }\n        if (isFact(element)) {\n            let id = element.id;\n            let attributes = element.buildAttributes();\n            this.currentDocument.addFact(\n            new DocumentFact(\n                id,\n                attributes\n            )\n            );\n        }\n        if (isConnection(element)) {\n            let id = element.id;\n            if (!element.source || !element.target) {\n                return;\n            }\n            let attributes = element.buildAttributes();\n            this.currentDocument.addConnection(new DocumentConnection(\n                id,\n                attributes\n            ));\n        }\n    }\n\n    removeElementsOnDocument(elements: Array<any>) {\n        \n        if (this.state.status === \"working\") {\n            console.warn(\"Document is being updated, skipping...\");\n            return;\n        }\n        elements.forEach((element) => {\n            if (isConnection(element)){\n                let temp = this.currentDocument.findConnectionBetween(\n                    element.source.id, element.target.id, element.role\n                );\n                if (!temp){\n                    console.warn(`Unable to find connection to delete ${element.id}`, element);\n                } else {\n                    this.currentDocument.removeNodeById(\n                        temp.id\n                    );\n                }\n            } else {\n                this.currentDocument.removeNodeById(element.id);\n            }\n        });\n\n        this.triggerVscodeUpdate();\n    }\n\n}\n\nVscodeMessageHandler.$inject = [\n    'eventBus',\n    'modeling',\n    'elementRegistry',\n    'elementFactory',\n    'canvas',\n    'vscodeMessager'\n];","import EventBus from \"diagram-js/lib/core/EventBus\";\n\nexport interface vsCodeMesage {\n    type: string;\n    alert?: string;\n    message?: string;\n}\n\nconst EXT_STUB = \"qORMa Editor\\n\";\n\nconst busPrefix = \"vscode.\";\n\nexport default class VscodeMessager {\n    static $inject: string[] = [ 'eventBus' ];  \n    private vscode: any;\n    private _eventBus: EventBus;\n\n    public constructor(eventBus: EventBus) {\n        this.vscode = null;\n        this._eventBus = eventBus;\n    }\n\n    /**\n     * Sets the vscode API instance.\n     * @param {any} vscode - The vscode API instance.\n     */\n    setApi(vscode: any) {\n        this.vscode = vscode;\n    }\n\n    capture(type:string, context:any) {\n        this._eventBus.fire(busPrefix + type, context);\n    }\n\n    /**\n     * Sends a message to the outer vscode instance.\n     * @param {vsCodeMesage} message \n     */\n    sendMessage(message: vsCodeMesage) {\n        if (this.vscode) {\n            this.vscode.postMessage(message);\n        }\n    }\n\n    sendInformationMessage(message: string) {\n        this.sendMessage({\n            type: \"vscode.alert\",\n            alert: \"info\",\n            message: EXT_STUB + message\n        });\n    };\n\n    sendErrorMessage(message: string) {\n        this.sendMessage({\n            type: \"vscode.alert\",\n            alert: \"error\",\n            message: EXT_STUB + message\n        });\n    };\n\n    sendWarningMessage(message: string) {\n        this.sendMessage({\n            type: \"vscode.alert\",\n            alert: \"warning\",\n            message: EXT_STUB + message\n        });\n    };\n\n    sendDocumentSave() {\n        this.sendMessage({\n            type: \"vscode.save\",\n        });\n    }\n\n}","import VscodeMessageHandler from \"./handler\";\nimport VscodeMessager from \"./messager\";\n\nexport default {\n    __init__: [ 'vscodeMessageHandler', 'vscodeMessager' ],\n    vscodeMessageHandler: [ 'type', VscodeMessageHandler ],\n    vscodeMessager: [ 'type', VscodeMessager ]\n};","var round = Math.round;\n\nimport { assign } from 'min-dash';\n\nimport {\n  event as domEvent\n} from 'min-dom';\n\nimport {\n  getOriginal,\n  toPoint,\n  stopPropagation\n} from 'diagram-js/lib/util/Event';\n\nimport {\n  set as cursorSet,\n  unset as cursorUnset\n} from 'diagram-js/lib/util/Cursor';\n\nimport {\n  install as installClickTrap\n} from 'diagram-js/lib/util/ClickTrap';\n\nimport {\n  delta as deltaPos\n} from 'diagram-js/lib/util/PositionUtil';\n\nimport { isKey } from 'diagram-js/lib/features/keyboard/KeyboardUtil';\n\n/**\n * @typedef {import('../../util/Types').Point} Point\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../selection/Selection').default} Selection\n */\n\nvar DRAG_ACTIVE_CLS = 'djs-drag-active';\n\n\nfunction preventDefault(event) {\n  event.preventDefault();\n}\n\nfunction isTouchEvent(event) {\n\n  // check for TouchEvent being available first\n  // (i.e. not available on desktop Firefox)\n  return typeof TouchEvent !== 'undefined' && event instanceof TouchEvent;\n}\n\nfunction getLength(point) {\n  return Math.sqrt(Math.pow(point.x, 2) + Math.pow(point.y, 2));\n}\n\n/**\n * A helper that fires canvas localized drag events and realizes\n * the general \"drag-and-drop\" look and feel.\n *\n * Calling {@link Dragging#activate} activates dragging on a canvas.\n *\n * It provides the following:\n *\n *   * emits life cycle events, namespaced with a prefix assigned\n *     during dragging activation\n *   * sets and restores the cursor\n *   * sets and restores the selection if elements still exist\n *   * ensures there can be only one drag operation active at a time\n *\n * Dragging may be canceled manually by calling {@link Dragging#cancel}\n * or by pressing ESC.\n *\n *\n * ## Life-cycle events\n *\n * Dragging can be in three different states, off, initialized\n * and active.\n *\n * (1) off: no dragging operation is in progress\n * (2) initialized: a new drag operation got initialized but not yet\n *                  started (i.e. because of no initial move)\n * (3) started: dragging is in progress\n *\n * Eventually dragging will be off again after a drag operation has\n * been ended or canceled via user click or ESC key press.\n *\n * To indicate transitions between these states dragging emits generic\n * life-cycle events with the `drag.` prefix _and_ events namespaced\n * to a prefix choosen by a user during drag initialization.\n *\n * The following events are emitted (appropriately prefixed) via\n * the {@link EventBus}.\n *\n * * `init`\n * * `start`\n * * `move`\n * * `end`\n * * `ended` (dragging already in off state)\n * * `cancel` (only if previously started)\n * * `canceled` (dragging already in off state, only if previously started)\n * * `cleanup`\n *\n *\n * @example\n *\n * ```javascript\n * function MyDragComponent(eventBus, dragging) {\n *\n *   eventBus.on('mydrag.start', function(event) {\n *     console.log('yes, we start dragging');\n *   });\n *\n *   eventBus.on('mydrag.move', function(event) {\n *     console.log('canvas local coordinates', event.x, event.y, event.dx, event.dy);\n *\n *     // local drag data is passed with the event\n *     event.context.foo; // \"BAR\"\n *\n *     // the original mouse event, too\n *     event.originalEvent; // MouseEvent(...)\n *   });\n *\n *   eventBus.on('element.click', function(event) {\n *     dragging.init(event, 'mydrag', {\n *       cursor: 'grabbing',\n *       data: {\n *         context: {\n *           foo: \"BAR\"\n *         }\n *       }\n *     });\n *   });\n * }\n * ```\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {Selection} selection\n * @param {ElementRegistry} elementRegistry\n */\nexport default function Dragging(eventBus, canvas, selection, elementRegistry) {\n\n  var defaultOptions = {\n    threshold: 5,\n    trapClick: true\n  };\n\n  // the currently active drag operation\n  // dragging is active as soon as this context exists.\n  //\n  // it is visually _active_ only when a context.active flag is set to true.\n  var context;\n\n  /* convert a global event into local coordinates */\n  function toLocalPoint(globalPosition) {\n\n    var viewbox = canvas.viewbox();\n\n    var clientRect = canvas._container.getBoundingClientRect();\n\n    return {\n      x: viewbox.x + (globalPosition.x - clientRect.left) / viewbox.scale,\n      y: viewbox.y + (globalPosition.y - clientRect.top) / viewbox.scale\n    };\n  }\n\n  // helpers\n\n  function fire(type, dragContext) {\n    dragContext = dragContext || context;\n\n    var event = eventBus.createEvent(\n      assign(\n        {},\n        dragContext.payload,\n        dragContext.data,\n        { isTouch: dragContext.isTouch }\n      )\n    );\n\n    // default integration\n    if (eventBus.fire('drag.' + type, event) === false) {\n      return false;\n    }\n    return eventBus.fire(dragContext.prefix + '.' + type, event);\n  }\n\n  function restoreSelection(previousSelection) {\n    var existingSelection = previousSelection.filter(function(element) {\n      return elementRegistry.get(element.id);\n    });\n\n    existingSelection.length && selection.select(existingSelection);\n  }\n\n  // event listeners\n\n  function move(event, activate) {\n    var payload = context.payload,\n        displacement = context.displacement;\n\n    var globalStart = context.globalStart,\n        globalCurrent = toPoint(event),\n        globalDelta = deltaPos(globalCurrent, globalStart);\n\n    var localStart = context.localStart,\n        localCurrent = toLocalPoint(globalCurrent),\n        localDelta = deltaPos(localCurrent, localStart);\n\n\n    // activate context explicitly or once threshold is reached\n    if (!context.active && (activate || getLength(globalDelta) > context.threshold)) {\n\n      // fire start event with original\n      // starting coordinates\n\n      assign(payload, {\n        x: round(localStart.x + displacement.x),\n        y: round(localStart.y + displacement.y),\n        dx: 0,\n        dy: 0\n      }, { originalEvent: event });\n\n      if (false === fire('start')) {\n        return cancel();\n      }\n\n      context.active = true;\n\n      // unset selection and remember old selection\n      // the previous (old) selection will always passed\n      // with the event via the event.previousSelection property\n      if (!context.keepSelection) {\n        payload.previousSelection = selection.get();\n        selection.select(null);\n      }\n\n      // allow custom cursor\n      if (context.cursor) {\n        cursorSet(context.cursor);\n      }\n\n      // indicate dragging via marker on root element\n      canvas.addMarker(canvas.getRootElement(), DRAG_ACTIVE_CLS);\n    }\n\n    stopPropagation(event);\n\n    if (context.active) {\n\n      // update payload with actual coordinates\n      assign(payload, {\n        x: round(localCurrent.x + displacement.x),\n        y: round(localCurrent.y + displacement.y),\n        dx: round(localDelta.x),\n        dy: round(localDelta.y)\n      }, { originalEvent: event });\n\n      // emit move event\n      fire('move');\n    }\n  }\n\n  function end(event) {\n    var previousContext,\n        returnValue = true;\n\n    if (context.active) {\n\n      if (event) {\n        context.payload.originalEvent = event;\n\n        // suppress original event (click, ...)\n        // because we just ended a drag operation\n        stopPropagation(event);\n      }\n\n      // implementations may stop restoring the\n      // original state (selections, ...) by preventing the\n      // end events default action\n      returnValue = fire('end');\n    }\n\n    if (returnValue === false) {\n      fire('rejected');\n    }\n\n    previousContext = cleanup(returnValue !== true);\n\n    // last event to be fired when all drag operations are done\n    // at this point in time no drag operation is in progress anymore\n    fire('ended', previousContext);\n  }\n\n\n  // cancel active drag operation if the user presses\n  // the ESC key on the keyboard\n\n  function checkCancel(event) {\n\n    if (isKey('Escape', event)) {\n      preventDefault(event);\n\n      cancel();\n    }\n  }\n\n\n  // prevent ghost click that might occur after a finished\n  // drag and drop session\n\n  function trapClickAndEnd(event) {\n\n    var untrap;\n\n    // trap the click in case we are part of an active\n    // drag operation. This will effectively prevent\n    // the ghost click that cannot be canceled otherwise.\n    if (context.active) {\n\n      untrap = installClickTrap(eventBus);\n\n      // remove trap after minimal delay\n      setTimeout(untrap, 400);\n\n      // prevent default action (click)\n      preventDefault(event);\n    }\n\n    end(event);\n  }\n\n  function trapTouch(event) {\n    move(event);\n  }\n\n  // update the drag events model element (`hover`) and graphical element (`hoverGfx`)\n  // properties during hover and out and fire {prefix}.hover and {prefix}.out properties\n  // respectively\n\n  function hover(event) {\n    var payload = context.payload;\n\n    payload.hoverGfx = event.gfx;\n    payload.hover = event.element;\n\n    fire('hover');\n  }\n\n  function out(event) {\n    fire('out');\n    var payload = context.payload;\n\n    payload.hoverGfx = null;\n    payload.hover = null;\n  }\n\n\n  // life-cycle methods\n\n  function cancel(restore) {\n    var previousContext;\n\n    if (!context) {\n      return;\n    }\n\n    var wasActive = context.active;\n\n    if (wasActive) {\n      fire('cancel');\n    }\n\n    previousContext = cleanup(restore);\n\n    if (wasActive) {\n\n      // last event to be fired when all drag operations are done\n      // at this point in time no drag operation is in progress anymore\n      fire('canceled', previousContext);\n    }\n  }\n\n  function cleanup(restore) {\n    var previousContext,\n        endDrag;\n\n    fire('cleanup');\n\n    // reset cursor\n    cursorUnset();\n\n    if (context.trapClick) {\n      endDrag = trapClickAndEnd;\n    } else {\n      endDrag = end;\n    }\n\n    // reset dom listeners\n    domEvent.unbind(document, 'mousemove', move);\n\n    domEvent.unbind(document, 'dragstart', preventDefault);\n    domEvent.unbind(document, 'selectstart', preventDefault);\n\n    domEvent.unbind(document, 'mousedown', endDrag, true);\n    domEvent.unbind(document, 'mouseup', endDrag, true);\n\n    domEvent.unbind(document, 'keyup', checkCancel);\n\n    domEvent.unbind(document, 'touchstart', trapTouch, true);\n    domEvent.unbind(document, 'touchcancel', cancel, true);\n    domEvent.unbind(document, 'touchmove', move, true);\n    domEvent.unbind(document, 'touchend', end, true);\n\n    eventBus.off('element.hover', hover);\n    eventBus.off('element.out', out);\n\n    // remove drag marker on root element\n    canvas.removeMarker(canvas.getRootElement(), DRAG_ACTIVE_CLS);\n\n    // restore selection, unless it has changed\n    var previousSelection = context.payload.previousSelection;\n\n    if (restore !== false && previousSelection && !selection.get().length) {\n      restoreSelection(previousSelection);\n    }\n\n    previousContext = context;\n\n    context = null;\n\n    return previousContext;\n  }\n\n  /**\n   * Initialize a drag operation.\n   *\n   * If `localPosition` is given, drag events will be emitted\n   * relative to it.\n   *\n   * @param {MouseEvent|TouchEvent} [event]\n   * @param {Point} [relativeTo] actual diagram local position this drag operation should start at\n   * @param {string} prefix\n   * @param {Object} [options]\n   */\n  function init(event, relativeTo, prefix, options) {\n\n    // only one drag operation may be active, at a time\n    if (context) {\n      cancel(false);\n    }\n\n    if (typeof relativeTo === 'string') {\n      options = prefix;\n      prefix = relativeTo;\n      relativeTo = null;\n    }\n\n    options = assign({}, defaultOptions, options || {});\n\n    var data = options.data || {},\n        originalEvent,\n        globalStart,\n        localStart,\n        endDrag,\n        isTouch;\n\n    if (options.trapClick) {\n      endDrag = trapClickAndEnd;\n    } else {\n      endDrag = end;\n    }\n\n    if (event) {\n      originalEvent = getOriginal(event) || event;\n      globalStart = toPoint(event);\n\n      stopPropagation(event);\n\n      // prevent default browser dragging behavior\n      if (originalEvent.type === 'dragstart') {\n        preventDefault(originalEvent);\n      }\n    } else {\n      originalEvent = null;\n      globalStart = { x: 0, y: 0 };\n    }\n\n    localStart = toLocalPoint(globalStart);\n\n    if (!relativeTo) {\n      relativeTo = localStart;\n    }\n\n    isTouch = isTouchEvent(originalEvent);\n\n    context = assign({\n      prefix: prefix,\n      data: data,\n      payload: {},\n      globalStart: globalStart,\n      displacement: deltaPos(relativeTo, localStart),\n      localStart: localStart,\n      isTouch: isTouch\n    }, options);\n\n    // skip dom registration if trigger\n    // is set to manual (during testing)\n    if (!options.manual) {\n\n      // add dom listeners\n\n      if (isTouch) {\n        domEvent.bind(document, 'touchstart', trapTouch, true);\n        domEvent.bind(document, 'touchcancel', cancel, true);\n        domEvent.bind(document, 'touchmove', move, true);\n        domEvent.bind(document, 'touchend', end, true);\n      } else {\n\n        // assume we use the mouse to interact per default\n        domEvent.bind(document, 'mousemove', move);\n\n        // prevent default browser drag and text selection behavior\n        domEvent.bind(document, 'dragstart', preventDefault);\n        domEvent.bind(document, 'selectstart', preventDefault);\n\n        domEvent.bind(document, 'mousedown', endDrag, true);\n        domEvent.bind(document, 'mouseup', endDrag, true);\n      }\n\n      domEvent.bind(document, 'keyup', checkCancel);\n\n      eventBus.on('element.hover', hover);\n      eventBus.on('element.out', 2500, out);\n    }\n\n    fire('init');\n\n    if (options.autoActivate) {\n      move(event, true);\n    }\n  }\n\n  // cancel on diagram destruction\n  eventBus.on('diagram.destroy', cancel);\n\n\n  // API\n\n  this.init = init;\n  this.move = move;\n  this.hover = hover;\n  this.out = out;\n  this.end = end;\n\n  this.cancel = cancel;\n\n  // for introspection\n\n  this.context = function() {\n    return context;\n  };\n\n  this.setOptions = function(options) {\n    assign(defaultOptions, options);\n  };\n}\n\nDragging.$inject = [\n  'eventBus',\n  'canvas',\n  'selection',\n  'elementRegistry'\n];","import OrmDragging from './dragger.js';\nimport HoverFixModule from \"diagram-js/lib/features/hover-fix\";\nimport SelectionModule from \"diagram-js/lib/features/selection\";\n\nexport default {\n    __depends__: [\n    HoverFixModule,\n    SelectionModule,\n  ],\n    __init__: [ 'dragging' ],\n  dragging: [ 'type', OrmDragging ],\n};","import EventBus from \"diagram-js/lib/core/EventBus\";\nimport { Fact } from \"../model/facts\";\nimport { isFact } from \"../model/util\";\n\nexport default class ObjectificationReflection {\n    static $inject = ['eventBus', 'modeling'];\n    private readonly _modeling:any;\n\n    constructor(eventBus:EventBus, modeling:any) {\n\n        this._modeling = modeling;  \n\n        eventBus.on('shape.move.end', (event) => {\n            let data = event as any;\n            let shape = data.shape;\n            if (this.checkFact(shape)) {\n                setTimeout(() => this.processObjectification(shape), 5);\n            }\n            return event;\n        });\n\n        eventBus.on('constraint.builder.simple.end', (event) => {\n            let data = event as any;\n            let shape = data.source;\n            if (this.checkFact(shape)) {\n                setTimeout(() => this.processObjectification(shape), 5);\n            }\n            return event;\n        });\n\n        eventBus.on('elements.changed', (event) => {\n            let data = event as any;\n            for (let shape of data.elements) {\n                if (this.checkFact(shape)) {\n                    setTimeout( () => this.processObjectification(shape), 5);\n                }\n            }\n            return event;\n        });\n    }\n\n    checkFact(shape:any) : shape is Fact {\n        if ( isFact(shape) && shape.objectified ) {\n            return true;\n        }\n        return false;\n    }\n\n    processObjectification(fact:Fact) {\n        if (fact.objectification){\n            let that = this;\n            setTimeout(\n                () => {\n                    let objectification = fact.objectification;\n                    objectification!.update();\n                    that._modeling.sendUpdate(objectification);\n                    for(let out of objectification?.incoming) {\n                        setTimeout(() => {\n                            that._modeling.layoutConnection(out);\n                            that._modeling.sendUpdate(out);\n                        }, 19);\n                    }\n                    for(let out of objectification?.outgoing) {\n                        setTimeout(() => {\n                            that._modeling.layoutConnection(out);\n                            that._modeling.sendUpdate(out);\n                        }, 10);\n                    }\n                }\n            , 5 );\n        }\n    }\n}\n\nObjectificationReflection.$inject = ['eventBus', 'modeling'];\n","import ObjectificationReflection from \"./reflection\";\n\nexport default {\n     __init__ : [\n        'objectificationReflection'\n    ],\n    objectificationReflection: ['type', ObjectificationReflection]\n};","import { isConstraint, isObjectification } from \"../model/util\";\nimport {\n  assign,\n  filter,\n  groupBy,\n  isObject\n} from 'min-dash';\n\nimport {\n  classes as svgClasses\n} from 'tiny-svg';\n\nvar LOW_PRIORITY = 500,\n    MEDIUM_PRIORITY = 1250,\n    HIGH_PRIORITY = 1500;\n\nimport { getOriginal as getOriginalEvent } from 'diagram-js/lib/util/Event';\n\nimport {\n  isPrimaryButton\n} from 'diagram-js/lib/util/Mouse';\n\nvar round = Math.round;\n\nfunction mid(element) {\n  return {\n    x: element.x + round(element.width / 2),\n    y: element.y + round(element.height / 2)\n  };\n}\n\n/**\n * A plugin that makes shapes draggable / droppable.\n *\n * @param {EventBus} eventBus\n * @param {Dragging} dragging\n * @param {Modeling} modeling\n * @param {Selection} selection\n * @param {Rules} rules\n */\nexport default function OrmMoveEvents(\n    eventBus, dragging, modeling,\n    selection, rules) {\n\n  // rules\n\n  function canMove(shapes, delta, position, target) {\n\n    return rules.allowed('elements.move', {\n      shapes: shapes,\n      delta: delta,\n      position: position,\n      target: target\n    });\n  }\n\n\n  // move events\n\n  // assign a high priority to this handler to setup the environment\n  // others may hook up later, e.g. at default priority and modify\n  // the move environment.\n  //\n  // This sets up the context with\n  //\n  // * shape: the primary shape being moved\n  // * shapes: a list of shapes to be moved\n  // * validatedShapes: a list of shapes that are being checked\n  //                    against the rules before and during move\n  //\n  eventBus.on('shape.move.start', HIGH_PRIORITY, function(event) {\n\n    var context = event.context,\n        shape = event.shape,\n        shapes = selection.get().slice();\n\n    // move only single shape if the dragged element\n    // is not part of the current selection\n    if (shapes.indexOf(shape) === -1) {\n      shapes = [ shape ];\n    }\n\n    // ensure we remove nested elements in the collection\n    // and add attachers for a proper dragger\n    shapes = removeNested(shapes);\n\n    // attach shapes to drag context\n    assign(context, {\n      shapes: shapes,\n      validatedShapes: shapes,\n      shape: shape\n    });\n  });\n\n\n  // assign a high priority to this handler to setup the environment\n  // others may hook up later, e.g. at default priority and modify\n  // the move environment\n  //\n  eventBus.on('shape.move.start', MEDIUM_PRIORITY, function(event) {\n\n    var context = event.context,\n        validatedShapes = context.validatedShapes,\n        canExecute;\n\n    canExecute = context.canExecute = canMove(validatedShapes);\n\n    // check if we can move the elements\n    if (!canExecute) {\n      return false;\n    }\n  });\n\n  // assign a low priority to this handler\n  // to let others modify the move event before we update\n  // the context\n  //\n  eventBus.on('shape.move.move', LOW_PRIORITY, function(event) {\n\n    var context = event.context,\n        validatedShapes = context.validatedShapes,\n        hover = event.hover,\n        delta = { x: event.dx, y: event.dy },\n        position = { x: event.x, y: event.y },\n        canExecute;\n\n    // check if we can move the elements\n    canExecute = canMove(validatedShapes, delta, position, hover);\n\n    context.delta = delta;\n    context.canExecute = canExecute;\n\n    // simply ignore move over\n    if (canExecute === null) {\n      context.target = null;\n\n      return;\n    }\n\n    context.target = hover;\n  });\n\n  eventBus.on('shape.move.end', function(event) {\n\n    var context = event.context;\n\n    var delta = context.delta,\n        canExecute = context.canExecute,\n        isAttach = canExecute === 'attach',\n        shapes = context.shapes;\n\n    if (canExecute === false) {\n      return false;\n    }\n\n    // ensure we have actual pixel values deltas\n    // (important when zoom level was > 1 during move)\n    delta.x = round(delta.x);\n    delta.y = round(delta.y);\n\n    if (delta.x === 0 && delta.y === 0) {\n\n      // didn't move\n      return;\n    }\n\n    modeling.moveElements(shapes, delta, context.target, {\n      primaryShape: context.shape,\n      attach: isAttach\n    });\n  });\n\n\n  // move activation\n\n  eventBus.on('element.mousedown', function(event) {\n\n    if (!isPrimaryButton(event)) {\n      return;\n    }\n\n    var originalEvent = getOriginalEvent(event);\n\n    if (!originalEvent) {\n      throw new Error('must supply DOM mousedown event');\n    }\n\n    return start(originalEvent, event.element);\n  });\n\n  /**\n   * Start move.\n   *\n   * @param {MouseEvent|TouchEvent} event\n   * @param {Shape} element\n   * @param {boolean} [activate]\n   * @param {Object} [context]\n   */\n  function start(event, element, activate, context) {\n    if (isObject(activate)) {\n      context = activate;\n      activate = false;\n    }\n\n    // do not move connections or the root element\n    if (element.waypoints || !element.parent) {\n      return;\n    }\n    if (isConstraint(element) || isObjectification(element)) {\n        return;\n    }\n\n    // ignore non-draggable hits\n    if (svgClasses(event.target).has('djs-hit-no-move')) {\n      return;\n    }\n\n    var referencePoint = mid(element);\n\n    dragging.init(event, referencePoint, 'shape.move', {\n      cursor: 'grabbing',\n      autoActivate: activate,\n      data: {\n        shape: element,\n        context: context || {}\n      }\n    });\n\n    // we've handled the event\n    return true;\n  }\n\n  // API\n\n  this.start = start;\n}\n\nOrmMoveEvents.$inject = [\n  'eventBus',\n  'dragging',\n  'modeling',\n  'selection',\n  'rules'\n];\n\n\n/**\n * Return a filtered list of elements that do not contain\n * those nested into others.\n *\n * @param {Element[]} elements\n *\n * @return {Element[]} filtered\n */\nfunction removeNested(elements) {\n\n  var ids = groupBy(elements, 'id');\n\n  return filter(elements, function(element) {\n    while ((element = element.parent)) {\n\n      // parent in selection\n      if (ids[element.id]) {\n        return false;\n      }\n    }\n\n    return true;\n  });\n}","import OrmMoving from './moving';\nimport InteractionEventsModule from 'diagram-js/lib/features/interaction-events';\nimport SelectionModule from 'diagram-js/lib/features/selection';\nimport OutlineModule from 'diagram-js/lib/features/outline';\nimport RulesModule from 'diagram-js/lib/features/rules';\nimport DraggingModule from 'diagram-js/lib/features/dragging';\nimport PreviewSupportModule from 'diagram-js/lib/features/preview-support';\n\nexport default {\n    __depends__: [\n        InteractionEventsModule,\n        SelectionModule,\n        OutlineModule,\n        RulesModule,\n        DraggingModule,\n        PreviewSupportModule\n    ],\n    __init__: ['move'],\n    move: ['type', OrmMoving]\n};","import InteractionEvents, { Element } from 'diagram-js/lib/features/interaction-events/InteractionEvents';\nimport EventBus from 'diagram-js/lib/core/EventBus';\nimport ElementRegistry from 'diagram-js/lib/core/ElementRegistry';\nimport Styles from 'diagram-js/lib/draw/Styles';\nimport { isConstraint, isObjectification } from '../model/util';\n\nexport default class OrmInteractionEvents extends InteractionEvents {\n\n    constructor(\n        eventBus:EventBus, elementRegistry:ElementRegistry, \n        styles:Styles) {\n        super(eventBus, elementRegistry, styles);\n\n        this.createDefaultHit = (element: Element, gfx: SVGElement) => {\n            var waypoints = element.waypoints,\n                isFrame = element.isFrame,\n                boxType;\n\n            if (waypoints) {\n                return this.createWaypointsHit(gfx, waypoints);\n            } else {\n                boxType = isFrame ? 'stroke' : 'all';\n                let shape = (element as any).shape || element;\n                if (isObjectification(shape) || isConstraint(shape)) {\n                    boxType = 'no-move';\n                }\n\n                return this.createBoxHit(gfx, boxType, {\n                    width: element.width,\n                    height: element.height\n                });\n            }\n        };\n    }\n}","import ormInteractionEvents from './interaction';\n\nexport default {\n    __init__: [],\n    interactionEvents: [ 'type', ormInteractionEvents ]\n};","import EventBus from 'diagram-js/lib/core/EventBus';\nimport Canvas from 'diagram-js/lib/core/Canvas';\n\nimport { HelpChainModel } from './model';\n\nexport type HelpPrefix = 'help';\nexport type HelpSuffix = 'start' | 'error' | 'clear' | 'next' | 'end';\nexport type HelpEvents = `${HelpPrefix}.${HelpSuffix}`;\n\nconst contentDivId = 'help-interactions';\nconst errorDivId = 'help-interactions-error';\n\nimport { DummyChain, HelpStartEvent } from './model';\n\n/**\n * This module provides interactions for the help system in the editor.\n */\nexport default class HelpInteractions {\n\n    static $inject: string[] = [ 'eventBus', 'canvas' ];\n    _chain: HelpChainModel | undefined;\n    _bus:EventBus;\n    _canvas:Canvas;\n\n    _contentDiv!: HTMLElement;\n    _contentText!: Element;\n    _errorDiv!: HTMLElement;\n    _errorText!: Element;\n\n    constructor(bus: EventBus, canvas: Canvas) {\n        this._bus = bus;\n        this._canvas = canvas;\n\n        this.init();\n\n        this._bus.on('help.start', this.start.bind(this));\n        this._bus.on('help.error', this.error.bind(this));\n        this._bus.on('help.next', this.next.bind(this));\n        this._bus.on('help.end', this.end.bind(this));\n        this._bus.on('help.clear', this.clear.bind(this));\n    }\n\n    init(){\n        this._contentDiv = document\n            .getElementById(contentDivId)!;\n        this._contentText = this._contentDiv\n            ?.getElementsByClassName(\"content\")[0]!;\n        this._errorDiv = document\n            .getElementById(errorDivId)!;\n        this._errorText = this._errorDiv\n            ?.getElementsByClassName(\"content\")[0]!;\n    }\n\n    reset(force: boolean = false) {\n        this._contentDiv.classList.remove('open');\n        this._errorDiv.classList.remove('open');\n        this._contentDiv.classList.add('close');\n        this._errorDiv.classList.add('close');\n        if (force) {\n            this._contentText.innerHTML = '';\n            this._errorText.innerHTML = '';\n        } else {\n            setTimeout(() => {\n                this._contentText.innerHTML = '';\n                this._errorText.innerHTML = '';\n            }, 150);\n        }\n    }\n\n    fire(event: HelpEvents, context: any) {\n        if (this._bus) {\n            setTimeout(\n                () => this._bus.fire(event, context),\n                5\n            );\n        } else {\n            console.warn(\"Event bus is not initialized.\");\n        }\n    }\n\n    start(context:HelpStartEvent){\n        this.reset(true);\n        this._chain = context.chain;\n        if (this._chain) {\n            this._contentDiv.classList.add('open');\n            this._contentDiv.classList.remove('close');\n            this._contentText.innerHTML = this._chain.title;\n        } else {\n            console.warn(\"No help chain provided.\");\n        }\n    }\n\n    clear() {\n        this._errorDiv.classList.add('close');\n        this._errorDiv.classList.remove('open');\n        this._errorText.innerHTML = '';\n    }\n\n    error() {\n        if (this._chain) {\n            this._errorDiv.classList.add('open');\n            this._errorDiv.classList.remove('close');\n            this._errorText.innerHTML = this._chain.error;\n        } else {\n            console.warn(\"No help chain available for error display.\");\n        }\n    }\n\n    next() {\n        if (this._chain && this._chain.next) {\n            this._chain = this._chain.next;\n            this.reset(true);\n            this._contentDiv.classList.add('open');\n            this._contentDiv.classList.remove('close');\n            this._contentText.innerHTML = this._chain!.title;\n            \n        } else {\n            console.warn(\"No next help chain available.\");\n        }\n    }\n\n    end() {\n        this.reset();\n        this._chain = undefined;\n    }\n}","import HelpInteractions from './helping';\n\nexport default {\n    __init__ : [ 'helpInteractions' ],\n    helpInteractions: [ 'type', HelpInteractions ]\n};","\nimport { OrmEditorSettings, ShapeMapping } from \"../../../ormEditor\";\n\nimport EventBus from \"diagram-js/lib/core/EventBus\";\n/**\n * RenderOptions class for managing rendering options in the ORM editor.\n */\nexport default class RenderOptions {\n\n    static $inject = ['eventBus', 'modeling'];\n    _options:OrmEditorSettings;\n    _modeling:any; \n\n    constructor(eventBus:EventBus, modeling:any) {\n        this._options = {\n            debugRendering: false,\n            renderingOptions: {\n                opacity: {\n                    shape: 1,\n                    others: {\n                        fact: 1,\n                        entity: 1,\n                        label: 1,\n                        objectification: 1,\n                        uniquenessConstraint: 1,\n                        valueConstraint: 1,\n                        roleConnection: 1,\n                        subtypeConnection: 1\n                    }\n                },\n                debugDot: {\n                    shape: false,\n                    others: {\n                        fact: false,\n                        entity: false,\n                        label: false,\n                        objectification: false,\n                        uniquenessConstraint: false,\n                        valueConstraint: false,\n                        roleConnection: false,\n                        subtypeConnection: false\n                    }\n                }\n            }\n        };\n\n        this._modeling = modeling;\n\n        eventBus.on('vscode.settings', (event:any) => {\n            this._options = event.settings;\n            this._modeling.triggerRefresh();\n        });\n\n    }\n\n    isDebugging(): boolean {\n        return this._options.debugRendering;\n    }\n\n    getDebugOpacity(): number {\n        if (this.isDebugging()){\n            return this._options.renderingOptions.opacity.shape;\n        }\n        return 1;\n    }\n\n    getShapeDebugOpacity(shape:string & keyof ShapeMapping<number>): number {\n        if (!this.isDebugging()) {\n            return 1;\n        }\n        if (this._options.renderingOptions.opacity.others[shape] !== undefined) {\n            return this._options.renderingOptions.opacity.others[shape];\n        }\n        console.warn(`Shape ${shape} not found in rendering options for opacity.`);\n        return 1;\n    }\n\n    computeShapeOpacity(shape:string & keyof ShapeMapping<number>): number {\n        let ret = 1 * this.getDebugOpacity();\n        ret = ret * this.getShapeDebugOpacity(shape);\n        return ret;\n    }\n\n    getDebugDot(): boolean {\n        return this._options.renderingOptions.debugDot.shape \n            && this.isDebugging();\n    }\n\n    getShapeDebugDot(shape:string & keyof ShapeMapping<boolean>): boolean {\n        if (!this.isDebugging()) {\n            return false;\n        }\n        if (this.getDebugDot()) {\n            return true;\n        }\n        if (this._options.renderingOptions.debugDot.others[shape] !== undefined) {\n            return this._options.renderingOptions.debugDot.others[shape]!;\n        }\n        console.warn(`Shape ${shape} not found in rendering options for debug dot.`);\n        return false;\n    }\n\n}","import RenderOptions from \"./renderOptions\";\n\nexport default {\n    __init__ : ['renderingOptions'],\n    renderingOptions: ['type', RenderOptions],\n};","import EventBus from \"diagram-js/lib/core/EventBus\";\nimport Selection from \"diagram-js/lib/features/selection/Selection\";\nimport ElementRegistry from \"diagram-js/lib/core/ElementRegistry\";\nimport { ShapeLike } from \"diagram-js/lib/model/Types\";\nimport { isConnection } from \"diagram-js/lib/util/ModelUtil\";\n\nexport const PREFIX = 'tab-model';\nexport type TabModelState = 'tab' | 'shift.back' | 'shift.forward';\n\ninterface TabGraphNode {\n    id: string; // unique identifier for the node\n    position: number; // position in the tab order\n}\n\ninterface TabGraph {\n    nodes: Map<string , TabGraphNode>; \n    orderedNodes: TabGraphNode[]; \n}\n\nclass TabGraphController implements TabGraph {\n    nodes: Map<string , TabGraphNode>; \n    orderedNodes: TabGraphNode[];   \n \n    constructor() {\n        this.nodes = new Map<string, TabGraphNode>();\n        this.orderedNodes = new Array<TabGraphNode>();\n    }\n\n    insert(element: ShapeLike){\n        // create a new TabGraphNode for the element\n        const node: TabGraphNode = {\n            id: element.id,\n            position: this._calculatePosition(element)\n        };\n\n        // insert the node into the graph\n        this.nodes.set(node.id, node);\n\n        // insert the node into the ordered list\n        this.orderedNodes.push(node);\n        this.sort();\n    }\n\n    update(element: ShapeLike) {\n        // update the position of the node in the graph\n        const node = this.nodes.get(element.id);\n        if (node) {\n            node.position = this._calculatePosition(element);\n        }\n    }\n\n    remove(element: ShapeLike) {\n        // remove the node from the graph\n        const node = this.nodes.get(element.id);\n        if (node) {\n            this.nodes.delete(node.id);\n            this.orderedNodes = this.orderedNodes.filter(n => n.id !== node.id);\n        }\n    }\n\n    sort() {\n        this.orderedNodes.sort((a, b) => a.position - b.position);\n    }\n\n    first(): TabGraphNode | undefined {\n        // return the first node in the ordered list\n        return this.orderedNodes.length > 0 ? this.orderedNodes[0] : undefined;\n    }\n\n    next(element: ShapeLike): TabGraphNode | undefined {\n        // find the next node in the ordered list\n        const currentNode = this.nodes.get(element.id);\n        if (currentNode) {\n            const index = this.orderedNodes.indexOf(currentNode);\n            if (index >= 0 && index < this.orderedNodes.length - 1) {\n                return this.orderedNodes[index + 1];\n            }\n        }\n        return undefined;\n    }\n\n    _calculatePosition(element: ShapeLike): number {\n        const bounds = { x : element.x, y: element.y };\n        // Use Manhattan distance from top-left, with (x+y) as tiebreaker\n        return (bounds.x + bounds.y) * 1000 + bounds.x + bounds.y;\n    }\n    \n}\n\ninterface TabHistoryNode {\n    last: TabHistoryNode | undefined; // reference to the last node in the history\n    next: TabHistoryNode | undefined; // reference to the next node in the history\n    node: TabGraphNode; // the node that was selected\n    isSpilt: boolean; // whether the node was split\n    split?: TabHistoryNode; // the split node, if any\n}\n\ninterface TabHistory {\n    history: TabHistoryNode[]; // array of history nodes\n}\n\nclass TabHistoryController implements TabHistory {\n    history: TabHistoryNode[];\n    _current: TabHistoryNode | undefined; \n\n    constructor() {\n        this.history = [];\n        this._current = undefined;\n    }\n\n    insert(node: TabGraphNode) {\n        // create a new history node\n        const laster = this._current ? this._current : undefined;\n        const historyNode: TabHistoryNode = {\n            last: laster,\n            next: undefined,\n            node: node,\n            isSpilt: false,\n            split: undefined\n        };\n\n        // if there is a current node, link it to the new node\n        if (this._current) {\n            this._current.next = historyNode;\n            historyNode.last = this._current;\n        }\n\n        this._current = historyNode;\n        this.history.push(historyNode);\n    }\n\n    remove() {\n\n    }\n\n    current(): TabHistoryNode | undefined {\n        return this._current; \n    }\n\n    next(): TabHistoryNode | undefined {\n        if (this._current && this._current.next) {\n            this._current = this._current.next;\n\n            this._recursivelyRemoveSplit(this._current);\n\n            return this._current;\n        }\n        return undefined;\n    }\n\n    back(): TabHistoryNode | undefined {\n        if (this._current && this._current.last) {\n            this._current = this._current.last;\n\n            this._recursivelyRemoveSplit(this._current);\n\n            return this._current;\n        }\n        return undefined;\n    }\n\n    _recursivelyRemoveSplit(node: TabHistoryNode) {\n        var that = this;\n\n        function remover(nodeToRemove: TabHistoryNode) {\n            if (nodeToRemove.next) {\n                // recursively remove the split node\n                remover(nodeToRemove.next);\n            }\n            // Clean up circular references before removing\n            if (nodeToRemove.last) {\n                nodeToRemove.last.next = undefined;\n            }\n            if (nodeToRemove.next) {\n                nodeToRemove.next.last = undefined;\n            }\n            // remove the node from the history\n            that.history = that.history.filter(n => n !== nodeToRemove);\n        }\n\n        if (node.isSpilt && node.split) {\n            // if the node is split, remove the split node\n            remover(node.split);\n        }\n\n        node.isSpilt = false; \n        node.split = undefined; \n    }\n\n    split(node:TabGraphNode): TabHistoryNode | undefined {\n        if (this._current) {\n            this._current.isSpilt = true;\n\n            // create a new history node for the split\n            const splitNode: TabHistoryNode = {\n                last: this._current,\n                next: undefined,\n                node: node,\n                isSpilt: true,\n                split: undefined\n            };\n\n            this._current.split = splitNode;\n            this.history.push(splitNode);\n            this._current = splitNode;\n        }\n        return undefined;\n    }\n\n    reset() {\n        this.history = [];\n        this._current = undefined;\n    }\n}\n\nconst PRIORITY = 2000; \n\nexport default class TabModel { \n\n    static $inject = [ 'eventBus', 'elementRegistry', 'selection',  ];\n    private _bus: EventBus;\n    private _selection: Selection;\n    private _elementRegistry: ElementRegistry;\n    private _tabGraph: TabGraphController; \n    private _tabHistory: TabHistoryController; \n    private _cache: TabHistoryController | undefined; \n    private _cachedLast: ShapeLike | undefined; \n\n    constructor(\n        eventBus:EventBus, elementRegistry:ElementRegistry, \n        selection:Selection) {\n        this._bus = eventBus;\n        this._elementRegistry = elementRegistry;\n        this._selection = selection;\n        this._tabHistory = new TabHistoryController();\n        this._tabGraph = new TabGraphController();\n\n        // internal state triggers\n        this._bus.on(`${PREFIX}.tab`, this.tab.bind(this));\n        this._bus.on(`${PREFIX}.shift.back`, this.shiftBack.bind(this));\n        this._bus.on(`${PREFIX}.shift.forward`, this.shiftForward.bind(this));\n\n        // external watchers \n        this._bus.on('shape.created', PRIORITY, this.handleCreation.bind(this));\n        this._bus.on('element.changed', PRIORITY, this.handleUpdate.bind(this));\n        this._bus.on(['shape.removed'], PRIORITY, this.handleDeletion.bind(this));\n        this._bus.on('selection.changed', PRIORITY, this.handleSelectionChange.bind(this));\n\n        // state management\n        this._bus.on(['constraint-builder.create', 'tab-mode.store'], PRIORITY + 250, this.cache.bind(this));\n        this._bus.on(['constraint-builder.closed', 'tab-mode.restore'], PRIORITY + 250, this.renew.bind(this));\n    }\n\n    cache(event:any) {\n        // Create a deep copy of the tab history to avoid shared references\n        const cache = new TabHistoryController();\n        cache.history = this._tabHistory.history.map(node => ({\n            last: node.last,\n            next: node.next,\n            node: { ...node.node },\n            isSpilt: node.isSpilt,\n            split: node.split\n        }));\n        cache._current = Object.assign( {} , this._tabHistory._current );\n        console.log('TabModel.cache: store history', cache);\n        this._cache = cache;\n    }\n\n    renew(event:any) {\n        if (this._cache) {\n            const renew = Object.assign( new TabHistoryController() , this._cache);\n            console.log('TabModel.renew: restore history', renew);\n            this._tabHistory = renew;\n            this._cache = undefined;\n        } else {\n            console.warn('TabModel.renew: no cache to restore from');\n        }\n    }\n\n    /**\n     * Fires a known tab model state to the event bus.\n     * @param {TabModelState} state triggerable state\n     * @param {object} context context to pass along with the event\n     */\n    fire(state:TabModelState, context:any = {}) {\n        this._bus.fire(\n            `${PREFIX}.${state}`,\n            Object.assign({}, context)\n        );\n    }\n\n    /**\n     * tries to find the next related element in the tab graph\n     * @param event \n     */\n    tab(event:any) {\n        // find the current selection\n        let current = this._selection.get();\n        let selected: ShapeLike | undefined = undefined;\n        if (current && current.length > 0) {\n            selected = current[0];\n        }\n        // now shift the selection to the next related and closest element\n        if (selected) {\n            // find the next element in the tab graph\n            const nextNode = this._tabGraph.next(selected);\n            if (nextNode) {\n                this._selection.select([\n                    this._elementRegistry.get(nextNode.id)\n                ]);\n            } else {\n                let firstNode = this._tabGraph.first();\n                if (firstNode) {\n                    this._selection.select([\n                        this._elementRegistry.get(firstNode.id)\n                    ]);\n                }\n            }\n        } else {\n            let firstNode = this._tabGraph.first();\n            if (firstNode) {\n                this._selection.select([\n                    this._elementRegistry.get(firstNode.id)\n                ]);\n            }\n        }\n    }\n\n    /**\n     * tries to shift the selection back in the tab history\n     * @param event \n     * @returns \n     */\n    shiftBack(event:any) {\n        // go back in the tab history to last selection/tab\n        const current = this._tabHistory.current();\n        if (current && current.last) {\n            // we have a last node, so go back to it\n            const element = this._elementRegistry.get(current.last.node.id);\n            if (element) {\n                this._selection.select([element]);\n            } else {\n                console.warn('TabModel.shiftBack: last element not found in element registry', current.last.node.id);\n            }\n        } else {\n            console.warn('TabModel.shiftBack: no last node in tab history');\n        }\n    }\n\n    /**\n     * tries to shift the selection forward in the tab history\n     * @param event \n     * @returns \n     */\n    shiftForward(event:any) {\n        // go foward in the tab history to last selection/tab\n        const current = this._tabHistory.current();\n        if (current && current.next) {\n            // we have a next node, so go forward to it\n            const nextNode = current.next;\n            if (nextNode) {\n                const element = this._elementRegistry.get(nextNode.node.id);\n                if (element) {\n                    this._selection.select([element]);\n                } else {\n                    console.warn('TabModel.shiftForward: next element not found in element registry', nextNode.node.id);\n                }\n            }\n        } else {\n            console.warn('TabModel.shiftForward: no next node in tab history');\n        }\n\n    }\n\n    /**\n     * Processes the creation of a new element in the tab graph.\n     * @param event \n     */\n    handleCreation(event:any) {\n        // add the newly created element to the tab graph\n        switch (event.type) {\n            case 'shape.created':\n                this._tabGraph.insert(event.shape);\n                break;\n            default:\n                console.warn('TabModel.handleCreation: unknown event type', event.type);\n                break;\n        }\n    }\n\n    handleUpdate(event:any) {\n        // handle updates to existing elements, e.g. position changes\n        switch (event.type) {\n            case 'element.changed':\n                const element = event.element;\n                if (element) {\n                    this._tabGraph.update(element);\n                    this._tabGraph.sort();\n                }\n                break;\n            case 'elements.moved':\n                for(let element of event.elements) {\n                    this._tabGraph.update(element);\n                }\n                this._tabGraph.sort();\n                break;\n            default:\n                console.warn('TabModel.handleUpdate: unknown event type', event.type);\n                break;\n        }\n    }\n\n    /**\n     * Processes the deletion of an element in the tab graph.\n     * @param event \n     */\n    handleDeletion(event:any) {\n        // remove the deleted element from the tab graph\n        switch (event.type) {\n            case 'shape.removed':\n                this._tabGraph.remove(event.element);\n                break;\n            default:\n                console.warn('TabModel.handleDeletion: unknown event type', event.type);\n                break;\n        }\n    }\n\n    handleSelectionChange(event:any) {\n        // handle selection changes, update the tab graph and history accordingly\n        let lastSelected: Array<ShapeLike> = event.oldSelection,\n            newSelected: Array<ShapeLike> = event.newSelection;\n\n        // handle the case when the selection contains connections \n        if (lastSelected.length > 1 || newSelected.length > 1) {\n            return; \n        } \n        if (newSelected.length === 1 && lastSelected.length === 0) {\n            // check if the last selected element is a connection\n            const newElement = newSelected[0];\n             if (isConnection(newElement)) {\n                return;\n            }\n        }\n        if (newSelected.length === 1 && lastSelected.length === 1) {\n            // check if the new selected element is a connection\n            const newElement = newSelected[0];\n            const lastElement = lastSelected[0];\n            const current = this._tabHistory.current();\n            // edge cases for handling movement between connections\n            if (isConnection(newElement) && isConnection(lastElement) ) {\n                return;\n            } else if (isConnection(newElement) && current && !current.isSpilt) {\n                this._tabHistory.split(current.node);\n                return;\n            } else if (!isConnection(newElement) && isConnection(lastElement) && current) {\n                this._tabHistory.back();\n                return;\n            } \n        }\n\n        if (newSelected.length === 0) {\n            // no new selection, reset the tab history\n            this._tabHistory.reset();\n            this._cachedLast = undefined;\n        } else if (newSelected.length === 1) {\n            // need to work out if we are adding or between existing nodes \n            // of the history\n            let nextElement: ShapeLike = newSelected[0];\n            let lastElement: ShapeLike | undefined = undefined;\n            if (lastSelected.length > 0) {\n                lastElement = lastSelected[0];\n            }\n            \n            if (!this._tabHistory.current() || !lastElement) {\n                // there is no past, so add next \n                const node = this._tabGraph.nodes.get(nextElement.id);\n                if (node) {\n                    this._tabHistory.insert(node);\n                } else {\n                    console.warn('TabModel.handleSelectionChange: selected'\n                        +'element not found in tab graph', nextElement.id\n                    );\n                }\n            } else {\n                // there is a past, so are we betweem or adding to the history?\n                const currentNode = this._tabHistory.current()!;\n                const lastNode = this._tabGraph.nodes.get(lastElement.id)!;\n                const nextNode = this._tabGraph.nodes.get(nextElement.id)!;\n\n                if (currentNode.node.id === lastNode.id && currentNode.next?.node.id === nextNode.id) {\n                    // we are between and shifting matches the current history\n                    this._tabHistory.next();\n                } else if (currentNode.node.id === lastNode.id && currentNode.last?.node.id === nextNode.id) {\n                    // we are between and shifting matches the current history\n                    this._tabHistory.back();\n                } else if (currentNode.node.id === lastNode.id && currentNode.next === undefined) {\n                    // we are adding to the history\n                    if (nextNode) {\n                        this._tabHistory.insert(nextNode);\n                    } else {\n                        console.warn('TabModel.handleSelectionChange: next element not found in tab graph', nextElement.id);\n                    }\n                } else {\n                    // we are in some known state, but we are agreeing with\n                    // the current history, so we must split on the current node\n                    this._tabHistory.split(nextNode);                \n                }\n            }\n            \n        }\n    }\n}","import TabModelModule from \"./tabber\";\n\nexport default {\n    __init__: [ 'tabModel' ],\n    tabModel: [ 'type', TabModelModule ]\n};","import EventBus from \"diagram-js/lib/core/EventBus\";\nimport VscodeMessageHandler from \"../vscode/handler\";\n\n\nexport default class LocalSessionStorage {\n    static $inject = [\"eventBus\" , \"vscodeMessageHandler\"];\n    _bus:EventBus;\n    _handler: VscodeMessageHandler;\n\n    constructor(eventBus: EventBus, handler: VscodeMessageHandler) {\n        this._bus = eventBus;\n        this._handler = handler;\n\n        this._bus.on(\"document.ready\", (event:any) => {\n            const document = event.doc;\n            this.handleDocument(document);\n        });\n\n        this._bus.on(\"diagram.init\", () => {\n            const document = this.attemptToFindDocument();\n            if (document) {\n                this._handler.poolMessages(\"update\", { \n                    text: document \n                });\n            } else {\n                console.log(\"No document found in local storage, starting fresh.\");\n            }\n        });\n    }\n\n    handleDocument(document: any): void {\n        // Handle the document as needed, e.g., store it in local storage\n        try {\n            localStorage.setItem(\"ormDocument\", document);\n        } catch (error) {\n            console.error(\"Failed to save document to local storage:\", error);\n        }\n    }\n\n    attemptToFindDocument(): any {\n        // Attempt to retrieve the document from local storage\n        try {\n            const document = localStorage.getItem(\"ormDocument\");\n            if (document) {\n                return document;\n            }\n        } catch (error) {\n            console.error(\"Failed to retrieve document from local storage:\", error);\n        }\n        return null; // Return null if no document is found\n    }\n}","import EventBus from \"diagram-js/lib/core/EventBus\";\n\n\nexport default class FileExporter {\n    static $inject = [\"eventBus\"];\n    _bus: EventBus;\n    _doc?: string;\n\n    constructor(eventBus: EventBus) {\n        this._bus = eventBus;\n\n        this._bus.on(\"document.ready\", (event: any) => {\n            const document = event.doc;\n            this._doc = document;\n        });\n\n        this._bus.on(\"document.download\", () => {  \n            this.triggerDownload();\n        });\n    }\n\n    triggerDownload() {\n        if (!this._doc) {\n            console.error(\"No document available to download.\");\n            return;\n        }\n\n        const blob = new Blob([this._doc], { type: \"application/orm\" });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement(\"a\");\n        a.href = url;\n        a.download = \"orm_document.orm\";\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n        URL.revokeObjectURL(url);\n    }\n}","import LocalSessionStorage from \"./localSession\"\nimport FileExporter from \"./fileExporter\"\n\nexport default {\n    __init__: [ 'localStorage', 'fileExporter' ],\n    localStorage: [ 'type', LocalSessionStorage ],\n    fileExporter: [ 'type', FileExporter ]\n}","import ElementRegistry from \"diagram-js/lib/core/ElementRegistry\";\nimport EventBus from \"diagram-js/lib/core/EventBus\";\nimport VscodeMessageHandler from \"../vscode/handler\";\n\n\nexport default class SchemaImporter {\n\n    static $inject = ['eventBus', 'elementRegistry', \n        'vscodeMessageHandler', 'modeling'];\n    _bus: EventBus;\n    _elementRegistry: ElementRegistry;\n    _handler: VscodeMessageHandler;\n    _modeling: any;\n\n    constructor(eventBus: EventBus, elementRegistry: ElementRegistry, \n        handler: VscodeMessageHandler, modeling: any) {\n        this._bus = eventBus;\n        this._elementRegistry = elementRegistry;\n        this._handler = handler;\n        this._modeling = modeling;\n\n        this._bus.on(\"document.import.start\", () => {\n            this.triggerSelector();\n        });\n\n    }\n\n    triggerSelector(): void {\n        // Create a file input element\n        const fileInput = document.createElement('input');\n        fileInput.type = 'file';\n        fileInput.accept = '.orm'; // Filter for .orm files\n        fileInput.multiple = false; // Only allow single file selection\n        fileInput.style.display = 'none'; // Hide the input element\n        \n        // Add event listener for file selection\n        fileInput.addEventListener('change', (event) => {\n            const target = event.target as HTMLInputElement;\n            if (target.files && target.files.length > 0) {\n                const file = target.files[0];\n                this.handleFileSelection(file);\n            }\n        });\n        \n        // Add to DOM temporarily and trigger click\n        document.body.appendChild(fileInput);\n        fileInput.click();\n        \n        // Clean up - remove the input element after use\n        document.body.removeChild(fileInput);\n    }\n\n    handleFileSelection(file: File): void {\n        // Read the file content\n        const reader = new FileReader();\n        reader.onload = (e) => {\n            const content = e.target?.result as string;\n            if (content) {\n                this.attemptToLoadDocument(content, file.name);\n            }\n        };\n        reader.readAsText(file);\n    }\n\n    attemptToLoadDocument(content: string, fileName: string): any {\n        // Process the loaded document content\n        console.log('Loading document:', fileName);\n        console.log('Content:', content);\n        \n        // clear the system, except for root\n        var els = this._elementRegistry.getAll().filter(\n            (v) => {\n                return !v.id.includes(\"implicitroot\");\n            }\n        );\n        if (els.length > 0){\n            this._modeling.removeElements(\n                els\n            );\n        }\n\n        this._handler.poolMessages(\n            \"update\", \n            { text: content }\n        )\n    }\n\n}","import FileImporter from './importer';\n\nexport default {\n    __init__ : [ 'importSchema'],\n    importSchema: ['type', FileImporter ]\n}","import Diagram from 'diagram-js/lib/Diagram';\n\n// builtin modules\nimport ConnectModule from 'diagram-js/lib/features/connect';\nimport ConnectPreview from 'diagram-js/lib/features/connection-preview';\nimport CreateModule from 'diagram-js/lib/features/create';\nimport ModelingModule from 'diagram-js/lib/features/modeling';\nimport MoveCanvasModule from 'diagram-js/lib/navigation/movecanvas';\nimport MoveModule from 'diagram-js/lib/features/move';\nimport PaletteModule from 'diagram-js/lib/features/palette';\nimport ZoomScrollModule from 'diagram-js/lib/navigation/zoomscroll';\nimport SnappingModule from 'diagram-js/lib/features/snapping';\nimport LassoToolModule from 'diagram-js/lib/features/lasso-tool';\nimport ContextPadModule from 'diagram-js/lib/features/context-pad';\nimport KeyBoardModule from 'diagram-js/lib/features/keyboard';\nimport LabelSupportModule from 'diagram-js/lib/features/label-support';\nimport BendpointsModule from 'diagram-js/lib/features/bendpoints';\nimport SelectionModule from 'diagram-js/lib/features/selection';\nimport SpacerToolModule from 'diagram-js/lib/features/space-tool';\n\n// additionals modules\nimport gridModule from './modules/grid';\nimport paletteProvider from './modules/palette';\nimport ormFactory from './modules/elements';\nimport ormRenderer from './modules/render';\nimport ormModeling from \"./modules/modeling\";\nimport ordering from \"./modules/ordering\";\nimport ormContextPads from \"./modules/contextPad\";\nimport ormConnect from \"./modules/connect\";\nimport ormRules from \"./modules/rules\";\nimport placementService from \"./modules/placement\";\nimport ormInteractions from \"./modules/interactions\";   \nimport ormLayouter from \"./modules/layout\";\nimport ormLabelEditing from \"./modules/labels\";\nimport customBendpoints from \"./modules/bendpoints\";\nimport ormConstraints from \"./modules/constraints\";\nimport ormKeyboard from \"./modules/keyboard\";\nimport ormVscodeHandler from \"./modules/vscode\";\nimport ormDragging from \"./modules/dragging\";\nimport ormObjectification from \"./modules/objectification\";\nimport ormMoving from \"./modules/move\";\nimport OrmInteractionEvents from './modules/interaction-events';\nimport OrmHelpInteractions from './modules/help-interactions';\nimport OrmRenderingOptions from './modules/renderOptions';\nimport OrmTabModel from './modules/tab-model';\nimport OrmLocalExporter from './modules/exporter';\nimport OrmFileImporter from './modules/importers';\n\nimport { scaleToFitElements } from './modules/utils/canvasUtils';\n\nexport default function ORMEditor(container: HTMLElement): Diagram<null> {\n\n    // default modules provided by the toolbox\n    const builtinModules = [\n        ConnectModule,\n        ConnectPreview,\n        CreateModule,\n        ModelingModule,\n        MoveCanvasModule,\n        MoveModule,\n        LassoToolModule,\n        PaletteModule,\n        ZoomScrollModule,\n        SnappingModule,\n        ContextPadModule,\n        KeyBoardModule,\n        LabelSupportModule,\n        BendpointsModule,\n        SelectionModule,\n        SpacerToolModule\n    ];\n\n    // additiona modules for the orm-editor\n    const additionalModules = [\n        ormConnect,\n        ormRules,\n        gridModule,\n        paletteProvider,\n        ormFactory,\n        OrmRenderingOptions,\n        ormRenderer,\n        ormModeling,\n        ordering,\n        ormContextPads,\n        placementService,\n        ormInteractions,\n        ormLayouter,\n        ormLabelEditing,\n        customBendpoints,\n        ormConstraints,\n        ormKeyboard,\n        ormVscodeHandler,\n        ormDragging,\n        ormObjectification,\n        ormMoving,\n        OrmInteractionEvents,\n        OrmHelpInteractions,\n        OrmTabModel,\n        OrmLocalExporter,\n        OrmFileImporter\n    ];\n\n    var diagram =  new Diagram({\n        canvas: {\n            container\n        },\n        modules: [\n            ...builtinModules,\n            ...additionalModules\n        ],\n        'keyboard.bind' : true\n    });\n\n    setTimeout(\n        () => {\n            let canvas = (diagram.get('canvas') as any);\n            scaleToFitElements(canvas);\n        }, 50\n    );\n\n    return diagram;\n}","<template>\n  <div class=\"editor-content\">\n      <div class=\"editor-header\">\n        <h4>\n          This is an editor to create Object-Role-Modelling (ORM) schemas, powered by \n          <a \n            href=\"https://github.com/bpmn-io/diagram-js/tree/develop\" \n            target=\"_blank\"\n          >\n            diagram-js\n          </a>.\n        </h4>\n        <p>\n          For more information on the formalism and its structure see: \n          <a\n            href=\"/docs/editors/ts/Adam_Banham___ORMs.pdf\"\n            target=\"_blank\"\n          >A Brief Introduction to ORM and Conceptual Modelling</a>.\n        </p>\n        <p>\n          Notably, the editor is still a bit fragile and can crash.\n          But, there is a more actively developed version of the editor \n          available for vs-code: \n          <a\n            href=\"https://marketplace.visualstudio.com/items?itemName=qORMa.qorma&ssr=false#overview\"\n            target=\"_blank\"\n          >\n            qORMa\n          </a>\n        </p>\n      </div>\n      <div\n        ref=\"container\"\n        class=\"editor-container\"\n        id=\"content\"\n      >\n        <div\n          ref=\"canvas\"\n          class=\"editor\"\n          id=\"editor\"\n        >\n          <!-- The editor will be rendered here -->\n          <div class=\"helpers\">\n            <div\n              id=\"help-interactions\" \n              class=\"djs-palette djs-parent help-interactions close\"\n            >\n              <div class=\"content\" />\n            </div>\n            <div\n              id=\"help-interactions-error\" \n              class=\"djs-palette djs-parent help-interactions help-interactions-error close\"\n            >\n              <div class=\"content\" />\n            </div>\n          </div>\n          <div\n            id=\"keyboard-window\"\n            class=\"keyboard\"\n          >\n            <div class=\"content\">\n              <h2 style=\"text-align: center;\">\n                Keyboard Controls\n              </h2>\n              <h3> Creation Controls</h3>\n              <div class=\"keys\">\n                <div class=\"entry mdi mdi-square-rounded\">\n                  <span class=\"mdi\">\n                    <strong>alt</strong>\n                  </span>\n                  <span class=\"mdi mdi-plus\" />\n                  <span class=\"mdi mdi-alpha-e-box-outline\" />\n                  <span class=\"mdi mdi-arrow-right-thin\" />\n                  <span>Create a new entity</span>\n                </div>\n                <div class=\"entry mdi mdi-square-rounded\">\n                  <span class=\"mdi\">\n                    <strong>alt</strong>\n                  </span>\n                  <span class=\"mdi mdi-plus\" />\n                  <span class=\"mdi mdi-alpha-v-box-outline\" />\n                  <span class=\"mdi mdi-arrow-right-thin\" />\n                  <span>Create a new value entity</span>\n                </div>\n                <div class=\"entry mdi mdi-square-rounded\">\n                  <span class=\"mdi\">\n                    <strong>alt</strong>\n                  </span>\n                  <span class=\"mdi mdi-plus\" />\n                  <span class=\"mdi mdi-alpha-f-box-outline\" />\n                  <span class=\"mdi mdi-arrow-right-thin\" />\n                  <span>Create a new fact relation</span>\n                </div>\n                <div class=\"entry mdi mdi-square-rounded\">\n                  <span class=\"mdi\">\n                    <strong>alt</strong>\n                  </span>\n                  <span class=\"mdi mdi-plus\" />\n                  <span class=\"mdi mdi-alpha-a-box-outline\" />\n                  <span class=\"mdi mdi-arrow-right-thin\" />\n                  <span>Use Lasso (<span class=\"mdi mdi-lasso\" />) tool</span>\n                </div>\n                <div class=\"entry mdi mdi-square-rounded\">\n                  <span class=\"mdi\">\n                    <strong>alt</strong>\n                  </span>\n                  <span class=\"mdi mdi-plus\" />\n                  <span class=\"mdi mdi-alpha-s-box-outline\" />\n                  <span class=\"mdi mdi-arrow-right-thin\" />\n                  <span>Use Space (<span class=\"mdi mdi-cursor-move\" />) tool</span>\n                </div>\n                <div class=\"entry mdi mdi-square-rounded\">\n                  <span class=\"mdi\">\n                    <strong>crtl</strong>\n                  </span>\n                  <span class=\"mdi mdi-plus\" />\n                  <span class=\"mdi mdi-alpha-k-box-outline\" />\n                  <span class=\"mdi mdi-arrow-right-thin\" />\n                  <span>Toggle keyboard help menu</span>\n                </div>\n                <div class=\"entry mdi mdi-square-rounded\">\n                  <span class=\"mdi\">\n                    <strong>Tab</strong>\n                  </span>\n                  <span class=\"mdi mdi-arrow-right-thin\" />\n                  :\n                  <span>Toggle selection between shapes</span>\n                </div>\n                <div class=\"entry mdi mdi-square-rounded\">\n                  <span class=\"mdi\">\n                    <strong>alt</strong>\n                  </span>\n                  <span class=\"mdi mdi-plus\" />\n                  <span class=\"mdi mdi-arrow-left-bold-box-outline\" />\n                  <span class=\"mdi mdi-arrow-right-thin\" />\n                  <span>Step back in selection history</span>\n                </div>\n                <div class=\"entry mdi mdi-square-rounded\">\n                  <span class=\"mdi\">\n                    <strong>alt</strong>\n                  </span>\n                  <span class=\"mdi mdi-plus\" />\n                  <span class=\"mdi mdi-arrow-right-bold-box-outline\" />\n                  <span class=\"mdi mdi-arrow-right-thin\" />\n                  <span>Step forward in selection history</span>\n                </div>\n              </div>\n              <p>\n                When any element is selected, the element can be deleted by\n                pressing the <strong>del</strong> key or the \n                <span class=\"mdi mdi-delete\" /> icon.\n              </p>\n              <h3> Enities / Value Entities</h3>\n              <p>\n                When an entity or value entity is selected the following keyboard \n                shortcuts are available:\n              </p>\n              <div class=\"keys\">\n                <div class=\"entry mdi mdi-square-rounded\">\n                  <span class=\"mdi mdi-alpha-c-box-outline\" />\n                  <span class=\"mdi mdi-arrow-right-thin\" />\n                  <span>Link entity to fact relation</span>\n                </div>\n                <div class=\"entry mdi mdi-square-rounded\">\n                  <span class=\"mdi mdi-alpha-s-box-outline\" />\n                  <span class=\"mdi mdi-arrow-right-thin\" />\n                  <span>Make entity a substype of other</span>\n                </div>\n                <div class=\"entry mdi mdi-square-rounded\">\n                  <span class=\"mdi mdi-alpha-t-box-outline\" />\n                  <span class=\"mdi mdi-arrow-right-thin\" />\n                  <span>Change the type of the entity</span>\n                </div>\n                <div class=\"entry mdi mdi-square-rounded\">\n                  <span class=\"mdi mdi-alpha-r-box-outline\" />\n                  <span class=\"mdi mdi-arrow-right-thin\" />\n                  <span>Change the reference mode of the entity</span>\n                </div>\n                <div class=\"entry mdi mdi-square-rounded\">\n                  <span class=\"mdi mdi-alpha-f-box-outline\" />\n                  <span class=\"mdi mdi-arrow-right-thin\" />\n                  <span>Create a connected unary fact relation</span>\n                </div>\n              </div>\n              <h3>Fact Relations</h3>\n              <p> \n                When an fact relation is selected the following keyboard \n                shortcuts are available:\n              </p>\n              <div class=\"keys\">\n                <div class=\"entry mdi mdi-square-rounded\">\n                  <span class=\"mdi mdi-plus-box-outline\" />\n                  <span class=\"mdi mdi-arrow-right-thin\" />\n                  <span>Expand the arity of the fact relation</span>\n                </div>\n                <div class=\"entry mdi mdi-square-rounded\">\n                  <span class=\"mdi mdi-minus-box-outline\" />\n                  <span class=\"mdi mdi-arrow-right-thin\" />\n                  <span>Reduce the arity of the fact relation</span>\n                </div>\n                <div class=\"entry mdi mdi-square-rounded\">\n                  <span class=\"mdi mdi-alpha-d-box-outline\" />\n                  <span class=\"mdi mdi-arrow-right-thin\" />\n                  <span>Create/remove derived label</span>\n                </div>\n                <div class=\"entry mdi mdi-square-rounded\">\n                  <span class=\"mdi mdi-alpha-l-box-outline\" />\n                  <span class=\"mdi mdi-arrow-right-thin\" />\n                  <span>Set direction of verbalisation to the left</span>\n                </div>\n                <div class=\"entry mdi mdi-square-rounded\">\n                  <span class=\"mdi mdi-alpha-r-box-outline\" />\n                  <span class=\"mdi mdi-arrow-right-thin\" />\n                  <span>Set direction of verbalisation to the right</span>\n                </div>\n                <div class=\"entry mdi mdi-square-rounded\">\n                  <span class=\"mdi mdi-alpha-n-box-outline\" />\n                  <span class=\"mdi mdi-arrow-right-thin\" />\n                  <span>Remove direction of verbalisation</span>\n                </div>\n                <div class=\"entry mdi mdi-square-rounded\">\n                  <span class=\"mdi mdi-alpha-c-box-outline\" />\n                  <span class=\"mdi mdi-arrow-right-thin\" />\n                  <span>Create uniqueness constraint</span>\n                </div>\n                <div class=\"entry mdi mdi-square-rounded\">\n                  <span class=\"mdi mdi-alpha-o-box-outline\" />\n                  <span class=\"mdi mdi-arrow-right-thin\" />\n                  <span>Make/remove objectification of relation</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"djs-parent djs-palette open keyboard-palette\">\n            <div class=\"djs-palette-entries\">\n              <div class=\"group\">\n                <div\n                  id=\"keyboard-controls-icon\"\n                  class=\"entry mdi mdi-keyboard\"\n                />\n              </div>\n            </div>\n          </div>  \n        </div>\n      </div>\n    </div>\n</template>\n    \n<script>\nimport EditorORM from \"./ORM/editor\"\n\nexport default {\n  name: \"EditorORM\",\n  data () {\n    return {\n      root: null,\n      container: null,\n      editor: null\n    }\n  },\n  methods: {\n    toggleFullscreen: function() {\n      this.container.classList.toggle(\"editor-full-screen\");\n      setTimeout(\n        () => this.editor.get('canvas').zoom('fit-viewport'),\n        50\n      );\n    },\n  },\n  mounted: function(){\n    this.root = this.$refs.canvas;\n    this.container = this.$refs.container;\n    this.editor = new EditorORM(\n        this.root\n    );\n\n    var that = this;  \n    this.editor.invoke(['eventBus', function(bus){\n      bus.on(\n        'editor.fullscreen.toggle',\n      50, (ev) => {\n        that.toggleFullscreen()\n    }, that)\n    }]);\n  }\n}\n</script>\n\n<style lang=\"css\">\n@import \"./ORM/media/editor.css\";\n@import \"./ORM/media/render.css\";\n@import \"./ORM/media/diagram-js.css\";\n</style>\n    \n<style lang=\"sass\" scoped>\n@import \"@/styles/coloursAnt.sass\"\n@import \"@/styles/content.sass\"\n\n.editor-header\n  margin-bottom: 15px\n</style>","import { createRouter, createWebHistory } from 'vue-router'\nimport Home from '../views/Home.vue'\nimport ContactPage from \"@/views/ContactPage.vue\"\nimport NotReady from \"@/views/NotReady.vue\"\nimport BlogPage from \"@/views/blog/Blog.vue\"\nimport ArticlePage from \"@/views/blog/article/ArticleViewer.vue\"\nimport PublicationPage from \"@/views/publications/Publications.vue\"\nimport PMDiscoveryPage from \"@/views/process-mining/DiscoveryPage.vue\"\nimport EditorTS from \"@/views/editors/EditorTS.vue\"\nimport EditorPN from \"@/views/editors/PN/EditorPN.vue\"\nimport EditorORM from \"@/views/editors/EditorORM.vue\"\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: Home\n  },\n  {\n    path: '/blog',\n    name: 'blog',\n    component: BlogPage\n  },\n  {\n    path: \"/blog/:articleId\",\n    name: 'blog-article',\n    component : ArticlePage,\n    props: true\n  },\n  {\n    path: '/pubs',\n    name: 'pubs',\n    component: PublicationPage\n  },\n  {\n    path: '/process-mining/discovery',\n    name: 'pm-discovery',\n    component: PMDiscoveryPage\n  },\n  {\n    path: '/process-mining/conformance',\n    name: 'pm-conformance',\n    component: NotReady\n  },\n  {\n    path: '/process-mining/enhancement',\n    name: 'pm-enhancement',\n    component: NotReady\n  },\n  {\n    path: '/code',\n    name: 'code',\n    component: NotReady\n  },\n  {\n    path: '/editor/pn',\n    name: 'editor-pn',\n    component: EditorPN\n  },\n  {\n    path: '/editor/orm',\n    name: 'editor-orm',\n    component: EditorORM\n  },\n  {\n    path: '/editor/ts',\n    name: 'editor-ts',\n    component: EditorTS\n  },\n  {\n    path: '/editor/bpmn',\n    name: 'editor-bpmn',\n    component: NotReady\n  },\n  {\n    path: '/contact',\n    name: 'contact',\n    component: ContactPage\n  },\n  {\n    // catch all back to home\n    path:\"/:pathMatch(.*)\",\n    name:\"fallback-home\",\n    component: Home\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(),\n  scrollBehavior: function(to, from, savedPosition) {\n    if (to.hash) {\n      return {\n        el: to.hash,\n        behavior: 'smooth',\n      }\n    }\n  },\n  routes\n})\n\nexport default router\n","/*!\n * vuex v4.1.0\n * (c) 2022 Evan You\n * @license MIT\n */\nimport { inject, effectScope, reactive, watch, computed } from 'vue';\nimport { setupDevtoolsPlugin } from '@vue/devtools-api';\n\nvar storeKey = 'store';\n\nfunction useStore (key) {\n  if ( key === void 0 ) key = null;\n\n  return inject(key !== null ? key : storeKey)\n}\n\n/**\n * Get the first item that pass the test\n * by second argument function\n *\n * @param {Array} list\n * @param {Function} f\n * @return {*}\n */\nfunction find (list, f) {\n  return list.filter(f)[0]\n}\n\n/**\n * Deep copy the given object considering circular structure.\n * This function caches all nested objects and its copies.\n * If it detects circular structure, use cached copy to avoid infinite loop.\n *\n * @param {*} obj\n * @param {Array<Object>} cache\n * @return {*}\n */\nfunction deepCopy (obj, cache) {\n  if ( cache === void 0 ) cache = [];\n\n  // just return if obj is immutable value\n  if (obj === null || typeof obj !== 'object') {\n    return obj\n  }\n\n  // if obj is hit, it is in circular structure\n  var hit = find(cache, function (c) { return c.original === obj; });\n  if (hit) {\n    return hit.copy\n  }\n\n  var copy = Array.isArray(obj) ? [] : {};\n  // put the copy into cache at first\n  // because we want to refer it in recursive deepCopy\n  cache.push({\n    original: obj,\n    copy: copy\n  });\n\n  Object.keys(obj).forEach(function (key) {\n    copy[key] = deepCopy(obj[key], cache);\n  });\n\n  return copy\n}\n\n/**\n * forEach for object\n */\nfunction forEachValue (obj, fn) {\n  Object.keys(obj).forEach(function (key) { return fn(obj[key], key); });\n}\n\nfunction isObject (obj) {\n  return obj !== null && typeof obj === 'object'\n}\n\nfunction isPromise (val) {\n  return val && typeof val.then === 'function'\n}\n\nfunction assert (condition, msg) {\n  if (!condition) { throw new Error((\"[vuex] \" + msg)) }\n}\n\nfunction partial (fn, arg) {\n  return function () {\n    return fn(arg)\n  }\n}\n\nfunction genericSubscribe (fn, subs, options) {\n  if (subs.indexOf(fn) < 0) {\n    options && options.prepend\n      ? subs.unshift(fn)\n      : subs.push(fn);\n  }\n  return function () {\n    var i = subs.indexOf(fn);\n    if (i > -1) {\n      subs.splice(i, 1);\n    }\n  }\n}\n\nfunction resetStore (store, hot) {\n  store._actions = Object.create(null);\n  store._mutations = Object.create(null);\n  store._wrappedGetters = Object.create(null);\n  store._modulesNamespaceMap = Object.create(null);\n  var state = store.state;\n  // init all modules\n  installModule(store, state, [], store._modules.root, true);\n  // reset state\n  resetStoreState(store, state, hot);\n}\n\nfunction resetStoreState (store, state, hot) {\n  var oldState = store._state;\n  var oldScope = store._scope;\n\n  // bind store public getters\n  store.getters = {};\n  // reset local getters cache\n  store._makeLocalGettersCache = Object.create(null);\n  var wrappedGetters = store._wrappedGetters;\n  var computedObj = {};\n  var computedCache = {};\n\n  // create a new effect scope and create computed object inside it to avoid\n  // getters (computed) getting destroyed on component unmount.\n  var scope = effectScope(true);\n\n  scope.run(function () {\n    forEachValue(wrappedGetters, function (fn, key) {\n      // use computed to leverage its lazy-caching mechanism\n      // direct inline function use will lead to closure preserving oldState.\n      // using partial to return function with only arguments preserved in closure environment.\n      computedObj[key] = partial(fn, store);\n      computedCache[key] = computed(function () { return computedObj[key](); });\n      Object.defineProperty(store.getters, key, {\n        get: function () { return computedCache[key].value; },\n        enumerable: true // for local getters\n      });\n    });\n  });\n\n  store._state = reactive({\n    data: state\n  });\n\n  // register the newly created effect scope to the store so that we can\n  // dispose the effects when this method runs again in the future.\n  store._scope = scope;\n\n  // enable strict mode for new state\n  if (store.strict) {\n    enableStrictMode(store);\n  }\n\n  if (oldState) {\n    if (hot) {\n      // dispatch changes in all subscribed watchers\n      // to force getter re-evaluation for hot reloading.\n      store._withCommit(function () {\n        oldState.data = null;\n      });\n    }\n  }\n\n  // dispose previously registered effect scope if there is one.\n  if (oldScope) {\n    oldScope.stop();\n  }\n}\n\nfunction installModule (store, rootState, path, module, hot) {\n  var isRoot = !path.length;\n  var namespace = store._modules.getNamespace(path);\n\n  // register in namespace map\n  if (module.namespaced) {\n    if (store._modulesNamespaceMap[namespace] && (process.env.NODE_ENV !== 'production')) {\n      console.error((\"[vuex] duplicate namespace \" + namespace + \" for the namespaced module \" + (path.join('/'))));\n    }\n    store._modulesNamespaceMap[namespace] = module;\n  }\n\n  // set state\n  if (!isRoot && !hot) {\n    var parentState = getNestedState(rootState, path.slice(0, -1));\n    var moduleName = path[path.length - 1];\n    store._withCommit(function () {\n      if ((process.env.NODE_ENV !== 'production')) {\n        if (moduleName in parentState) {\n          console.warn(\n            (\"[vuex] state field \\\"\" + moduleName + \"\\\" was overridden by a module with the same name at \\\"\" + (path.join('.')) + \"\\\"\")\n          );\n        }\n      }\n      parentState[moduleName] = module.state;\n    });\n  }\n\n  var local = module.context = makeLocalContext(store, namespace, path);\n\n  module.forEachMutation(function (mutation, key) {\n    var namespacedType = namespace + key;\n    registerMutation(store, namespacedType, mutation, local);\n  });\n\n  module.forEachAction(function (action, key) {\n    var type = action.root ? key : namespace + key;\n    var handler = action.handler || action;\n    registerAction(store, type, handler, local);\n  });\n\n  module.forEachGetter(function (getter, key) {\n    var namespacedType = namespace + key;\n    registerGetter(store, namespacedType, getter, local);\n  });\n\n  module.forEachChild(function (child, key) {\n    installModule(store, rootState, path.concat(key), child, hot);\n  });\n}\n\n/**\n * make localized dispatch, commit, getters and state\n * if there is no namespace, just use root ones\n */\nfunction makeLocalContext (store, namespace, path) {\n  var noNamespace = namespace === '';\n\n  var local = {\n    dispatch: noNamespace ? store.dispatch : function (_type, _payload, _options) {\n      var args = unifyObjectStyle(_type, _payload, _options);\n      var payload = args.payload;\n      var options = args.options;\n      var type = args.type;\n\n      if (!options || !options.root) {\n        type = namespace + type;\n        if ((process.env.NODE_ENV !== 'production') && !store._actions[type]) {\n          console.error((\"[vuex] unknown local action type: \" + (args.type) + \", global type: \" + type));\n          return\n        }\n      }\n\n      return store.dispatch(type, payload)\n    },\n\n    commit: noNamespace ? store.commit : function (_type, _payload, _options) {\n      var args = unifyObjectStyle(_type, _payload, _options);\n      var payload = args.payload;\n      var options = args.options;\n      var type = args.type;\n\n      if (!options || !options.root) {\n        type = namespace + type;\n        if ((process.env.NODE_ENV !== 'production') && !store._mutations[type]) {\n          console.error((\"[vuex] unknown local mutation type: \" + (args.type) + \", global type: \" + type));\n          return\n        }\n      }\n\n      store.commit(type, payload, options);\n    }\n  };\n\n  // getters and state object must be gotten lazily\n  // because they will be changed by state update\n  Object.defineProperties(local, {\n    getters: {\n      get: noNamespace\n        ? function () { return store.getters; }\n        : function () { return makeLocalGetters(store, namespace); }\n    },\n    state: {\n      get: function () { return getNestedState(store.state, path); }\n    }\n  });\n\n  return local\n}\n\nfunction makeLocalGetters (store, namespace) {\n  if (!store._makeLocalGettersCache[namespace]) {\n    var gettersProxy = {};\n    var splitPos = namespace.length;\n    Object.keys(store.getters).forEach(function (type) {\n      // skip if the target getter is not match this namespace\n      if (type.slice(0, splitPos) !== namespace) { return }\n\n      // extract local getter type\n      var localType = type.slice(splitPos);\n\n      // Add a port to the getters proxy.\n      // Define as getter property because\n      // we do not want to evaluate the getters in this time.\n      Object.defineProperty(gettersProxy, localType, {\n        get: function () { return store.getters[type]; },\n        enumerable: true\n      });\n    });\n    store._makeLocalGettersCache[namespace] = gettersProxy;\n  }\n\n  return store._makeLocalGettersCache[namespace]\n}\n\nfunction registerMutation (store, type, handler, local) {\n  var entry = store._mutations[type] || (store._mutations[type] = []);\n  entry.push(function wrappedMutationHandler (payload) {\n    handler.call(store, local.state, payload);\n  });\n}\n\nfunction registerAction (store, type, handler, local) {\n  var entry = store._actions[type] || (store._actions[type] = []);\n  entry.push(function wrappedActionHandler (payload) {\n    var res = handler.call(store, {\n      dispatch: local.dispatch,\n      commit: local.commit,\n      getters: local.getters,\n      state: local.state,\n      rootGetters: store.getters,\n      rootState: store.state\n    }, payload);\n    if (!isPromise(res)) {\n      res = Promise.resolve(res);\n    }\n    if (store._devtoolHook) {\n      return res.catch(function (err) {\n        store._devtoolHook.emit('vuex:error', err);\n        throw err\n      })\n    } else {\n      return res\n    }\n  });\n}\n\nfunction registerGetter (store, type, rawGetter, local) {\n  if (store._wrappedGetters[type]) {\n    if ((process.env.NODE_ENV !== 'production')) {\n      console.error((\"[vuex] duplicate getter key: \" + type));\n    }\n    return\n  }\n  store._wrappedGetters[type] = function wrappedGetter (store) {\n    return rawGetter(\n      local.state, // local state\n      local.getters, // local getters\n      store.state, // root state\n      store.getters // root getters\n    )\n  };\n}\n\nfunction enableStrictMode (store) {\n  watch(function () { return store._state.data; }, function () {\n    if ((process.env.NODE_ENV !== 'production')) {\n      assert(store._committing, \"do not mutate vuex store state outside mutation handlers.\");\n    }\n  }, { deep: true, flush: 'sync' });\n}\n\nfunction getNestedState (state, path) {\n  return path.reduce(function (state, key) { return state[key]; }, state)\n}\n\nfunction unifyObjectStyle (type, payload, options) {\n  if (isObject(type) && type.type) {\n    options = payload;\n    payload = type;\n    type = type.type;\n  }\n\n  if ((process.env.NODE_ENV !== 'production')) {\n    assert(typeof type === 'string', (\"expects string as the type, but found \" + (typeof type) + \".\"));\n  }\n\n  return { type: type, payload: payload, options: options }\n}\n\nvar LABEL_VUEX_BINDINGS = 'vuex bindings';\nvar MUTATIONS_LAYER_ID = 'vuex:mutations';\nvar ACTIONS_LAYER_ID = 'vuex:actions';\nvar INSPECTOR_ID = 'vuex';\n\nvar actionId = 0;\n\nfunction addDevtools (app, store) {\n  setupDevtoolsPlugin(\n    {\n      id: 'org.vuejs.vuex',\n      app: app,\n      label: 'Vuex',\n      homepage: 'https://next.vuex.vuejs.org/',\n      logo: 'https://vuejs.org/images/icons/favicon-96x96.png',\n      packageName: 'vuex',\n      componentStateTypes: [LABEL_VUEX_BINDINGS]\n    },\n    function (api) {\n      api.addTimelineLayer({\n        id: MUTATIONS_LAYER_ID,\n        label: 'Vuex Mutations',\n        color: COLOR_LIME_500\n      });\n\n      api.addTimelineLayer({\n        id: ACTIONS_LAYER_ID,\n        label: 'Vuex Actions',\n        color: COLOR_LIME_500\n      });\n\n      api.addInspector({\n        id: INSPECTOR_ID,\n        label: 'Vuex',\n        icon: 'storage',\n        treeFilterPlaceholder: 'Filter stores...'\n      });\n\n      api.on.getInspectorTree(function (payload) {\n        if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n          if (payload.filter) {\n            var nodes = [];\n            flattenStoreForInspectorTree(nodes, store._modules.root, payload.filter, '');\n            payload.rootNodes = nodes;\n          } else {\n            payload.rootNodes = [\n              formatStoreForInspectorTree(store._modules.root, '')\n            ];\n          }\n        }\n      });\n\n      api.on.getInspectorState(function (payload) {\n        if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n          var modulePath = payload.nodeId;\n          makeLocalGetters(store, modulePath);\n          payload.state = formatStoreForInspectorState(\n            getStoreModule(store._modules, modulePath),\n            modulePath === 'root' ? store.getters : store._makeLocalGettersCache,\n            modulePath\n          );\n        }\n      });\n\n      api.on.editInspectorState(function (payload) {\n        if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n          var modulePath = payload.nodeId;\n          var path = payload.path;\n          if (modulePath !== 'root') {\n            path = modulePath.split('/').filter(Boolean).concat( path);\n          }\n          store._withCommit(function () {\n            payload.set(store._state.data, path, payload.state.value);\n          });\n        }\n      });\n\n      store.subscribe(function (mutation, state) {\n        var data = {};\n\n        if (mutation.payload) {\n          data.payload = mutation.payload;\n        }\n\n        data.state = state;\n\n        api.notifyComponentUpdate();\n        api.sendInspectorTree(INSPECTOR_ID);\n        api.sendInspectorState(INSPECTOR_ID);\n\n        api.addTimelineEvent({\n          layerId: MUTATIONS_LAYER_ID,\n          event: {\n            time: Date.now(),\n            title: mutation.type,\n            data: data\n          }\n        });\n      });\n\n      store.subscribeAction({\n        before: function (action, state) {\n          var data = {};\n          if (action.payload) {\n            data.payload = action.payload;\n          }\n          action._id = actionId++;\n          action._time = Date.now();\n          data.state = state;\n\n          api.addTimelineEvent({\n            layerId: ACTIONS_LAYER_ID,\n            event: {\n              time: action._time,\n              title: action.type,\n              groupId: action._id,\n              subtitle: 'start',\n              data: data\n            }\n          });\n        },\n        after: function (action, state) {\n          var data = {};\n          var duration = Date.now() - action._time;\n          data.duration = {\n            _custom: {\n              type: 'duration',\n              display: (duration + \"ms\"),\n              tooltip: 'Action duration',\n              value: duration\n            }\n          };\n          if (action.payload) {\n            data.payload = action.payload;\n          }\n          data.state = state;\n\n          api.addTimelineEvent({\n            layerId: ACTIONS_LAYER_ID,\n            event: {\n              time: Date.now(),\n              title: action.type,\n              groupId: action._id,\n              subtitle: 'end',\n              data: data\n            }\n          });\n        }\n      });\n    }\n  );\n}\n\n// extracted from tailwind palette\nvar COLOR_LIME_500 = 0x84cc16;\nvar COLOR_DARK = 0x666666;\nvar COLOR_WHITE = 0xffffff;\n\nvar TAG_NAMESPACED = {\n  label: 'namespaced',\n  textColor: COLOR_WHITE,\n  backgroundColor: COLOR_DARK\n};\n\n/**\n * @param {string} path\n */\nfunction extractNameFromPath (path) {\n  return path && path !== 'root' ? path.split('/').slice(-2, -1)[0] : 'Root'\n}\n\n/**\n * @param {*} module\n * @return {import('@vue/devtools-api').CustomInspectorNode}\n */\nfunction formatStoreForInspectorTree (module, path) {\n  return {\n    id: path || 'root',\n    // all modules end with a `/`, we want the last segment only\n    // cart/ -> cart\n    // nested/cart/ -> cart\n    label: extractNameFromPath(path),\n    tags: module.namespaced ? [TAG_NAMESPACED] : [],\n    children: Object.keys(module._children).map(function (moduleName) { return formatStoreForInspectorTree(\n        module._children[moduleName],\n        path + moduleName + '/'\n      ); }\n    )\n  }\n}\n\n/**\n * @param {import('@vue/devtools-api').CustomInspectorNode[]} result\n * @param {*} module\n * @param {string} filter\n * @param {string} path\n */\nfunction flattenStoreForInspectorTree (result, module, filter, path) {\n  if (path.includes(filter)) {\n    result.push({\n      id: path || 'root',\n      label: path.endsWith('/') ? path.slice(0, path.length - 1) : path || 'Root',\n      tags: module.namespaced ? [TAG_NAMESPACED] : []\n    });\n  }\n  Object.keys(module._children).forEach(function (moduleName) {\n    flattenStoreForInspectorTree(result, module._children[moduleName], filter, path + moduleName + '/');\n  });\n}\n\n/**\n * @param {*} module\n * @return {import('@vue/devtools-api').CustomInspectorState}\n */\nfunction formatStoreForInspectorState (module, getters, path) {\n  getters = path === 'root' ? getters : getters[path];\n  var gettersKeys = Object.keys(getters);\n  var storeState = {\n    state: Object.keys(module.state).map(function (key) { return ({\n      key: key,\n      editable: true,\n      value: module.state[key]\n    }); })\n  };\n\n  if (gettersKeys.length) {\n    var tree = transformPathsToObjectTree(getters);\n    storeState.getters = Object.keys(tree).map(function (key) { return ({\n      key: key.endsWith('/') ? extractNameFromPath(key) : key,\n      editable: false,\n      value: canThrow(function () { return tree[key]; })\n    }); });\n  }\n\n  return storeState\n}\n\nfunction transformPathsToObjectTree (getters) {\n  var result = {};\n  Object.keys(getters).forEach(function (key) {\n    var path = key.split('/');\n    if (path.length > 1) {\n      var target = result;\n      var leafKey = path.pop();\n      path.forEach(function (p) {\n        if (!target[p]) {\n          target[p] = {\n            _custom: {\n              value: {},\n              display: p,\n              tooltip: 'Module',\n              abstract: true\n            }\n          };\n        }\n        target = target[p]._custom.value;\n      });\n      target[leafKey] = canThrow(function () { return getters[key]; });\n    } else {\n      result[key] = canThrow(function () { return getters[key]; });\n    }\n  });\n  return result\n}\n\nfunction getStoreModule (moduleMap, path) {\n  var names = path.split('/').filter(function (n) { return n; });\n  return names.reduce(\n    function (module, moduleName, i) {\n      var child = module[moduleName];\n      if (!child) {\n        throw new Error((\"Missing module \\\"\" + moduleName + \"\\\" for path \\\"\" + path + \"\\\".\"))\n      }\n      return i === names.length - 1 ? child : child._children\n    },\n    path === 'root' ? moduleMap : moduleMap.root._children\n  )\n}\n\nfunction canThrow (cb) {\n  try {\n    return cb()\n  } catch (e) {\n    return e\n  }\n}\n\n// Base data struct for store's module, package with some attribute and method\nvar Module = function Module (rawModule, runtime) {\n  this.runtime = runtime;\n  // Store some children item\n  this._children = Object.create(null);\n  // Store the origin module object which passed by programmer\n  this._rawModule = rawModule;\n  var rawState = rawModule.state;\n\n  // Store the origin module's state\n  this.state = (typeof rawState === 'function' ? rawState() : rawState) || {};\n};\n\nvar prototypeAccessors$1 = { namespaced: { configurable: true } };\n\nprototypeAccessors$1.namespaced.get = function () {\n  return !!this._rawModule.namespaced\n};\n\nModule.prototype.addChild = function addChild (key, module) {\n  this._children[key] = module;\n};\n\nModule.prototype.removeChild = function removeChild (key) {\n  delete this._children[key];\n};\n\nModule.prototype.getChild = function getChild (key) {\n  return this._children[key]\n};\n\nModule.prototype.hasChild = function hasChild (key) {\n  return key in this._children\n};\n\nModule.prototype.update = function update (rawModule) {\n  this._rawModule.namespaced = rawModule.namespaced;\n  if (rawModule.actions) {\n    this._rawModule.actions = rawModule.actions;\n  }\n  if (rawModule.mutations) {\n    this._rawModule.mutations = rawModule.mutations;\n  }\n  if (rawModule.getters) {\n    this._rawModule.getters = rawModule.getters;\n  }\n};\n\nModule.prototype.forEachChild = function forEachChild (fn) {\n  forEachValue(this._children, fn);\n};\n\nModule.prototype.forEachGetter = function forEachGetter (fn) {\n  if (this._rawModule.getters) {\n    forEachValue(this._rawModule.getters, fn);\n  }\n};\n\nModule.prototype.forEachAction = function forEachAction (fn) {\n  if (this._rawModule.actions) {\n    forEachValue(this._rawModule.actions, fn);\n  }\n};\n\nModule.prototype.forEachMutation = function forEachMutation (fn) {\n  if (this._rawModule.mutations) {\n    forEachValue(this._rawModule.mutations, fn);\n  }\n};\n\nObject.defineProperties( Module.prototype, prototypeAccessors$1 );\n\nvar ModuleCollection = function ModuleCollection (rawRootModule) {\n  // register root module (Vuex.Store options)\n  this.register([], rawRootModule, false);\n};\n\nModuleCollection.prototype.get = function get (path) {\n  return path.reduce(function (module, key) {\n    return module.getChild(key)\n  }, this.root)\n};\n\nModuleCollection.prototype.getNamespace = function getNamespace (path) {\n  var module = this.root;\n  return path.reduce(function (namespace, key) {\n    module = module.getChild(key);\n    return namespace + (module.namespaced ? key + '/' : '')\n  }, '')\n};\n\nModuleCollection.prototype.update = function update$1 (rawRootModule) {\n  update([], this.root, rawRootModule);\n};\n\nModuleCollection.prototype.register = function register (path, rawModule, runtime) {\n    var this$1$1 = this;\n    if ( runtime === void 0 ) runtime = true;\n\n  if ((process.env.NODE_ENV !== 'production')) {\n    assertRawModule(path, rawModule);\n  }\n\n  var newModule = new Module(rawModule, runtime);\n  if (path.length === 0) {\n    this.root = newModule;\n  } else {\n    var parent = this.get(path.slice(0, -1));\n    parent.addChild(path[path.length - 1], newModule);\n  }\n\n  // register nested modules\n  if (rawModule.modules) {\n    forEachValue(rawModule.modules, function (rawChildModule, key) {\n      this$1$1.register(path.concat(key), rawChildModule, runtime);\n    });\n  }\n};\n\nModuleCollection.prototype.unregister = function unregister (path) {\n  var parent = this.get(path.slice(0, -1));\n  var key = path[path.length - 1];\n  var child = parent.getChild(key);\n\n  if (!child) {\n    if ((process.env.NODE_ENV !== 'production')) {\n      console.warn(\n        \"[vuex] trying to unregister module '\" + key + \"', which is \" +\n        \"not registered\"\n      );\n    }\n    return\n  }\n\n  if (!child.runtime) {\n    return\n  }\n\n  parent.removeChild(key);\n};\n\nModuleCollection.prototype.isRegistered = function isRegistered (path) {\n  var parent = this.get(path.slice(0, -1));\n  var key = path[path.length - 1];\n\n  if (parent) {\n    return parent.hasChild(key)\n  }\n\n  return false\n};\n\nfunction update (path, targetModule, newModule) {\n  if ((process.env.NODE_ENV !== 'production')) {\n    assertRawModule(path, newModule);\n  }\n\n  // update target module\n  targetModule.update(newModule);\n\n  // update nested modules\n  if (newModule.modules) {\n    for (var key in newModule.modules) {\n      if (!targetModule.getChild(key)) {\n        if ((process.env.NODE_ENV !== 'production')) {\n          console.warn(\n            \"[vuex] trying to add a new module '\" + key + \"' on hot reloading, \" +\n            'manual reload is needed'\n          );\n        }\n        return\n      }\n      update(\n        path.concat(key),\n        targetModule.getChild(key),\n        newModule.modules[key]\n      );\n    }\n  }\n}\n\nvar functionAssert = {\n  assert: function (value) { return typeof value === 'function'; },\n  expected: 'function'\n};\n\nvar objectAssert = {\n  assert: function (value) { return typeof value === 'function' ||\n    (typeof value === 'object' && typeof value.handler === 'function'); },\n  expected: 'function or object with \"handler\" function'\n};\n\nvar assertTypes = {\n  getters: functionAssert,\n  mutations: functionAssert,\n  actions: objectAssert\n};\n\nfunction assertRawModule (path, rawModule) {\n  Object.keys(assertTypes).forEach(function (key) {\n    if (!rawModule[key]) { return }\n\n    var assertOptions = assertTypes[key];\n\n    forEachValue(rawModule[key], function (value, type) {\n      assert(\n        assertOptions.assert(value),\n        makeAssertionMessage(path, key, type, value, assertOptions.expected)\n      );\n    });\n  });\n}\n\nfunction makeAssertionMessage (path, key, type, value, expected) {\n  var buf = key + \" should be \" + expected + \" but \\\"\" + key + \".\" + type + \"\\\"\";\n  if (path.length > 0) {\n    buf += \" in module \\\"\" + (path.join('.')) + \"\\\"\";\n  }\n  buf += \" is \" + (JSON.stringify(value)) + \".\";\n  return buf\n}\n\nfunction createStore (options) {\n  return new Store(options)\n}\n\nvar Store = function Store (options) {\n  var this$1$1 = this;\n  if ( options === void 0 ) options = {};\n\n  if ((process.env.NODE_ENV !== 'production')) {\n    assert(typeof Promise !== 'undefined', \"vuex requires a Promise polyfill in this browser.\");\n    assert(this instanceof Store, \"store must be called with the new operator.\");\n  }\n\n  var plugins = options.plugins; if ( plugins === void 0 ) plugins = [];\n  var strict = options.strict; if ( strict === void 0 ) strict = false;\n  var devtools = options.devtools;\n\n  // store internal state\n  this._committing = false;\n  this._actions = Object.create(null);\n  this._actionSubscribers = [];\n  this._mutations = Object.create(null);\n  this._wrappedGetters = Object.create(null);\n  this._modules = new ModuleCollection(options);\n  this._modulesNamespaceMap = Object.create(null);\n  this._subscribers = [];\n  this._makeLocalGettersCache = Object.create(null);\n\n  // EffectScope instance. when registering new getters, we wrap them inside\n  // EffectScope so that getters (computed) would not be destroyed on\n  // component unmount.\n  this._scope = null;\n\n  this._devtools = devtools;\n\n  // bind commit and dispatch to self\n  var store = this;\n  var ref = this;\n  var dispatch = ref.dispatch;\n  var commit = ref.commit;\n  this.dispatch = function boundDispatch (type, payload) {\n    return dispatch.call(store, type, payload)\n  };\n  this.commit = function boundCommit (type, payload, options) {\n    return commit.call(store, type, payload, options)\n  };\n\n  // strict mode\n  this.strict = strict;\n\n  var state = this._modules.root.state;\n\n  // init root module.\n  // this also recursively registers all sub-modules\n  // and collects all module getters inside this._wrappedGetters\n  installModule(this, state, [], this._modules.root);\n\n  // initialize the store state, which is responsible for the reactivity\n  // (also registers _wrappedGetters as computed properties)\n  resetStoreState(this, state);\n\n  // apply plugins\n  plugins.forEach(function (plugin) { return plugin(this$1$1); });\n};\n\nvar prototypeAccessors = { state: { configurable: true } };\n\nStore.prototype.install = function install (app, injectKey) {\n  app.provide(injectKey || storeKey, this);\n  app.config.globalProperties.$store = this;\n\n  var useDevtools = this._devtools !== undefined\n    ? this._devtools\n    : (process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__;\n\n  if (useDevtools) {\n    addDevtools(app, this);\n  }\n};\n\nprototypeAccessors.state.get = function () {\n  return this._state.data\n};\n\nprototypeAccessors.state.set = function (v) {\n  if ((process.env.NODE_ENV !== 'production')) {\n    assert(false, \"use store.replaceState() to explicit replace store state.\");\n  }\n};\n\nStore.prototype.commit = function commit (_type, _payload, _options) {\n    var this$1$1 = this;\n\n  // check object-style commit\n  var ref = unifyObjectStyle(_type, _payload, _options);\n    var type = ref.type;\n    var payload = ref.payload;\n    var options = ref.options;\n\n  var mutation = { type: type, payload: payload };\n  var entry = this._mutations[type];\n  if (!entry) {\n    if ((process.env.NODE_ENV !== 'production')) {\n      console.error((\"[vuex] unknown mutation type: \" + type));\n    }\n    return\n  }\n  this._withCommit(function () {\n    entry.forEach(function commitIterator (handler) {\n      handler(payload);\n    });\n  });\n\n  this._subscribers\n    .slice() // shallow copy to prevent iterator invalidation if subscriber synchronously calls unsubscribe\n    .forEach(function (sub) { return sub(mutation, this$1$1.state); });\n\n  if (\n    (process.env.NODE_ENV !== 'production') &&\n    options && options.silent\n  ) {\n    console.warn(\n      \"[vuex] mutation type: \" + type + \". Silent option has been removed. \" +\n      'Use the filter functionality in the vue-devtools'\n    );\n  }\n};\n\nStore.prototype.dispatch = function dispatch (_type, _payload) {\n    var this$1$1 = this;\n\n  // check object-style dispatch\n  var ref = unifyObjectStyle(_type, _payload);\n    var type = ref.type;\n    var payload = ref.payload;\n\n  var action = { type: type, payload: payload };\n  var entry = this._actions[type];\n  if (!entry) {\n    if ((process.env.NODE_ENV !== 'production')) {\n      console.error((\"[vuex] unknown action type: \" + type));\n    }\n    return\n  }\n\n  try {\n    this._actionSubscribers\n      .slice() // shallow copy to prevent iterator invalidation if subscriber synchronously calls unsubscribe\n      .filter(function (sub) { return sub.before; })\n      .forEach(function (sub) { return sub.before(action, this$1$1.state); });\n  } catch (e) {\n    if ((process.env.NODE_ENV !== 'production')) {\n      console.warn(\"[vuex] error in before action subscribers: \");\n      console.error(e);\n    }\n  }\n\n  var result = entry.length > 1\n    ? Promise.all(entry.map(function (handler) { return handler(payload); }))\n    : entry[0](payload);\n\n  return new Promise(function (resolve, reject) {\n    result.then(function (res) {\n      try {\n        this$1$1._actionSubscribers\n          .filter(function (sub) { return sub.after; })\n          .forEach(function (sub) { return sub.after(action, this$1$1.state); });\n      } catch (e) {\n        if ((process.env.NODE_ENV !== 'production')) {\n          console.warn(\"[vuex] error in after action subscribers: \");\n          console.error(e);\n        }\n      }\n      resolve(res);\n    }, function (error) {\n      try {\n        this$1$1._actionSubscribers\n          .filter(function (sub) { return sub.error; })\n          .forEach(function (sub) { return sub.error(action, this$1$1.state, error); });\n      } catch (e) {\n        if ((process.env.NODE_ENV !== 'production')) {\n          console.warn(\"[vuex] error in error action subscribers: \");\n          console.error(e);\n        }\n      }\n      reject(error);\n    });\n  })\n};\n\nStore.prototype.subscribe = function subscribe (fn, options) {\n  return genericSubscribe(fn, this._subscribers, options)\n};\n\nStore.prototype.subscribeAction = function subscribeAction (fn, options) {\n  var subs = typeof fn === 'function' ? { before: fn } : fn;\n  return genericSubscribe(subs, this._actionSubscribers, options)\n};\n\nStore.prototype.watch = function watch$1 (getter, cb, options) {\n    var this$1$1 = this;\n\n  if ((process.env.NODE_ENV !== 'production')) {\n    assert(typeof getter === 'function', \"store.watch only accepts a function.\");\n  }\n  return watch(function () { return getter(this$1$1.state, this$1$1.getters); }, cb, Object.assign({}, options))\n};\n\nStore.prototype.replaceState = function replaceState (state) {\n    var this$1$1 = this;\n\n  this._withCommit(function () {\n    this$1$1._state.data = state;\n  });\n};\n\nStore.prototype.registerModule = function registerModule (path, rawModule, options) {\n    if ( options === void 0 ) options = {};\n\n  if (typeof path === 'string') { path = [path]; }\n\n  if ((process.env.NODE_ENV !== 'production')) {\n    assert(Array.isArray(path), \"module path must be a string or an Array.\");\n    assert(path.length > 0, 'cannot register the root module by using registerModule.');\n  }\n\n  this._modules.register(path, rawModule);\n  installModule(this, this.state, path, this._modules.get(path), options.preserveState);\n  // reset store to update getters...\n  resetStoreState(this, this.state);\n};\n\nStore.prototype.unregisterModule = function unregisterModule (path) {\n    var this$1$1 = this;\n\n  if (typeof path === 'string') { path = [path]; }\n\n  if ((process.env.NODE_ENV !== 'production')) {\n    assert(Array.isArray(path), \"module path must be a string or an Array.\");\n  }\n\n  this._modules.unregister(path);\n  this._withCommit(function () {\n    var parentState = getNestedState(this$1$1.state, path.slice(0, -1));\n    delete parentState[path[path.length - 1]];\n  });\n  resetStore(this);\n};\n\nStore.prototype.hasModule = function hasModule (path) {\n  if (typeof path === 'string') { path = [path]; }\n\n  if ((process.env.NODE_ENV !== 'production')) {\n    assert(Array.isArray(path), \"module path must be a string or an Array.\");\n  }\n\n  return this._modules.isRegistered(path)\n};\n\nStore.prototype.hotUpdate = function hotUpdate (newOptions) {\n  this._modules.update(newOptions);\n  resetStore(this, true);\n};\n\nStore.prototype._withCommit = function _withCommit (fn) {\n  var committing = this._committing;\n  this._committing = true;\n  fn();\n  this._committing = committing;\n};\n\nObject.defineProperties( Store.prototype, prototypeAccessors );\n\n/**\n * Reduce the code which written in Vue.js for getting the state.\n * @param {String} [namespace] - Module's namespace\n * @param {Object|Array} states # Object's item can be a function which accept state and getters for param, you can do something for state and getters in it.\n * @param {Object}\n */\nvar mapState = normalizeNamespace(function (namespace, states) {\n  var res = {};\n  if ((process.env.NODE_ENV !== 'production') && !isValidMap(states)) {\n    console.error('[vuex] mapState: mapper parameter must be either an Array or an Object');\n  }\n  normalizeMap(states).forEach(function (ref) {\n    var key = ref.key;\n    var val = ref.val;\n\n    res[key] = function mappedState () {\n      var state = this.$store.state;\n      var getters = this.$store.getters;\n      if (namespace) {\n        var module = getModuleByNamespace(this.$store, 'mapState', namespace);\n        if (!module) {\n          return\n        }\n        state = module.context.state;\n        getters = module.context.getters;\n      }\n      return typeof val === 'function'\n        ? val.call(this, state, getters)\n        : state[val]\n    };\n    // mark vuex getter for devtools\n    res[key].vuex = true;\n  });\n  return res\n});\n\n/**\n * Reduce the code which written in Vue.js for committing the mutation\n * @param {String} [namespace] - Module's namespace\n * @param {Object|Array} mutations # Object's item can be a function which accept `commit` function as the first param, it can accept another params. You can commit mutation and do any other things in this function. specially, You need to pass anthor params from the mapped function.\n * @return {Object}\n */\nvar mapMutations = normalizeNamespace(function (namespace, mutations) {\n  var res = {};\n  if ((process.env.NODE_ENV !== 'production') && !isValidMap(mutations)) {\n    console.error('[vuex] mapMutations: mapper parameter must be either an Array or an Object');\n  }\n  normalizeMap(mutations).forEach(function (ref) {\n    var key = ref.key;\n    var val = ref.val;\n\n    res[key] = function mappedMutation () {\n      var args = [], len = arguments.length;\n      while ( len-- ) args[ len ] = arguments[ len ];\n\n      // Get the commit method from store\n      var commit = this.$store.commit;\n      if (namespace) {\n        var module = getModuleByNamespace(this.$store, 'mapMutations', namespace);\n        if (!module) {\n          return\n        }\n        commit = module.context.commit;\n      }\n      return typeof val === 'function'\n        ? val.apply(this, [commit].concat(args))\n        : commit.apply(this.$store, [val].concat(args))\n    };\n  });\n  return res\n});\n\n/**\n * Reduce the code which written in Vue.js for getting the getters\n * @param {String} [namespace] - Module's namespace\n * @param {Object|Array} getters\n * @return {Object}\n */\nvar mapGetters = normalizeNamespace(function (namespace, getters) {\n  var res = {};\n  if ((process.env.NODE_ENV !== 'production') && !isValidMap(getters)) {\n    console.error('[vuex] mapGetters: mapper parameter must be either an Array or an Object');\n  }\n  normalizeMap(getters).forEach(function (ref) {\n    var key = ref.key;\n    var val = ref.val;\n\n    // The namespace has been mutated by normalizeNamespace\n    val = namespace + val;\n    res[key] = function mappedGetter () {\n      if (namespace && !getModuleByNamespace(this.$store, 'mapGetters', namespace)) {\n        return\n      }\n      if ((process.env.NODE_ENV !== 'production') && !(val in this.$store.getters)) {\n        console.error((\"[vuex] unknown getter: \" + val));\n        return\n      }\n      return this.$store.getters[val]\n    };\n    // mark vuex getter for devtools\n    res[key].vuex = true;\n  });\n  return res\n});\n\n/**\n * Reduce the code which written in Vue.js for dispatch the action\n * @param {String} [namespace] - Module's namespace\n * @param {Object|Array} actions # Object's item can be a function which accept `dispatch` function as the first param, it can accept anthor params. You can dispatch action and do any other things in this function. specially, You need to pass anthor params from the mapped function.\n * @return {Object}\n */\nvar mapActions = normalizeNamespace(function (namespace, actions) {\n  var res = {};\n  if ((process.env.NODE_ENV !== 'production') && !isValidMap(actions)) {\n    console.error('[vuex] mapActions: mapper parameter must be either an Array or an Object');\n  }\n  normalizeMap(actions).forEach(function (ref) {\n    var key = ref.key;\n    var val = ref.val;\n\n    res[key] = function mappedAction () {\n      var args = [], len = arguments.length;\n      while ( len-- ) args[ len ] = arguments[ len ];\n\n      // get dispatch function from store\n      var dispatch = this.$store.dispatch;\n      if (namespace) {\n        var module = getModuleByNamespace(this.$store, 'mapActions', namespace);\n        if (!module) {\n          return\n        }\n        dispatch = module.context.dispatch;\n      }\n      return typeof val === 'function'\n        ? val.apply(this, [dispatch].concat(args))\n        : dispatch.apply(this.$store, [val].concat(args))\n    };\n  });\n  return res\n});\n\n/**\n * Rebinding namespace param for mapXXX function in special scoped, and return them by simple object\n * @param {String} namespace\n * @return {Object}\n */\nvar createNamespacedHelpers = function (namespace) { return ({\n  mapState: mapState.bind(null, namespace),\n  mapGetters: mapGetters.bind(null, namespace),\n  mapMutations: mapMutations.bind(null, namespace),\n  mapActions: mapActions.bind(null, namespace)\n}); };\n\n/**\n * Normalize the map\n * normalizeMap([1, 2, 3]) => [ { key: 1, val: 1 }, { key: 2, val: 2 }, { key: 3, val: 3 } ]\n * normalizeMap({a: 1, b: 2, c: 3}) => [ { key: 'a', val: 1 }, { key: 'b', val: 2 }, { key: 'c', val: 3 } ]\n * @param {Array|Object} map\n * @return {Object}\n */\nfunction normalizeMap (map) {\n  if (!isValidMap(map)) {\n    return []\n  }\n  return Array.isArray(map)\n    ? map.map(function (key) { return ({ key: key, val: key }); })\n    : Object.keys(map).map(function (key) { return ({ key: key, val: map[key] }); })\n}\n\n/**\n * Validate whether given map is valid or not\n * @param {*} map\n * @return {Boolean}\n */\nfunction isValidMap (map) {\n  return Array.isArray(map) || isObject(map)\n}\n\n/**\n * Return a function expect two param contains namespace and map. it will normalize the namespace and then the param's function will handle the new namespace and the map.\n * @param {Function} fn\n * @return {Function}\n */\nfunction normalizeNamespace (fn) {\n  return function (namespace, map) {\n    if (typeof namespace !== 'string') {\n      map = namespace;\n      namespace = '';\n    } else if (namespace.charAt(namespace.length - 1) !== '/') {\n      namespace += '/';\n    }\n    return fn(namespace, map)\n  }\n}\n\n/**\n * Search a special module from store by namespace. if module not exist, print error message.\n * @param {Object} store\n * @param {String} helper\n * @param {String} namespace\n * @return {Object}\n */\nfunction getModuleByNamespace (store, helper, namespace) {\n  var module = store._modulesNamespaceMap[namespace];\n  if ((process.env.NODE_ENV !== 'production') && !module) {\n    console.error((\"[vuex] module namespace not found in \" + helper + \"(): \" + namespace));\n  }\n  return module\n}\n\n// Credits: borrowed code from fcomb/redux-logger\n\nfunction createLogger (ref) {\n  if ( ref === void 0 ) ref = {};\n  var collapsed = ref.collapsed; if ( collapsed === void 0 ) collapsed = true;\n  var filter = ref.filter; if ( filter === void 0 ) filter = function (mutation, stateBefore, stateAfter) { return true; };\n  var transformer = ref.transformer; if ( transformer === void 0 ) transformer = function (state) { return state; };\n  var mutationTransformer = ref.mutationTransformer; if ( mutationTransformer === void 0 ) mutationTransformer = function (mut) { return mut; };\n  var actionFilter = ref.actionFilter; if ( actionFilter === void 0 ) actionFilter = function (action, state) { return true; };\n  var actionTransformer = ref.actionTransformer; if ( actionTransformer === void 0 ) actionTransformer = function (act) { return act; };\n  var logMutations = ref.logMutations; if ( logMutations === void 0 ) logMutations = true;\n  var logActions = ref.logActions; if ( logActions === void 0 ) logActions = true;\n  var logger = ref.logger; if ( logger === void 0 ) logger = console;\n\n  return function (store) {\n    var prevState = deepCopy(store.state);\n\n    if (typeof logger === 'undefined') {\n      return\n    }\n\n    if (logMutations) {\n      store.subscribe(function (mutation, state) {\n        var nextState = deepCopy(state);\n\n        if (filter(mutation, prevState, nextState)) {\n          var formattedTime = getFormattedTime();\n          var formattedMutation = mutationTransformer(mutation);\n          var message = \"mutation \" + (mutation.type) + formattedTime;\n\n          startMessage(logger, message, collapsed);\n          logger.log('%c prev state', 'color: #9E9E9E; font-weight: bold', transformer(prevState));\n          logger.log('%c mutation', 'color: #03A9F4; font-weight: bold', formattedMutation);\n          logger.log('%c next state', 'color: #4CAF50; font-weight: bold', transformer(nextState));\n          endMessage(logger);\n        }\n\n        prevState = nextState;\n      });\n    }\n\n    if (logActions) {\n      store.subscribeAction(function (action, state) {\n        if (actionFilter(action, state)) {\n          var formattedTime = getFormattedTime();\n          var formattedAction = actionTransformer(action);\n          var message = \"action \" + (action.type) + formattedTime;\n\n          startMessage(logger, message, collapsed);\n          logger.log('%c action', 'color: #03A9F4; font-weight: bold', formattedAction);\n          endMessage(logger);\n        }\n      });\n    }\n  }\n}\n\nfunction startMessage (logger, message, collapsed) {\n  var startMessage = collapsed\n    ? logger.groupCollapsed\n    : logger.group;\n\n  // render\n  try {\n    startMessage.call(logger, message);\n  } catch (e) {\n    logger.log(message);\n  }\n}\n\nfunction endMessage (logger) {\n  try {\n    logger.groupEnd();\n  } catch (e) {\n    logger.log('—— log end ——');\n  }\n}\n\nfunction getFormattedTime () {\n  var time = new Date();\n  return (\" @ \" + (pad(time.getHours(), 2)) + \":\" + (pad(time.getMinutes(), 2)) + \":\" + (pad(time.getSeconds(), 2)) + \".\" + (pad(time.getMilliseconds(), 3)))\n}\n\nfunction repeat (str, times) {\n  return (new Array(times + 1)).join(str)\n}\n\nfunction pad (num, maxLength) {\n  return repeat('0', maxLength - num.toString().length) + num\n}\n\nvar index = {\n  version: '4.1.0',\n  Store: Store,\n  storeKey: storeKey,\n  createStore: createStore,\n  useStore: useStore,\n  mapState: mapState,\n  mapMutations: mapMutations,\n  mapGetters: mapGetters,\n  mapActions: mapActions,\n  createNamespacedHelpers: createNamespacedHelpers,\n  createLogger: createLogger\n};\n\nexport default index;\nexport { Store, createLogger, createNamespacedHelpers, createStore, mapActions, mapGetters, mapMutations, mapState, storeKey, useStore };\n","import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n  },\n  mutations: {\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n","// Utilities\nimport { createRange, padStart } from \"../../../util/index.mjs\"; // Types\nconst firstDay = {\n  '001': 1,\n  AD: 1,\n  AE: 6,\n  AF: 6,\n  AG: 0,\n  AI: 1,\n  AL: 1,\n  AM: 1,\n  AN: 1,\n  AR: 1,\n  AS: 0,\n  AT: 1,\n  AU: 1,\n  AX: 1,\n  AZ: 1,\n  BA: 1,\n  BD: 0,\n  BE: 1,\n  BG: 1,\n  BH: 6,\n  BM: 1,\n  BN: 1,\n  BR: 0,\n  BS: 0,\n  BT: 0,\n  BW: 0,\n  BY: 1,\n  BZ: 0,\n  CA: 0,\n  CH: 1,\n  CL: 1,\n  CM: 1,\n  CN: 1,\n  CO: 0,\n  CR: 1,\n  CY: 1,\n  CZ: 1,\n  DE: 1,\n  DJ: 6,\n  DK: 1,\n  DM: 0,\n  DO: 0,\n  DZ: 6,\n  EC: 1,\n  EE: 1,\n  EG: 6,\n  ES: 1,\n  ET: 0,\n  FI: 1,\n  FJ: 1,\n  FO: 1,\n  FR: 1,\n  GB: 1,\n  'GB-alt-variant': 0,\n  GE: 1,\n  GF: 1,\n  GP: 1,\n  GR: 1,\n  GT: 0,\n  GU: 0,\n  HK: 0,\n  HN: 0,\n  HR: 1,\n  HU: 1,\n  ID: 0,\n  IE: 1,\n  IL: 0,\n  IN: 0,\n  IQ: 6,\n  IR: 6,\n  IS: 1,\n  IT: 1,\n  JM: 0,\n  JO: 6,\n  JP: 0,\n  KE: 0,\n  KG: 1,\n  KH: 0,\n  KR: 0,\n  KW: 6,\n  KZ: 1,\n  LA: 0,\n  LB: 1,\n  LI: 1,\n  LK: 1,\n  LT: 1,\n  LU: 1,\n  LV: 1,\n  LY: 6,\n  MC: 1,\n  MD: 1,\n  ME: 1,\n  MH: 0,\n  MK: 1,\n  MM: 0,\n  MN: 1,\n  MO: 0,\n  MQ: 1,\n  MT: 0,\n  MV: 5,\n  MX: 0,\n  MY: 1,\n  MZ: 0,\n  NI: 0,\n  NL: 1,\n  NO: 1,\n  NP: 0,\n  NZ: 1,\n  OM: 6,\n  PA: 0,\n  PE: 0,\n  PH: 0,\n  PK: 0,\n  PL: 1,\n  PR: 0,\n  PT: 0,\n  PY: 0,\n  QA: 6,\n  RE: 1,\n  RO: 1,\n  RS: 1,\n  RU: 1,\n  SA: 0,\n  SD: 6,\n  SE: 1,\n  SG: 0,\n  SI: 1,\n  SK: 1,\n  SM: 1,\n  SV: 0,\n  SY: 6,\n  TH: 0,\n  TJ: 1,\n  TM: 1,\n  TR: 1,\n  TT: 0,\n  TW: 0,\n  UA: 1,\n  UM: 0,\n  US: 0,\n  UY: 1,\n  UZ: 1,\n  VA: 1,\n  VE: 0,\n  VI: 0,\n  VN: 1,\n  WS: 0,\n  XK: 1,\n  YE: 0,\n  ZA: 0,\n  ZW: 0\n};\nfunction getWeekArray(date, locale, firstDayOfWeek) {\n  const weeks = [];\n  let currentWeek = [];\n  const firstDayOfMonth = startOfMonth(date);\n  const lastDayOfMonth = endOfMonth(date);\n  const first = firstDayOfWeek ?? firstDay[locale.slice(-2).toUpperCase()] ?? 0;\n  const firstDayWeekIndex = (firstDayOfMonth.getDay() - first + 7) % 7;\n  const lastDayWeekIndex = (lastDayOfMonth.getDay() - first + 7) % 7;\n  for (let i = 0; i < firstDayWeekIndex; i++) {\n    const adjacentDay = new Date(firstDayOfMonth);\n    adjacentDay.setDate(adjacentDay.getDate() - (firstDayWeekIndex - i));\n    currentWeek.push(adjacentDay);\n  }\n  for (let i = 1; i <= lastDayOfMonth.getDate(); i++) {\n    const day = new Date(date.getFullYear(), date.getMonth(), i);\n\n    // Add the day to the current week\n    currentWeek.push(day);\n\n    // If the current week has 7 days, add it to the weeks array and start a new week\n    if (currentWeek.length === 7) {\n      weeks.push(currentWeek);\n      currentWeek = [];\n    }\n  }\n  for (let i = 1; i < 7 - lastDayWeekIndex; i++) {\n    const adjacentDay = new Date(lastDayOfMonth);\n    adjacentDay.setDate(adjacentDay.getDate() + i);\n    currentWeek.push(adjacentDay);\n  }\n  if (currentWeek.length > 0) {\n    weeks.push(currentWeek);\n  }\n  return weeks;\n}\nfunction startOfWeek(date, locale, firstDayOfWeek) {\n  const day = firstDayOfWeek ?? firstDay[locale.slice(-2).toUpperCase()] ?? 0;\n  const d = new Date(date);\n  while (d.getDay() !== day) {\n    d.setDate(d.getDate() - 1);\n  }\n  return d;\n}\nfunction endOfWeek(date, locale) {\n  const d = new Date(date);\n  const lastDay = ((firstDay[locale.slice(-2).toUpperCase()] ?? 0) + 6) % 7;\n  while (d.getDay() !== lastDay) {\n    d.setDate(d.getDate() + 1);\n  }\n  return d;\n}\nfunction startOfMonth(date) {\n  return new Date(date.getFullYear(), date.getMonth(), 1);\n}\nfunction endOfMonth(date) {\n  return new Date(date.getFullYear(), date.getMonth() + 1, 0);\n}\nfunction parseLocalDate(value) {\n  const parts = value.split('-').map(Number);\n\n  // new Date() uses local time zone when passing individual date component values\n  return new Date(parts[0], parts[1] - 1, parts[2]);\n}\nconst _YYYMMDD = /^([12]\\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\\d|3[01]))$/;\nfunction date(value) {\n  if (value == null) return new Date();\n  if (value instanceof Date) return value;\n  if (typeof value === 'string') {\n    let parsed;\n    if (_YYYMMDD.test(value)) {\n      return parseLocalDate(value);\n    } else {\n      parsed = Date.parse(value);\n    }\n    if (!isNaN(parsed)) return new Date(parsed);\n  }\n  return null;\n}\nconst sundayJanuarySecond2000 = new Date(2000, 0, 2);\nfunction getWeekdays(locale, firstDayOfWeek) {\n  const daysFromSunday = firstDayOfWeek ?? firstDay[locale.slice(-2).toUpperCase()] ?? 0;\n  return createRange(7).map(i => {\n    const weekday = new Date(sundayJanuarySecond2000);\n    weekday.setDate(sundayJanuarySecond2000.getDate() + daysFromSunday + i);\n    return new Intl.DateTimeFormat(locale, {\n      weekday: 'narrow'\n    }).format(weekday);\n  });\n}\nfunction format(value, formatString, locale, formats) {\n  const newDate = date(value) ?? new Date();\n  const customFormat = formats?.[formatString];\n  if (typeof customFormat === 'function') {\n    return customFormat(newDate, formatString, locale);\n  }\n  let options = {};\n  switch (formatString) {\n    case 'fullDate':\n      options = {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      };\n      break;\n    case 'fullDateWithWeekday':\n      options = {\n        weekday: 'long',\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      };\n      break;\n    case 'normalDate':\n      const day = newDate.getDate();\n      const month = new Intl.DateTimeFormat(locale, {\n        month: 'long'\n      }).format(newDate);\n      return `${day} ${month}`;\n    case 'normalDateWithWeekday':\n      options = {\n        weekday: 'short',\n        day: 'numeric',\n        month: 'short'\n      };\n      break;\n    case 'shortDate':\n      options = {\n        month: 'short',\n        day: 'numeric'\n      };\n      break;\n    case 'year':\n      options = {\n        year: 'numeric'\n      };\n      break;\n    case 'month':\n      options = {\n        month: 'long'\n      };\n      break;\n    case 'monthShort':\n      options = {\n        month: 'short'\n      };\n      break;\n    case 'monthAndYear':\n      options = {\n        month: 'long',\n        year: 'numeric'\n      };\n      break;\n    case 'monthAndDate':\n      options = {\n        month: 'long',\n        day: 'numeric'\n      };\n      break;\n    case 'weekday':\n      options = {\n        weekday: 'long'\n      };\n      break;\n    case 'weekdayShort':\n      options = {\n        weekday: 'short'\n      };\n      break;\n    case 'dayOfMonth':\n      return new Intl.NumberFormat(locale).format(newDate.getDate());\n    case 'hours12h':\n      options = {\n        hour: 'numeric',\n        hour12: true\n      };\n      break;\n    case 'hours24h':\n      options = {\n        hour: 'numeric',\n        hour12: false\n      };\n      break;\n    case 'minutes':\n      options = {\n        minute: 'numeric'\n      };\n      break;\n    case 'seconds':\n      options = {\n        second: 'numeric'\n      };\n      break;\n    case 'fullTime':\n      options = {\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        hour12: true\n      };\n      break;\n    case 'fullTime12h':\n      options = {\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        hour12: true\n      };\n      break;\n    case 'fullTime24h':\n      options = {\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        hour12: false\n      };\n      break;\n    case 'fullDateTime':\n      options = {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        hour12: true\n      };\n      break;\n    case 'fullDateTime12h':\n      options = {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        hour12: true\n      };\n      break;\n    case 'fullDateTime24h':\n      options = {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        hour12: false\n      };\n      break;\n    case 'keyboardDate':\n      options = {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit'\n      };\n      break;\n    case 'keyboardDateTime':\n      options = {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        hour12: false\n      };\n      break;\n    case 'keyboardDateTime12h':\n      options = {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        hour12: true\n      };\n      break;\n    case 'keyboardDateTime24h':\n      options = {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        hour12: false\n      };\n      break;\n    default:\n      options = customFormat ?? {\n        timeZone: 'UTC',\n        timeZoneName: 'short'\n      };\n  }\n  return new Intl.DateTimeFormat(locale, options).format(newDate);\n}\nfunction toISO(adapter, value) {\n  const date = adapter.toJsDate(value);\n  const year = date.getFullYear();\n  const month = padStart(String(date.getMonth() + 1), 2, '0');\n  const day = padStart(String(date.getDate()), 2, '0');\n  return `${year}-${month}-${day}`;\n}\nfunction parseISO(value) {\n  const [year, month, day] = value.split('-').map(Number);\n  return new Date(year, month - 1, day);\n}\nfunction addMinutes(date, amount) {\n  const d = new Date(date);\n  d.setMinutes(d.getMinutes() + amount);\n  return d;\n}\nfunction addHours(date, amount) {\n  const d = new Date(date);\n  d.setHours(d.getHours() + amount);\n  return d;\n}\nfunction addDays(date, amount) {\n  const d = new Date(date);\n  d.setDate(d.getDate() + amount);\n  return d;\n}\nfunction addWeeks(date, amount) {\n  const d = new Date(date);\n  d.setDate(d.getDate() + amount * 7);\n  return d;\n}\nfunction addMonths(date, amount) {\n  const d = new Date(date);\n  d.setDate(1);\n  d.setMonth(d.getMonth() + amount);\n  return d;\n}\nfunction getYear(date) {\n  return date.getFullYear();\n}\nfunction getMonth(date) {\n  return date.getMonth();\n}\nfunction getDate(date) {\n  return date.getDate();\n}\nfunction getNextMonth(date) {\n  return new Date(date.getFullYear(), date.getMonth() + 1, 1);\n}\nfunction getPreviousMonth(date) {\n  return new Date(date.getFullYear(), date.getMonth() - 1, 1);\n}\nfunction getHours(date) {\n  return date.getHours();\n}\nfunction getMinutes(date) {\n  return date.getMinutes();\n}\nfunction startOfYear(date) {\n  return new Date(date.getFullYear(), 0, 1);\n}\nfunction endOfYear(date) {\n  return new Date(date.getFullYear(), 11, 31);\n}\nfunction isWithinRange(date, range) {\n  return isAfter(date, range[0]) && isBefore(date, range[1]);\n}\nfunction isValid(date) {\n  const d = new Date(date);\n  return d instanceof Date && !isNaN(d.getTime());\n}\nfunction isAfter(date, comparing) {\n  return date.getTime() > comparing.getTime();\n}\nfunction isAfterDay(date, comparing) {\n  return isAfter(startOfDay(date), startOfDay(comparing));\n}\nfunction isBefore(date, comparing) {\n  return date.getTime() < comparing.getTime();\n}\nfunction isEqual(date, comparing) {\n  return date.getTime() === comparing.getTime();\n}\nfunction isSameDay(date, comparing) {\n  return date.getDate() === comparing.getDate() && date.getMonth() === comparing.getMonth() && date.getFullYear() === comparing.getFullYear();\n}\nfunction isSameMonth(date, comparing) {\n  return date.getMonth() === comparing.getMonth() && date.getFullYear() === comparing.getFullYear();\n}\nfunction isSameYear(date, comparing) {\n  return date.getFullYear() === comparing.getFullYear();\n}\nfunction getDiff(date, comparing, unit) {\n  const d = new Date(date);\n  const c = new Date(comparing);\n  switch (unit) {\n    case 'years':\n      return d.getFullYear() - c.getFullYear();\n    case 'quarters':\n      return Math.floor((d.getMonth() - c.getMonth() + (d.getFullYear() - c.getFullYear()) * 12) / 4);\n    case 'months':\n      return d.getMonth() - c.getMonth() + (d.getFullYear() - c.getFullYear()) * 12;\n    case 'weeks':\n      return Math.floor((d.getTime() - c.getTime()) / (1000 * 60 * 60 * 24 * 7));\n    case 'days':\n      return Math.floor((d.getTime() - c.getTime()) / (1000 * 60 * 60 * 24));\n    case 'hours':\n      return Math.floor((d.getTime() - c.getTime()) / (1000 * 60 * 60));\n    case 'minutes':\n      return Math.floor((d.getTime() - c.getTime()) / (1000 * 60));\n    case 'seconds':\n      return Math.floor((d.getTime() - c.getTime()) / 1000);\n    default:\n      {\n        return d.getTime() - c.getTime();\n      }\n  }\n}\nfunction setHours(date, count) {\n  const d = new Date(date);\n  d.setHours(count);\n  return d;\n}\nfunction setMinutes(date, count) {\n  const d = new Date(date);\n  d.setMinutes(count);\n  return d;\n}\nfunction setMonth(date, count) {\n  const d = new Date(date);\n  d.setMonth(count);\n  return d;\n}\nfunction setDate(date, day) {\n  const d = new Date(date);\n  d.setDate(day);\n  return d;\n}\nfunction setYear(date, year) {\n  const d = new Date(date);\n  d.setFullYear(year);\n  return d;\n}\nfunction startOfDay(date) {\n  return new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0, 0);\n}\nfunction endOfDay(date) {\n  return new Date(date.getFullYear(), date.getMonth(), date.getDate(), 23, 59, 59, 999);\n}\nexport class VuetifyDateAdapter {\n  constructor(options) {\n    this.locale = options.locale;\n    this.formats = options.formats;\n  }\n  date(value) {\n    return date(value);\n  }\n  toJsDate(date) {\n    return date;\n  }\n  toISO(date) {\n    return toISO(this, date);\n  }\n  parseISO(date) {\n    return parseISO(date);\n  }\n  addMinutes(date, amount) {\n    return addMinutes(date, amount);\n  }\n  addHours(date, amount) {\n    return addHours(date, amount);\n  }\n  addDays(date, amount) {\n    return addDays(date, amount);\n  }\n  addWeeks(date, amount) {\n    return addWeeks(date, amount);\n  }\n  addMonths(date, amount) {\n    return addMonths(date, amount);\n  }\n  getWeekArray(date, firstDayOfWeek) {\n    return getWeekArray(date, this.locale, firstDayOfWeek ? Number(firstDayOfWeek) : undefined);\n  }\n  startOfWeek(date, firstDayOfWeek) {\n    return startOfWeek(date, this.locale, firstDayOfWeek ? Number(firstDayOfWeek) : undefined);\n  }\n  endOfWeek(date) {\n    return endOfWeek(date, this.locale);\n  }\n  startOfMonth(date) {\n    return startOfMonth(date);\n  }\n  endOfMonth(date) {\n    return endOfMonth(date);\n  }\n  format(date, formatString) {\n    return format(date, formatString, this.locale, this.formats);\n  }\n  isEqual(date, comparing) {\n    return isEqual(date, comparing);\n  }\n  isValid(date) {\n    return isValid(date);\n  }\n  isWithinRange(date, range) {\n    return isWithinRange(date, range);\n  }\n  isAfter(date, comparing) {\n    return isAfter(date, comparing);\n  }\n  isAfterDay(date, comparing) {\n    return isAfterDay(date, comparing);\n  }\n  isBefore(date, comparing) {\n    return !isAfter(date, comparing) && !isEqual(date, comparing);\n  }\n  isSameDay(date, comparing) {\n    return isSameDay(date, comparing);\n  }\n  isSameMonth(date, comparing) {\n    return isSameMonth(date, comparing);\n  }\n  isSameYear(date, comparing) {\n    return isSameYear(date, comparing);\n  }\n  setMinutes(date, count) {\n    return setMinutes(date, count);\n  }\n  setHours(date, count) {\n    return setHours(date, count);\n  }\n  setMonth(date, count) {\n    return setMonth(date, count);\n  }\n  setDate(date, day) {\n    return setDate(date, day);\n  }\n  setYear(date, year) {\n    return setYear(date, year);\n  }\n  getDiff(date, comparing, unit) {\n    return getDiff(date, comparing, unit);\n  }\n  getWeekdays(firstDayOfWeek) {\n    return getWeekdays(this.locale, firstDayOfWeek ? Number(firstDayOfWeek) : undefined);\n  }\n  getYear(date) {\n    return getYear(date);\n  }\n  getMonth(date) {\n    return getMonth(date);\n  }\n  getDate(date) {\n    return getDate(date);\n  }\n  getNextMonth(date) {\n    return getNextMonth(date);\n  }\n  getPreviousMonth(date) {\n    return getPreviousMonth(date);\n  }\n  getHours(date) {\n    return getHours(date);\n  }\n  getMinutes(date) {\n    return getMinutes(date);\n  }\n  startOfDay(date) {\n    return startOfDay(date);\n  }\n  endOfDay(date) {\n    return endOfDay(date);\n  }\n  startOfYear(date) {\n    return startOfYear(date);\n  }\n  endOfYear(date) {\n    return endOfYear(date);\n  }\n}\n//# sourceMappingURL=vuetify.mjs.map","// Composables\nimport { useLocale } from \"../locale.mjs\"; // Utilities\nimport { inject, reactive, watch } from 'vue';\nimport { mergeDeep } from \"../../util/index.mjs\"; // Types\n// Adapters\nimport { VuetifyDateAdapter } from \"./adapters/vuetify.mjs\";\n/** Supports module augmentation to specify date adapter types */\nexport let DateModule;\nexport const DateOptionsSymbol = Symbol.for('vuetify:date-options');\nexport const DateAdapterSymbol = Symbol.for('vuetify:date-adapter');\nexport function createDate(options, locale) {\n  const _options = mergeDeep({\n    adapter: VuetifyDateAdapter,\n    locale: {\n      af: 'af-ZA',\n      // ar: '', # not the same value for all variants\n      bg: 'bg-BG',\n      ca: 'ca-ES',\n      ckb: '',\n      cs: 'cs-CZ',\n      de: 'de-DE',\n      el: 'el-GR',\n      en: 'en-US',\n      // es: '', # not the same value for all variants\n      et: 'et-EE',\n      fa: 'fa-IR',\n      fi: 'fi-FI',\n      // fr: '', #not the same value for all variants\n      hr: 'hr-HR',\n      hu: 'hu-HU',\n      he: 'he-IL',\n      id: 'id-ID',\n      it: 'it-IT',\n      ja: 'ja-JP',\n      ko: 'ko-KR',\n      lv: 'lv-LV',\n      lt: 'lt-LT',\n      nl: 'nl-NL',\n      no: 'no-NO',\n      pl: 'pl-PL',\n      pt: 'pt-PT',\n      ro: 'ro-RO',\n      ru: 'ru-RU',\n      sk: 'sk-SK',\n      sl: 'sl-SI',\n      srCyrl: 'sr-SP',\n      srLatn: 'sr-SP',\n      sv: 'sv-SE',\n      th: 'th-TH',\n      tr: 'tr-TR',\n      az: 'az-AZ',\n      uk: 'uk-UA',\n      vi: 'vi-VN',\n      zhHans: 'zh-CN',\n      zhHant: 'zh-TW'\n    }\n  }, options);\n  return {\n    options: _options,\n    instance: createInstance(_options, locale)\n  };\n}\nfunction createInstance(options, locale) {\n  const instance = reactive(typeof options.adapter === 'function'\n  // eslint-disable-next-line new-cap\n  ? new options.adapter({\n    locale: options.locale[locale.current.value] ?? locale.current.value,\n    formats: options.formats\n  }) : options.adapter);\n  watch(locale.current, value => {\n    instance.locale = options.locale[value] ?? value ?? instance.locale;\n  });\n  return instance;\n}\nexport function useDate() {\n  const options = inject(DateOptionsSymbol);\n  if (!options) throw new Error('[Vuetify] Could not find injected date options');\n  const locale = useLocale();\n  return createInstance(options, locale);\n}\n\n// https://stackoverflow.com/questions/274861/how-do-i-calculate-the-week-number-given-a-date/275024#275024\nexport function getWeek(adapter, value) {\n  const date = adapter.toJsDate(value);\n  let year = date.getFullYear();\n  let d1w1 = new Date(year, 0, 1);\n  if (date < d1w1) {\n    year = year - 1;\n    d1w1 = new Date(year, 0, 1);\n  } else {\n    const tv = new Date(year + 1, 0, 1);\n    if (date >= tv) {\n      year = year + 1;\n      d1w1 = tv;\n    }\n  }\n  const diffTime = Math.abs(date.getTime() - d1w1.getTime());\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n  return Math.floor(diffDays / 7) + 1;\n}\n//# sourceMappingURL=date.mjs.map","// Utilities\nimport { computed, inject } from 'vue';\nimport { useRtl } from \"./locale.mjs\";\nimport { clamp, consoleWarn, mergeDeep, refElement } from \"../util/index.mjs\"; // Types\nexport const GoToSymbol = Symbol.for('vuetify:goto');\nfunction genDefaults() {\n  return {\n    container: undefined,\n    duration: 300,\n    layout: false,\n    offset: 0,\n    easing: 'easeInOutCubic',\n    patterns: {\n      linear: t => t,\n      easeInQuad: t => t ** 2,\n      easeOutQuad: t => t * (2 - t),\n      easeInOutQuad: t => t < 0.5 ? 2 * t ** 2 : -1 + (4 - 2 * t) * t,\n      easeInCubic: t => t ** 3,\n      easeOutCubic: t => --t ** 3 + 1,\n      easeInOutCubic: t => t < 0.5 ? 4 * t ** 3 : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n      easeInQuart: t => t ** 4,\n      easeOutQuart: t => 1 - --t ** 4,\n      easeInOutQuart: t => t < 0.5 ? 8 * t ** 4 : 1 - 8 * --t ** 4,\n      easeInQuint: t => t ** 5,\n      easeOutQuint: t => 1 + --t ** 5,\n      easeInOutQuint: t => t < 0.5 ? 16 * t ** 5 : 1 + 16 * --t ** 5\n    }\n  };\n}\nfunction getContainer(el) {\n  return getTarget(el) ?? (document.scrollingElement || document.body);\n}\nfunction getTarget(el) {\n  return typeof el === 'string' ? document.querySelector(el) : refElement(el);\n}\nfunction getOffset(target, horizontal, rtl) {\n  if (typeof target === 'number') return horizontal && rtl ? -target : target;\n  let el = getTarget(target);\n  let totalOffset = 0;\n  while (el) {\n    totalOffset += horizontal ? el.offsetLeft : el.offsetTop;\n    el = el.offsetParent;\n  }\n  return totalOffset;\n}\nexport function createGoTo(options, locale) {\n  return {\n    rtl: locale.isRtl,\n    options: mergeDeep(genDefaults(), options)\n  };\n}\nexport async function scrollTo(_target, _options, horizontal, goTo) {\n  const property = horizontal ? 'scrollLeft' : 'scrollTop';\n  const options = mergeDeep(goTo?.options ?? genDefaults(), _options);\n  const rtl = goTo?.rtl.value;\n  const target = (typeof _target === 'number' ? _target : getTarget(_target)) ?? 0;\n  const container = options.container === 'parent' && target instanceof HTMLElement ? target.parentElement : getContainer(options.container);\n  const ease = typeof options.easing === 'function' ? options.easing : options.patterns[options.easing];\n  if (!ease) throw new TypeError(`Easing function \"${options.easing}\" not found.`);\n  let targetLocation;\n  if (typeof target === 'number') {\n    targetLocation = getOffset(target, horizontal, rtl);\n  } else {\n    targetLocation = getOffset(target, horizontal, rtl) - getOffset(container, horizontal, rtl);\n    if (options.layout) {\n      const styles = window.getComputedStyle(target);\n      const layoutOffset = styles.getPropertyValue('--v-layout-top');\n      if (layoutOffset) targetLocation -= parseInt(layoutOffset, 10);\n    }\n  }\n  targetLocation += options.offset;\n  targetLocation = clampTarget(container, targetLocation, !!rtl, !!horizontal);\n  const startLocation = container[property] ?? 0;\n  if (targetLocation === startLocation) return Promise.resolve(targetLocation);\n  const startTime = performance.now();\n  return new Promise(resolve => requestAnimationFrame(function step(currentTime) {\n    const timeElapsed = currentTime - startTime;\n    const progress = timeElapsed / options.duration;\n    const location = Math.floor(startLocation + (targetLocation - startLocation) * ease(clamp(progress, 0, 1)));\n    container[property] = location;\n\n    // Allow for some jitter if target time has elapsed\n    if (progress >= 1 && Math.abs(location - container[property]) < 10) {\n      return resolve(targetLocation);\n    } else if (progress > 2) {\n      // The target might not be reachable\n      consoleWarn('Scroll target is not reachable');\n      return resolve(container[property]);\n    }\n    requestAnimationFrame(step);\n  }));\n}\nexport function useGoTo() {\n  let _options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const goToInstance = inject(GoToSymbol);\n  const {\n    isRtl\n  } = useRtl();\n  if (!goToInstance) throw new Error('[Vuetify] Could not find injected goto instance');\n  const goTo = {\n    ...goToInstance,\n    // can be set via VLocaleProvider\n    rtl: computed(() => goToInstance.rtl.value || isRtl.value)\n  };\n  async function go(target, options) {\n    return scrollTo(target, mergeDeep(_options, options), false, goTo);\n  }\n  go.horizontal = async (target, options) => {\n    return scrollTo(target, mergeDeep(_options, options), true, goTo);\n  };\n  return go;\n}\n\n/**\n * Clamp target value to achieve a smooth scroll animation\n * when the value goes outside the scroll container size\n */\nfunction clampTarget(container, value, rtl, horizontal) {\n  const {\n    scrollWidth,\n    scrollHeight\n  } = container;\n  const [containerWidth, containerHeight] = container === document.scrollingElement ? [window.innerWidth, window.innerHeight] : [container.offsetWidth, container.offsetHeight];\n  let min;\n  let max;\n  if (horizontal) {\n    if (rtl) {\n      min = -(scrollWidth - containerWidth);\n      max = 0;\n    } else {\n      min = 0;\n      max = scrollWidth - containerWidth;\n    }\n  } else {\n    min = 0;\n    max = scrollHeight + -containerHeight;\n  }\n  return Math.max(Math.min(value, max), min);\n}\n//# sourceMappingURL=goto.mjs.map","// Composables\nimport { createDate, DateAdapterSymbol, DateOptionsSymbol } from \"./composables/date/date.mjs\";\nimport { createDefaults, DefaultsSymbol } from \"./composables/defaults.mjs\";\nimport { createDisplay, DisplaySymbol } from \"./composables/display.mjs\";\nimport { createGoTo, GoToSymbol } from \"./composables/goto.mjs\";\nimport { createIcons, IconSymbol } from \"./composables/icons.mjs\";\nimport { createLocale, LocaleSymbol } from \"./composables/locale.mjs\";\nimport { createTheme, ThemeSymbol } from \"./composables/theme.mjs\"; // Utilities\nimport { nextTick, reactive } from 'vue';\nimport { defineComponent, getUid, IN_BROWSER, mergeDeep } from \"./util/index.mjs\"; // Types\nexport * from \"./composables/index.mjs\";\nexport function createVuetify() {\n  let vuetify = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const {\n    blueprint,\n    ...rest\n  } = vuetify;\n  const options = mergeDeep(blueprint, rest);\n  const {\n    aliases = {},\n    components = {},\n    directives = {}\n  } = options;\n  const defaults = createDefaults(options.defaults);\n  const display = createDisplay(options.display, options.ssr);\n  const theme = createTheme(options.theme);\n  const icons = createIcons(options.icons);\n  const locale = createLocale(options.locale);\n  const date = createDate(options.date, locale);\n  const goTo = createGoTo(options.goTo, locale);\n  const install = app => {\n    for (const key in directives) {\n      app.directive(key, directives[key]);\n    }\n    for (const key in components) {\n      app.component(key, components[key]);\n    }\n    for (const key in aliases) {\n      app.component(key, defineComponent({\n        ...aliases[key],\n        name: key,\n        aliasName: aliases[key].name\n      }));\n    }\n    theme.install(app);\n    app.provide(DefaultsSymbol, defaults);\n    app.provide(DisplaySymbol, display);\n    app.provide(ThemeSymbol, theme);\n    app.provide(IconSymbol, icons);\n    app.provide(LocaleSymbol, locale);\n    app.provide(DateOptionsSymbol, date.options);\n    app.provide(DateAdapterSymbol, date.instance);\n    app.provide(GoToSymbol, goTo);\n    if (IN_BROWSER && options.ssr) {\n      if (app.$nuxt) {\n        app.$nuxt.hook('app:suspense:resolve', () => {\n          display.update();\n        });\n      } else {\n        const {\n          mount\n        } = app;\n        app.mount = function () {\n          const vm = mount(...arguments);\n          nextTick(() => display.update());\n          app.mount = mount;\n          return vm;\n        };\n      }\n    }\n    getUid.reset();\n    if (typeof __VUE_OPTIONS_API__ !== 'boolean' || __VUE_OPTIONS_API__) {\n      app.mixin({\n        computed: {\n          $vuetify() {\n            return reactive({\n              defaults: inject.call(this, DefaultsSymbol),\n              display: inject.call(this, DisplaySymbol),\n              theme: inject.call(this, ThemeSymbol),\n              icons: inject.call(this, IconSymbol),\n              locale: inject.call(this, LocaleSymbol),\n              date: inject.call(this, DateAdapterSymbol)\n            });\n          }\n        }\n      });\n    }\n  };\n  return {\n    install,\n    defaults,\n    display,\n    theme,\n    icons,\n    locale,\n    date,\n    goTo\n  };\n}\nexport const version = \"3.7.7\";\ncreateVuetify.version = version;\n\n// Vue's inject() can only be used in setup\nfunction inject(key) {\n  const vm = this.$;\n  const provides = vm.parent?.provides ?? vm.vnode.appContext?.provides;\n  if (provides && key in provides) {\n    return provides[key];\n  }\n}\n//# sourceMappingURL=framework.mjs.map","// Styles\nimport '@mdi/font/css/materialdesignicons.css'\nimport 'vuetify/styles'\n\n// Vuetify\nimport 'vuetify/styles'\nimport { createVuetify } from 'vuetify'\nimport * as components from 'vuetify/components'\nimport * as directives from 'vuetify/directives'\n\nexport default createVuetify(\n  { autoImport: true,\n    theme: {\n    defaultTheme: 'dark'\n  }}\n)\n","/**\n * plugins/webfontloader.js\n *\n * webfontloader documentation: https://github.com/typekit/webfontloader\n */\n\nexport async function loadFonts () {\n  const webFontLoader = await import(/* webpackChunkName: \"webfontloader\" */'webfontloader')\n\n  webFontLoader.load({\n    google: {\n      families: ['Roboto:100,300,400,500,700,900&display=swap'],\n    },\n  })\n}\n","import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport vuetify from './plugins/vuetify'\nimport { loadFonts } from './plugins/webfontloader'\n\nloadFonts()\n\ncreateApp(App)\n  .use(router)\n  .use(store)\n  .use(vuetify)\n  .mount('#app')\n"],"file":"assets/index-CFFtWh1l.js"}